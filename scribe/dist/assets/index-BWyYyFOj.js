function _mergeNamespaces(La,Na){for(var ja=0;ja<Na.length;ja++){const Ba=Na[ja];if(typeof Ba!="string"&&!Array.isArray(Ba)){for(const za in Ba)if(za!=="default"&&!(za in La)){const Ga=Object.getOwnPropertyDescriptor(Ba,za);Ga&&Object.defineProperty(La,za,Ga.get?Ga:{enumerable:!0,get:()=>Ba[za]})}}}return Object.freeze(Object.defineProperty(La,Symbol.toStringTag,{value:"Module"}))}(function(){const Na=document.createElement("link").relList;if(Na&&Na.supports&&Na.supports("modulepreload"))return;for(const za of document.querySelectorAll('link[rel="modulepreload"]'))Ba(za);new MutationObserver(za=>{for(const Ga of za)if(Ga.type==="childList")for(const Ha of Ga.addedNodes)Ha.tagName==="LINK"&&Ha.rel==="modulepreload"&&Ba(Ha)}).observe(document,{childList:!0,subtree:!0});function ja(za){const Ga={};return za.integrity&&(Ga.integrity=za.integrity),za.referrerPolicy&&(Ga.referrerPolicy=za.referrerPolicy),za.crossOrigin==="use-credentials"?Ga.credentials="include":za.crossOrigin==="anonymous"?Ga.credentials="omit":Ga.credentials="same-origin",Ga}function Ba(za){if(za.ep)return;za.ep=!0;const Ga=ja(za);fetch(za.href,Ga)}})();function getDefaultExportFromCjs(La){return La&&La.__esModule&&Object.prototype.hasOwnProperty.call(La,"default")?La.default:La}function getAugmentedNamespace(La){if(Object.prototype.hasOwnProperty.call(La,"__esModule"))return La;var Na=La.default;if(typeof Na=="function"){var ja=function Ba(){var za=!1;try{za=this instanceof Ba}catch{}return za?Reflect.construct(Na,arguments,this.constructor):Na.apply(this,arguments)};ja.prototype=Na.prototype}else ja={};return Object.defineProperty(ja,"__esModule",{value:!0}),Object.keys(La).forEach(function(Ba){var za=Object.getOwnPropertyDescriptor(La,Ba);Object.defineProperty(ja,Ba,za.get?za:{enumerable:!0,get:function(){return La[Ba]}})}),ja}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var La=Symbol.for("react.transitional.element"),Na=Symbol.for("react.fragment");function ja(Ba,za,Ga){var Ha=null;if(Ga!==void 0&&(Ha=""+Ga),za.key!==void 0&&(Ha=""+za.key),"key"in za){Ga={};for(var Ya in za)Ya!=="key"&&(Ga[Ya]=za[Ya])}else Ga=za;return za=Ga.ref,{$$typeof:La,type:Ba,key:Ha,ref:za!==void 0?za:null,props:Ga}}return reactJsxRuntime_production.Fragment=Na,reactJsxRuntime_production.jsx=ja,reactJsxRuntime_production.jsxs=ja,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var La=Symbol.for("react.transitional.element"),Na=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),Ba=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),Ga=Symbol.for("react.consumer"),Ha=Symbol.for("react.context"),Ya=Symbol.for("react.forward_ref"),Xa=Symbol.for("react.suspense"),Ka=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),Va=Symbol.iterator;function Ua(dl){return dl===null||typeof dl!="object"?null:(dl=Va&&dl[Va]||dl["@@iterator"],typeof dl=="function"?dl:null)}var Wa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ja=Object.assign,Oo={};function Do(dl,Rl,Tl){this.props=dl,this.context=Rl,this.refs=Oo,this.updater=Tl||Wa}Do.prototype.isReactComponent={},Do.prototype.setState=function(dl,Rl){if(typeof dl!="object"&&typeof dl!="function"&&dl!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,dl,Rl,"setState")},Do.prototype.forceUpdate=function(dl){this.updater.enqueueForceUpdate(this,dl,"forceUpdate")};function Mo(){}Mo.prototype=Do.prototype;function el(dl,Rl,Tl){this.props=dl,this.context=Rl,this.refs=Oo,this.updater=Tl||Wa}var tl=el.prototype=new Mo;tl.constructor=el,Ja(tl,Do.prototype),tl.isPureReactComponent=!0;var rl=Array.isArray,il={H:null,A:null,T:null,S:null,V:null},al=Object.prototype.hasOwnProperty;function ll(dl,Rl,Tl,pl,jl,Ll){return Tl=Ll.ref,{$$typeof:La,type:dl,key:Rl,ref:Tl!==void 0?Tl:null,props:Ll}}function ul(dl,Rl){return ll(dl.type,Rl,void 0,void 0,void 0,dl.props)}function ol(dl){return typeof dl=="object"&&dl!==null&&dl.$$typeof===La}function cl(dl){var Rl={"=":"=0",":":"=2"};return"$"+dl.replace(/[=:]/g,function(Tl){return Rl[Tl]})}var gl=/\/+/g;function bl(dl,Rl){return typeof dl=="object"&&dl!==null&&dl.key!=null?cl(""+dl.key):Rl.toString(36)}function _l(){}function xl(dl){switch(dl.status){case"fulfilled":return dl.value;case"rejected":throw dl.reason;default:switch(typeof dl.status=="string"?dl.then(_l,_l):(dl.status="pending",dl.then(function(Rl){dl.status==="pending"&&(dl.status="fulfilled",dl.value=Rl)},function(Rl){dl.status==="pending"&&(dl.status="rejected",dl.reason=Rl)})),dl.status){case"fulfilled":return dl.value;case"rejected":throw dl.reason}}throw dl}function Al(dl,Rl,Tl,pl,jl){var Ll=typeof dl;(Ll==="undefined"||Ll==="boolean")&&(dl=null);var Dl=!1;if(dl===null)Dl=!0;else switch(Ll){case"bigint":case"string":case"number":Dl=!0;break;case"object":switch(dl.$$typeof){case La:case Na:Dl=!0;break;case Qa:return Dl=dl._init,Al(Dl(dl._payload),Rl,Tl,pl,jl)}}if(Dl)return jl=jl(dl),Dl=pl===""?"."+bl(dl,0):pl,rl(jl)?(Tl="",Dl!=null&&(Tl=Dl.replace(gl,"$&/")+"/"),Al(jl,Rl,Tl,"",function(uu){return uu})):jl!=null&&(ol(jl)&&(jl=ul(jl,Tl+(jl.key==null||dl&&dl.key===jl.key?"":(""+jl.key).replace(gl,"$&/")+"/")+Dl)),Rl.push(jl)),1;Dl=0;var $l=pl===""?".":pl+":";if(rl(dl))for(var eu=0;eu<dl.length;eu++)pl=dl[eu],Ll=$l+bl(pl,eu),Dl+=Al(pl,Rl,Tl,Ll,jl);else if(eu=Ua(dl),typeof eu=="function")for(dl=eu.call(dl),eu=0;!(pl=dl.next()).done;)pl=pl.value,Ll=$l+bl(pl,eu++),Dl+=Al(pl,Rl,Tl,Ll,jl);else if(Ll==="object"){if(typeof dl.then=="function")return Al(xl(dl),Rl,Tl,pl,jl);throw Rl=String(dl),Error("Objects are not valid as a React child (found: "+(Rl==="[object Object]"?"object with keys {"+Object.keys(dl).join(", ")+"}":Rl)+"). If you meant to render a collection of children, use an array instead.")}return Dl}function ml(dl,Rl,Tl){if(dl==null)return dl;var pl=[],jl=0;return Al(dl,pl,"","",function(Ll){return Rl.call(Tl,Ll,jl++)}),pl}function Sl(dl){if(dl._status===-1){var Rl=dl._result;Rl=Rl(),Rl.then(function(Tl){(dl._status===0||dl._status===-1)&&(dl._status=1,dl._result=Tl)},function(Tl){(dl._status===0||dl._status===-1)&&(dl._status=2,dl._result=Tl)}),dl._status===-1&&(dl._status=0,dl._result=Rl)}if(dl._status===1)return dl._result.default;throw dl._result}var Cl=typeof reportError=="function"?reportError:function(dl){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Rl=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof dl=="object"&&dl!==null&&typeof dl.message=="string"?String(dl.message):String(dl),error:dl});if(!window.dispatchEvent(Rl))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",dl);return}console.error(dl)};function Nl(){}return react_production.Children={map:ml,forEach:function(dl,Rl,Tl){ml(dl,function(){Rl.apply(this,arguments)},Tl)},count:function(dl){var Rl=0;return ml(dl,function(){Rl++}),Rl},toArray:function(dl){return ml(dl,function(Rl){return Rl})||[]},only:function(dl){if(!ol(dl))throw Error("React.Children.only expected to receive a single React element child.");return dl}},react_production.Component=Do,react_production.Fragment=ja,react_production.Profiler=za,react_production.PureComponent=el,react_production.StrictMode=Ba,react_production.Suspense=Xa,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=il,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(dl){return il.H.useMemoCache(dl)}},react_production.cache=function(dl){return function(){return dl.apply(null,arguments)}},react_production.cloneElement=function(dl,Rl,Tl){if(dl==null)throw Error("The argument must be a React element, but you passed "+dl+".");var pl=Ja({},dl.props),jl=dl.key,Ll=void 0;if(Rl!=null)for(Dl in Rl.ref!==void 0&&(Ll=void 0),Rl.key!==void 0&&(jl=""+Rl.key),Rl)!al.call(Rl,Dl)||Dl==="key"||Dl==="__self"||Dl==="__source"||Dl==="ref"&&Rl.ref===void 0||(pl[Dl]=Rl[Dl]);var Dl=arguments.length-2;if(Dl===1)pl.children=Tl;else if(1<Dl){for(var $l=Array(Dl),eu=0;eu<Dl;eu++)$l[eu]=arguments[eu+2];pl.children=$l}return ll(dl.type,jl,void 0,void 0,Ll,pl)},react_production.createContext=function(dl){return dl={$$typeof:Ha,_currentValue:dl,_currentValue2:dl,_threadCount:0,Provider:null,Consumer:null},dl.Provider=dl,dl.Consumer={$$typeof:Ga,_context:dl},dl},react_production.createElement=function(dl,Rl,Tl){var pl,jl={},Ll=null;if(Rl!=null)for(pl in Rl.key!==void 0&&(Ll=""+Rl.key),Rl)al.call(Rl,pl)&&pl!=="key"&&pl!=="__self"&&pl!=="__source"&&(jl[pl]=Rl[pl]);var Dl=arguments.length-2;if(Dl===1)jl.children=Tl;else if(1<Dl){for(var $l=Array(Dl),eu=0;eu<Dl;eu++)$l[eu]=arguments[eu+2];jl.children=$l}if(dl&&dl.defaultProps)for(pl in Dl=dl.defaultProps,Dl)jl[pl]===void 0&&(jl[pl]=Dl[pl]);return ll(dl,Ll,void 0,void 0,null,jl)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(dl){return{$$typeof:Ya,render:dl}},react_production.isValidElement=ol,react_production.lazy=function(dl){return{$$typeof:Qa,_payload:{_status:-1,_result:dl},_init:Sl}},react_production.memo=function(dl,Rl){return{$$typeof:Ka,type:dl,compare:Rl===void 0?null:Rl}},react_production.startTransition=function(dl){var Rl=il.T,Tl={};il.T=Tl;try{var pl=dl(),jl=il.S;jl!==null&&jl(Tl,pl),typeof pl=="object"&&pl!==null&&typeof pl.then=="function"&&pl.then(Nl,Cl)}catch(Ll){Cl(Ll)}finally{il.T=Rl}},react_production.unstable_useCacheRefresh=function(){return il.H.useCacheRefresh()},react_production.use=function(dl){return il.H.use(dl)},react_production.useActionState=function(dl,Rl,Tl){return il.H.useActionState(dl,Rl,Tl)},react_production.useCallback=function(dl,Rl){return il.H.useCallback(dl,Rl)},react_production.useContext=function(dl){return il.H.useContext(dl)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(dl,Rl){return il.H.useDeferredValue(dl,Rl)},react_production.useEffect=function(dl,Rl,Tl){var pl=il.H;if(typeof Tl=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pl.useEffect(dl,Rl)},react_production.useId=function(){return il.H.useId()},react_production.useImperativeHandle=function(dl,Rl,Tl){return il.H.useImperativeHandle(dl,Rl,Tl)},react_production.useInsertionEffect=function(dl,Rl){return il.H.useInsertionEffect(dl,Rl)},react_production.useLayoutEffect=function(dl,Rl){return il.H.useLayoutEffect(dl,Rl)},react_production.useMemo=function(dl,Rl){return il.H.useMemo(dl,Rl)},react_production.useOptimistic=function(dl,Rl){return il.H.useOptimistic(dl,Rl)},react_production.useReducer=function(dl,Rl,Tl){return il.H.useReducer(dl,Rl,Tl)},react_production.useRef=function(dl){return il.H.useRef(dl)},react_production.useState=function(dl){return il.H.useState(dl)},react_production.useSyncExternalStore=function(dl,Rl,Tl){return il.H.useSyncExternalStore(dl,Rl,Tl)},react_production.useTransition=function(){return il.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(La){function Na(ml,Sl){var Cl=ml.length;ml.push(Sl);e:for(;0<Cl;){var Nl=Cl-1>>>1,dl=ml[Nl];if(0<za(dl,Sl))ml[Nl]=Sl,ml[Cl]=dl,Cl=Nl;else break e}}function ja(ml){return ml.length===0?null:ml[0]}function Ba(ml){if(ml.length===0)return null;var Sl=ml[0],Cl=ml.pop();if(Cl!==Sl){ml[0]=Cl;e:for(var Nl=0,dl=ml.length,Rl=dl>>>1;Nl<Rl;){var Tl=2*(Nl+1)-1,pl=ml[Tl],jl=Tl+1,Ll=ml[jl];if(0>za(pl,Cl))jl<dl&&0>za(Ll,pl)?(ml[Nl]=Ll,ml[jl]=Cl,Nl=jl):(ml[Nl]=pl,ml[Tl]=Cl,Nl=Tl);else if(jl<dl&&0>za(Ll,Cl))ml[Nl]=Ll,ml[jl]=Cl,Nl=jl;else break e}}return Sl}function za(ml,Sl){var Cl=ml.sortIndex-Sl.sortIndex;return Cl!==0?Cl:ml.id-Sl.id}if(La.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Ga=performance;La.unstable_now=function(){return Ga.now()}}else{var Ha=Date,Ya=Ha.now();La.unstable_now=function(){return Ha.now()-Ya}}var Xa=[],Ka=[],Qa=1,Va=null,Ua=3,Wa=!1,Ja=!1,Oo=!1,Do=!1,Mo=typeof setTimeout=="function"?setTimeout:null,el=typeof clearTimeout=="function"?clearTimeout:null,tl=typeof setImmediate<"u"?setImmediate:null;function rl(ml){for(var Sl=ja(Ka);Sl!==null;){if(Sl.callback===null)Ba(Ka);else if(Sl.startTime<=ml)Ba(Ka),Sl.sortIndex=Sl.expirationTime,Na(Xa,Sl);else break;Sl=ja(Ka)}}function il(ml){if(Oo=!1,rl(ml),!Ja)if(ja(Xa)!==null)Ja=!0,al||(al=!0,bl());else{var Sl=ja(Ka);Sl!==null&&Al(il,Sl.startTime-ml)}}var al=!1,ll=-1,ul=5,ol=-1;function cl(){return Do?!0:!(La.unstable_now()-ol<ul)}function gl(){if(Do=!1,al){var ml=La.unstable_now();ol=ml;var Sl=!0;try{e:{Ja=!1,Oo&&(Oo=!1,el(ll),ll=-1),Wa=!0;var Cl=Ua;try{t:{for(rl(ml),Va=ja(Xa);Va!==null&&!(Va.expirationTime>ml&&cl());){var Nl=Va.callback;if(typeof Nl=="function"){Va.callback=null,Ua=Va.priorityLevel;var dl=Nl(Va.expirationTime<=ml);if(ml=La.unstable_now(),typeof dl=="function"){Va.callback=dl,rl(ml),Sl=!0;break t}Va===ja(Xa)&&Ba(Xa),rl(ml)}else Ba(Xa);Va=ja(Xa)}if(Va!==null)Sl=!0;else{var Rl=ja(Ka);Rl!==null&&Al(il,Rl.startTime-ml),Sl=!1}}break e}finally{Va=null,Ua=Cl,Wa=!1}Sl=void 0}}finally{Sl?bl():al=!1}}}var bl;if(typeof tl=="function")bl=function(){tl(gl)};else if(typeof MessageChannel<"u"){var _l=new MessageChannel,xl=_l.port2;_l.port1.onmessage=gl,bl=function(){xl.postMessage(null)}}else bl=function(){Mo(gl,0)};function Al(ml,Sl){ll=Mo(function(){ml(La.unstable_now())},Sl)}La.unstable_IdlePriority=5,La.unstable_ImmediatePriority=1,La.unstable_LowPriority=4,La.unstable_NormalPriority=3,La.unstable_Profiling=null,La.unstable_UserBlockingPriority=2,La.unstable_cancelCallback=function(ml){ml.callback=null},La.unstable_forceFrameRate=function(ml){0>ml||125<ml?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ul=0<ml?Math.floor(1e3/ml):5},La.unstable_getCurrentPriorityLevel=function(){return Ua},La.unstable_next=function(ml){switch(Ua){case 1:case 2:case 3:var Sl=3;break;default:Sl=Ua}var Cl=Ua;Ua=Sl;try{return ml()}finally{Ua=Cl}},La.unstable_requestPaint=function(){Do=!0},La.unstable_runWithPriority=function(ml,Sl){switch(ml){case 1:case 2:case 3:case 4:case 5:break;default:ml=3}var Cl=Ua;Ua=ml;try{return Sl()}finally{Ua=Cl}},La.unstable_scheduleCallback=function(ml,Sl,Cl){var Nl=La.unstable_now();switch(typeof Cl=="object"&&Cl!==null?(Cl=Cl.delay,Cl=typeof Cl=="number"&&0<Cl?Nl+Cl:Nl):Cl=Nl,ml){case 1:var dl=-1;break;case 2:dl=250;break;case 5:dl=1073741823;break;case 4:dl=1e4;break;default:dl=5e3}return dl=Cl+dl,ml={id:Qa++,callback:Sl,priorityLevel:ml,startTime:Cl,expirationTime:dl,sortIndex:-1},Cl>Nl?(ml.sortIndex=Cl,Na(Ka,ml),ja(Xa)===null&&ml===ja(Ka)&&(Oo?(el(ll),ll=-1):Oo=!0,Al(il,Cl-Nl))):(ml.sortIndex=dl,Na(Xa,ml),Ja||Wa||(Ja=!0,al||(al=!0,bl()))),ml},La.unstable_shouldYield=cl,La.unstable_wrapCallback=function(ml){var Sl=Ua;return function(){var Cl=Ua;Ua=Sl;try{return ml.apply(this,arguments)}finally{Ua=Cl}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var La=requireReact();function Na(Xa){var Ka="https://react.dev/errors/"+Xa;if(1<arguments.length){Ka+="?args[]="+encodeURIComponent(arguments[1]);for(var Qa=2;Qa<arguments.length;Qa++)Ka+="&args[]="+encodeURIComponent(arguments[Qa])}return"Minified React error #"+Xa+"; visit "+Ka+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ja(){}var Ba={d:{f:ja,r:function(){throw Error(Na(522))},D:ja,C:ja,L:ja,m:ja,X:ja,S:ja,M:ja},p:0,findDOMNode:null},za=Symbol.for("react.portal");function Ga(Xa,Ka,Qa){var Va=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:Va==null?null:""+Va,children:Xa,containerInfo:Ka,implementation:Qa}}var Ha=La.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ya(Xa,Ka){if(Xa==="font")return"";if(typeof Ka=="string")return Ka==="use-credentials"?Ka:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ba,reactDom_production.createPortal=function(Xa,Ka){var Qa=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka||Ka.nodeType!==1&&Ka.nodeType!==9&&Ka.nodeType!==11)throw Error(Na(299));return Ga(Xa,Ka,null,Qa)},reactDom_production.flushSync=function(Xa){var Ka=Ha.T,Qa=Ba.p;try{if(Ha.T=null,Ba.p=2,Xa)return Xa()}finally{Ha.T=Ka,Ba.p=Qa,Ba.d.f()}},reactDom_production.preconnect=function(Xa,Ka){typeof Xa=="string"&&(Ka?(Ka=Ka.crossOrigin,Ka=typeof Ka=="string"?Ka==="use-credentials"?Ka:"":void 0):Ka=null,Ba.d.C(Xa,Ka))},reactDom_production.prefetchDNS=function(Xa){typeof Xa=="string"&&Ba.d.D(Xa)},reactDom_production.preinit=function(Xa,Ka){if(typeof Xa=="string"&&Ka&&typeof Ka.as=="string"){var Qa=Ka.as,Va=Ya(Qa,Ka.crossOrigin),Ua=typeof Ka.integrity=="string"?Ka.integrity:void 0,Wa=typeof Ka.fetchPriority=="string"?Ka.fetchPriority:void 0;Qa==="style"?Ba.d.S(Xa,typeof Ka.precedence=="string"?Ka.precedence:void 0,{crossOrigin:Va,integrity:Ua,fetchPriority:Wa}):Qa==="script"&&Ba.d.X(Xa,{crossOrigin:Va,integrity:Ua,fetchPriority:Wa,nonce:typeof Ka.nonce=="string"?Ka.nonce:void 0})}},reactDom_production.preinitModule=function(Xa,Ka){if(typeof Xa=="string")if(typeof Ka=="object"&&Ka!==null){if(Ka.as==null||Ka.as==="script"){var Qa=Ya(Ka.as,Ka.crossOrigin);Ba.d.M(Xa,{crossOrigin:Qa,integrity:typeof Ka.integrity=="string"?Ka.integrity:void 0,nonce:typeof Ka.nonce=="string"?Ka.nonce:void 0})}}else Ka==null&&Ba.d.M(Xa)},reactDom_production.preload=function(Xa,Ka){if(typeof Xa=="string"&&typeof Ka=="object"&&Ka!==null&&typeof Ka.as=="string"){var Qa=Ka.as,Va=Ya(Qa,Ka.crossOrigin);Ba.d.L(Xa,Qa,{crossOrigin:Va,integrity:typeof Ka.integrity=="string"?Ka.integrity:void 0,nonce:typeof Ka.nonce=="string"?Ka.nonce:void 0,type:typeof Ka.type=="string"?Ka.type:void 0,fetchPriority:typeof Ka.fetchPriority=="string"?Ka.fetchPriority:void 0,referrerPolicy:typeof Ka.referrerPolicy=="string"?Ka.referrerPolicy:void 0,imageSrcSet:typeof Ka.imageSrcSet=="string"?Ka.imageSrcSet:void 0,imageSizes:typeof Ka.imageSizes=="string"?Ka.imageSizes:void 0,media:typeof Ka.media=="string"?Ka.media:void 0})}},reactDom_production.preloadModule=function(Xa,Ka){if(typeof Xa=="string")if(Ka){var Qa=Ya(Ka.as,Ka.crossOrigin);Ba.d.m(Xa,{as:typeof Ka.as=="string"&&Ka.as!=="script"?Ka.as:void 0,crossOrigin:Qa,integrity:typeof Ka.integrity=="string"?Ka.integrity:void 0})}else Ba.d.m(Xa)},reactDom_production.requestFormReset=function(Xa){Ba.d.r(Xa)},reactDom_production.unstable_batchedUpdates=function(Xa,Ka){return Xa(Ka)},reactDom_production.useFormState=function(Xa,Ka,Qa){return Ha.H.useFormState(Xa,Ka,Qa)},reactDom_production.useFormStatus=function(){return Ha.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function La(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(La)}catch(Na){console.error(Na)}}return La(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var La=requireScheduler(),Na=requireReact(),ja=requireReactDom();function Ba(qa){var Za="https://react.dev/errors/"+qa;if(1<arguments.length){Za+="?args[]="+encodeURIComponent(arguments[1]);for(var Ao=2;Ao<arguments.length;Ao++)Za+="&args[]="+encodeURIComponent(arguments[Ao])}return"Minified React error #"+qa+"; visit "+Za+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function za(qa){return!(!qa||qa.nodeType!==1&&qa.nodeType!==9&&qa.nodeType!==11)}function Ga(qa){var Za=qa,Ao=qa;if(qa.alternate)for(;Za.return;)Za=Za.return;else{qa=Za;do Za=qa,(Za.flags&4098)!==0&&(Ao=Za.return),qa=Za.return;while(qa)}return Za.tag===3?Ao:null}function Ha(qa){if(qa.tag===13){var Za=qa.memoizedState;if(Za===null&&(qa=qa.alternate,qa!==null&&(Za=qa.memoizedState)),Za!==null)return Za.dehydrated}return null}function Ya(qa){if(Ga(qa)!==qa)throw Error(Ba(188))}function Xa(qa){var Za=qa.alternate;if(!Za){if(Za=Ga(qa),Za===null)throw Error(Ba(188));return Za!==qa?null:qa}for(var Ao=qa,jo=Za;;){var nl=Ao.return;if(nl===null)break;var sl=nl.alternate;if(sl===null){if(jo=nl.return,jo!==null){Ao=jo;continue}break}if(nl.child===sl.child){for(sl=nl.child;sl;){if(sl===Ao)return Ya(nl),qa;if(sl===jo)return Ya(nl),Za;sl=sl.sibling}throw Error(Ba(188))}if(Ao.return!==jo.return)Ao=nl,jo=sl;else{for(var hl=!1,vl=nl.child;vl;){if(vl===Ao){hl=!0,Ao=nl,jo=sl;break}if(vl===jo){hl=!0,jo=nl,Ao=sl;break}vl=vl.sibling}if(!hl){for(vl=sl.child;vl;){if(vl===Ao){hl=!0,Ao=sl,jo=nl;break}if(vl===jo){hl=!0,jo=sl,Ao=nl;break}vl=vl.sibling}if(!hl)throw Error(Ba(189))}}if(Ao.alternate!==jo)throw Error(Ba(190))}if(Ao.tag!==3)throw Error(Ba(188));return Ao.stateNode.current===Ao?qa:Za}function Ka(qa){var Za=qa.tag;if(Za===5||Za===26||Za===27||Za===6)return qa;for(qa=qa.child;qa!==null;){if(Za=Ka(qa),Za!==null)return Za;qa=qa.sibling}return null}var Qa=Object.assign,Va=Symbol.for("react.element"),Ua=Symbol.for("react.transitional.element"),Wa=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),Oo=Symbol.for("react.strict_mode"),Do=Symbol.for("react.profiler"),Mo=Symbol.for("react.provider"),el=Symbol.for("react.consumer"),tl=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),il=Symbol.for("react.suspense"),al=Symbol.for("react.suspense_list"),ll=Symbol.for("react.memo"),ul=Symbol.for("react.lazy"),ol=Symbol.for("react.activity"),cl=Symbol.for("react.memo_cache_sentinel"),gl=Symbol.iterator;function bl(qa){return qa===null||typeof qa!="object"?null:(qa=gl&&qa[gl]||qa["@@iterator"],typeof qa=="function"?qa:null)}var _l=Symbol.for("react.client.reference");function xl(qa){if(qa==null)return null;if(typeof qa=="function")return qa.$$typeof===_l?null:qa.displayName||qa.name||null;if(typeof qa=="string")return qa;switch(qa){case Ja:return"Fragment";case Do:return"Profiler";case Oo:return"StrictMode";case il:return"Suspense";case al:return"SuspenseList";case ol:return"Activity"}if(typeof qa=="object")switch(qa.$$typeof){case Wa:return"Portal";case tl:return(qa.displayName||"Context")+".Provider";case el:return(qa._context.displayName||"Context")+".Consumer";case rl:var Za=qa.render;return qa=qa.displayName,qa||(qa=Za.displayName||Za.name||"",qa=qa!==""?"ForwardRef("+qa+")":"ForwardRef"),qa;case ll:return Za=qa.displayName||null,Za!==null?Za:xl(qa.type)||"Memo";case ul:Za=qa._payload,qa=qa._init;try{return xl(qa(Za))}catch{}}return null}var Al=Array.isArray,ml=Na.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Sl=ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cl={pending:!1,data:null,method:null,action:null},Nl=[],dl=-1;function Rl(qa){return{current:qa}}function Tl(qa){0>dl||(qa.current=Nl[dl],Nl[dl]=null,dl--)}function pl(qa,Za){dl++,Nl[dl]=qa.current,qa.current=Za}var jl=Rl(null),Ll=Rl(null),Dl=Rl(null),$l=Rl(null);function eu(qa,Za){switch(pl(Dl,Za),pl(Ll,qa),pl(jl,null),Za.nodeType){case 9:case 11:qa=(qa=Za.documentElement)&&(qa=qa.namespaceURI)?Ex(qa):0;break;default:if(qa=Za.tagName,Za=Za.namespaceURI)Za=Ex(Za),qa=_x(Za,qa);else switch(qa){case"svg":qa=1;break;case"math":qa=2;break;default:qa=0}}Tl(jl),pl(jl,qa)}function uu(){Tl(jl),Tl(Ll),Tl(Dl)}function su(qa){qa.memoizedState!==null&&pl($l,qa);var Za=jl.current,Ao=_x(Za,qa.type);Za!==Ao&&(pl(Ll,qa),pl(jl,Ao))}function pu(qa){Ll.current===qa&&(Tl(jl),Tl(Ll)),$l.current===qa&&(Tl($l),S0._currentValue=Cl)}var Yl=Object.prototype.hasOwnProperty,ru=La.unstable_scheduleCallback,lu=La.unstable_cancelCallback,fu=La.unstable_shouldYield,bu=La.unstable_requestPaint,xu=La.unstable_now,Du=La.unstable_getCurrentPriorityLevel,Zu=La.unstable_ImmediatePriority,ic=La.unstable_UserBlockingPriority,Mu=La.unstable_NormalPriority,gu=La.unstable_LowPriority,Pu=La.unstable_IdlePriority,hc=La.log,Au=La.unstable_setDisableYieldValue,Ql=null,iu=null;function Su(qa){if(typeof hc=="function"&&Au(qa),iu&&typeof iu.setStrictMode=="function")try{iu.setStrictMode(Ql,qa)}catch{}}var _u=Math.clz32?Math.clz32:cu,qu=Math.log,au=Math.LN2;function cu(qa){return qa>>>=0,qa===0?32:31-(qu(qa)/au|0)|0}var wu=256,hu=4194304;function ec(qa){var Za=qa&42;if(Za!==0)return Za;switch(qa&-qa){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return qa&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return qa&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return qa}}function sc(qa,Za,Ao){var jo=qa.pendingLanes;if(jo===0)return 0;var nl=0,sl=qa.suspendedLanes,hl=qa.pingedLanes;qa=qa.warmLanes;var vl=jo&134217727;return vl!==0?(jo=vl&~sl,jo!==0?nl=ec(jo):(hl&=vl,hl!==0?nl=ec(hl):Ao||(Ao=vl&~qa,Ao!==0&&(nl=ec(Ao))))):(vl=jo&~sl,vl!==0?nl=ec(vl):hl!==0?nl=ec(hl):Ao||(Ao=jo&~qa,Ao!==0&&(nl=ec(Ao)))),nl===0?0:Za!==0&&Za!==nl&&(Za&sl)===0&&(sl=nl&-nl,Ao=Za&-Za,sl>=Ao||sl===32&&(Ao&4194048)!==0)?Za:nl}function Lu(qa,Za){return(qa.pendingLanes&~(qa.suspendedLanes&~qa.pingedLanes)&Za)===0}function Ku(qa,Za){switch(qa){case 1:case 2:case 4:case 8:case 64:return Za+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Za+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var qa=wu;return wu<<=1,(wu&4194048)===0&&(wu=256),qa}function sd(){var qa=hu;return hu<<=1,(hu&62914560)===0&&(hu=4194304),qa}function bd(qa){for(var Za=[],Ao=0;31>Ao;Ao++)Za.push(qa);return Za}function uc(qa,Za){qa.pendingLanes|=Za,Za!==268435456&&(qa.suspendedLanes=0,qa.pingedLanes=0,qa.warmLanes=0)}function Ou(qa,Za,Ao,jo,nl,sl){var hl=qa.pendingLanes;qa.pendingLanes=Ao,qa.suspendedLanes=0,qa.pingedLanes=0,qa.warmLanes=0,qa.expiredLanes&=Ao,qa.entangledLanes&=Ao,qa.errorRecoveryDisabledLanes&=Ao,qa.shellSuspendCounter=0;var vl=qa.entanglements,Ol=qa.expirationTimes,Hl=qa.hiddenUpdates;for(Ao=hl&~Ao;0<Ao;){var Jl=31-_u(Ao),nu=1<<Jl;vl[Jl]=0,Ol[Jl]=-1;var Vl=Hl[Jl];if(Vl!==null)for(Hl[Jl]=null,Jl=0;Jl<Vl.length;Jl++){var ql=Vl[Jl];ql!==null&&(ql.lane&=-536870913)}Ao&=~nu}jo!==0&&Cu(qa,jo,0),sl!==0&&nl===0&&qa.tag!==0&&(qa.suspendedLanes|=sl&~(hl&~Za))}function Cu(qa,Za,Ao){qa.pendingLanes|=Za,qa.suspendedLanes&=~Za;var jo=31-_u(Za);qa.entangledLanes|=Za,qa.entanglements[jo]=qa.entanglements[jo]|1073741824|Ao&4194090}function Ru(qa,Za){var Ao=qa.entangledLanes|=Za;for(qa=qa.entanglements;Ao;){var jo=31-_u(Ao),nl=1<<jo;nl&Za|qa[jo]&Za&&(qa[jo]|=Za),Ao&=~nl}}function Dd(qa){switch(qa){case 2:qa=1;break;case 8:qa=4;break;case 32:qa=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:qa=128;break;case 268435456:qa=134217728;break;default:qa=0}return qa}function xd(qa){return qa&=-qa,2<qa?8<qa?(qa&134217727)!==0?32:268435456:8:2}function Jd(){var qa=Sl.p;return qa!==0?qa:(qa=window.event,qa===void 0?32:zx(qa.type))}function Af(qa,Za){var Ao=Sl.p;try{return Sl.p=qa,Za()}finally{Sl.p=Ao}}var Wc=Math.random().toString(36).slice(2),vc="__reactFiber$"+Wc,Ic="__reactProps$"+Wc,od="__reactContainer$"+Wc,Md="__reactEvents$"+Wc,Cf="__reactListeners$"+Wc,Rf="__reactHandles$"+Wc,ef="__reactResources$"+Wc,yd="__reactMarker$"+Wc;function Pd(qa){delete qa[vc],delete qa[Ic],delete qa[Md],delete qa[Cf],delete qa[Rf]}function El(qa){var Za=qa[vc];if(Za)return Za;for(var Ao=qa.parentNode;Ao;){if(Za=Ao[od]||Ao[vc]){if(Ao=Za.alternate,Za.child!==null||Ao!==null&&Ao.child!==null)for(qa=Ax(qa);qa!==null;){if(Ao=qa[vc])return Ao;qa=Ax(qa)}return Za}qa=Ao,Ao=qa.parentNode}return null}function Il(qa){if(qa=qa[vc]||qa[od]){var Za=qa.tag;if(Za===5||Za===6||Za===13||Za===26||Za===27||Za===3)return qa}return null}function Pl(qa){var Za=qa.tag;if(Za===5||Za===26||Za===27||Za===6)return qa.stateNode;throw Error(Ba(33))}function Bl(qa){var Za=qa[ef];return Za||(Za=qa[ef]={hoistableStyles:new Map,hoistableScripts:new Map}),Za}function Ul(qa){qa[yd]=!0}var Zl=new Set,du={};function yu(qa,Za){mu(qa,Za),mu(qa+"Capture",Za)}function mu(qa,Za){for(du[qa]=Za,qa=0;qa<Za.length;qa++)Zl.add(Za[qa])}var Bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},wc={};function Ac(qa){return Yl.call(wc,qa)?!0:Yl.call(nc,qa)?!1:Bu.test(qa)?wc[qa]=!0:(nc[qa]=!0,!1)}function Wl(qa,Za,Ao){if(Ac(Za))if(Ao===null)qa.removeAttribute(Za);else{switch(typeof Ao){case"undefined":case"function":case"symbol":qa.removeAttribute(Za);return;case"boolean":var jo=Za.toLowerCase().slice(0,5);if(jo!=="data-"&&jo!=="aria-"){qa.removeAttribute(Za);return}}qa.setAttribute(Za,""+Ao)}}function Uu(qa,Za,Ao){if(Ao===null)qa.removeAttribute(Za);else{switch(typeof Ao){case"undefined":case"function":case"symbol":case"boolean":qa.removeAttribute(Za);return}qa.setAttribute(Za,""+Ao)}}function Ju(qa,Za,Ao,jo){if(jo===null)qa.removeAttribute(Ao);else{switch(typeof jo){case"undefined":case"function":case"symbol":case"boolean":qa.removeAttribute(Ao);return}qa.setAttributeNS(Za,Ao,""+jo)}}var zc,ld;function Ad(qa){if(zc===void 0)try{throw Error()}catch(Ao){var Za=Ao.stack.trim().match(/\n( *(at )?)/);zc=Za&&Za[1]||"",ld=-1<Ao.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Ao.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zc+qa+ld}var If=!1;function Yf(qa,Za){if(!qa||If)return"";If=!0;var Ao=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var jo={DetermineComponentFrameRoot:function(){try{if(Za){var nu=function(){throw Error()};if(Object.defineProperty(nu.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nu,[])}catch(ql){var Vl=ql}Reflect.construct(qa,[],nu)}else{try{nu.call()}catch(ql){Vl=ql}qa.call(nu.prototype)}}else{try{throw Error()}catch(ql){Vl=ql}(nu=qa())&&typeof nu.catch=="function"&&nu.catch(function(){})}}catch(ql){if(ql&&Vl&&typeof ql.stack=="string")return[ql.stack,Vl.stack]}return[null,null]}};jo.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var nl=Object.getOwnPropertyDescriptor(jo.DetermineComponentFrameRoot,"name");nl&&nl.configurable&&Object.defineProperty(jo.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var sl=jo.DetermineComponentFrameRoot(),hl=sl[0],vl=sl[1];if(hl&&vl){var Ol=hl.split(`
`),Hl=vl.split(`
`);for(nl=jo=0;jo<Ol.length&&!Ol[jo].includes("DetermineComponentFrameRoot");)jo++;for(;nl<Hl.length&&!Hl[nl].includes("DetermineComponentFrameRoot");)nl++;if(jo===Ol.length||nl===Hl.length)for(jo=Ol.length-1,nl=Hl.length-1;1<=jo&&0<=nl&&Ol[jo]!==Hl[nl];)nl--;for(;1<=jo&&0<=nl;jo--,nl--)if(Ol[jo]!==Hl[nl]){if(jo!==1||nl!==1)do if(jo--,nl--,0>nl||Ol[jo]!==Hl[nl]){var Jl=`
`+Ol[jo].replace(" at new "," at ");return qa.displayName&&Jl.includes("<anonymous>")&&(Jl=Jl.replace("<anonymous>",qa.displayName)),Jl}while(1<=jo&&0<=nl);break}}}finally{If=!1,Error.prepareStackTrace=Ao}return(Ao=qa?qa.displayName||qa.name:"")?Ad(Ao):""}function Uc(qa){switch(qa.tag){case 26:case 27:case 5:return Ad(qa.type);case 16:return Ad("Lazy");case 13:return Ad("Suspense");case 19:return Ad("SuspenseList");case 0:case 15:return Yf(qa.type,!1);case 11:return Yf(qa.type.render,!1);case 1:return Yf(qa.type,!0);case 31:return Ad("Activity");default:return""}}function Nf(qa){try{var Za="";do Za+=Uc(qa),qa=qa.return;while(qa);return Za}catch(Ao){return`
Error generating stack: `+Ao.message+`
`+Ao.stack}}function Vc(qa){switch(typeof qa){case"bigint":case"boolean":case"number":case"string":case"undefined":return qa;case"object":return qa;default:return""}}function Oh(qa){var Za=qa.type;return(qa=qa.nodeName)&&qa.toLowerCase()==="input"&&(Za==="checkbox"||Za==="radio")}function R0(qa){var Za=Oh(qa)?"checked":"value",Ao=Object.getOwnPropertyDescriptor(qa.constructor.prototype,Za),jo=""+qa[Za];if(!qa.hasOwnProperty(Za)&&typeof Ao<"u"&&typeof Ao.get=="function"&&typeof Ao.set=="function"){var nl=Ao.get,sl=Ao.set;return Object.defineProperty(qa,Za,{configurable:!0,get:function(){return nl.call(this)},set:function(hl){jo=""+hl,sl.call(this,hl)}}),Object.defineProperty(qa,Za,{enumerable:Ao.enumerable}),{getValue:function(){return jo},setValue:function(hl){jo=""+hl},stopTracking:function(){qa._valueTracker=null,delete qa[Za]}}}}function Wf(qa){qa._valueTracker||(qa._valueTracker=R0(qa))}function I0(qa){if(!qa)return!1;var Za=qa._valueTracker;if(!Za)return!0;var Ao=Za.getValue(),jo="";return qa&&(jo=Oh(qa)?qa.checked?"true":"false":qa.value),qa=jo,qa!==Ao?(Za.setValue(qa),!0):!1}function Ld(qa){if(qa=qa||(typeof document<"u"?document:void 0),typeof qa>"u")return null;try{return qa.activeElement||qa.body}catch{return qa.body}}var kh=/[\n"\\]/g;function qc(qa){return qa.replace(kh,function(Za){return"\\"+Za.charCodeAt(0).toString(16)+" "})}function Kf(qa,Za,Ao,jo,nl,sl,hl,vl){qa.name="",hl!=null&&typeof hl!="function"&&typeof hl!="symbol"&&typeof hl!="boolean"?qa.type=hl:qa.removeAttribute("type"),Za!=null?hl==="number"?(Za===0&&qa.value===""||qa.value!=Za)&&(qa.value=""+Vc(Za)):qa.value!==""+Vc(Za)&&(qa.value=""+Vc(Za)):hl!=="submit"&&hl!=="reset"||qa.removeAttribute("value"),Za!=null?Xf(qa,hl,Vc(Za)):Ao!=null?Xf(qa,hl,Vc(Ao)):jo!=null&&qa.removeAttribute("value"),nl==null&&sl!=null&&(qa.defaultChecked=!!sl),nl!=null&&(qa.checked=nl&&typeof nl!="function"&&typeof nl!="symbol"),vl!=null&&typeof vl!="function"&&typeof vl!="symbol"&&typeof vl!="boolean"?qa.name=""+Vc(vl):qa.removeAttribute("name")}function Dh(qa,Za,Ao,jo,nl,sl,hl,vl){if(sl!=null&&typeof sl!="function"&&typeof sl!="symbol"&&typeof sl!="boolean"&&(qa.type=sl),Za!=null||Ao!=null){if(!(sl!=="submit"&&sl!=="reset"||Za!=null))return;Ao=Ao!=null?""+Vc(Ao):"",Za=Za!=null?""+Vc(Za):Ao,vl||Za===qa.value||(qa.value=Za),qa.defaultValue=Za}jo=jo??nl,jo=typeof jo!="function"&&typeof jo!="symbol"&&!!jo,qa.checked=vl?qa.checked:!!jo,qa.defaultChecked=!!jo,hl!=null&&typeof hl!="function"&&typeof hl!="symbol"&&typeof hl!="boolean"&&(qa.name=hl)}function Xf(qa,Za,Ao){Za==="number"&&Ld(qa.ownerDocument)===qa||qa.defaultValue===""+Ao||(qa.defaultValue=""+Ao)}function vd(qa,Za,Ao,jo){if(qa=qa.options,Za){Za={};for(var nl=0;nl<Ao.length;nl++)Za["$"+Ao[nl]]=!0;for(Ao=0;Ao<qa.length;Ao++)nl=Za.hasOwnProperty("$"+qa[Ao].value),qa[Ao].selected!==nl&&(qa[Ao].selected=nl),nl&&jo&&(qa[Ao].defaultSelected=!0)}else{for(Ao=""+Vc(Ao),Za=null,nl=0;nl<qa.length;nl++){if(qa[nl].value===Ao){qa[nl].selected=!0,jo&&(qa[nl].defaultSelected=!0);return}Za!==null||qa[nl].disabled||(Za=qa[nl])}Za!==null&&(Za.selected=!0)}}function Mh(qa,Za,Ao){if(Za!=null&&(Za=""+Vc(Za),Za!==qa.value&&(qa.value=Za),Ao==null)){qa.defaultValue!==Za&&(qa.defaultValue=Za);return}qa.defaultValue=Ao!=null?""+Vc(Ao):""}function Ph(qa,Za,Ao,jo){if(Za==null){if(jo!=null){if(Ao!=null)throw Error(Ba(92));if(Al(jo)){if(1<jo.length)throw Error(Ba(93));jo=jo[0]}Ao=jo}Ao==null&&(Ao=""),Za=Ao}Ao=Vc(Za),qa.defaultValue=Ao,jo=qa.textContent,jo===Ao&&jo!==""&&jo!==null&&(qa.value=jo)}function Cd(qa,Za){if(Za){var Ao=qa.firstChild;if(Ao&&Ao===qa.lastChild&&Ao.nodeType===3){Ao.nodeValue=Za;return}}qa.textContent=Za}var N0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(qa,Za,Ao){var jo=Za.indexOf("--")===0;Ao==null||typeof Ao=="boolean"||Ao===""?jo?qa.setProperty(Za,""):Za==="float"?qa.cssFloat="":qa[Za]="":jo?qa.setProperty(Za,Ao):typeof Ao!="number"||Ao===0||N0.has(Za)?Za==="float"?qa.cssFloat=Ao:qa[Za]=(""+Ao).trim():qa[Za]=Ao+"px"}function Lh(qa,Za,Ao){if(Za!=null&&typeof Za!="object")throw Error(Ba(62));if(qa=qa.style,Ao!=null){for(var jo in Ao)!Ao.hasOwnProperty(jo)||Za!=null&&Za.hasOwnProperty(jo)||(jo.indexOf("--")===0?qa.setProperty(jo,""):jo==="float"?qa.cssFloat="":qa[jo]="");for(var nl in Za)jo=Za[nl],Za.hasOwnProperty(nl)&&Ao[nl]!==jo&&Gu(qa,nl,jo)}else for(var sl in Za)Za.hasOwnProperty(sl)&&Gu(qa,sl,Za[sl])}function ju(qa){if(qa.indexOf("-")===-1)return!1;switch(qa){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jd(qa){return jh.test(""+qa)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":qa}var Qf=null;function Zf(qa){return qa=qa.target||qa.srcElement||window,qa.correspondingUseElement&&(qa=qa.correspondingUseElement),qa.nodeType===3?qa.parentNode:qa}var $d=null,Fd=null;function $h(qa){var Za=Il(qa);if(Za&&(qa=Za.stateNode)){var Ao=qa[Ic]||null;e:switch(qa=Za.stateNode,Za.type){case"input":if(Kf(qa,Ao.value,Ao.defaultValue,Ao.defaultValue,Ao.checked,Ao.defaultChecked,Ao.type,Ao.name),Za=Ao.name,Ao.type==="radio"&&Za!=null){for(Ao=qa;Ao.parentNode;)Ao=Ao.parentNode;for(Ao=Ao.querySelectorAll('input[name="'+qc(""+Za)+'"][type="radio"]'),Za=0;Za<Ao.length;Za++){var jo=Ao[Za];if(jo!==qa&&jo.form===qa.form){var nl=jo[Ic]||null;if(!nl)throw Error(Ba(90));Kf(jo,nl.value,nl.defaultValue,nl.defaultValue,nl.checked,nl.defaultChecked,nl.type,nl.name)}}for(Za=0;Za<Ao.length;Za++)jo=Ao[Za],jo.form===qa.form&&I0(jo)}break e;case"textarea":Mh(qa,Ao.value,Ao.defaultValue);break e;case"select":Za=Ao.value,Za!=null&&vd(qa,!!Ao.multiple,Za,!1)}}}var Jf=!1;function Fh(qa,Za,Ao){if(Jf)return qa(Za,Ao);Jf=!0;try{var jo=qa(Za);return jo}finally{if(Jf=!1,($d!==null||Fd!==null)&&(dp(),$d&&(Za=$d,qa=Fd,Fd=$d=null,$h(Za),qa)))for(Za=0;Za<qa.length;Za++)$h(qa[Za])}}function tf(qa,Za){var Ao=qa.stateNode;if(Ao===null)return null;var jo=Ao[Ic]||null;if(jo===null)return null;Ao=jo[Za];e:switch(Za){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(jo=!jo.disabled)||(qa=qa.type,jo=!(qa==="button"||qa==="input"||qa==="select"||qa==="textarea")),qa=!jo;break e;default:qa=!1}if(qa)return null;if(Ao&&typeof Ao!="function")throw Error(Ba(231,Za,typeof Ao));return Ao}var ud=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=!1;if(ud)try{var nf={};Object.defineProperty(nf,"passive",{get:function(){eh=!0}}),window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{eh=!1}var Ed=null,fl=null,yl=null;function wl(){if(yl)return yl;var qa,Za=fl,Ao=Za.length,jo,nl="value"in Ed?Ed.value:Ed.textContent,sl=nl.length;for(qa=0;qa<Ao&&Za[qa]===nl[qa];qa++);var hl=Ao-qa;for(jo=1;jo<=hl&&Za[Ao-jo]===nl[sl-jo];jo++);return yl=nl.slice(qa,1<jo?1-jo:void 0)}function kl(qa){var Za=qa.keyCode;return"charCode"in qa?(qa=qa.charCode,qa===0&&Za===13&&(qa=13)):qa=Za,qa===10&&(qa=13),32<=qa||qa===13?qa:0}function zl(){return!0}function Xl(){return!1}function ou(qa){function Za(Ao,jo,nl,sl,hl){this._reactName=Ao,this._targetInst=nl,this.type=jo,this.nativeEvent=sl,this.target=hl,this.currentTarget=null;for(var vl in qa)qa.hasOwnProperty(vl)&&(Ao=qa[vl],this[vl]=Ao?Ao(sl):sl[vl]);return this.isDefaultPrevented=(sl.defaultPrevented!=null?sl.defaultPrevented:sl.returnValue===!1)?zl:Xl,this.isPropagationStopped=Xl,this}return Qa(Za.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ao=this.nativeEvent;Ao&&(Ao.preventDefault?Ao.preventDefault():typeof Ao.returnValue!="unknown"&&(Ao.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var Ao=this.nativeEvent;Ao&&(Ao.stopPropagation?Ao.stopPropagation():typeof Ao.cancelBubble!="unknown"&&(Ao.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),Za}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(qa){return qa.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=ou(vu),Fu=Qa({},vu,{view:0,detail:0}),bc=ou(Fu),Kc,Gc,Kl,Hu=Qa({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(qa){return qa.relatedTarget===void 0?qa.fromElement===qa.srcElement?qa.toElement:qa.fromElement:qa.relatedTarget},movementX:function(qa){return"movementX"in qa?qa.movementX:(qa!==Kl&&(Kl&&qa.type==="mousemove"?(Kc=qa.screenX-Kl.screenX,Gc=qa.screenY-Kl.screenY):Gc=Kc=0,Kl=qa),Kc)},movementY:function(qa){return"movementY"in qa?qa.movementY:Gc}}),mc=ou(Hu),_d=Qa({},Hu,{dataTransfer:0}),rf=ou(_d),Wx=Qa({},Fu,{relatedTarget:0}),Dp=ou(Wx),Kx=Qa({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),Xx=ou(Kx),Qx=Qa({},vu,{clipboardData:function(qa){return"clipboardData"in qa?qa.clipboardData:window.clipboardData}}),Zx=ou(Qx),Jx=Qa({},vu,{data:0}),Cg=ou(Jx),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(qa){var Za=this.nativeEvent;return Za.getModifierState?Za.getModifierState(qa):(qa=ny[qa])?!!Za[qa]:!1}function Mp(){return ry}var iy=Qa({},Fu,{key:function(qa){if(qa.key){var Za=ey[qa.key]||qa.key;if(Za!=="Unidentified")return Za}return qa.type==="keypress"?(qa=kl(qa),qa===13?"Enter":String.fromCharCode(qa)):qa.type==="keydown"||qa.type==="keyup"?ty[qa.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(qa){return qa.type==="keypress"?kl(qa):0},keyCode:function(qa){return qa.type==="keydown"||qa.type==="keyup"?qa.keyCode:0},which:function(qa){return qa.type==="keypress"?kl(qa):qa.type==="keydown"||qa.type==="keyup"?qa.keyCode:0}}),ay=ou(iy),sy=Qa({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rg=ou(sy),oy=Qa({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),ly=ou(oy),uy=Qa({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=ou(uy),dy=Qa({},Hu,{deltaX:function(qa){return"deltaX"in qa?qa.deltaX:"wheelDeltaX"in qa?-qa.wheelDeltaX:0},deltaY:function(qa){return"deltaY"in qa?qa.deltaY:"wheelDeltaY"in qa?-qa.wheelDeltaY:"wheelDelta"in qa?-qa.wheelDelta:0},deltaZ:0,deltaMode:0}),fy=ou(dy),hy=Qa({},vu,{newState:0,oldState:0}),py=ou(hy),my=[9,13,27,32],Pp=ud&&"CompositionEvent"in window,Bh=null;ud&&"documentMode"in document&&(Bh=document.documentMode);var gy=ud&&"TextEvent"in window&&!Bh,Ig=ud&&(!Pp||Bh&&8<Bh&&11>=Bh),Ng=" ",Og=!1;function kg(qa,Za){switch(qa){case"keyup":return my.indexOf(Za.keyCode)!==-1;case"keydown":return Za.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(qa){return qa=qa.detail,typeof qa=="object"&&"data"in qa?qa.data:null}var th=!1;function by(qa,Za){switch(qa){case"compositionend":return Dg(Za);case"keypress":return Za.which!==32?null:(Og=!0,Ng);case"textInput":return qa=Za.data,qa===Ng&&Og?null:qa;default:return null}}function xy(qa,Za){if(th)return qa==="compositionend"||!Pp&&kg(qa,Za)?(qa=wl(),yl=fl=Ed=null,th=!1,qa):null;switch(qa){case"paste":return null;case"keypress":if(!(Za.ctrlKey||Za.altKey||Za.metaKey)||Za.ctrlKey&&Za.altKey){if(Za.char&&1<Za.char.length)return Za.char;if(Za.which)return String.fromCharCode(Za.which)}return null;case"compositionend":return Ig&&Za.locale!=="ko"?null:Za.data;default:return null}}var yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(qa){var Za=qa&&qa.nodeName&&qa.nodeName.toLowerCase();return Za==="input"?!!yy[qa.type]:Za==="textarea"}function Pg(qa,Za,Ao,jo){$d?Fd?Fd.push(jo):Fd=[jo]:$d=jo,Za=bp(Za,"onChange"),0<Za.length&&(Ao=new $u("onChange","change",null,Ao,jo),qa.push({event:Ao,listeners:Za}))}var zh=null,Uh=null;function vy(qa){gx(qa,0)}function O0(qa){var Za=Pl(qa);if(I0(Za))return qa}function Lg(qa,Za){if(qa==="change")return Za}var jg=!1;if(ud){var Lp;if(ud){var jp="oninput"in document;if(!jp){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),jp=typeof $g.oninput=="function"}Lp=jp}else Lp=!1;jg=Lp&&(!document.documentMode||9<document.documentMode)}function Fg(){zh&&(zh.detachEvent("onpropertychange",Bg),Uh=zh=null)}function Bg(qa){if(qa.propertyName==="value"&&O0(Uh)){var Za=[];Pg(Za,Uh,qa,Zf(qa)),Fh(vy,Za)}}function Ey(qa,Za,Ao){qa==="focusin"?(Fg(),zh=Za,Uh=Ao,zh.attachEvent("onpropertychange",Bg)):qa==="focusout"&&Fg()}function _y(qa){if(qa==="selectionchange"||qa==="keyup"||qa==="keydown")return O0(Uh)}function Sy(qa,Za){if(qa==="click")return O0(Za)}function Ty(qa,Za){if(qa==="input"||qa==="change")return O0(Za)}function wy(qa,Za){return qa===Za&&(qa!==0||1/qa===1/Za)||qa!==qa&&Za!==Za}var Jc=typeof Object.is=="function"?Object.is:wy;function Gh(qa,Za){if(Jc(qa,Za))return!0;if(typeof qa!="object"||qa===null||typeof Za!="object"||Za===null)return!1;var Ao=Object.keys(qa),jo=Object.keys(Za);if(Ao.length!==jo.length)return!1;for(jo=0;jo<Ao.length;jo++){var nl=Ao[jo];if(!Yl.call(Za,nl)||!Jc(qa[nl],Za[nl]))return!1}return!0}function zg(qa){for(;qa&&qa.firstChild;)qa=qa.firstChild;return qa}function Ug(qa,Za){var Ao=zg(qa);qa=0;for(var jo;Ao;){if(Ao.nodeType===3){if(jo=qa+Ao.textContent.length,qa<=Za&&jo>=Za)return{node:Ao,offset:Za-qa};qa=jo}e:{for(;Ao;){if(Ao.nextSibling){Ao=Ao.nextSibling;break e}Ao=Ao.parentNode}Ao=void 0}Ao=zg(Ao)}}function Gg(qa,Za){return qa&&Za?qa===Za?!0:qa&&qa.nodeType===3?!1:Za&&Za.nodeType===3?Gg(qa,Za.parentNode):"contains"in qa?qa.contains(Za):qa.compareDocumentPosition?!!(qa.compareDocumentPosition(Za)&16):!1:!1}function Hg(qa){qa=qa!=null&&qa.ownerDocument!=null&&qa.ownerDocument.defaultView!=null?qa.ownerDocument.defaultView:window;for(var Za=Ld(qa.document);Za instanceof qa.HTMLIFrameElement;){try{var Ao=typeof Za.contentWindow.location.href=="string"}catch{Ao=!1}if(Ao)qa=Za.contentWindow;else break;Za=Ld(qa.document)}return Za}function $p(qa){var Za=qa&&qa.nodeName&&qa.nodeName.toLowerCase();return Za&&(Za==="input"&&(qa.type==="text"||qa.type==="search"||qa.type==="tel"||qa.type==="url"||qa.type==="password")||Za==="textarea"||qa.contentEditable==="true")}var Ay=ud&&"documentMode"in document&&11>=document.documentMode,nh=null,Fp=null,Hh=null,Bp=!1;function Vg(qa,Za,Ao){var jo=Ao.window===Ao?Ao.document:Ao.nodeType===9?Ao:Ao.ownerDocument;Bp||nh==null||nh!==Ld(jo)||(jo=nh,"selectionStart"in jo&&$p(jo)?jo={start:jo.selectionStart,end:jo.selectionEnd}:(jo=(jo.ownerDocument&&jo.ownerDocument.defaultView||window).getSelection(),jo={anchorNode:jo.anchorNode,anchorOffset:jo.anchorOffset,focusNode:jo.focusNode,focusOffset:jo.focusOffset}),Hh&&Gh(Hh,jo)||(Hh=jo,jo=bp(Fp,"onSelect"),0<jo.length&&(Za=new $u("onSelect","select",null,Za,Ao),qa.push({event:Za,listeners:jo}),Za.target=nh)))}function Of(qa,Za){var Ao={};return Ao[qa.toLowerCase()]=Za.toLowerCase(),Ao["Webkit"+qa]="webkit"+Za,Ao["Moz"+qa]="moz"+Za,Ao}var rh={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionrun:Of("Transition","TransitionRun"),transitionstart:Of("Transition","TransitionStart"),transitioncancel:Of("Transition","TransitionCancel"),transitionend:Of("Transition","TransitionEnd")},zp={},qg={};ud&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete rh.animationend.animation,delete rh.animationiteration.animation,delete rh.animationstart.animation),"TransitionEvent"in window||delete rh.transitionend.transition);function kf(qa){if(zp[qa])return zp[qa];if(!rh[qa])return qa;var Za=rh[qa],Ao;for(Ao in Za)if(Za.hasOwnProperty(Ao)&&Ao in qg)return zp[qa]=Za[Ao];return qa}var Yg=kf("animationend"),Wg=kf("animationiteration"),Kg=kf("animationstart"),Cy=kf("transitionrun"),Ry=kf("transitionstart"),Iy=kf("transitioncancel"),Xg=kf("transitionend"),Qg=new Map,Up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Up.push("scrollEnd");function Sd(qa,Za){Qg.set(qa,Za),yu(Za,[qa])}var Zg=new WeakMap;function cd(qa,Za){if(typeof qa=="object"&&qa!==null){var Ao=Zg.get(qa);return Ao!==void 0?Ao:(Za={value:qa,source:Za,stack:Nf(Za)},Zg.set(qa,Za),Za)}return{value:qa,source:Za,stack:Nf(Za)}}var dd=[],ih=0,Gp=0;function k0(){for(var qa=ih,Za=Gp=ih=0;Za<qa;){var Ao=dd[Za];dd[Za++]=null;var jo=dd[Za];dd[Za++]=null;var nl=dd[Za];dd[Za++]=null;var sl=dd[Za];if(dd[Za++]=null,jo!==null&&nl!==null){var hl=jo.pending;hl===null?nl.next=nl:(nl.next=hl.next,hl.next=nl),jo.pending=nl}sl!==0&&Jg(Ao,nl,sl)}}function D0(qa,Za,Ao,jo){dd[ih++]=qa,dd[ih++]=Za,dd[ih++]=Ao,dd[ih++]=jo,Gp|=jo,qa.lanes|=jo,qa=qa.alternate,qa!==null&&(qa.lanes|=jo)}function Hp(qa,Za,Ao,jo){return D0(qa,Za,Ao,jo),M0(qa)}function ah(qa,Za){return D0(qa,null,null,Za),M0(qa)}function Jg(qa,Za,Ao){qa.lanes|=Ao;var jo=qa.alternate;jo!==null&&(jo.lanes|=Ao);for(var nl=!1,sl=qa.return;sl!==null;)sl.childLanes|=Ao,jo=sl.alternate,jo!==null&&(jo.childLanes|=Ao),sl.tag===22&&(qa=sl.stateNode,qa===null||qa._visibility&1||(nl=!0)),qa=sl,sl=sl.return;return qa.tag===3?(sl=qa.stateNode,nl&&Za!==null&&(nl=31-_u(Ao),qa=sl.hiddenUpdates,jo=qa[nl],jo===null?qa[nl]=[Za]:jo.push(Za),Za.lane=Ao|536870912),sl):null}function M0(qa){if(50<m0)throw m0=0,Xm=null,Error(Ba(185));for(var Za=qa.return;Za!==null;)qa=Za,Za=qa.return;return qa.tag===3?qa.stateNode:null}var sh={};function Ny(qa,Za,Ao,jo){this.tag=qa,this.key=Ao,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Za,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=jo,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ed(qa,Za,Ao,jo){return new Ny(qa,Za,Ao,jo)}function Vp(qa){return qa=qa.prototype,!(!qa||!qa.isReactComponent)}function Bd(qa,Za){var Ao=qa.alternate;return Ao===null?(Ao=ed(qa.tag,Za,qa.key,qa.mode),Ao.elementType=qa.elementType,Ao.type=qa.type,Ao.stateNode=qa.stateNode,Ao.alternate=qa,qa.alternate=Ao):(Ao.pendingProps=Za,Ao.type=qa.type,Ao.flags=0,Ao.subtreeFlags=0,Ao.deletions=null),Ao.flags=qa.flags&65011712,Ao.childLanes=qa.childLanes,Ao.lanes=qa.lanes,Ao.child=qa.child,Ao.memoizedProps=qa.memoizedProps,Ao.memoizedState=qa.memoizedState,Ao.updateQueue=qa.updateQueue,Za=qa.dependencies,Ao.dependencies=Za===null?null:{lanes:Za.lanes,firstContext:Za.firstContext},Ao.sibling=qa.sibling,Ao.index=qa.index,Ao.ref=qa.ref,Ao.refCleanup=qa.refCleanup,Ao}function e1(qa,Za){qa.flags&=65011714;var Ao=qa.alternate;return Ao===null?(qa.childLanes=0,qa.lanes=Za,qa.child=null,qa.subtreeFlags=0,qa.memoizedProps=null,qa.memoizedState=null,qa.updateQueue=null,qa.dependencies=null,qa.stateNode=null):(qa.childLanes=Ao.childLanes,qa.lanes=Ao.lanes,qa.child=Ao.child,qa.subtreeFlags=0,qa.deletions=null,qa.memoizedProps=Ao.memoizedProps,qa.memoizedState=Ao.memoizedState,qa.updateQueue=Ao.updateQueue,qa.type=Ao.type,Za=Ao.dependencies,qa.dependencies=Za===null?null:{lanes:Za.lanes,firstContext:Za.firstContext}),qa}function P0(qa,Za,Ao,jo,nl,sl){var hl=0;if(jo=qa,typeof qa=="function")Vp(qa)&&(hl=1);else if(typeof qa=="string")hl=kv(qa,Ao,jl.current)?26:qa==="html"||qa==="head"||qa==="body"?27:5;else e:switch(qa){case ol:return qa=ed(31,Ao,Za,nl),qa.elementType=ol,qa.lanes=sl,qa;case Ja:return Df(Ao.children,nl,sl,Za);case Oo:hl=8,nl|=24;break;case Do:return qa=ed(12,Ao,Za,nl|2),qa.elementType=Do,qa.lanes=sl,qa;case il:return qa=ed(13,Ao,Za,nl),qa.elementType=il,qa.lanes=sl,qa;case al:return qa=ed(19,Ao,Za,nl),qa.elementType=al,qa.lanes=sl,qa;default:if(typeof qa=="object"&&qa!==null)switch(qa.$$typeof){case Mo:case tl:hl=10;break e;case el:hl=9;break e;case rl:hl=11;break e;case ll:hl=14;break e;case ul:hl=16,jo=null;break e}hl=29,Ao=Error(Ba(130,qa===null?"null":typeof qa,"")),jo=null}return Za=ed(hl,Ao,Za,nl),Za.elementType=qa,Za.type=jo,Za.lanes=sl,Za}function Df(qa,Za,Ao,jo){return qa=ed(7,qa,jo,Za),qa.lanes=Ao,qa}function qp(qa,Za,Ao){return qa=ed(6,qa,null,Za),qa.lanes=Ao,qa}function Yp(qa,Za,Ao){return Za=ed(4,qa.children!==null?qa.children:[],qa.key,Za),Za.lanes=Ao,Za.stateNode={containerInfo:qa.containerInfo,pendingChildren:null,implementation:qa.implementation},Za}var oh=[],lh=0,L0=null,j0=0,fd=[],hd=0,Mf=null,zd=1,Ud="";function Pf(qa,Za){oh[lh++]=j0,oh[lh++]=L0,L0=qa,j0=Za}function t1(qa,Za,Ao){fd[hd++]=zd,fd[hd++]=Ud,fd[hd++]=Mf,Mf=qa;var jo=zd;qa=Ud;var nl=32-_u(jo)-1;jo&=~(1<<nl),Ao+=1;var sl=32-_u(Za)+nl;if(30<sl){var hl=nl-nl%5;sl=(jo&(1<<hl)-1).toString(32),jo>>=hl,nl-=hl,zd=1<<32-_u(Za)+nl|Ao<<nl|jo,Ud=sl+qa}else zd=1<<sl|Ao<<nl|jo,Ud=qa}function Wp(qa){qa.return!==null&&(Pf(qa,1),t1(qa,1,0))}function Kp(qa){for(;qa===L0;)L0=oh[--lh],oh[lh]=null,j0=oh[--lh],oh[lh]=null;for(;qa===Mf;)Mf=fd[--hd],fd[hd]=null,Ud=fd[--hd],fd[hd]=null,zd=fd[--hd],fd[hd]=null}var Yc=null,Ec=null,ac=!1,Lf=null,Rd=!1,Xp=Error(Ba(519));function jf(qa){var Za=Error(Ba(418,""));throw Yh(cd(Za,qa)),Xp}function n1(qa){var Za=qa.stateNode,Ao=qa.type,jo=qa.memoizedProps;switch(Za[vc]=qa,Za[Ic]=jo,Ao){case"dialog":Qu("cancel",Za),Qu("close",Za);break;case"iframe":case"object":case"embed":Qu("load",Za);break;case"video":case"audio":for(Ao=0;Ao<b0.length;Ao++)Qu(b0[Ao],Za);break;case"source":Qu("error",Za);break;case"img":case"image":case"link":Qu("error",Za),Qu("load",Za);break;case"details":Qu("toggle",Za);break;case"input":Qu("invalid",Za),Dh(Za,jo.value,jo.defaultValue,jo.checked,jo.defaultChecked,jo.type,jo.name,!0),Wf(Za);break;case"select":Qu("invalid",Za);break;case"textarea":Qu("invalid",Za),Ph(Za,jo.value,jo.defaultValue,jo.children),Wf(Za)}Ao=jo.children,typeof Ao!="string"&&typeof Ao!="number"&&typeof Ao!="bigint"||Za.textContent===""+Ao||jo.suppressHydrationWarning===!0||vx(Za.textContent,Ao)?(jo.popover!=null&&(Qu("beforetoggle",Za),Qu("toggle",Za)),jo.onScroll!=null&&Qu("scroll",Za),jo.onScrollEnd!=null&&Qu("scrollend",Za),jo.onClick!=null&&(Za.onclick=xp),Za=!0):Za=!1,Za||jf(qa)}function r1(qa){for(Yc=qa.return;Yc;)switch(Yc.tag){case 5:case 13:Rd=!1;return;case 27:case 3:Rd=!0;return;default:Yc=Yc.return}}function Vh(qa){if(qa!==Yc)return!1;if(!ac)return r1(qa),ac=!0,!1;var Za=qa.tag,Ao;if((Ao=Za!==3&&Za!==27)&&((Ao=Za===5)&&(Ao=qa.type,Ao=!(Ao!=="form"&&Ao!=="button")||fg(qa.type,qa.memoizedProps)),Ao=!Ao),Ao&&Ec&&jf(qa),r1(qa),Za===13){if(qa=qa.memoizedState,qa=qa!==null?qa.dehydrated:null,!qa)throw Error(Ba(317));e:{for(qa=qa.nextSibling,Za=0;qa;){if(qa.nodeType===8)if(Ao=qa.data,Ao==="/$"){if(Za===0){Ec=wd(qa.nextSibling);break e}Za--}else Ao!=="$"&&Ao!=="$!"&&Ao!=="$?"||Za++;qa=qa.nextSibling}Ec=null}}else Za===27?(Za=Ec,vf(qa.type)?(qa=gg,gg=null,Ec=qa):Ec=Za):Ec=Yc?wd(qa.stateNode.nextSibling):null;return!0}function qh(){Ec=Yc=null,ac=!1}function i1(){var qa=Lf;return qa!==null&&(Zc===null?Zc=qa:Zc.push.apply(Zc,qa),Lf=null),qa}function Yh(qa){Lf===null?Lf=[qa]:Lf.push(qa)}var Qp=Rl(null),$f=null,Gd=null;function af(qa,Za,Ao){pl(Qp,Za._currentValue),Za._currentValue=Ao}function Hd(qa){qa._currentValue=Qp.current,Tl(Qp)}function Zp(qa,Za,Ao){for(;qa!==null;){var jo=qa.alternate;if((qa.childLanes&Za)!==Za?(qa.childLanes|=Za,jo!==null&&(jo.childLanes|=Za)):jo!==null&&(jo.childLanes&Za)!==Za&&(jo.childLanes|=Za),qa===Ao)break;qa=qa.return}}function Jp(qa,Za,Ao,jo){var nl=qa.child;for(nl!==null&&(nl.return=qa);nl!==null;){var sl=nl.dependencies;if(sl!==null){var hl=nl.child;sl=sl.firstContext;e:for(;sl!==null;){var vl=sl;sl=nl;for(var Ol=0;Ol<Za.length;Ol++)if(vl.context===Za[Ol]){sl.lanes|=Ao,vl=sl.alternate,vl!==null&&(vl.lanes|=Ao),Zp(sl.return,Ao,qa),jo||(hl=null);break e}sl=vl.next}}else if(nl.tag===18){if(hl=nl.return,hl===null)throw Error(Ba(341));hl.lanes|=Ao,sl=hl.alternate,sl!==null&&(sl.lanes|=Ao),Zp(hl,Ao,qa),hl=null}else hl=nl.child;if(hl!==null)hl.return=nl;else for(hl=nl;hl!==null;){if(hl===qa){hl=null;break}if(nl=hl.sibling,nl!==null){nl.return=hl.return,hl=nl;break}hl=hl.return}nl=hl}}function Wh(qa,Za,Ao,jo){qa=null;for(var nl=Za,sl=!1;nl!==null;){if(!sl){if((nl.flags&524288)!==0)sl=!0;else if((nl.flags&262144)!==0)break}if(nl.tag===10){var hl=nl.alternate;if(hl===null)throw Error(Ba(387));if(hl=hl.memoizedProps,hl!==null){var vl=nl.type;Jc(nl.pendingProps.value,hl.value)||(qa!==null?qa.push(vl):qa=[vl])}}else if(nl===$l.current){if(hl=nl.alternate,hl===null)throw Error(Ba(387));hl.memoizedState.memoizedState!==nl.memoizedState.memoizedState&&(qa!==null?qa.push(S0):qa=[S0])}nl=nl.return}qa!==null&&Jp(Za,qa,Ao,jo),Za.flags|=262144}function $0(qa){for(qa=qa.firstContext;qa!==null;){if(!Jc(qa.context._currentValue,qa.memoizedValue))return!0;qa=qa.next}return!1}function Ff(qa){$f=qa,Gd=null,qa=qa.dependencies,qa!==null&&(qa.firstContext=null)}function Hc(qa){return a1($f,qa)}function F0(qa,Za){return $f===null&&Ff(qa),a1(qa,Za)}function a1(qa,Za){var Ao=Za._currentValue;if(Za={context:Za,memoizedValue:Ao,next:null},Gd===null){if(qa===null)throw Error(Ba(308));Gd=Za,qa.dependencies={lanes:0,firstContext:Za},qa.flags|=524288}else Gd=Gd.next=Za;return Ao}var Oy=typeof AbortController<"u"?AbortController:function(){var qa=[],Za=this.signal={aborted:!1,addEventListener:function(Ao,jo){qa.push(jo)}};this.abort=function(){Za.aborted=!0,qa.forEach(function(Ao){return Ao()})}},ky=La.unstable_scheduleCallback,Dy=La.unstable_NormalPriority,kc={$$typeof:tl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new Oy,data:new Map,refCount:0}}function Kh(qa){qa.refCount--,qa.refCount===0&&ky(Dy,function(){qa.controller.abort()})}var Xh=null,tm=0,uh=0,dh=null;function My(qa,Za){if(Xh===null){var Ao=Xh=[];tm=0,uh=rg(),dh={status:"pending",value:void 0,then:function(jo){Ao.push(jo)}}}return tm++,Za.then(s1,s1),Za}function s1(){if(--tm===0&&Xh!==null){dh!==null&&(dh.status="fulfilled");var qa=Xh;Xh=null,uh=0,dh=null;for(var Za=0;Za<qa.length;Za++)(0,qa[Za])()}}function Py(qa,Za){var Ao=[],jo={status:"pending",value:null,reason:null,then:function(nl){Ao.push(nl)}};return qa.then(function(){jo.status="fulfilled",jo.value=Za;for(var nl=0;nl<Ao.length;nl++)(0,Ao[nl])(Za)},function(nl){for(jo.status="rejected",jo.reason=nl,nl=0;nl<Ao.length;nl++)(0,Ao[nl])(void 0)}),jo}var o1=ml.S;ml.S=function(qa,Za){typeof Za=="object"&&Za!==null&&typeof Za.then=="function"&&My(qa,Za),o1!==null&&o1(qa,Za)};var Bf=Rl(null);function nm(){var qa=Bf.current;return qa!==null?qa:gc.pooledCache}function B0(qa,Za){Za===null?pl(Bf,Bf.current):pl(Bf,Za.pool)}function l1(){var qa=nm();return qa===null?null:{parent:kc._currentValue,pool:qa}}var Qh=Error(Ba(460)),u1=Error(Ba(474)),z0=Error(Ba(542)),rm={then:function(){}};function c1(qa){return qa=qa.status,qa==="fulfilled"||qa==="rejected"}function U0(){}function d1(qa,Za,Ao){switch(Ao=qa[Ao],Ao===void 0?qa.push(Za):Ao!==Za&&(Za.then(U0,U0),Za=Ao),Za.status){case"fulfilled":return Za.value;case"rejected":throw qa=Za.reason,h1(qa),qa;default:if(typeof Za.status=="string")Za.then(U0,U0);else{if(qa=gc,qa!==null&&100<qa.shellSuspendCounter)throw Error(Ba(482));qa=Za,qa.status="pending",qa.then(function(jo){if(Za.status==="pending"){var nl=Za;nl.status="fulfilled",nl.value=jo}},function(jo){if(Za.status==="pending"){var nl=Za;nl.status="rejected",nl.reason=jo}})}switch(Za.status){case"fulfilled":return Za.value;case"rejected":throw qa=Za.reason,h1(qa),qa}throw Zh=Za,Qh}}var Zh=null;function f1(){if(Zh===null)throw Error(Ba(459));var qa=Zh;return Zh=null,qa}function h1(qa){if(qa===Qh||qa===z0)throw Error(Ba(483))}var sf=!1;function im(qa){qa.updateQueue={baseState:qa.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(qa,Za){qa=qa.updateQueue,Za.updateQueue===qa&&(Za.updateQueue={baseState:qa.baseState,firstBaseUpdate:qa.firstBaseUpdate,lastBaseUpdate:qa.lastBaseUpdate,shared:qa.shared,callbacks:null})}function of(qa){return{lane:qa,tag:0,payload:null,callback:null,next:null}}function lf(qa,Za,Ao){var jo=qa.updateQueue;if(jo===null)return null;if(jo=jo.shared,(oc&2)!==0){var nl=jo.pending;return nl===null?Za.next=Za:(Za.next=nl.next,nl.next=Za),jo.pending=Za,Za=M0(qa),Jg(qa,null,Ao),Za}return D0(qa,jo,Za,Ao),M0(qa)}function Jh(qa,Za,Ao){if(Za=Za.updateQueue,Za!==null&&(Za=Za.shared,(Ao&4194048)!==0)){var jo=Za.lanes;jo&=qa.pendingLanes,Ao|=jo,Za.lanes=Ao,Ru(qa,Ao)}}function sm(qa,Za){var Ao=qa.updateQueue,jo=qa.alternate;if(jo!==null&&(jo=jo.updateQueue,Ao===jo)){var nl=null,sl=null;if(Ao=Ao.firstBaseUpdate,Ao!==null){do{var hl={lane:Ao.lane,tag:Ao.tag,payload:Ao.payload,callback:null,next:null};sl===null?nl=sl=hl:sl=sl.next=hl,Ao=Ao.next}while(Ao!==null);sl===null?nl=sl=Za:sl=sl.next=Za}else nl=sl=Za;Ao={baseState:jo.baseState,firstBaseUpdate:nl,lastBaseUpdate:sl,shared:jo.shared,callbacks:jo.callbacks},qa.updateQueue=Ao;return}qa=Ao.lastBaseUpdate,qa===null?Ao.firstBaseUpdate=Za:qa.next=Za,Ao.lastBaseUpdate=Za}var om=!1;function e0(){if(om){var qa=dh;if(qa!==null)throw qa}}function t0(qa,Za,Ao,jo){om=!1;var nl=qa.updateQueue;sf=!1;var sl=nl.firstBaseUpdate,hl=nl.lastBaseUpdate,vl=nl.shared.pending;if(vl!==null){nl.shared.pending=null;var Ol=vl,Hl=Ol.next;Ol.next=null,hl===null?sl=Hl:hl.next=Hl,hl=Ol;var Jl=qa.alternate;Jl!==null&&(Jl=Jl.updateQueue,vl=Jl.lastBaseUpdate,vl!==hl&&(vl===null?Jl.firstBaseUpdate=Hl:vl.next=Hl,Jl.lastBaseUpdate=Ol))}if(sl!==null){var nu=nl.baseState;hl=0,Jl=Hl=Ol=null,vl=sl;do{var Vl=vl.lane&-536870913,ql=Vl!==vl.lane;if(ql?(tc&Vl)===Vl:(jo&Vl)===Vl){Vl!==0&&Vl===uh&&(om=!0),Jl!==null&&(Jl=Jl.next={lane:0,tag:vl.tag,payload:vl.payload,callback:null,next:null});e:{var ku=qa,Iu=vl;Vl=Za;var fc=Ao;switch(Iu.tag){case 1:if(ku=Iu.payload,typeof ku=="function"){nu=ku.call(fc,nu,Vl);break e}nu=ku;break e;case 3:ku.flags=ku.flags&-65537|128;case 0:if(ku=Iu.payload,Vl=typeof ku=="function"?ku.call(fc,nu,Vl):ku,Vl==null)break e;nu=Qa({},nu,Vl);break e;case 2:sf=!0}}Vl=vl.callback,Vl!==null&&(qa.flags|=64,ql&&(qa.flags|=8192),ql=nl.callbacks,ql===null?nl.callbacks=[Vl]:ql.push(Vl))}else ql={lane:Vl,tag:vl.tag,payload:vl.payload,callback:vl.callback,next:null},Jl===null?(Hl=Jl=ql,Ol=nu):Jl=Jl.next=ql,hl|=Vl;if(vl=vl.next,vl===null){if(vl=nl.shared.pending,vl===null)break;ql=vl,vl=ql.next,ql.next=null,nl.lastBaseUpdate=ql,nl.shared.pending=null}}while(!0);Jl===null&&(Ol=nu),nl.baseState=Ol,nl.firstBaseUpdate=Hl,nl.lastBaseUpdate=Jl,sl===null&&(nl.shared.lanes=0),gf|=hl,qa.lanes=hl,qa.memoizedState=nu}}function p1(qa,Za){if(typeof qa!="function")throw Error(Ba(191,qa));qa.call(Za)}function m1(qa,Za){var Ao=qa.callbacks;if(Ao!==null)for(qa.callbacks=null,qa=0;qa<Ao.length;qa++)p1(Ao[qa],Za)}var fh=Rl(null),G0=Rl(0);function g1(qa,Za){qa=Qd,pl(G0,qa),pl(fh,Za),Qd=qa|Za.baseLanes}function lm(){pl(G0,Qd),pl(fh,fh.current)}function um(){Qd=G0.current,Tl(fh),Tl(G0)}var uf=0,Vu=null,cc=null,Nc=null,H0=!1,hh=!1,zf=!1,V0=0,n0=0,ph=null,Ly=0;function Cc(){throw Error(Ba(321))}function cm(qa,Za){if(Za===null)return!1;for(var Ao=0;Ao<Za.length&&Ao<qa.length;Ao++)if(!Jc(qa[Ao],Za[Ao]))return!1;return!0}function dm(qa,Za,Ao,jo,nl,sl){return uf=sl,Vu=Za,Za.memoizedState=null,Za.updateQueue=null,Za.lanes=0,ml.H=qa===null||qa.memoizedState===null?J1:eb,zf=!1,sl=Ao(jo,nl),zf=!1,hh&&(sl=x1(Za,Ao,jo,nl)),b1(qa),sl}function b1(qa){ml.H=Q0;var Za=cc!==null&&cc.next!==null;if(uf=0,Nc=cc=Vu=null,H0=!1,n0=0,ph=null,Za)throw Error(Ba(300));qa===null||Pc||(qa=qa.dependencies,qa!==null&&$0(qa)&&(Pc=!0))}function x1(qa,Za,Ao,jo){Vu=qa;var nl=0;do{if(hh&&(ph=null),n0=0,hh=!1,25<=nl)throw Error(Ba(301));if(nl+=1,Nc=cc=null,qa.updateQueue!=null){var sl=qa.updateQueue;sl.lastEffect=null,sl.events=null,sl.stores=null,sl.memoCache!=null&&(sl.memoCache.index=0)}ml.H=Gy,sl=Za(Ao,jo)}while(hh);return sl}function jy(){var qa=ml.H,Za=qa.useState()[0];return Za=typeof Za.then=="function"?r0(Za):Za,qa=qa.useState()[0],(cc!==null?cc.memoizedState:null)!==qa&&(Vu.flags|=1024),Za}function fm(){var qa=V0!==0;return V0=0,qa}function hm(qa,Za,Ao){Za.updateQueue=qa.updateQueue,Za.flags&=-2053,qa.lanes&=~Ao}function pm(qa){if(H0){for(qa=qa.memoizedState;qa!==null;){var Za=qa.queue;Za!==null&&(Za.pending=null),qa=qa.next}H0=!1}uf=0,Nc=cc=Vu=null,hh=!1,n0=V0=0,ph=null}function Xc(){var qa={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nc===null?Vu.memoizedState=Nc=qa:Nc=Nc.next=qa,Nc}function Oc(){if(cc===null){var qa=Vu.alternate;qa=qa!==null?qa.memoizedState:null}else qa=cc.next;var Za=Nc===null?Vu.memoizedState:Nc.next;if(Za!==null)Nc=Za,cc=qa;else{if(qa===null)throw Vu.alternate===null?Error(Ba(467)):Error(Ba(310));cc=qa,qa={memoizedState:cc.memoizedState,baseState:cc.baseState,baseQueue:cc.baseQueue,queue:cc.queue,next:null},Nc===null?Vu.memoizedState=Nc=qa:Nc=Nc.next=qa}return Nc}function mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function r0(qa){var Za=n0;return n0+=1,ph===null&&(ph=[]),qa=d1(ph,qa,Za),Za=Vu,(Nc===null?Za.memoizedState:Nc.next)===null&&(Za=Za.alternate,ml.H=Za===null||Za.memoizedState===null?J1:eb),qa}function q0(qa){if(qa!==null&&typeof qa=="object"){if(typeof qa.then=="function")return r0(qa);if(qa.$$typeof===tl)return Hc(qa)}throw Error(Ba(438,String(qa)))}function gm(qa){var Za=null,Ao=Vu.updateQueue;if(Ao!==null&&(Za=Ao.memoCache),Za==null){var jo=Vu.alternate;jo!==null&&(jo=jo.updateQueue,jo!==null&&(jo=jo.memoCache,jo!=null&&(Za={data:jo.data.map(function(nl){return nl.slice()}),index:0})))}if(Za==null&&(Za={data:[],index:0}),Ao===null&&(Ao=mm(),Vu.updateQueue=Ao),Ao.memoCache=Za,Ao=Za.data[Za.index],Ao===void 0)for(Ao=Za.data[Za.index]=Array(qa),jo=0;jo<qa;jo++)Ao[jo]=cl;return Za.index++,Ao}function Vd(qa,Za){return typeof Za=="function"?Za(qa):Za}function Y0(qa){var Za=Oc();return bm(Za,cc,qa)}function bm(qa,Za,Ao){var jo=qa.queue;if(jo===null)throw Error(Ba(311));jo.lastRenderedReducer=Ao;var nl=qa.baseQueue,sl=jo.pending;if(sl!==null){if(nl!==null){var hl=nl.next;nl.next=sl.next,sl.next=hl}Za.baseQueue=nl=sl,jo.pending=null}if(sl=qa.baseState,nl===null)qa.memoizedState=sl;else{Za=nl.next;var vl=hl=null,Ol=null,Hl=Za,Jl=!1;do{var nu=Hl.lane&-536870913;if(nu!==Hl.lane?(tc&nu)===nu:(uf&nu)===nu){var Vl=Hl.revertLane;if(Vl===0)Ol!==null&&(Ol=Ol.next={lane:0,revertLane:0,action:Hl.action,hasEagerState:Hl.hasEagerState,eagerState:Hl.eagerState,next:null}),nu===uh&&(Jl=!0);else if((uf&Vl)===Vl){Hl=Hl.next,Vl===uh&&(Jl=!0);continue}else nu={lane:0,revertLane:Hl.revertLane,action:Hl.action,hasEagerState:Hl.hasEagerState,eagerState:Hl.eagerState,next:null},Ol===null?(vl=Ol=nu,hl=sl):Ol=Ol.next=nu,Vu.lanes|=Vl,gf|=Vl;nu=Hl.action,zf&&Ao(sl,nu),sl=Hl.hasEagerState?Hl.eagerState:Ao(sl,nu)}else Vl={lane:nu,revertLane:Hl.revertLane,action:Hl.action,hasEagerState:Hl.hasEagerState,eagerState:Hl.eagerState,next:null},Ol===null?(vl=Ol=Vl,hl=sl):Ol=Ol.next=Vl,Vu.lanes|=nu,gf|=nu;Hl=Hl.next}while(Hl!==null&&Hl!==Za);if(Ol===null?hl=sl:Ol.next=vl,!Jc(sl,qa.memoizedState)&&(Pc=!0,Jl&&(Ao=dh,Ao!==null)))throw Ao;qa.memoizedState=sl,qa.baseState=hl,qa.baseQueue=Ol,jo.lastRenderedState=sl}return nl===null&&(jo.lanes=0),[qa.memoizedState,jo.dispatch]}function xm(qa){var Za=Oc(),Ao=Za.queue;if(Ao===null)throw Error(Ba(311));Ao.lastRenderedReducer=qa;var jo=Ao.dispatch,nl=Ao.pending,sl=Za.memoizedState;if(nl!==null){Ao.pending=null;var hl=nl=nl.next;do sl=qa(sl,hl.action),hl=hl.next;while(hl!==nl);Jc(sl,Za.memoizedState)||(Pc=!0),Za.memoizedState=sl,Za.baseQueue===null&&(Za.baseState=sl),Ao.lastRenderedState=sl}return[sl,jo]}function y1(qa,Za,Ao){var jo=Vu,nl=Oc(),sl=ac;if(sl){if(Ao===void 0)throw Error(Ba(407));Ao=Ao()}else Ao=Za();var hl=!Jc((cc||nl).memoizedState,Ao);hl&&(nl.memoizedState=Ao,Pc=!0),nl=nl.queue;var vl=_1.bind(null,jo,nl,qa);if(i0(2048,8,vl,[qa]),nl.getSnapshot!==Za||hl||Nc!==null&&Nc.memoizedState.tag&1){if(jo.flags|=2048,mh(9,W0(),E1.bind(null,jo,nl,Ao,Za),null),gc===null)throw Error(Ba(349));sl||(uf&124)!==0||v1(jo,Za,Ao)}return Ao}function v1(qa,Za,Ao){qa.flags|=16384,qa={getSnapshot:Za,value:Ao},Za=Vu.updateQueue,Za===null?(Za=mm(),Vu.updateQueue=Za,Za.stores=[qa]):(Ao=Za.stores,Ao===null?Za.stores=[qa]:Ao.push(qa))}function E1(qa,Za,Ao,jo){Za.value=Ao,Za.getSnapshot=jo,S1(Za)&&T1(qa)}function _1(qa,Za,Ao){return Ao(function(){S1(Za)&&T1(qa)})}function S1(qa){var Za=qa.getSnapshot;qa=qa.value;try{var Ao=Za();return!Jc(qa,Ao)}catch{return!0}}function T1(qa){var Za=ah(qa,2);Za!==null&&ad(Za,qa,2)}function ym(qa){var Za=Xc();if(typeof qa=="function"){var Ao=qa;if(qa=Ao(),zf){Su(!0);try{Ao()}finally{Su(!1)}}}return Za.memoizedState=Za.baseState=qa,Za.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:qa},Za}function w1(qa,Za,Ao,jo){return qa.baseState=Ao,bm(qa,cc,typeof jo=="function"?jo:Vd)}function $y(qa,Za,Ao,jo,nl){if(X0(qa))throw Error(Ba(485));if(qa=Za.action,qa!==null){var sl={payload:nl,action:qa,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(hl){sl.listeners.push(hl)}};ml.T!==null?Ao(!0):sl.isTransition=!1,jo(sl),Ao=Za.pending,Ao===null?(sl.next=Za.pending=sl,A1(Za,sl)):(sl.next=Ao.next,Za.pending=Ao.next=sl)}}function A1(qa,Za){var Ao=Za.action,jo=Za.payload,nl=qa.state;if(Za.isTransition){var sl=ml.T,hl={};ml.T=hl;try{var vl=Ao(nl,jo),Ol=ml.S;Ol!==null&&Ol(hl,vl),C1(qa,Za,vl)}catch(Hl){vm(qa,Za,Hl)}finally{ml.T=sl}}else try{sl=Ao(nl,jo),C1(qa,Za,sl)}catch(Hl){vm(qa,Za,Hl)}}function C1(qa,Za,Ao){Ao!==null&&typeof Ao=="object"&&typeof Ao.then=="function"?Ao.then(function(jo){R1(qa,Za,jo)},function(jo){return vm(qa,Za,jo)}):R1(qa,Za,Ao)}function R1(qa,Za,Ao){Za.status="fulfilled",Za.value=Ao,I1(Za),qa.state=Ao,Za=qa.pending,Za!==null&&(Ao=Za.next,Ao===Za?qa.pending=null:(Ao=Ao.next,Za.next=Ao,A1(qa,Ao)))}function vm(qa,Za,Ao){var jo=qa.pending;if(qa.pending=null,jo!==null){jo=jo.next;do Za.status="rejected",Za.reason=Ao,I1(Za),Za=Za.next;while(Za!==jo)}qa.action=null}function I1(qa){qa=qa.listeners;for(var Za=0;Za<qa.length;Za++)(0,qa[Za])()}function N1(qa,Za){return Za}function O1(qa,Za){if(ac){var Ao=gc.formState;if(Ao!==null){e:{var jo=Vu;if(ac){if(Ec){t:{for(var nl=Ec,sl=Rd;nl.nodeType!==8;){if(!sl){nl=null;break t}if(nl=wd(nl.nextSibling),nl===null){nl=null;break t}}sl=nl.data,nl=sl==="F!"||sl==="F"?nl:null}if(nl){Ec=wd(nl.nextSibling),jo=nl.data==="F!";break e}}jf(jo)}jo=!1}jo&&(Za=Ao[0])}}return Ao=Xc(),Ao.memoizedState=Ao.baseState=Za,jo={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N1,lastRenderedState:Za},Ao.queue=jo,Ao=X1.bind(null,Vu,jo),jo.dispatch=Ao,jo=ym(!1),sl=wm.bind(null,Vu,!1,jo.queue),jo=Xc(),nl={state:Za,dispatch:null,action:qa,pending:null},jo.queue=nl,Ao=$y.bind(null,Vu,nl,sl,Ao),nl.dispatch=Ao,jo.memoizedState=qa,[Za,Ao,!1]}function k1(qa){var Za=Oc();return D1(Za,cc,qa)}function D1(qa,Za,Ao){if(Za=bm(qa,Za,N1)[0],qa=Y0(Vd)[0],typeof Za=="object"&&Za!==null&&typeof Za.then=="function")try{var jo=r0(Za)}catch(hl){throw hl===Qh?z0:hl}else jo=Za;Za=Oc();var nl=Za.queue,sl=nl.dispatch;return Ao!==Za.memoizedState&&(Vu.flags|=2048,mh(9,W0(),Fy.bind(null,nl,Ao),null)),[jo,sl,qa]}function Fy(qa,Za){qa.action=Za}function M1(qa){var Za=Oc(),Ao=cc;if(Ao!==null)return D1(Za,Ao,qa);Oc(),Za=Za.memoizedState,Ao=Oc();var jo=Ao.queue.dispatch;return Ao.memoizedState=qa,[Za,jo,!1]}function mh(qa,Za,Ao,jo){return qa={tag:qa,create:Ao,deps:jo,inst:Za,next:null},Za=Vu.updateQueue,Za===null&&(Za=mm(),Vu.updateQueue=Za),Ao=Za.lastEffect,Ao===null?Za.lastEffect=qa.next=qa:(jo=Ao.next,Ao.next=qa,qa.next=jo,Za.lastEffect=qa),qa}function W0(){return{destroy:void 0,resource:void 0}}function P1(){return Oc().memoizedState}function K0(qa,Za,Ao,jo){var nl=Xc();jo=jo===void 0?null:jo,Vu.flags|=qa,nl.memoizedState=mh(1|Za,W0(),Ao,jo)}function i0(qa,Za,Ao,jo){var nl=Oc();jo=jo===void 0?null:jo;var sl=nl.memoizedState.inst;cc!==null&&jo!==null&&cm(jo,cc.memoizedState.deps)?nl.memoizedState=mh(Za,sl,Ao,jo):(Vu.flags|=qa,nl.memoizedState=mh(1|Za,sl,Ao,jo))}function L1(qa,Za){K0(8390656,8,qa,Za)}function j1(qa,Za){i0(2048,8,qa,Za)}function $1(qa,Za){return i0(4,2,qa,Za)}function F1(qa,Za){return i0(4,4,qa,Za)}function B1(qa,Za){if(typeof Za=="function"){qa=qa();var Ao=Za(qa);return function(){typeof Ao=="function"?Ao():Za(null)}}if(Za!=null)return qa=qa(),Za.current=qa,function(){Za.current=null}}function z1(qa,Za,Ao){Ao=Ao!=null?Ao.concat([qa]):null,i0(4,4,B1.bind(null,Za,qa),Ao)}function Em(){}function U1(qa,Za){var Ao=Oc();Za=Za===void 0?null:Za;var jo=Ao.memoizedState;return Za!==null&&cm(Za,jo[1])?jo[0]:(Ao.memoizedState=[qa,Za],qa)}function G1(qa,Za){var Ao=Oc();Za=Za===void 0?null:Za;var jo=Ao.memoizedState;if(Za!==null&&cm(Za,jo[1]))return jo[0];if(jo=qa(),zf){Su(!0);try{qa()}finally{Su(!1)}}return Ao.memoizedState=[jo,Za],jo}function _m(qa,Za,Ao){return Ao===void 0||(uf&1073741824)!==0?qa.memoizedState=Za:(qa.memoizedState=Ao,qa=qb(),Vu.lanes|=qa,gf|=qa,Ao)}function H1(qa,Za,Ao,jo){return Jc(Ao,Za)?Ao:fh.current!==null?(qa=_m(qa,Ao,jo),Jc(qa,Za)||(Pc=!0),qa):(uf&42)===0?(Pc=!0,qa.memoizedState=Ao):(qa=qb(),Vu.lanes|=qa,gf|=qa,Za)}function V1(qa,Za,Ao,jo,nl){var sl=Sl.p;Sl.p=sl!==0&&8>sl?sl:8;var hl=ml.T,vl={};ml.T=vl,wm(qa,!1,Za,Ao);try{var Ol=nl(),Hl=ml.S;if(Hl!==null&&Hl(vl,Ol),Ol!==null&&typeof Ol=="object"&&typeof Ol.then=="function"){var Jl=Py(Ol,jo);a0(qa,Za,Jl,id(qa))}else a0(qa,Za,jo,id(qa))}catch(nu){a0(qa,Za,{then:function(){},status:"rejected",reason:nu},id())}finally{Sl.p=sl,ml.T=hl}}function By(){}function Sm(qa,Za,Ao,jo){if(qa.tag!==5)throw Error(Ba(476));var nl=q1(qa).queue;V1(qa,nl,Za,Cl,Ao===null?By:function(){return Y1(qa),Ao(jo)})}function q1(qa){var Za=qa.memoizedState;if(Za!==null)return Za;Za={memoizedState:Cl,baseState:Cl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:Cl},next:null};var Ao={};return Za.next={memoizedState:Ao,baseState:Ao,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:Ao},next:null},qa.memoizedState=Za,qa=qa.alternate,qa!==null&&(qa.memoizedState=Za),Za}function Y1(qa){var Za=q1(qa).next.queue;a0(qa,Za,{},id())}function Tm(){return Hc(S0)}function W1(){return Oc().memoizedState}function K1(){return Oc().memoizedState}function zy(qa){for(var Za=qa.return;Za!==null;){switch(Za.tag){case 24:case 3:var Ao=id();qa=of(Ao);var jo=lf(Za,qa,Ao);jo!==null&&(ad(jo,Za,Ao),Jh(jo,Za,Ao)),Za={cache:em()},qa.payload=Za;return}Za=Za.return}}function Uy(qa,Za,Ao){var jo=id();Ao={lane:jo,revertLane:0,action:Ao,hasEagerState:!1,eagerState:null,next:null},X0(qa)?Q1(Za,Ao):(Ao=Hp(qa,Za,Ao,jo),Ao!==null&&(ad(Ao,qa,jo),Z1(Ao,Za,jo)))}function X1(qa,Za,Ao){var jo=id();a0(qa,Za,Ao,jo)}function a0(qa,Za,Ao,jo){var nl={lane:jo,revertLane:0,action:Ao,hasEagerState:!1,eagerState:null,next:null};if(X0(qa))Q1(Za,nl);else{var sl=qa.alternate;if(qa.lanes===0&&(sl===null||sl.lanes===0)&&(sl=Za.lastRenderedReducer,sl!==null))try{var hl=Za.lastRenderedState,vl=sl(hl,Ao);if(nl.hasEagerState=!0,nl.eagerState=vl,Jc(vl,hl))return D0(qa,Za,nl,0),gc===null&&k0(),!1}catch{}finally{}if(Ao=Hp(qa,Za,nl,jo),Ao!==null)return ad(Ao,qa,jo),Z1(Ao,Za,jo),!0}return!1}function wm(qa,Za,Ao,jo){if(jo={lane:2,revertLane:rg(),action:jo,hasEagerState:!1,eagerState:null,next:null},X0(qa)){if(Za)throw Error(Ba(479))}else Za=Hp(qa,Ao,jo,2),Za!==null&&ad(Za,qa,2)}function X0(qa){var Za=qa.alternate;return qa===Vu||Za!==null&&Za===Vu}function Q1(qa,Za){hh=H0=!0;var Ao=qa.pending;Ao===null?Za.next=Za:(Za.next=Ao.next,Ao.next=Za),qa.pending=Za}function Z1(qa,Za,Ao){if((Ao&4194048)!==0){var jo=Za.lanes;jo&=qa.pendingLanes,Ao|=jo,Za.lanes=Ao,Ru(qa,Ao)}}var Q0={readContext:Hc,use:q0,useCallback:Cc,useContext:Cc,useEffect:Cc,useImperativeHandle:Cc,useLayoutEffect:Cc,useInsertionEffect:Cc,useMemo:Cc,useReducer:Cc,useRef:Cc,useState:Cc,useDebugValue:Cc,useDeferredValue:Cc,useTransition:Cc,useSyncExternalStore:Cc,useId:Cc,useHostTransitionStatus:Cc,useFormState:Cc,useActionState:Cc,useOptimistic:Cc,useMemoCache:Cc,useCacheRefresh:Cc},J1={readContext:Hc,use:q0,useCallback:function(qa,Za){return Xc().memoizedState=[qa,Za===void 0?null:Za],qa},useContext:Hc,useEffect:L1,useImperativeHandle:function(qa,Za,Ao){Ao=Ao!=null?Ao.concat([qa]):null,K0(4194308,4,B1.bind(null,Za,qa),Ao)},useLayoutEffect:function(qa,Za){return K0(4194308,4,qa,Za)},useInsertionEffect:function(qa,Za){K0(4,2,qa,Za)},useMemo:function(qa,Za){var Ao=Xc();Za=Za===void 0?null:Za;var jo=qa();if(zf){Su(!0);try{qa()}finally{Su(!1)}}return Ao.memoizedState=[jo,Za],jo},useReducer:function(qa,Za,Ao){var jo=Xc();if(Ao!==void 0){var nl=Ao(Za);if(zf){Su(!0);try{Ao(Za)}finally{Su(!1)}}}else nl=Za;return jo.memoizedState=jo.baseState=nl,qa={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:nl},jo.queue=qa,qa=qa.dispatch=Uy.bind(null,Vu,qa),[jo.memoizedState,qa]},useRef:function(qa){var Za=Xc();return qa={current:qa},Za.memoizedState=qa},useState:function(qa){qa=ym(qa);var Za=qa.queue,Ao=X1.bind(null,Vu,Za);return Za.dispatch=Ao,[qa.memoizedState,Ao]},useDebugValue:Em,useDeferredValue:function(qa,Za){var Ao=Xc();return _m(Ao,qa,Za)},useTransition:function(){var qa=ym(!1);return qa=V1.bind(null,Vu,qa.queue,!0,!1),Xc().memoizedState=qa,[!1,qa]},useSyncExternalStore:function(qa,Za,Ao){var jo=Vu,nl=Xc();if(ac){if(Ao===void 0)throw Error(Ba(407));Ao=Ao()}else{if(Ao=Za(),gc===null)throw Error(Ba(349));(tc&124)!==0||v1(jo,Za,Ao)}nl.memoizedState=Ao;var sl={value:Ao,getSnapshot:Za};return nl.queue=sl,L1(_1.bind(null,jo,sl,qa),[qa]),jo.flags|=2048,mh(9,W0(),E1.bind(null,jo,sl,Ao,Za),null),Ao},useId:function(){var qa=Xc(),Za=gc.identifierPrefix;if(ac){var Ao=Ud,jo=zd;Ao=(jo&~(1<<32-_u(jo)-1)).toString(32)+Ao,Za=""+Za+"R"+Ao,Ao=V0++,0<Ao&&(Za+="H"+Ao.toString(32)),Za+=""}else Ao=Ly++,Za=""+Za+"r"+Ao.toString(32)+"";return qa.memoizedState=Za},useHostTransitionStatus:Tm,useFormState:O1,useActionState:O1,useOptimistic:function(qa){var Za=Xc();Za.memoizedState=Za.baseState=qa;var Ao={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Za.queue=Ao,Za=wm.bind(null,Vu,!0,Ao),Ao.dispatch=Za,[qa,Za]},useMemoCache:gm,useCacheRefresh:function(){return Xc().memoizedState=zy.bind(null,Vu)}},eb={readContext:Hc,use:q0,useCallback:U1,useContext:Hc,useEffect:j1,useImperativeHandle:z1,useInsertionEffect:$1,useLayoutEffect:F1,useMemo:G1,useReducer:Y0,useRef:P1,useState:function(){return Y0(Vd)},useDebugValue:Em,useDeferredValue:function(qa,Za){var Ao=Oc();return H1(Ao,cc.memoizedState,qa,Za)},useTransition:function(){var qa=Y0(Vd)[0],Za=Oc().memoizedState;return[typeof qa=="boolean"?qa:r0(qa),Za]},useSyncExternalStore:y1,useId:W1,useHostTransitionStatus:Tm,useFormState:k1,useActionState:k1,useOptimistic:function(qa,Za){var Ao=Oc();return w1(Ao,cc,qa,Za)},useMemoCache:gm,useCacheRefresh:K1},Gy={readContext:Hc,use:q0,useCallback:U1,useContext:Hc,useEffect:j1,useImperativeHandle:z1,useInsertionEffect:$1,useLayoutEffect:F1,useMemo:G1,useReducer:xm,useRef:P1,useState:function(){return xm(Vd)},useDebugValue:Em,useDeferredValue:function(qa,Za){var Ao=Oc();return cc===null?_m(Ao,qa,Za):H1(Ao,cc.memoizedState,qa,Za)},useTransition:function(){var qa=xm(Vd)[0],Za=Oc().memoizedState;return[typeof qa=="boolean"?qa:r0(qa),Za]},useSyncExternalStore:y1,useId:W1,useHostTransitionStatus:Tm,useFormState:M1,useActionState:M1,useOptimistic:function(qa,Za){var Ao=Oc();return cc!==null?w1(Ao,cc,qa,Za):(Ao.baseState=qa,[qa,Ao.queue.dispatch])},useMemoCache:gm,useCacheRefresh:K1},gh=null,s0=0;function Z0(qa){var Za=s0;return s0+=1,gh===null&&(gh=[]),d1(gh,qa,Za)}function o0(qa,Za){Za=Za.props.ref,qa.ref=Za!==void 0?Za:null}function J0(qa,Za){throw Za.$$typeof===Va?Error(Ba(525)):(qa=Object.prototype.toString.call(Za),Error(Ba(31,qa==="[object Object]"?"object with keys {"+Object.keys(Za).join(", ")+"}":qa)))}function tb(qa){var Za=qa._init;return Za(qa._payload)}function nb(qa){function Za(Fl,Ml){if(qa){var Gl=Fl.deletions;Gl===null?(Fl.deletions=[Ml],Fl.flags|=16):Gl.push(Ml)}}function Ao(Fl,Ml){if(!qa)return null;for(;Ml!==null;)Za(Fl,Ml),Ml=Ml.sibling;return null}function jo(Fl){for(var Ml=new Map;Fl!==null;)Fl.key!==null?Ml.set(Fl.key,Fl):Ml.set(Fl.index,Fl),Fl=Fl.sibling;return Ml}function nl(Fl,Ml){return Fl=Bd(Fl,Ml),Fl.index=0,Fl.sibling=null,Fl}function sl(Fl,Ml,Gl){return Fl.index=Gl,qa?(Gl=Fl.alternate,Gl!==null?(Gl=Gl.index,Gl<Ml?(Fl.flags|=67108866,Ml):Gl):(Fl.flags|=67108866,Ml)):(Fl.flags|=1048576,Ml)}function hl(Fl){return qa&&Fl.alternate===null&&(Fl.flags|=67108866),Fl}function vl(Fl,Ml,Gl,tu){return Ml===null||Ml.tag!==6?(Ml=qp(Gl,Fl.mode,tu),Ml.return=Fl,Ml):(Ml=nl(Ml,Gl),Ml.return=Fl,Ml)}function Ol(Fl,Ml,Gl,tu){var Eu=Gl.type;return Eu===Ja?Jl(Fl,Ml,Gl.props.children,tu,Gl.key):Ml!==null&&(Ml.elementType===Eu||typeof Eu=="object"&&Eu!==null&&Eu.$$typeof===ul&&tb(Eu)===Ml.type)?(Ml=nl(Ml,Gl.props),o0(Ml,Gl),Ml.return=Fl,Ml):(Ml=P0(Gl.type,Gl.key,Gl.props,null,Fl.mode,tu),o0(Ml,Gl),Ml.return=Fl,Ml)}function Hl(Fl,Ml,Gl,tu){return Ml===null||Ml.tag!==4||Ml.stateNode.containerInfo!==Gl.containerInfo||Ml.stateNode.implementation!==Gl.implementation?(Ml=Yp(Gl,Fl.mode,tu),Ml.return=Fl,Ml):(Ml=nl(Ml,Gl.children||[]),Ml.return=Fl,Ml)}function Jl(Fl,Ml,Gl,tu,Eu){return Ml===null||Ml.tag!==7?(Ml=Df(Gl,Fl.mode,tu,Eu),Ml.return=Fl,Ml):(Ml=nl(Ml,Gl),Ml.return=Fl,Ml)}function nu(Fl,Ml,Gl){if(typeof Ml=="string"&&Ml!==""||typeof Ml=="number"||typeof Ml=="bigint")return Ml=qp(""+Ml,Fl.mode,Gl),Ml.return=Fl,Ml;if(typeof Ml=="object"&&Ml!==null){switch(Ml.$$typeof){case Ua:return Gl=P0(Ml.type,Ml.key,Ml.props,null,Fl.mode,Gl),o0(Gl,Ml),Gl.return=Fl,Gl;case Wa:return Ml=Yp(Ml,Fl.mode,Gl),Ml.return=Fl,Ml;case ul:var tu=Ml._init;return Ml=tu(Ml._payload),nu(Fl,Ml,Gl)}if(Al(Ml)||bl(Ml))return Ml=Df(Ml,Fl.mode,Gl,null),Ml.return=Fl,Ml;if(typeof Ml.then=="function")return nu(Fl,Z0(Ml),Gl);if(Ml.$$typeof===tl)return nu(Fl,F0(Fl,Ml),Gl);J0(Fl,Ml)}return null}function Vl(Fl,Ml,Gl,tu){var Eu=Ml!==null?Ml.key:null;if(typeof Gl=="string"&&Gl!==""||typeof Gl=="number"||typeof Gl=="bigint")return Eu!==null?null:vl(Fl,Ml,""+Gl,tu);if(typeof Gl=="object"&&Gl!==null){switch(Gl.$$typeof){case Ua:return Gl.key===Eu?Ol(Fl,Ml,Gl,tu):null;case Wa:return Gl.key===Eu?Hl(Fl,Ml,Gl,tu):null;case ul:return Eu=Gl._init,Gl=Eu(Gl._payload),Vl(Fl,Ml,Gl,tu)}if(Al(Gl)||bl(Gl))return Eu!==null?null:Jl(Fl,Ml,Gl,tu,null);if(typeof Gl.then=="function")return Vl(Fl,Ml,Z0(Gl),tu);if(Gl.$$typeof===tl)return Vl(Fl,Ml,F0(Fl,Gl),tu);J0(Fl,Gl)}return null}function ql(Fl,Ml,Gl,tu,Eu){if(typeof tu=="string"&&tu!==""||typeof tu=="number"||typeof tu=="bigint")return Fl=Fl.get(Gl)||null,vl(Ml,Fl,""+tu,Eu);if(typeof tu=="object"&&tu!==null){switch(tu.$$typeof){case Ua:return Fl=Fl.get(tu.key===null?Gl:tu.key)||null,Ol(Ml,Fl,tu,Eu);case Wa:return Fl=Fl.get(tu.key===null?Gl:tu.key)||null,Hl(Ml,Fl,tu,Eu);case ul:var Wu=tu._init;return tu=Wu(tu._payload),ql(Fl,Ml,Gl,tu,Eu)}if(Al(tu)||bl(tu))return Fl=Fl.get(Gl)||null,Jl(Ml,Fl,tu,Eu,null);if(typeof tu.then=="function")return ql(Fl,Ml,Gl,Z0(tu),Eu);if(tu.$$typeof===tl)return ql(Fl,Ml,Gl,F0(Ml,tu),Eu);J0(Ml,tu)}return null}function ku(Fl,Ml,Gl,tu){for(var Eu=null,Wu=null,Tu=Ml,Nu=Ml=0,jc=null;Tu!==null&&Nu<Gl.length;Nu++){Tu.index>Nu?(jc=Tu,Tu=null):jc=Tu.sibling;var rc=Vl(Fl,Tu,Gl[Nu],tu);if(rc===null){Tu===null&&(Tu=jc);break}qa&&Tu&&rc.alternate===null&&Za(Fl,Tu),Ml=sl(rc,Ml,Nu),Wu===null?Eu=rc:Wu.sibling=rc,Wu=rc,Tu=jc}if(Nu===Gl.length)return Ao(Fl,Tu),ac&&Pf(Fl,Nu),Eu;if(Tu===null){for(;Nu<Gl.length;Nu++)Tu=nu(Fl,Gl[Nu],tu),Tu!==null&&(Ml=sl(Tu,Ml,Nu),Wu===null?Eu=Tu:Wu.sibling=Tu,Wu=Tu);return ac&&Pf(Fl,Nu),Eu}for(Tu=jo(Tu);Nu<Gl.length;Nu++)jc=ql(Tu,Fl,Nu,Gl[Nu],tu),jc!==null&&(qa&&jc.alternate!==null&&Tu.delete(jc.key===null?Nu:jc.key),Ml=sl(jc,Ml,Nu),Wu===null?Eu=jc:Wu.sibling=jc,Wu=jc);return qa&&Tu.forEach(function(wf){return Za(Fl,wf)}),ac&&Pf(Fl,Nu),Eu}function Iu(Fl,Ml,Gl,tu){if(Gl==null)throw Error(Ba(151));for(var Eu=null,Wu=null,Tu=Ml,Nu=Ml=0,jc=null,rc=Gl.next();Tu!==null&&!rc.done;Nu++,rc=Gl.next()){Tu.index>Nu?(jc=Tu,Tu=null):jc=Tu.sibling;var wf=Vl(Fl,Tu,rc.value,tu);if(wf===null){Tu===null&&(Tu=jc);break}qa&&Tu&&wf.alternate===null&&Za(Fl,Tu),Ml=sl(wf,Ml,Nu),Wu===null?Eu=wf:Wu.sibling=wf,Wu=wf,Tu=jc}if(rc.done)return Ao(Fl,Tu),ac&&Pf(Fl,Nu),Eu;if(Tu===null){for(;!rc.done;Nu++,rc=Gl.next())rc=nu(Fl,rc.value,tu),rc!==null&&(Ml=sl(rc,Ml,Nu),Wu===null?Eu=rc:Wu.sibling=rc,Wu=rc);return ac&&Pf(Fl,Nu),Eu}for(Tu=jo(Tu);!rc.done;Nu++,rc=Gl.next())rc=ql(Tu,Fl,Nu,rc.value,tu),rc!==null&&(qa&&rc.alternate!==null&&Tu.delete(rc.key===null?Nu:rc.key),Ml=sl(rc,Ml,Nu),Wu===null?Eu=rc:Wu.sibling=rc,Wu=rc);return qa&&Tu.forEach(function(Hv){return Za(Fl,Hv)}),ac&&Pf(Fl,Nu),Eu}function fc(Fl,Ml,Gl,tu){if(typeof Gl=="object"&&Gl!==null&&Gl.type===Ja&&Gl.key===null&&(Gl=Gl.props.children),typeof Gl=="object"&&Gl!==null){switch(Gl.$$typeof){case Ua:e:{for(var Eu=Gl.key;Ml!==null;){if(Ml.key===Eu){if(Eu=Gl.type,Eu===Ja){if(Ml.tag===7){Ao(Fl,Ml.sibling),tu=nl(Ml,Gl.props.children),tu.return=Fl,Fl=tu;break e}}else if(Ml.elementType===Eu||typeof Eu=="object"&&Eu!==null&&Eu.$$typeof===ul&&tb(Eu)===Ml.type){Ao(Fl,Ml.sibling),tu=nl(Ml,Gl.props),o0(tu,Gl),tu.return=Fl,Fl=tu;break e}Ao(Fl,Ml);break}else Za(Fl,Ml);Ml=Ml.sibling}Gl.type===Ja?(tu=Df(Gl.props.children,Fl.mode,tu,Gl.key),tu.return=Fl,Fl=tu):(tu=P0(Gl.type,Gl.key,Gl.props,null,Fl.mode,tu),o0(tu,Gl),tu.return=Fl,Fl=tu)}return hl(Fl);case Wa:e:{for(Eu=Gl.key;Ml!==null;){if(Ml.key===Eu)if(Ml.tag===4&&Ml.stateNode.containerInfo===Gl.containerInfo&&Ml.stateNode.implementation===Gl.implementation){Ao(Fl,Ml.sibling),tu=nl(Ml,Gl.children||[]),tu.return=Fl,Fl=tu;break e}else{Ao(Fl,Ml);break}else Za(Fl,Ml);Ml=Ml.sibling}tu=Yp(Gl,Fl.mode,tu),tu.return=Fl,Fl=tu}return hl(Fl);case ul:return Eu=Gl._init,Gl=Eu(Gl._payload),fc(Fl,Ml,Gl,tu)}if(Al(Gl))return ku(Fl,Ml,Gl,tu);if(bl(Gl)){if(Eu=bl(Gl),typeof Eu!="function")throw Error(Ba(150));return Gl=Eu.call(Gl),Iu(Fl,Ml,Gl,tu)}if(typeof Gl.then=="function")return fc(Fl,Ml,Z0(Gl),tu);if(Gl.$$typeof===tl)return fc(Fl,Ml,F0(Fl,Gl),tu);J0(Fl,Gl)}return typeof Gl=="string"&&Gl!==""||typeof Gl=="number"||typeof Gl=="bigint"?(Gl=""+Gl,Ml!==null&&Ml.tag===6?(Ao(Fl,Ml.sibling),tu=nl(Ml,Gl),tu.return=Fl,Fl=tu):(Ao(Fl,Ml),tu=qp(Gl,Fl.mode,tu),tu.return=Fl,Fl=tu),hl(Fl)):Ao(Fl,Ml)}return function(Fl,Ml,Gl,tu){try{s0=0;var Eu=fc(Fl,Ml,Gl,tu);return gh=null,Eu}catch(Tu){if(Tu===Qh||Tu===z0)throw Tu;var Wu=ed(29,Tu,null,Fl.mode);return Wu.lanes=tu,Wu.return=Fl,Wu}finally{}}}var bh=nb(!0),rb=nb(!1),pd=Rl(null),Id=null;function cf(qa){var Za=qa.alternate;pl(Mc,Mc.current&1),pl(pd,qa),Id===null&&(Za===null||fh.current!==null||Za.memoizedState!==null)&&(Id=qa)}function ib(qa){if(qa.tag===22){if(pl(Mc,Mc.current),pl(pd,qa),Id===null){var Za=qa.alternate;Za!==null&&Za.memoizedState!==null&&(Id=qa)}}else df()}function df(){pl(Mc,Mc.current),pl(pd,pd.current)}function qd(qa){Tl(pd),Id===qa&&(Id=null),Tl(Mc)}var Mc=Rl(0);function ep(qa){for(var Za=qa;Za!==null;){if(Za.tag===13){var Ao=Za.memoizedState;if(Ao!==null&&(Ao=Ao.dehydrated,Ao===null||Ao.data==="$?"||mg(Ao)))return Za}else if(Za.tag===19&&Za.memoizedProps.revealOrder!==void 0){if((Za.flags&128)!==0)return Za}else if(Za.child!==null){Za.child.return=Za,Za=Za.child;continue}if(Za===qa)break;for(;Za.sibling===null;){if(Za.return===null||Za.return===qa)return null;Za=Za.return}Za.sibling.return=Za.return,Za=Za.sibling}return null}function Am(qa,Za,Ao,jo){Za=qa.memoizedState,Ao=Ao(jo,Za),Ao=Ao==null?Za:Qa({},Za,Ao),qa.memoizedState=Ao,qa.lanes===0&&(qa.updateQueue.baseState=Ao)}var Cm={enqueueSetState:function(qa,Za,Ao){qa=qa._reactInternals;var jo=id(),nl=of(jo);nl.payload=Za,Ao!=null&&(nl.callback=Ao),Za=lf(qa,nl,jo),Za!==null&&(ad(Za,qa,jo),Jh(Za,qa,jo))},enqueueReplaceState:function(qa,Za,Ao){qa=qa._reactInternals;var jo=id(),nl=of(jo);nl.tag=1,nl.payload=Za,Ao!=null&&(nl.callback=Ao),Za=lf(qa,nl,jo),Za!==null&&(ad(Za,qa,jo),Jh(Za,qa,jo))},enqueueForceUpdate:function(qa,Za){qa=qa._reactInternals;var Ao=id(),jo=of(Ao);jo.tag=2,Za!=null&&(jo.callback=Za),Za=lf(qa,jo,Ao),Za!==null&&(ad(Za,qa,Ao),Jh(Za,qa,Ao))}};function ab(qa,Za,Ao,jo,nl,sl,hl){return qa=qa.stateNode,typeof qa.shouldComponentUpdate=="function"?qa.shouldComponentUpdate(jo,sl,hl):Za.prototype&&Za.prototype.isPureReactComponent?!Gh(Ao,jo)||!Gh(nl,sl):!0}function sb(qa,Za,Ao,jo){qa=Za.state,typeof Za.componentWillReceiveProps=="function"&&Za.componentWillReceiveProps(Ao,jo),typeof Za.UNSAFE_componentWillReceiveProps=="function"&&Za.UNSAFE_componentWillReceiveProps(Ao,jo),Za.state!==qa&&Cm.enqueueReplaceState(Za,Za.state,null)}function Uf(qa,Za){var Ao=Za;if("ref"in Za){Ao={};for(var jo in Za)jo!=="ref"&&(Ao[jo]=Za[jo])}if(qa=qa.defaultProps){Ao===Za&&(Ao=Qa({},Ao));for(var nl in qa)Ao[nl]===void 0&&(Ao[nl]=qa[nl])}return Ao}var tp=typeof reportError=="function"?reportError:function(qa){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Za=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof qa=="object"&&qa!==null&&typeof qa.message=="string"?String(qa.message):String(qa),error:qa});if(!window.dispatchEvent(Za))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",qa);return}console.error(qa)};function ob(qa){tp(qa)}function lb(qa){console.error(qa)}function ub(qa){tp(qa)}function np(qa,Za){try{var Ao=qa.onUncaughtError;Ao(Za.value,{componentStack:Za.stack})}catch(jo){setTimeout(function(){throw jo})}}function cb(qa,Za,Ao){try{var jo=qa.onCaughtError;jo(Ao.value,{componentStack:Ao.stack,errorBoundary:Za.tag===1?Za.stateNode:null})}catch(nl){setTimeout(function(){throw nl})}}function Rm(qa,Za,Ao){return Ao=of(Ao),Ao.tag=3,Ao.payload={element:null},Ao.callback=function(){np(qa,Za)},Ao}function db(qa){return qa=of(qa),qa.tag=3,qa}function fb(qa,Za,Ao,jo){var nl=Ao.type.getDerivedStateFromError;if(typeof nl=="function"){var sl=jo.value;qa.payload=function(){return nl(sl)},qa.callback=function(){cb(Za,Ao,jo)}}var hl=Ao.stateNode;hl!==null&&typeof hl.componentDidCatch=="function"&&(qa.callback=function(){cb(Za,Ao,jo),typeof nl!="function"&&(bf===null?bf=new Set([this]):bf.add(this));var vl=jo.stack;this.componentDidCatch(jo.value,{componentStack:vl!==null?vl:""})})}function Hy(qa,Za,Ao,jo,nl){if(Ao.flags|=32768,jo!==null&&typeof jo=="object"&&typeof jo.then=="function"){if(Za=Ao.alternate,Za!==null&&Wh(Za,Ao,nl,!0),Ao=pd.current,Ao!==null){switch(Ao.tag){case 13:return Id===null?Zm():Ao.alternate===null&&_c===0&&(_c=3),Ao.flags&=-257,Ao.flags|=65536,Ao.lanes=nl,jo===rm?Ao.flags|=16384:(Za=Ao.updateQueue,Za===null?Ao.updateQueue=new Set([jo]):Za.add(jo),eg(qa,jo,nl)),!1;case 22:return Ao.flags|=65536,jo===rm?Ao.flags|=16384:(Za=Ao.updateQueue,Za===null?(Za={transitions:null,markerInstances:null,retryQueue:new Set([jo])},Ao.updateQueue=Za):(Ao=Za.retryQueue,Ao===null?Za.retryQueue=new Set([jo]):Ao.add(jo)),eg(qa,jo,nl)),!1}throw Error(Ba(435,Ao.tag))}return eg(qa,jo,nl),Zm(),!1}if(ac)return Za=pd.current,Za!==null?((Za.flags&65536)===0&&(Za.flags|=256),Za.flags|=65536,Za.lanes=nl,jo!==Xp&&(qa=Error(Ba(422),{cause:jo}),Yh(cd(qa,Ao)))):(jo!==Xp&&(Za=Error(Ba(423),{cause:jo}),Yh(cd(Za,Ao))),qa=qa.current.alternate,qa.flags|=65536,nl&=-nl,qa.lanes|=nl,jo=cd(jo,Ao),nl=Rm(qa.stateNode,jo,nl),sm(qa,nl),_c!==4&&(_c=2)),!1;var sl=Error(Ba(520),{cause:jo});if(sl=cd(sl,Ao),p0===null?p0=[sl]:p0.push(sl),_c!==4&&(_c=2),Za===null)return!0;jo=cd(jo,Ao),Ao=Za;do{switch(Ao.tag){case 3:return Ao.flags|=65536,qa=nl&-nl,Ao.lanes|=qa,qa=Rm(Ao.stateNode,jo,qa),sm(Ao,qa),!1;case 1:if(Za=Ao.type,sl=Ao.stateNode,(Ao.flags&128)===0&&(typeof Za.getDerivedStateFromError=="function"||sl!==null&&typeof sl.componentDidCatch=="function"&&(bf===null||!bf.has(sl))))return Ao.flags|=65536,nl&=-nl,Ao.lanes|=nl,nl=db(nl),fb(nl,qa,Ao,jo),sm(Ao,nl),!1}Ao=Ao.return}while(Ao!==null);return!1}var hb=Error(Ba(461)),Pc=!1;function $c(qa,Za,Ao,jo){Za.child=qa===null?rb(Za,null,Ao,jo):bh(Za,qa.child,Ao,jo)}function pb(qa,Za,Ao,jo,nl){Ao=Ao.render;var sl=Za.ref;if("ref"in jo){var hl={};for(var vl in jo)vl!=="ref"&&(hl[vl]=jo[vl])}else hl=jo;return Ff(Za),jo=dm(qa,Za,Ao,hl,sl,nl),vl=fm(),qa!==null&&!Pc?(hm(qa,Za,nl),Yd(qa,Za,nl)):(ac&&vl&&Wp(Za),Za.flags|=1,$c(qa,Za,jo,nl),Za.child)}function mb(qa,Za,Ao,jo,nl){if(qa===null){var sl=Ao.type;return typeof sl=="function"&&!Vp(sl)&&sl.defaultProps===void 0&&Ao.compare===null?(Za.tag=15,Za.type=sl,gb(qa,Za,sl,jo,nl)):(qa=P0(Ao.type,null,jo,Za,Za.mode,nl),qa.ref=Za.ref,qa.return=Za,Za.child=qa)}if(sl=qa.child,!Lm(qa,nl)){var hl=sl.memoizedProps;if(Ao=Ao.compare,Ao=Ao!==null?Ao:Gh,Ao(hl,jo)&&qa.ref===Za.ref)return Yd(qa,Za,nl)}return Za.flags|=1,qa=Bd(sl,jo),qa.ref=Za.ref,qa.return=Za,Za.child=qa}function gb(qa,Za,Ao,jo,nl){if(qa!==null){var sl=qa.memoizedProps;if(Gh(sl,jo)&&qa.ref===Za.ref)if(Pc=!1,Za.pendingProps=jo=sl,Lm(qa,nl))(qa.flags&131072)!==0&&(Pc=!0);else return Za.lanes=qa.lanes,Yd(qa,Za,nl)}return Im(qa,Za,Ao,jo,nl)}function bb(qa,Za,Ao){var jo=Za.pendingProps,nl=jo.children,sl=qa!==null?qa.memoizedState:null;if(jo.mode==="hidden"){if((Za.flags&128)!==0){if(jo=sl!==null?sl.baseLanes|Ao:Ao,qa!==null){for(nl=Za.child=qa.child,sl=0;nl!==null;)sl=sl|nl.lanes|nl.childLanes,nl=nl.sibling;Za.childLanes=sl&~jo}else Za.childLanes=0,Za.child=null;return xb(qa,Za,jo,Ao)}if((Ao&536870912)!==0)Za.memoizedState={baseLanes:0,cachePool:null},qa!==null&&B0(Za,sl!==null?sl.cachePool:null),sl!==null?g1(Za,sl):lm(),ib(Za);else return Za.lanes=Za.childLanes=536870912,xb(qa,Za,sl!==null?sl.baseLanes|Ao:Ao,Ao)}else sl!==null?(B0(Za,sl.cachePool),g1(Za,sl),df(),Za.memoizedState=null):(qa!==null&&B0(Za,null),lm(),df());return $c(qa,Za,nl,Ao),Za.child}function xb(qa,Za,Ao,jo){var nl=nm();return nl=nl===null?null:{parent:kc._currentValue,pool:nl},Za.memoizedState={baseLanes:Ao,cachePool:nl},qa!==null&&B0(Za,null),lm(),ib(Za),qa!==null&&Wh(qa,Za,jo,!0),null}function rp(qa,Za){var Ao=Za.ref;if(Ao===null)qa!==null&&qa.ref!==null&&(Za.flags|=4194816);else{if(typeof Ao!="function"&&typeof Ao!="object")throw Error(Ba(284));(qa===null||qa.ref!==Ao)&&(Za.flags|=4194816)}}function Im(qa,Za,Ao,jo,nl){return Ff(Za),Ao=dm(qa,Za,Ao,jo,void 0,nl),jo=fm(),qa!==null&&!Pc?(hm(qa,Za,nl),Yd(qa,Za,nl)):(ac&&jo&&Wp(Za),Za.flags|=1,$c(qa,Za,Ao,nl),Za.child)}function yb(qa,Za,Ao,jo,nl,sl){return Ff(Za),Za.updateQueue=null,Ao=x1(Za,jo,Ao,nl),b1(qa),jo=fm(),qa!==null&&!Pc?(hm(qa,Za,sl),Yd(qa,Za,sl)):(ac&&jo&&Wp(Za),Za.flags|=1,$c(qa,Za,Ao,sl),Za.child)}function vb(qa,Za,Ao,jo,nl){if(Ff(Za),Za.stateNode===null){var sl=sh,hl=Ao.contextType;typeof hl=="object"&&hl!==null&&(sl=Hc(hl)),sl=new Ao(jo,sl),Za.memoizedState=sl.state!==null&&sl.state!==void 0?sl.state:null,sl.updater=Cm,Za.stateNode=sl,sl._reactInternals=Za,sl=Za.stateNode,sl.props=jo,sl.state=Za.memoizedState,sl.refs={},im(Za),hl=Ao.contextType,sl.context=typeof hl=="object"&&hl!==null?Hc(hl):sh,sl.state=Za.memoizedState,hl=Ao.getDerivedStateFromProps,typeof hl=="function"&&(Am(Za,Ao,hl,jo),sl.state=Za.memoizedState),typeof Ao.getDerivedStateFromProps=="function"||typeof sl.getSnapshotBeforeUpdate=="function"||typeof sl.UNSAFE_componentWillMount!="function"&&typeof sl.componentWillMount!="function"||(hl=sl.state,typeof sl.componentWillMount=="function"&&sl.componentWillMount(),typeof sl.UNSAFE_componentWillMount=="function"&&sl.UNSAFE_componentWillMount(),hl!==sl.state&&Cm.enqueueReplaceState(sl,sl.state,null),t0(Za,jo,sl,nl),e0(),sl.state=Za.memoizedState),typeof sl.componentDidMount=="function"&&(Za.flags|=4194308),jo=!0}else if(qa===null){sl=Za.stateNode;var vl=Za.memoizedProps,Ol=Uf(Ao,vl);sl.props=Ol;var Hl=sl.context,Jl=Ao.contextType;hl=sh,typeof Jl=="object"&&Jl!==null&&(hl=Hc(Jl));var nu=Ao.getDerivedStateFromProps;Jl=typeof nu=="function"||typeof sl.getSnapshotBeforeUpdate=="function",vl=Za.pendingProps!==vl,Jl||typeof sl.UNSAFE_componentWillReceiveProps!="function"&&typeof sl.componentWillReceiveProps!="function"||(vl||Hl!==hl)&&sb(Za,sl,jo,hl),sf=!1;var Vl=Za.memoizedState;sl.state=Vl,t0(Za,jo,sl,nl),e0(),Hl=Za.memoizedState,vl||Vl!==Hl||sf?(typeof nu=="function"&&(Am(Za,Ao,nu,jo),Hl=Za.memoizedState),(Ol=sf||ab(Za,Ao,Ol,jo,Vl,Hl,hl))?(Jl||typeof sl.UNSAFE_componentWillMount!="function"&&typeof sl.componentWillMount!="function"||(typeof sl.componentWillMount=="function"&&sl.componentWillMount(),typeof sl.UNSAFE_componentWillMount=="function"&&sl.UNSAFE_componentWillMount()),typeof sl.componentDidMount=="function"&&(Za.flags|=4194308)):(typeof sl.componentDidMount=="function"&&(Za.flags|=4194308),Za.memoizedProps=jo,Za.memoizedState=Hl),sl.props=jo,sl.state=Hl,sl.context=hl,jo=Ol):(typeof sl.componentDidMount=="function"&&(Za.flags|=4194308),jo=!1)}else{sl=Za.stateNode,am(qa,Za),hl=Za.memoizedProps,Jl=Uf(Ao,hl),sl.props=Jl,nu=Za.pendingProps,Vl=sl.context,Hl=Ao.contextType,Ol=sh,typeof Hl=="object"&&Hl!==null&&(Ol=Hc(Hl)),vl=Ao.getDerivedStateFromProps,(Hl=typeof vl=="function"||typeof sl.getSnapshotBeforeUpdate=="function")||typeof sl.UNSAFE_componentWillReceiveProps!="function"&&typeof sl.componentWillReceiveProps!="function"||(hl!==nu||Vl!==Ol)&&sb(Za,sl,jo,Ol),sf=!1,Vl=Za.memoizedState,sl.state=Vl,t0(Za,jo,sl,nl),e0();var ql=Za.memoizedState;hl!==nu||Vl!==ql||sf||qa!==null&&qa.dependencies!==null&&$0(qa.dependencies)?(typeof vl=="function"&&(Am(Za,Ao,vl,jo),ql=Za.memoizedState),(Jl=sf||ab(Za,Ao,Jl,jo,Vl,ql,Ol)||qa!==null&&qa.dependencies!==null&&$0(qa.dependencies))?(Hl||typeof sl.UNSAFE_componentWillUpdate!="function"&&typeof sl.componentWillUpdate!="function"||(typeof sl.componentWillUpdate=="function"&&sl.componentWillUpdate(jo,ql,Ol),typeof sl.UNSAFE_componentWillUpdate=="function"&&sl.UNSAFE_componentWillUpdate(jo,ql,Ol)),typeof sl.componentDidUpdate=="function"&&(Za.flags|=4),typeof sl.getSnapshotBeforeUpdate=="function"&&(Za.flags|=1024)):(typeof sl.componentDidUpdate!="function"||hl===qa.memoizedProps&&Vl===qa.memoizedState||(Za.flags|=4),typeof sl.getSnapshotBeforeUpdate!="function"||hl===qa.memoizedProps&&Vl===qa.memoizedState||(Za.flags|=1024),Za.memoizedProps=jo,Za.memoizedState=ql),sl.props=jo,sl.state=ql,sl.context=Ol,jo=Jl):(typeof sl.componentDidUpdate!="function"||hl===qa.memoizedProps&&Vl===qa.memoizedState||(Za.flags|=4),typeof sl.getSnapshotBeforeUpdate!="function"||hl===qa.memoizedProps&&Vl===qa.memoizedState||(Za.flags|=1024),jo=!1)}return sl=jo,rp(qa,Za),jo=(Za.flags&128)!==0,sl||jo?(sl=Za.stateNode,Ao=jo&&typeof Ao.getDerivedStateFromError!="function"?null:sl.render(),Za.flags|=1,qa!==null&&jo?(Za.child=bh(Za,qa.child,null,nl),Za.child=bh(Za,null,Ao,nl)):$c(qa,Za,Ao,nl),Za.memoizedState=sl.state,qa=Za.child):qa=Yd(qa,Za,nl),qa}function Eb(qa,Za,Ao,jo){return qh(),Za.flags|=256,$c(qa,Za,Ao,jo),Za.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(qa){return{baseLanes:qa,cachePool:l1()}}function km(qa,Za,Ao){return qa=qa!==null?qa.childLanes&~Ao:0,Za&&(qa|=md),qa}function _b(qa,Za,Ao){var jo=Za.pendingProps,nl=!1,sl=(Za.flags&128)!==0,hl;if((hl=sl)||(hl=qa!==null&&qa.memoizedState===null?!1:(Mc.current&2)!==0),hl&&(nl=!0,Za.flags&=-129),hl=(Za.flags&32)!==0,Za.flags&=-33,qa===null){if(ac){if(nl?cf(Za):df(),ac){var vl=Ec,Ol;if(Ol=vl){e:{for(Ol=vl,vl=Rd;Ol.nodeType!==8;){if(!vl){vl=null;break e}if(Ol=wd(Ol.nextSibling),Ol===null){vl=null;break e}}vl=Ol}vl!==null?(Za.memoizedState={dehydrated:vl,treeContext:Mf!==null?{id:zd,overflow:Ud}:null,retryLane:536870912,hydrationErrors:null},Ol=ed(18,null,null,0),Ol.stateNode=vl,Ol.return=Za,Za.child=Ol,Yc=Za,Ec=null,Ol=!0):Ol=!1}Ol||jf(Za)}if(vl=Za.memoizedState,vl!==null&&(vl=vl.dehydrated,vl!==null))return mg(vl)?Za.lanes=32:Za.lanes=536870912,null;qd(Za)}return vl=jo.children,jo=jo.fallback,nl?(df(),nl=Za.mode,vl=ip({mode:"hidden",children:vl},nl),jo=Df(jo,nl,Ao,null),vl.return=Za,jo.return=Za,vl.sibling=jo,Za.child=vl,nl=Za.child,nl.memoizedState=Om(Ao),nl.childLanes=km(qa,hl,Ao),Za.memoizedState=Nm,jo):(cf(Za),Dm(Za,vl))}if(Ol=qa.memoizedState,Ol!==null&&(vl=Ol.dehydrated,vl!==null)){if(sl)Za.flags&256?(cf(Za),Za.flags&=-257,Za=Mm(qa,Za,Ao)):Za.memoizedState!==null?(df(),Za.child=qa.child,Za.flags|=128,Za=null):(df(),nl=jo.fallback,vl=Za.mode,jo=ip({mode:"visible",children:jo.children},vl),nl=Df(nl,vl,Ao,null),nl.flags|=2,jo.return=Za,nl.return=Za,jo.sibling=nl,Za.child=jo,bh(Za,qa.child,null,Ao),jo=Za.child,jo.memoizedState=Om(Ao),jo.childLanes=km(qa,hl,Ao),Za.memoizedState=Nm,Za=nl);else if(cf(Za),mg(vl)){if(hl=vl.nextSibling&&vl.nextSibling.dataset,hl)var Hl=hl.dgst;hl=Hl,jo=Error(Ba(419)),jo.stack="",jo.digest=hl,Yh({value:jo,source:null,stack:null}),Za=Mm(qa,Za,Ao)}else if(Pc||Wh(qa,Za,Ao,!1),hl=(Ao&qa.childLanes)!==0,Pc||hl){if(hl=gc,hl!==null&&(jo=Ao&-Ao,jo=(jo&42)!==0?1:Dd(jo),jo=(jo&(hl.suspendedLanes|Ao))!==0?0:jo,jo!==0&&jo!==Ol.retryLane))throw Ol.retryLane=jo,ah(qa,jo),ad(hl,qa,jo),hb;vl.data==="$?"||Zm(),Za=Mm(qa,Za,Ao)}else vl.data==="$?"?(Za.flags|=192,Za.child=qa.child,Za=null):(qa=Ol.treeContext,Ec=wd(vl.nextSibling),Yc=Za,ac=!0,Lf=null,Rd=!1,qa!==null&&(fd[hd++]=zd,fd[hd++]=Ud,fd[hd++]=Mf,zd=qa.id,Ud=qa.overflow,Mf=Za),Za=Dm(Za,jo.children),Za.flags|=4096);return Za}return nl?(df(),nl=jo.fallback,vl=Za.mode,Ol=qa.child,Hl=Ol.sibling,jo=Bd(Ol,{mode:"hidden",children:jo.children}),jo.subtreeFlags=Ol.subtreeFlags&65011712,Hl!==null?nl=Bd(Hl,nl):(nl=Df(nl,vl,Ao,null),nl.flags|=2),nl.return=Za,jo.return=Za,jo.sibling=nl,Za.child=jo,jo=nl,nl=Za.child,vl=qa.child.memoizedState,vl===null?vl=Om(Ao):(Ol=vl.cachePool,Ol!==null?(Hl=kc._currentValue,Ol=Ol.parent!==Hl?{parent:Hl,pool:Hl}:Ol):Ol=l1(),vl={baseLanes:vl.baseLanes|Ao,cachePool:Ol}),nl.memoizedState=vl,nl.childLanes=km(qa,hl,Ao),Za.memoizedState=Nm,jo):(cf(Za),Ao=qa.child,qa=Ao.sibling,Ao=Bd(Ao,{mode:"visible",children:jo.children}),Ao.return=Za,Ao.sibling=null,qa!==null&&(hl=Za.deletions,hl===null?(Za.deletions=[qa],Za.flags|=16):hl.push(qa)),Za.child=Ao,Za.memoizedState=null,Ao)}function Dm(qa,Za){return Za=ip({mode:"visible",children:Za},qa.mode),Za.return=qa,qa.child=Za}function ip(qa,Za){return qa=ed(22,qa,null,Za),qa.lanes=0,qa.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},qa}function Mm(qa,Za,Ao){return bh(Za,qa.child,null,Ao),qa=Dm(Za,Za.pendingProps.children),qa.flags|=2,Za.memoizedState=null,qa}function Sb(qa,Za,Ao){qa.lanes|=Za;var jo=qa.alternate;jo!==null&&(jo.lanes|=Za),Zp(qa.return,Za,Ao)}function Pm(qa,Za,Ao,jo,nl){var sl=qa.memoizedState;sl===null?qa.memoizedState={isBackwards:Za,rendering:null,renderingStartTime:0,last:jo,tail:Ao,tailMode:nl}:(sl.isBackwards=Za,sl.rendering=null,sl.renderingStartTime=0,sl.last=jo,sl.tail=Ao,sl.tailMode=nl)}function Tb(qa,Za,Ao){var jo=Za.pendingProps,nl=jo.revealOrder,sl=jo.tail;if($c(qa,Za,jo.children,Ao),jo=Mc.current,(jo&2)!==0)jo=jo&1|2,Za.flags|=128;else{if(qa!==null&&(qa.flags&128)!==0)e:for(qa=Za.child;qa!==null;){if(qa.tag===13)qa.memoizedState!==null&&Sb(qa,Ao,Za);else if(qa.tag===19)Sb(qa,Ao,Za);else if(qa.child!==null){qa.child.return=qa,qa=qa.child;continue}if(qa===Za)break e;for(;qa.sibling===null;){if(qa.return===null||qa.return===Za)break e;qa=qa.return}qa.sibling.return=qa.return,qa=qa.sibling}jo&=1}switch(pl(Mc,jo),nl){case"forwards":for(Ao=Za.child,nl=null;Ao!==null;)qa=Ao.alternate,qa!==null&&ep(qa)===null&&(nl=Ao),Ao=Ao.sibling;Ao=nl,Ao===null?(nl=Za.child,Za.child=null):(nl=Ao.sibling,Ao.sibling=null),Pm(Za,!1,nl,Ao,sl);break;case"backwards":for(Ao=null,nl=Za.child,Za.child=null;nl!==null;){if(qa=nl.alternate,qa!==null&&ep(qa)===null){Za.child=nl;break}qa=nl.sibling,nl.sibling=Ao,Ao=nl,nl=qa}Pm(Za,!0,Ao,null,sl);break;case"together":Pm(Za,!1,null,null,void 0);break;default:Za.memoizedState=null}return Za.child}function Yd(qa,Za,Ao){if(qa!==null&&(Za.dependencies=qa.dependencies),gf|=Za.lanes,(Ao&Za.childLanes)===0)if(qa!==null){if(Wh(qa,Za,Ao,!1),(Ao&Za.childLanes)===0)return null}else return null;if(qa!==null&&Za.child!==qa.child)throw Error(Ba(153));if(Za.child!==null){for(qa=Za.child,Ao=Bd(qa,qa.pendingProps),Za.child=Ao,Ao.return=Za;qa.sibling!==null;)qa=qa.sibling,Ao=Ao.sibling=Bd(qa,qa.pendingProps),Ao.return=Za;Ao.sibling=null}return Za.child}function Lm(qa,Za){return(qa.lanes&Za)!==0?!0:(qa=qa.dependencies,!!(qa!==null&&$0(qa)))}function Vy(qa,Za,Ao){switch(Za.tag){case 3:eu(Za,Za.stateNode.containerInfo),af(Za,kc,qa.memoizedState.cache),qh();break;case 27:case 5:su(Za);break;case 4:eu(Za,Za.stateNode.containerInfo);break;case 10:af(Za,Za.type,Za.memoizedProps.value);break;case 13:var jo=Za.memoizedState;if(jo!==null)return jo.dehydrated!==null?(cf(Za),Za.flags|=128,null):(Ao&Za.child.childLanes)!==0?_b(qa,Za,Ao):(cf(Za),qa=Yd(qa,Za,Ao),qa!==null?qa.sibling:null);cf(Za);break;case 19:var nl=(qa.flags&128)!==0;if(jo=(Ao&Za.childLanes)!==0,jo||(Wh(qa,Za,Ao,!1),jo=(Ao&Za.childLanes)!==0),nl){if(jo)return Tb(qa,Za,Ao);Za.flags|=128}if(nl=Za.memoizedState,nl!==null&&(nl.rendering=null,nl.tail=null,nl.lastEffect=null),pl(Mc,Mc.current),jo)break;return null;case 22:case 23:return Za.lanes=0,bb(qa,Za,Ao);case 24:af(Za,kc,qa.memoizedState.cache)}return Yd(qa,Za,Ao)}function wb(qa,Za,Ao){if(qa!==null)if(qa.memoizedProps!==Za.pendingProps)Pc=!0;else{if(!Lm(qa,Ao)&&(Za.flags&128)===0)return Pc=!1,Vy(qa,Za,Ao);Pc=(qa.flags&131072)!==0}else Pc=!1,ac&&(Za.flags&1048576)!==0&&t1(Za,j0,Za.index);switch(Za.lanes=0,Za.tag){case 16:e:{qa=Za.pendingProps;var jo=Za.elementType,nl=jo._init;if(jo=nl(jo._payload),Za.type=jo,typeof jo=="function")Vp(jo)?(qa=Uf(jo,qa),Za.tag=1,Za=vb(null,Za,jo,qa,Ao)):(Za.tag=0,Za=Im(null,Za,jo,qa,Ao));else{if(jo!=null){if(nl=jo.$$typeof,nl===rl){Za.tag=11,Za=pb(null,Za,jo,qa,Ao);break e}else if(nl===ll){Za.tag=14,Za=mb(null,Za,jo,qa,Ao);break e}}throw Za=xl(jo)||jo,Error(Ba(306,Za,""))}}return Za;case 0:return Im(qa,Za,Za.type,Za.pendingProps,Ao);case 1:return jo=Za.type,nl=Uf(jo,Za.pendingProps),vb(qa,Za,jo,nl,Ao);case 3:e:{if(eu(Za,Za.stateNode.containerInfo),qa===null)throw Error(Ba(387));jo=Za.pendingProps;var sl=Za.memoizedState;nl=sl.element,am(qa,Za),t0(Za,jo,null,Ao);var hl=Za.memoizedState;if(jo=hl.cache,af(Za,kc,jo),jo!==sl.cache&&Jp(Za,[kc],Ao,!0),e0(),jo=hl.element,sl.isDehydrated)if(sl={element:jo,isDehydrated:!1,cache:hl.cache},Za.updateQueue.baseState=sl,Za.memoizedState=sl,Za.flags&256){Za=Eb(qa,Za,jo,Ao);break e}else if(jo!==nl){nl=cd(Error(Ba(424)),Za),Yh(nl),Za=Eb(qa,Za,jo,Ao);break e}else{switch(qa=Za.stateNode.containerInfo,qa.nodeType){case 9:qa=qa.body;break;default:qa=qa.nodeName==="HTML"?qa.ownerDocument.body:qa}for(Ec=wd(qa.firstChild),Yc=Za,ac=!0,Lf=null,Rd=!0,Ao=rb(Za,null,jo,Ao),Za.child=Ao;Ao;)Ao.flags=Ao.flags&-3|4096,Ao=Ao.sibling}else{if(qh(),jo===nl){Za=Yd(qa,Za,Ao);break e}$c(qa,Za,jo,Ao)}Za=Za.child}return Za;case 26:return rp(qa,Za),qa===null?(Ao=Nx(Za.type,null,Za.pendingProps,null))?Za.memoizedState=Ao:ac||(Ao=Za.type,qa=Za.pendingProps,jo=yp(Dl.current).createElement(Ao),jo[vc]=Za,jo[Ic]=qa,Bc(jo,Ao,qa),Ul(jo),Za.stateNode=jo):Za.memoizedState=Nx(Za.type,qa.memoizedProps,Za.pendingProps,qa.memoizedState),null;case 27:return su(Za),qa===null&&ac&&(jo=Za.stateNode=Cx(Za.type,Za.pendingProps,Dl.current),Yc=Za,Rd=!0,nl=Ec,vf(Za.type)?(gg=nl,Ec=wd(jo.firstChild)):Ec=nl),$c(qa,Za,Za.pendingProps.children,Ao),rp(qa,Za),qa===null&&(Za.flags|=4194304),Za.child;case 5:return qa===null&&ac&&((nl=jo=Ec)&&(jo=yv(jo,Za.type,Za.pendingProps,Rd),jo!==null?(Za.stateNode=jo,Yc=Za,Ec=wd(jo.firstChild),Rd=!1,nl=!0):nl=!1),nl||jf(Za)),su(Za),nl=Za.type,sl=Za.pendingProps,hl=qa!==null?qa.memoizedProps:null,jo=sl.children,fg(nl,sl)?jo=null:hl!==null&&fg(nl,hl)&&(Za.flags|=32),Za.memoizedState!==null&&(nl=dm(qa,Za,jy,null,null,Ao),S0._currentValue=nl),rp(qa,Za),$c(qa,Za,jo,Ao),Za.child;case 6:return qa===null&&ac&&((qa=Ao=Ec)&&(Ao=vv(Ao,Za.pendingProps,Rd),Ao!==null?(Za.stateNode=Ao,Yc=Za,Ec=null,qa=!0):qa=!1),qa||jf(Za)),null;case 13:return _b(qa,Za,Ao);case 4:return eu(Za,Za.stateNode.containerInfo),jo=Za.pendingProps,qa===null?Za.child=bh(Za,null,jo,Ao):$c(qa,Za,jo,Ao),Za.child;case 11:return pb(qa,Za,Za.type,Za.pendingProps,Ao);case 7:return $c(qa,Za,Za.pendingProps,Ao),Za.child;case 8:return $c(qa,Za,Za.pendingProps.children,Ao),Za.child;case 12:return $c(qa,Za,Za.pendingProps.children,Ao),Za.child;case 10:return jo=Za.pendingProps,af(Za,Za.type,jo.value),$c(qa,Za,jo.children,Ao),Za.child;case 9:return nl=Za.type._context,jo=Za.pendingProps.children,Ff(Za),nl=Hc(nl),jo=jo(nl),Za.flags|=1,$c(qa,Za,jo,Ao),Za.child;case 14:return mb(qa,Za,Za.type,Za.pendingProps,Ao);case 15:return gb(qa,Za,Za.type,Za.pendingProps,Ao);case 19:return Tb(qa,Za,Ao);case 31:return jo=Za.pendingProps,Ao=Za.mode,jo={mode:jo.mode,children:jo.children},qa===null?(Ao=ip(jo,Ao),Ao.ref=Za.ref,Za.child=Ao,Ao.return=Za,Za=Ao):(Ao=Bd(qa.child,jo),Ao.ref=Za.ref,Za.child=Ao,Ao.return=Za,Za=Ao),Za;case 22:return bb(qa,Za,Ao);case 24:return Ff(Za),jo=Hc(kc),qa===null?(nl=nm(),nl===null&&(nl=gc,sl=em(),nl.pooledCache=sl,sl.refCount++,sl!==null&&(nl.pooledCacheLanes|=Ao),nl=sl),Za.memoizedState={parent:jo,cache:nl},im(Za),af(Za,kc,nl)):((qa.lanes&Ao)!==0&&(am(qa,Za),t0(Za,null,null,Ao),e0()),nl=qa.memoizedState,sl=Za.memoizedState,nl.parent!==jo?(nl={parent:jo,cache:jo},Za.memoizedState=nl,Za.lanes===0&&(Za.memoizedState=Za.updateQueue.baseState=nl),af(Za,kc,jo)):(jo=sl.cache,af(Za,kc,jo),jo!==nl.cache&&Jp(Za,[kc],Ao,!0))),$c(qa,Za,Za.pendingProps.children,Ao),Za.child;case 29:throw Za.pendingProps}throw Error(Ba(156,Za.tag))}function Wd(qa){qa.flags|=4}function Ab(qa,Za){if(Za.type!=="stylesheet"||(Za.state.loading&4)!==0)qa.flags&=-16777217;else if(qa.flags|=16777216,!Px(Za)){if(Za=pd.current,Za!==null&&((tc&4194048)===tc?Id!==null:(tc&62914560)!==tc&&(tc&536870912)===0||Za!==Id))throw Zh=rm,u1;qa.flags|=8192}}function ap(qa,Za){Za!==null&&(qa.flags|=4),qa.flags&16384&&(Za=qa.tag!==22?sd():536870912,qa.lanes|=Za,Eh|=Za)}function l0(qa,Za){if(!ac)switch(qa.tailMode){case"hidden":Za=qa.tail;for(var Ao=null;Za!==null;)Za.alternate!==null&&(Ao=Za),Za=Za.sibling;Ao===null?qa.tail=null:Ao.sibling=null;break;case"collapsed":Ao=qa.tail;for(var jo=null;Ao!==null;)Ao.alternate!==null&&(jo=Ao),Ao=Ao.sibling;jo===null?Za||qa.tail===null?qa.tail=null:qa.tail.sibling=null:jo.sibling=null}}function yc(qa){var Za=qa.alternate!==null&&qa.alternate.child===qa.child,Ao=0,jo=0;if(Za)for(var nl=qa.child;nl!==null;)Ao|=nl.lanes|nl.childLanes,jo|=nl.subtreeFlags&65011712,jo|=nl.flags&65011712,nl.return=qa,nl=nl.sibling;else for(nl=qa.child;nl!==null;)Ao|=nl.lanes|nl.childLanes,jo|=nl.subtreeFlags,jo|=nl.flags,nl.return=qa,nl=nl.sibling;return qa.subtreeFlags|=jo,qa.childLanes=Ao,Za}function qy(qa,Za,Ao){var jo=Za.pendingProps;switch(Kp(Za),Za.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yc(Za),null;case 1:return yc(Za),null;case 3:return Ao=Za.stateNode,jo=null,qa!==null&&(jo=qa.memoizedState.cache),Za.memoizedState.cache!==jo&&(Za.flags|=2048),Hd(kc),uu(),Ao.pendingContext&&(Ao.context=Ao.pendingContext,Ao.pendingContext=null),(qa===null||qa.child===null)&&(Vh(Za)?Wd(Za):qa===null||qa.memoizedState.isDehydrated&&(Za.flags&256)===0||(Za.flags|=1024,i1())),yc(Za),null;case 26:return Ao=Za.memoizedState,qa===null?(Wd(Za),Ao!==null?(yc(Za),Ab(Za,Ao)):(yc(Za),Za.flags&=-16777217)):Ao?Ao!==qa.memoizedState?(Wd(Za),yc(Za),Ab(Za,Ao)):(yc(Za),Za.flags&=-16777217):(qa.memoizedProps!==jo&&Wd(Za),yc(Za),Za.flags&=-16777217),null;case 27:pu(Za),Ao=Dl.current;var nl=Za.type;if(qa!==null&&Za.stateNode!=null)qa.memoizedProps!==jo&&Wd(Za);else{if(!jo){if(Za.stateNode===null)throw Error(Ba(166));return yc(Za),null}qa=jl.current,Vh(Za)?n1(Za):(qa=Cx(nl,jo,Ao),Za.stateNode=qa,Wd(Za))}return yc(Za),null;case 5:if(pu(Za),Ao=Za.type,qa!==null&&Za.stateNode!=null)qa.memoizedProps!==jo&&Wd(Za);else{if(!jo){if(Za.stateNode===null)throw Error(Ba(166));return yc(Za),null}if(qa=jl.current,Vh(Za))n1(Za);else{switch(nl=yp(Dl.current),qa){case 1:qa=nl.createElementNS("http://www.w3.org/2000/svg",Ao);break;case 2:qa=nl.createElementNS("http://www.w3.org/1998/Math/MathML",Ao);break;default:switch(Ao){case"svg":qa=nl.createElementNS("http://www.w3.org/2000/svg",Ao);break;case"math":qa=nl.createElementNS("http://www.w3.org/1998/Math/MathML",Ao);break;case"script":qa=nl.createElement("div"),qa.innerHTML="<script><\/script>",qa=qa.removeChild(qa.firstChild);break;case"select":qa=typeof jo.is=="string"?nl.createElement("select",{is:jo.is}):nl.createElement("select"),jo.multiple?qa.multiple=!0:jo.size&&(qa.size=jo.size);break;default:qa=typeof jo.is=="string"?nl.createElement(Ao,{is:jo.is}):nl.createElement(Ao)}}qa[vc]=Za,qa[Ic]=jo;e:for(nl=Za.child;nl!==null;){if(nl.tag===5||nl.tag===6)qa.appendChild(nl.stateNode);else if(nl.tag!==4&&nl.tag!==27&&nl.child!==null){nl.child.return=nl,nl=nl.child;continue}if(nl===Za)break e;for(;nl.sibling===null;){if(nl.return===null||nl.return===Za)break e;nl=nl.return}nl.sibling.return=nl.return,nl=nl.sibling}Za.stateNode=qa;e:switch(Bc(qa,Ao,jo),Ao){case"button":case"input":case"select":case"textarea":qa=!!jo.autoFocus;break e;case"img":qa=!0;break e;default:qa=!1}qa&&Wd(Za)}}return yc(Za),Za.flags&=-16777217,null;case 6:if(qa&&Za.stateNode!=null)qa.memoizedProps!==jo&&Wd(Za);else{if(typeof jo!="string"&&Za.stateNode===null)throw Error(Ba(166));if(qa=Dl.current,Vh(Za)){if(qa=Za.stateNode,Ao=Za.memoizedProps,jo=null,nl=Yc,nl!==null)switch(nl.tag){case 27:case 5:jo=nl.memoizedProps}qa[vc]=Za,qa=!!(qa.nodeValue===Ao||jo!==null&&jo.suppressHydrationWarning===!0||vx(qa.nodeValue,Ao)),qa||jf(Za)}else qa=yp(qa).createTextNode(jo),qa[vc]=Za,Za.stateNode=qa}return yc(Za),null;case 13:if(jo=Za.memoizedState,qa===null||qa.memoizedState!==null&&qa.memoizedState.dehydrated!==null){if(nl=Vh(Za),jo!==null&&jo.dehydrated!==null){if(qa===null){if(!nl)throw Error(Ba(318));if(nl=Za.memoizedState,nl=nl!==null?nl.dehydrated:null,!nl)throw Error(Ba(317));nl[vc]=Za}else qh(),(Za.flags&128)===0&&(Za.memoizedState=null),Za.flags|=4;yc(Za),nl=!1}else nl=i1(),qa!==null&&qa.memoizedState!==null&&(qa.memoizedState.hydrationErrors=nl),nl=!0;if(!nl)return Za.flags&256?(qd(Za),Za):(qd(Za),null)}if(qd(Za),(Za.flags&128)!==0)return Za.lanes=Ao,Za;if(Ao=jo!==null,qa=qa!==null&&qa.memoizedState!==null,Ao){jo=Za.child,nl=null,jo.alternate!==null&&jo.alternate.memoizedState!==null&&jo.alternate.memoizedState.cachePool!==null&&(nl=jo.alternate.memoizedState.cachePool.pool);var sl=null;jo.memoizedState!==null&&jo.memoizedState.cachePool!==null&&(sl=jo.memoizedState.cachePool.pool),sl!==nl&&(jo.flags|=2048)}return Ao!==qa&&Ao&&(Za.child.flags|=8192),ap(Za,Za.updateQueue),yc(Za),null;case 4:return uu(),qa===null&&og(Za.stateNode.containerInfo),yc(Za),null;case 10:return Hd(Za.type),yc(Za),null;case 19:if(Tl(Mc),nl=Za.memoizedState,nl===null)return yc(Za),null;if(jo=(Za.flags&128)!==0,sl=nl.rendering,sl===null)if(jo)l0(nl,!1);else{if(_c!==0||qa!==null&&(qa.flags&128)!==0)for(qa=Za.child;qa!==null;){if(sl=ep(qa),sl!==null){for(Za.flags|=128,l0(nl,!1),qa=sl.updateQueue,Za.updateQueue=qa,ap(Za,qa),Za.subtreeFlags=0,qa=Ao,Ao=Za.child;Ao!==null;)e1(Ao,qa),Ao=Ao.sibling;return pl(Mc,Mc.current&1|2),Za.child}qa=qa.sibling}nl.tail!==null&&xu()>up&&(Za.flags|=128,jo=!0,l0(nl,!1),Za.lanes=4194304)}else{if(!jo)if(qa=ep(sl),qa!==null){if(Za.flags|=128,jo=!0,qa=qa.updateQueue,Za.updateQueue=qa,ap(Za,qa),l0(nl,!0),nl.tail===null&&nl.tailMode==="hidden"&&!sl.alternate&&!ac)return yc(Za),null}else 2*xu()-nl.renderingStartTime>up&&Ao!==536870912&&(Za.flags|=128,jo=!0,l0(nl,!1),Za.lanes=4194304);nl.isBackwards?(sl.sibling=Za.child,Za.child=sl):(qa=nl.last,qa!==null?qa.sibling=sl:Za.child=sl,nl.last=sl)}return nl.tail!==null?(Za=nl.tail,nl.rendering=Za,nl.tail=Za.sibling,nl.renderingStartTime=xu(),Za.sibling=null,qa=Mc.current,pl(Mc,jo?qa&1|2:qa&1),Za):(yc(Za),null);case 22:case 23:return qd(Za),um(),jo=Za.memoizedState!==null,qa!==null?qa.memoizedState!==null!==jo&&(Za.flags|=8192):jo&&(Za.flags|=8192),jo?(Ao&536870912)!==0&&(Za.flags&128)===0&&(yc(Za),Za.subtreeFlags&6&&(Za.flags|=8192)):yc(Za),Ao=Za.updateQueue,Ao!==null&&ap(Za,Ao.retryQueue),Ao=null,qa!==null&&qa.memoizedState!==null&&qa.memoizedState.cachePool!==null&&(Ao=qa.memoizedState.cachePool.pool),jo=null,Za.memoizedState!==null&&Za.memoizedState.cachePool!==null&&(jo=Za.memoizedState.cachePool.pool),jo!==Ao&&(Za.flags|=2048),qa!==null&&Tl(Bf),null;case 24:return Ao=null,qa!==null&&(Ao=qa.memoizedState.cache),Za.memoizedState.cache!==Ao&&(Za.flags|=2048),Hd(kc),yc(Za),null;case 25:return null;case 30:return null}throw Error(Ba(156,Za.tag))}function Yy(qa,Za){switch(Kp(Za),Za.tag){case 1:return qa=Za.flags,qa&65536?(Za.flags=qa&-65537|128,Za):null;case 3:return Hd(kc),uu(),qa=Za.flags,(qa&65536)!==0&&(qa&128)===0?(Za.flags=qa&-65537|128,Za):null;case 26:case 27:case 5:return pu(Za),null;case 13:if(qd(Za),qa=Za.memoizedState,qa!==null&&qa.dehydrated!==null){if(Za.alternate===null)throw Error(Ba(340));qh()}return qa=Za.flags,qa&65536?(Za.flags=qa&-65537|128,Za):null;case 19:return Tl(Mc),null;case 4:return uu(),null;case 10:return Hd(Za.type),null;case 22:case 23:return qd(Za),um(),qa!==null&&Tl(Bf),qa=Za.flags,qa&65536?(Za.flags=qa&-65537|128,Za):null;case 24:return Hd(kc),null;case 25:return null;default:return null}}function Cb(qa,Za){switch(Kp(Za),Za.tag){case 3:Hd(kc),uu();break;case 26:case 27:case 5:pu(Za);break;case 4:uu();break;case 13:qd(Za);break;case 19:Tl(Mc);break;case 10:Hd(Za.type);break;case 22:case 23:qd(Za),um(),qa!==null&&Tl(Bf);break;case 24:Hd(kc)}}function u0(qa,Za){try{var Ao=Za.updateQueue,jo=Ao!==null?Ao.lastEffect:null;if(jo!==null){var nl=jo.next;Ao=nl;do{if((Ao.tag&qa)===qa){jo=void 0;var sl=Ao.create,hl=Ao.inst;jo=sl(),hl.destroy=jo}Ao=Ao.next}while(Ao!==nl)}}catch(vl){pc(Za,Za.return,vl)}}function ff(qa,Za,Ao){try{var jo=Za.updateQueue,nl=jo!==null?jo.lastEffect:null;if(nl!==null){var sl=nl.next;jo=sl;do{if((jo.tag&qa)===qa){var hl=jo.inst,vl=hl.destroy;if(vl!==void 0){hl.destroy=void 0,nl=Za;var Ol=Ao,Hl=vl;try{Hl()}catch(Jl){pc(nl,Ol,Jl)}}}jo=jo.next}while(jo!==sl)}}catch(Jl){pc(Za,Za.return,Jl)}}function Rb(qa){var Za=qa.updateQueue;if(Za!==null){var Ao=qa.stateNode;try{m1(Za,Ao)}catch(jo){pc(qa,qa.return,jo)}}}function Ib(qa,Za,Ao){Ao.props=Uf(qa.type,qa.memoizedProps),Ao.state=qa.memoizedState;try{Ao.componentWillUnmount()}catch(jo){pc(qa,Za,jo)}}function c0(qa,Za){try{var Ao=qa.ref;if(Ao!==null){switch(qa.tag){case 26:case 27:case 5:var jo=qa.stateNode;break;case 30:jo=qa.stateNode;break;default:jo=qa.stateNode}typeof Ao=="function"?qa.refCleanup=Ao(jo):Ao.current=jo}}catch(nl){pc(qa,Za,nl)}}function Nd(qa,Za){var Ao=qa.ref,jo=qa.refCleanup;if(Ao!==null)if(typeof jo=="function")try{jo()}catch(nl){pc(qa,Za,nl)}finally{qa.refCleanup=null,qa=qa.alternate,qa!=null&&(qa.refCleanup=null)}else if(typeof Ao=="function")try{Ao(null)}catch(nl){pc(qa,Za,nl)}else Ao.current=null}function Nb(qa){var Za=qa.type,Ao=qa.memoizedProps,jo=qa.stateNode;try{e:switch(Za){case"button":case"input":case"select":case"textarea":Ao.autoFocus&&jo.focus();break e;case"img":Ao.src?jo.src=Ao.src:Ao.srcSet&&(jo.srcset=Ao.srcSet)}}catch(nl){pc(qa,qa.return,nl)}}function jm(qa,Za,Ao){try{var jo=qa.stateNode;pv(jo,qa.type,Ao,Za),jo[Ic]=Za}catch(nl){pc(qa,qa.return,nl)}}function Ob(qa){return qa.tag===5||qa.tag===3||qa.tag===26||qa.tag===27&&vf(qa.type)||qa.tag===4}function $m(qa){e:for(;;){for(;qa.sibling===null;){if(qa.return===null||Ob(qa.return))return null;qa=qa.return}for(qa.sibling.return=qa.return,qa=qa.sibling;qa.tag!==5&&qa.tag!==6&&qa.tag!==18;){if(qa.tag===27&&vf(qa.type)||qa.flags&2||qa.child===null||qa.tag===4)continue e;qa.child.return=qa,qa=qa.child}if(!(qa.flags&2))return qa.stateNode}}function Fm(qa,Za,Ao){var jo=qa.tag;if(jo===5||jo===6)qa=qa.stateNode,Za?(Ao.nodeType===9?Ao.body:Ao.nodeName==="HTML"?Ao.ownerDocument.body:Ao).insertBefore(qa,Za):(Za=Ao.nodeType===9?Ao.body:Ao.nodeName==="HTML"?Ao.ownerDocument.body:Ao,Za.appendChild(qa),Ao=Ao._reactRootContainer,Ao!=null||Za.onclick!==null||(Za.onclick=xp));else if(jo!==4&&(jo===27&&vf(qa.type)&&(Ao=qa.stateNode,Za=null),qa=qa.child,qa!==null))for(Fm(qa,Za,Ao),qa=qa.sibling;qa!==null;)Fm(qa,Za,Ao),qa=qa.sibling}function sp(qa,Za,Ao){var jo=qa.tag;if(jo===5||jo===6)qa=qa.stateNode,Za?Ao.insertBefore(qa,Za):Ao.appendChild(qa);else if(jo!==4&&(jo===27&&vf(qa.type)&&(Ao=qa.stateNode),qa=qa.child,qa!==null))for(sp(qa,Za,Ao),qa=qa.sibling;qa!==null;)sp(qa,Za,Ao),qa=qa.sibling}function kb(qa){var Za=qa.stateNode,Ao=qa.memoizedProps;try{for(var jo=qa.type,nl=Za.attributes;nl.length;)Za.removeAttributeNode(nl[0]);Bc(Za,jo,Ao),Za[vc]=qa,Za[Ic]=Ao}catch(sl){pc(qa,qa.return,sl)}}var Kd=!1,Rc=!1,Bm=!1,Db=typeof WeakSet=="function"?WeakSet:Set,Lc=null;function Wy(qa,Za){if(qa=qa.containerInfo,cg=wp,qa=Hg(qa),$p(qa)){if("selectionStart"in qa)var Ao={start:qa.selectionStart,end:qa.selectionEnd};else e:{Ao=(Ao=qa.ownerDocument)&&Ao.defaultView||window;var jo=Ao.getSelection&&Ao.getSelection();if(jo&&jo.rangeCount!==0){Ao=jo.anchorNode;var nl=jo.anchorOffset,sl=jo.focusNode;jo=jo.focusOffset;try{Ao.nodeType,sl.nodeType}catch{Ao=null;break e}var hl=0,vl=-1,Ol=-1,Hl=0,Jl=0,nu=qa,Vl=null;t:for(;;){for(var ql;nu!==Ao||nl!==0&&nu.nodeType!==3||(vl=hl+nl),nu!==sl||jo!==0&&nu.nodeType!==3||(Ol=hl+jo),nu.nodeType===3&&(hl+=nu.nodeValue.length),(ql=nu.firstChild)!==null;)Vl=nu,nu=ql;for(;;){if(nu===qa)break t;if(Vl===Ao&&++Hl===nl&&(vl=hl),Vl===sl&&++Jl===jo&&(Ol=hl),(ql=nu.nextSibling)!==null)break;nu=Vl,Vl=nu.parentNode}nu=ql}Ao=vl===-1||Ol===-1?null:{start:vl,end:Ol}}else Ao=null}Ao=Ao||{start:0,end:0}}else Ao=null;for(dg={focusedElem:qa,selectionRange:Ao},wp=!1,Lc=Za;Lc!==null;)if(Za=Lc,qa=Za.child,(Za.subtreeFlags&1024)!==0&&qa!==null)qa.return=Za,Lc=qa;else for(;Lc!==null;){switch(Za=Lc,sl=Za.alternate,qa=Za.flags,Za.tag){case 0:break;case 11:case 15:break;case 1:if((qa&1024)!==0&&sl!==null){qa=void 0,Ao=Za,nl=sl.memoizedProps,sl=sl.memoizedState,jo=Ao.stateNode;try{var ku=Uf(Ao.type,nl,Ao.elementType===Ao.type);qa=jo.getSnapshotBeforeUpdate(ku,sl),jo.__reactInternalSnapshotBeforeUpdate=qa}catch(Iu){pc(Ao,Ao.return,Iu)}}break;case 3:if((qa&1024)!==0){if(qa=Za.stateNode.containerInfo,Ao=qa.nodeType,Ao===9)pg(qa);else if(Ao===1)switch(qa.nodeName){case"HEAD":case"HTML":case"BODY":pg(qa);break;default:qa.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((qa&1024)!==0)throw Error(Ba(163))}if(qa=Za.sibling,qa!==null){qa.return=Za.return,Lc=qa;break}Lc=Za.return}}function Mb(qa,Za,Ao){var jo=Ao.flags;switch(Ao.tag){case 0:case 11:case 15:hf(qa,Ao),jo&4&&u0(5,Ao);break;case 1:if(hf(qa,Ao),jo&4)if(qa=Ao.stateNode,Za===null)try{qa.componentDidMount()}catch(hl){pc(Ao,Ao.return,hl)}else{var nl=Uf(Ao.type,Za.memoizedProps);Za=Za.memoizedState;try{qa.componentDidUpdate(nl,Za,qa.__reactInternalSnapshotBeforeUpdate)}catch(hl){pc(Ao,Ao.return,hl)}}jo&64&&Rb(Ao),jo&512&&c0(Ao,Ao.return);break;case 3:if(hf(qa,Ao),jo&64&&(qa=Ao.updateQueue,qa!==null)){if(Za=null,Ao.child!==null)switch(Ao.child.tag){case 27:case 5:Za=Ao.child.stateNode;break;case 1:Za=Ao.child.stateNode}try{m1(qa,Za)}catch(hl){pc(Ao,Ao.return,hl)}}break;case 27:Za===null&&jo&4&&kb(Ao);case 26:case 5:hf(qa,Ao),Za===null&&jo&4&&Nb(Ao),jo&512&&c0(Ao,Ao.return);break;case 12:hf(qa,Ao);break;case 13:hf(qa,Ao),jo&4&&jb(qa,Ao),jo&64&&(qa=Ao.memoizedState,qa!==null&&(qa=qa.dehydrated,qa!==null&&(Ao=rv.bind(null,Ao),Ev(qa,Ao))));break;case 22:if(jo=Ao.memoizedState!==null||Kd,!jo){Za=Za!==null&&Za.memoizedState!==null||Rc,nl=Kd;var sl=Rc;Kd=jo,(Rc=Za)&&!sl?pf(qa,Ao,(Ao.subtreeFlags&8772)!==0):hf(qa,Ao),Kd=nl,Rc=sl}break;case 30:break;default:hf(qa,Ao)}}function Pb(qa){var Za=qa.alternate;Za!==null&&(qa.alternate=null,Pb(Za)),qa.child=null,qa.deletions=null,qa.sibling=null,qa.tag===5&&(Za=qa.stateNode,Za!==null&&Pd(Za)),qa.stateNode=null,qa.return=null,qa.dependencies=null,qa.memoizedProps=null,qa.memoizedState=null,qa.pendingProps=null,qa.stateNode=null,qa.updateQueue=null}var xc=null,Qc=!1;function Xd(qa,Za,Ao){for(Ao=Ao.child;Ao!==null;)Lb(qa,Za,Ao),Ao=Ao.sibling}function Lb(qa,Za,Ao){if(iu&&typeof iu.onCommitFiberUnmount=="function")try{iu.onCommitFiberUnmount(Ql,Ao)}catch{}switch(Ao.tag){case 26:Rc||Nd(Ao,Za),Xd(qa,Za,Ao),Ao.memoizedState?Ao.memoizedState.count--:Ao.stateNode&&(Ao=Ao.stateNode,Ao.parentNode.removeChild(Ao));break;case 27:Rc||Nd(Ao,Za);var jo=xc,nl=Qc;vf(Ao.type)&&(xc=Ao.stateNode,Qc=!1),Xd(qa,Za,Ao),y0(Ao.stateNode),xc=jo,Qc=nl;break;case 5:Rc||Nd(Ao,Za);case 6:if(jo=xc,nl=Qc,xc=null,Xd(qa,Za,Ao),xc=jo,Qc=nl,xc!==null)if(Qc)try{(xc.nodeType===9?xc.body:xc.nodeName==="HTML"?xc.ownerDocument.body:xc).removeChild(Ao.stateNode)}catch(sl){pc(Ao,Za,sl)}else try{xc.removeChild(Ao.stateNode)}catch(sl){pc(Ao,Za,sl)}break;case 18:xc!==null&&(Qc?(qa=xc,wx(qa.nodeType===9?qa.body:qa.nodeName==="HTML"?qa.ownerDocument.body:qa,Ao.stateNode),C0(qa)):wx(xc,Ao.stateNode));break;case 4:jo=xc,nl=Qc,xc=Ao.stateNode.containerInfo,Qc=!0,Xd(qa,Za,Ao),xc=jo,Qc=nl;break;case 0:case 11:case 14:case 15:Rc||ff(2,Ao,Za),Rc||ff(4,Ao,Za),Xd(qa,Za,Ao);break;case 1:Rc||(Nd(Ao,Za),jo=Ao.stateNode,typeof jo.componentWillUnmount=="function"&&Ib(Ao,Za,jo)),Xd(qa,Za,Ao);break;case 21:Xd(qa,Za,Ao);break;case 22:Rc=(jo=Rc)||Ao.memoizedState!==null,Xd(qa,Za,Ao),Rc=jo;break;default:Xd(qa,Za,Ao)}}function jb(qa,Za){if(Za.memoizedState===null&&(qa=Za.alternate,qa!==null&&(qa=qa.memoizedState,qa!==null&&(qa=qa.dehydrated,qa!==null))))try{C0(qa)}catch(Ao){pc(Za,Za.return,Ao)}}function Ky(qa){switch(qa.tag){case 13:case 19:var Za=qa.stateNode;return Za===null&&(Za=qa.stateNode=new Db),Za;case 22:return qa=qa.stateNode,Za=qa._retryCache,Za===null&&(Za=qa._retryCache=new Db),Za;default:throw Error(Ba(435,qa.tag))}}function zm(qa,Za){var Ao=Ky(qa);Za.forEach(function(jo){var nl=iv.bind(null,qa,jo);Ao.has(jo)||(Ao.add(jo),jo.then(nl,nl))})}function td(qa,Za){var Ao=Za.deletions;if(Ao!==null)for(var jo=0;jo<Ao.length;jo++){var nl=Ao[jo],sl=qa,hl=Za,vl=hl;e:for(;vl!==null;){switch(vl.tag){case 27:if(vf(vl.type)){xc=vl.stateNode,Qc=!1;break e}break;case 5:xc=vl.stateNode,Qc=!1;break e;case 3:case 4:xc=vl.stateNode.containerInfo,Qc=!0;break e}vl=vl.return}if(xc===null)throw Error(Ba(160));Lb(sl,hl,nl),xc=null,Qc=!1,sl=nl.alternate,sl!==null&&(sl.return=null),nl.return=null}if(Za.subtreeFlags&13878)for(Za=Za.child;Za!==null;)$b(Za,qa),Za=Za.sibling}var Td=null;function $b(qa,Za){var Ao=qa.alternate,jo=qa.flags;switch(qa.tag){case 0:case 11:case 14:case 15:td(Za,qa),nd(qa),jo&4&&(ff(3,qa,qa.return),u0(3,qa),ff(5,qa,qa.return));break;case 1:td(Za,qa),nd(qa),jo&512&&(Rc||Ao===null||Nd(Ao,Ao.return)),jo&64&&Kd&&(qa=qa.updateQueue,qa!==null&&(jo=qa.callbacks,jo!==null&&(Ao=qa.shared.hiddenCallbacks,qa.shared.hiddenCallbacks=Ao===null?jo:Ao.concat(jo))));break;case 26:var nl=Td;if(td(Za,qa),nd(qa),jo&512&&(Rc||Ao===null||Nd(Ao,Ao.return)),jo&4){var sl=Ao!==null?Ao.memoizedState:null;if(jo=qa.memoizedState,Ao===null)if(jo===null)if(qa.stateNode===null){e:{jo=qa.type,Ao=qa.memoizedProps,nl=nl.ownerDocument||nl;t:switch(jo){case"title":sl=nl.getElementsByTagName("title")[0],(!sl||sl[yd]||sl[vc]||sl.namespaceURI==="http://www.w3.org/2000/svg"||sl.hasAttribute("itemprop"))&&(sl=nl.createElement(jo),nl.head.insertBefore(sl,nl.querySelector("head > title"))),Bc(sl,jo,Ao),sl[vc]=qa,Ul(sl),jo=sl;break e;case"link":var hl=Dx("link","href",nl).get(jo+(Ao.href||""));if(hl){for(var vl=0;vl<hl.length;vl++)if(sl=hl[vl],sl.getAttribute("href")===(Ao.href==null||Ao.href===""?null:Ao.href)&&sl.getAttribute("rel")===(Ao.rel==null?null:Ao.rel)&&sl.getAttribute("title")===(Ao.title==null?null:Ao.title)&&sl.getAttribute("crossorigin")===(Ao.crossOrigin==null?null:Ao.crossOrigin)){hl.splice(vl,1);break t}}sl=nl.createElement(jo),Bc(sl,jo,Ao),nl.head.appendChild(sl);break;case"meta":if(hl=Dx("meta","content",nl).get(jo+(Ao.content||""))){for(vl=0;vl<hl.length;vl++)if(sl=hl[vl],sl.getAttribute("content")===(Ao.content==null?null:""+Ao.content)&&sl.getAttribute("name")===(Ao.name==null?null:Ao.name)&&sl.getAttribute("property")===(Ao.property==null?null:Ao.property)&&sl.getAttribute("http-equiv")===(Ao.httpEquiv==null?null:Ao.httpEquiv)&&sl.getAttribute("charset")===(Ao.charSet==null?null:Ao.charSet)){hl.splice(vl,1);break t}}sl=nl.createElement(jo),Bc(sl,jo,Ao),nl.head.appendChild(sl);break;default:throw Error(Ba(468,jo))}sl[vc]=qa,Ul(sl),jo=sl}qa.stateNode=jo}else Mx(nl,qa.type,qa.stateNode);else qa.stateNode=kx(nl,jo,qa.memoizedProps);else sl!==jo?(sl===null?Ao.stateNode!==null&&(Ao=Ao.stateNode,Ao.parentNode.removeChild(Ao)):sl.count--,jo===null?Mx(nl,qa.type,qa.stateNode):kx(nl,jo,qa.memoizedProps)):jo===null&&qa.stateNode!==null&&jm(qa,qa.memoizedProps,Ao.memoizedProps)}break;case 27:td(Za,qa),nd(qa),jo&512&&(Rc||Ao===null||Nd(Ao,Ao.return)),Ao!==null&&jo&4&&jm(qa,qa.memoizedProps,Ao.memoizedProps);break;case 5:if(td(Za,qa),nd(qa),jo&512&&(Rc||Ao===null||Nd(Ao,Ao.return)),qa.flags&32){nl=qa.stateNode;try{Cd(nl,"")}catch(ql){pc(qa,qa.return,ql)}}jo&4&&qa.stateNode!=null&&(nl=qa.memoizedProps,jm(qa,nl,Ao!==null?Ao.memoizedProps:nl)),jo&1024&&(Bm=!0);break;case 6:if(td(Za,qa),nd(qa),jo&4){if(qa.stateNode===null)throw Error(Ba(162));jo=qa.memoizedProps,Ao=qa.stateNode;try{Ao.nodeValue=jo}catch(ql){pc(qa,qa.return,ql)}}break;case 3:if(_p=null,nl=Td,Td=vp(Za.containerInfo),td(Za,qa),Td=nl,nd(qa),jo&4&&Ao!==null&&Ao.memoizedState.isDehydrated)try{C0(Za.containerInfo)}catch(ql){pc(qa,qa.return,ql)}Bm&&(Bm=!1,Fb(qa));break;case 4:jo=Td,Td=vp(qa.stateNode.containerInfo),td(Za,qa),nd(qa),Td=jo;break;case 12:td(Za,qa),nd(qa);break;case 13:td(Za,qa),nd(qa),qa.child.flags&8192&&qa.memoizedState!==null!=(Ao!==null&&Ao.memoizedState!==null)&&(Ym=xu()),jo&4&&(jo=qa.updateQueue,jo!==null&&(qa.updateQueue=null,zm(qa,jo)));break;case 22:nl=qa.memoizedState!==null;var Ol=Ao!==null&&Ao.memoizedState!==null,Hl=Kd,Jl=Rc;if(Kd=Hl||nl,Rc=Jl||Ol,td(Za,qa),Rc=Jl,Kd=Hl,nd(qa),jo&8192)e:for(Za=qa.stateNode,Za._visibility=nl?Za._visibility&-2:Za._visibility|1,nl&&(Ao===null||Ol||Kd||Rc||Gf(qa)),Ao=null,Za=qa;;){if(Za.tag===5||Za.tag===26){if(Ao===null){Ol=Ao=Za;try{if(sl=Ol.stateNode,nl)hl=sl.style,typeof hl.setProperty=="function"?hl.setProperty("display","none","important"):hl.display="none";else{vl=Ol.stateNode;var nu=Ol.memoizedProps.style,Vl=nu!=null&&nu.hasOwnProperty("display")?nu.display:null;vl.style.display=Vl==null||typeof Vl=="boolean"?"":(""+Vl).trim()}}catch(ql){pc(Ol,Ol.return,ql)}}}else if(Za.tag===6){if(Ao===null){Ol=Za;try{Ol.stateNode.nodeValue=nl?"":Ol.memoizedProps}catch(ql){pc(Ol,Ol.return,ql)}}}else if((Za.tag!==22&&Za.tag!==23||Za.memoizedState===null||Za===qa)&&Za.child!==null){Za.child.return=Za,Za=Za.child;continue}if(Za===qa)break e;for(;Za.sibling===null;){if(Za.return===null||Za.return===qa)break e;Ao===Za&&(Ao=null),Za=Za.return}Ao===Za&&(Ao=null),Za.sibling.return=Za.return,Za=Za.sibling}jo&4&&(jo=qa.updateQueue,jo!==null&&(Ao=jo.retryQueue,Ao!==null&&(jo.retryQueue=null,zm(qa,Ao))));break;case 19:td(Za,qa),nd(qa),jo&4&&(jo=qa.updateQueue,jo!==null&&(qa.updateQueue=null,zm(qa,jo)));break;case 30:break;case 21:break;default:td(Za,qa),nd(qa)}}function nd(qa){var Za=qa.flags;if(Za&2){try{for(var Ao,jo=qa.return;jo!==null;){if(Ob(jo)){Ao=jo;break}jo=jo.return}if(Ao==null)throw Error(Ba(160));switch(Ao.tag){case 27:var nl=Ao.stateNode,sl=$m(qa);sp(qa,sl,nl);break;case 5:var hl=Ao.stateNode;Ao.flags&32&&(Cd(hl,""),Ao.flags&=-33);var vl=$m(qa);sp(qa,vl,hl);break;case 3:case 4:var Ol=Ao.stateNode.containerInfo,Hl=$m(qa);Fm(qa,Hl,Ol);break;default:throw Error(Ba(161))}}catch(Jl){pc(qa,qa.return,Jl)}qa.flags&=-3}Za&4096&&(qa.flags&=-4097)}function Fb(qa){if(qa.subtreeFlags&1024)for(qa=qa.child;qa!==null;){var Za=qa;Fb(Za),Za.tag===5&&Za.flags&1024&&Za.stateNode.reset(),qa=qa.sibling}}function hf(qa,Za){if(Za.subtreeFlags&8772)for(Za=Za.child;Za!==null;)Mb(qa,Za.alternate,Za),Za=Za.sibling}function Gf(qa){for(qa=qa.child;qa!==null;){var Za=qa;switch(Za.tag){case 0:case 11:case 14:case 15:ff(4,Za,Za.return),Gf(Za);break;case 1:Nd(Za,Za.return);var Ao=Za.stateNode;typeof Ao.componentWillUnmount=="function"&&Ib(Za,Za.return,Ao),Gf(Za);break;case 27:y0(Za.stateNode);case 26:case 5:Nd(Za,Za.return),Gf(Za);break;case 22:Za.memoizedState===null&&Gf(Za);break;case 30:Gf(Za);break;default:Gf(Za)}qa=qa.sibling}}function pf(qa,Za,Ao){for(Ao=Ao&&(Za.subtreeFlags&8772)!==0,Za=Za.child;Za!==null;){var jo=Za.alternate,nl=qa,sl=Za,hl=sl.flags;switch(sl.tag){case 0:case 11:case 15:pf(nl,sl,Ao),u0(4,sl);break;case 1:if(pf(nl,sl,Ao),jo=sl,nl=jo.stateNode,typeof nl.componentDidMount=="function")try{nl.componentDidMount()}catch(Hl){pc(jo,jo.return,Hl)}if(jo=sl,nl=jo.updateQueue,nl!==null){var vl=jo.stateNode;try{var Ol=nl.shared.hiddenCallbacks;if(Ol!==null)for(nl.shared.hiddenCallbacks=null,nl=0;nl<Ol.length;nl++)p1(Ol[nl],vl)}catch(Hl){pc(jo,jo.return,Hl)}}Ao&&hl&64&&Rb(sl),c0(sl,sl.return);break;case 27:kb(sl);case 26:case 5:pf(nl,sl,Ao),Ao&&jo===null&&hl&4&&Nb(sl),c0(sl,sl.return);break;case 12:pf(nl,sl,Ao);break;case 13:pf(nl,sl,Ao),Ao&&hl&4&&jb(nl,sl);break;case 22:sl.memoizedState===null&&pf(nl,sl,Ao),c0(sl,sl.return);break;case 30:break;default:pf(nl,sl,Ao)}Za=Za.sibling}}function Um(qa,Za){var Ao=null;qa!==null&&qa.memoizedState!==null&&qa.memoizedState.cachePool!==null&&(Ao=qa.memoizedState.cachePool.pool),qa=null,Za.memoizedState!==null&&Za.memoizedState.cachePool!==null&&(qa=Za.memoizedState.cachePool.pool),qa!==Ao&&(qa!=null&&qa.refCount++,Ao!=null&&Kh(Ao))}function Gm(qa,Za){qa=null,Za.alternate!==null&&(qa=Za.alternate.memoizedState.cache),Za=Za.memoizedState.cache,Za!==qa&&(Za.refCount++,qa!=null&&Kh(qa))}function Od(qa,Za,Ao,jo){if(Za.subtreeFlags&10256)for(Za=Za.child;Za!==null;)Bb(qa,Za,Ao,jo),Za=Za.sibling}function Bb(qa,Za,Ao,jo){var nl=Za.flags;switch(Za.tag){case 0:case 11:case 15:Od(qa,Za,Ao,jo),nl&2048&&u0(9,Za);break;case 1:Od(qa,Za,Ao,jo);break;case 3:Od(qa,Za,Ao,jo),nl&2048&&(qa=null,Za.alternate!==null&&(qa=Za.alternate.memoizedState.cache),Za=Za.memoizedState.cache,Za!==qa&&(Za.refCount++,qa!=null&&Kh(qa)));break;case 12:if(nl&2048){Od(qa,Za,Ao,jo),qa=Za.stateNode;try{var sl=Za.memoizedProps,hl=sl.id,vl=sl.onPostCommit;typeof vl=="function"&&vl(hl,Za.alternate===null?"mount":"update",qa.passiveEffectDuration,-0)}catch(Ol){pc(Za,Za.return,Ol)}}else Od(qa,Za,Ao,jo);break;case 13:Od(qa,Za,Ao,jo);break;case 23:break;case 22:sl=Za.stateNode,hl=Za.alternate,Za.memoizedState!==null?sl._visibility&2?Od(qa,Za,Ao,jo):d0(qa,Za):sl._visibility&2?Od(qa,Za,Ao,jo):(sl._visibility|=2,xh(qa,Za,Ao,jo,(Za.subtreeFlags&10256)!==0)),nl&2048&&Um(hl,Za);break;case 24:Od(qa,Za,Ao,jo),nl&2048&&Gm(Za.alternate,Za);break;default:Od(qa,Za,Ao,jo)}}function xh(qa,Za,Ao,jo,nl){for(nl=nl&&(Za.subtreeFlags&10256)!==0,Za=Za.child;Za!==null;){var sl=qa,hl=Za,vl=Ao,Ol=jo,Hl=hl.flags;switch(hl.tag){case 0:case 11:case 15:xh(sl,hl,vl,Ol,nl),u0(8,hl);break;case 23:break;case 22:var Jl=hl.stateNode;hl.memoizedState!==null?Jl._visibility&2?xh(sl,hl,vl,Ol,nl):d0(sl,hl):(Jl._visibility|=2,xh(sl,hl,vl,Ol,nl)),nl&&Hl&2048&&Um(hl.alternate,hl);break;case 24:xh(sl,hl,vl,Ol,nl),nl&&Hl&2048&&Gm(hl.alternate,hl);break;default:xh(sl,hl,vl,Ol,nl)}Za=Za.sibling}}function d0(qa,Za){if(Za.subtreeFlags&10256)for(Za=Za.child;Za!==null;){var Ao=qa,jo=Za,nl=jo.flags;switch(jo.tag){case 22:d0(Ao,jo),nl&2048&&Um(jo.alternate,jo);break;case 24:d0(Ao,jo),nl&2048&&Gm(jo.alternate,jo);break;default:d0(Ao,jo)}Za=Za.sibling}}var f0=8192;function yh(qa){if(qa.subtreeFlags&f0)for(qa=qa.child;qa!==null;)zb(qa),qa=qa.sibling}function zb(qa){switch(qa.tag){case 26:yh(qa),qa.flags&f0&&qa.memoizedState!==null&&Mv(Td,qa.memoizedState,qa.memoizedProps);break;case 5:yh(qa);break;case 3:case 4:var Za=Td;Td=vp(qa.stateNode.containerInfo),yh(qa),Td=Za;break;case 22:qa.memoizedState===null&&(Za=qa.alternate,Za!==null&&Za.memoizedState!==null?(Za=f0,f0=16777216,yh(qa),f0=Za):yh(qa));break;default:yh(qa)}}function Ub(qa){var Za=qa.alternate;if(Za!==null&&(qa=Za.child,qa!==null)){Za.child=null;do Za=qa.sibling,qa.sibling=null,qa=Za;while(qa!==null)}}function h0(qa){var Za=qa.deletions;if((qa.flags&16)!==0){if(Za!==null)for(var Ao=0;Ao<Za.length;Ao++){var jo=Za[Ao];Lc=jo,Hb(jo,qa)}Ub(qa)}if(qa.subtreeFlags&10256)for(qa=qa.child;qa!==null;)Gb(qa),qa=qa.sibling}function Gb(qa){switch(qa.tag){case 0:case 11:case 15:h0(qa),qa.flags&2048&&ff(9,qa,qa.return);break;case 3:h0(qa);break;case 12:h0(qa);break;case 22:var Za=qa.stateNode;qa.memoizedState!==null&&Za._visibility&2&&(qa.return===null||qa.return.tag!==13)?(Za._visibility&=-3,lp(qa)):h0(qa);break;default:h0(qa)}}function lp(qa){var Za=qa.deletions;if((qa.flags&16)!==0){if(Za!==null)for(var Ao=0;Ao<Za.length;Ao++){var jo=Za[Ao];Lc=jo,Hb(jo,qa)}Ub(qa)}for(qa=qa.child;qa!==null;){switch(Za=qa,Za.tag){case 0:case 11:case 15:ff(8,Za,Za.return),lp(Za);break;case 22:Ao=Za.stateNode,Ao._visibility&2&&(Ao._visibility&=-3,lp(Za));break;default:lp(Za)}qa=qa.sibling}}function Hb(qa,Za){for(;Lc!==null;){var Ao=Lc;switch(Ao.tag){case 0:case 11:case 15:ff(8,Ao,Za);break;case 23:case 22:if(Ao.memoizedState!==null&&Ao.memoizedState.cachePool!==null){var jo=Ao.memoizedState.cachePool.pool;jo!=null&&jo.refCount++}break;case 24:Kh(Ao.memoizedState.cache)}if(jo=Ao.child,jo!==null)jo.return=Ao,Lc=jo;else e:for(Ao=qa;Lc!==null;){jo=Lc;var nl=jo.sibling,sl=jo.return;if(Pb(jo),jo===Ao){Lc=null;break e}if(nl!==null){nl.return=sl,Lc=nl;break e}Lc=sl}}}var Xy={getCacheForType:function(qa){var Za=Hc(kc),Ao=Za.data.get(qa);return Ao===void 0&&(Ao=qa(),Za.data.set(qa,Ao)),Ao}},Qy=typeof WeakMap=="function"?WeakMap:Map,oc=0,gc=null,Xu=null,tc=0,lc=0,rd=null,mf=!1,vh=!1,Hm=!1,Qd=0,_c=0,gf=0,Hf=0,Vm=0,md=0,Eh=0,p0=null,Zc=null,qm=!1,Ym=0,up=1/0,cp=null,bf=null,Fc=0,xf=null,_h=null,Sh=0,Wm=0,Km=null,Vb=null,m0=0,Xm=null;function id(){if((oc&2)!==0&&tc!==0)return tc&-tc;if(ml.T!==null){var qa=uh;return qa!==0?qa:rg()}return Jd()}function qb(){md===0&&(md=(tc&536870912)===0||ac?Yu():536870912);var qa=pd.current;return qa!==null&&(qa.flags|=32),md}function ad(qa,Za,Ao){(qa===gc&&(lc===2||lc===9)||qa.cancelPendingCommit!==null)&&(Th(qa,0),yf(qa,tc,md,!1)),uc(qa,Ao),((oc&2)===0||qa!==gc)&&(qa===gc&&((oc&2)===0&&(Hf|=Ao),_c===4&&yf(qa,tc,md,!1)),kd(qa))}function Yb(qa,Za,Ao){if((oc&6)!==0)throw Error(Ba(327));var jo=!Ao&&(Za&124)===0&&(Za&qa.expiredLanes)===0||Lu(qa,Za),nl=jo?ev(qa,Za):Jm(qa,Za,!0),sl=jo;do{if(nl===0){vh&&!jo&&yf(qa,Za,0,!1);break}else{if(Ao=qa.current.alternate,sl&&!Zy(Ao)){nl=Jm(qa,Za,!1),sl=!1;continue}if(nl===2){if(sl=Za,qa.errorRecoveryDisabledLanes&sl)var hl=0;else hl=qa.pendingLanes&-536870913,hl=hl!==0?hl:hl&536870912?536870912:0;if(hl!==0){Za=hl;e:{var vl=qa;nl=p0;var Ol=vl.current.memoizedState.isDehydrated;if(Ol&&(Th(vl,hl).flags|=256),hl=Jm(vl,hl,!1),hl!==2){if(Hm&&!Ol){vl.errorRecoveryDisabledLanes|=sl,Hf|=sl,nl=4;break e}sl=Zc,Zc=nl,sl!==null&&(Zc===null?Zc=sl:Zc.push.apply(Zc,sl))}nl=hl}if(sl=!1,nl!==2)continue}}if(nl===1){Th(qa,0),yf(qa,Za,0,!0);break}e:{switch(jo=qa,sl=nl,sl){case 0:case 1:throw Error(Ba(345));case 4:if((Za&4194048)!==Za)break;case 6:yf(jo,Za,md,!mf);break e;case 2:Zc=null;break;case 3:case 5:break;default:throw Error(Ba(329))}if((Za&62914560)===Za&&(nl=Ym+300-xu(),10<nl)){if(yf(jo,Za,md,!mf),sc(jo,0,!0)!==0)break e;jo.timeoutHandle=Sx(Wb.bind(null,jo,Ao,Zc,cp,qm,Za,md,Hf,Eh,mf,sl,2,-0,0),nl);break e}Wb(jo,Ao,Zc,cp,qm,Za,md,Hf,Eh,mf,sl,0,-0,0)}}break}while(!0);kd(qa)}function Wb(qa,Za,Ao,jo,nl,sl,hl,vl,Ol,Hl,Jl,nu,Vl,ql){if(qa.timeoutHandle=-1,nu=Za.subtreeFlags,(nu&8192||(nu&16785408)===16785408)&&(_0={stylesheets:null,count:0,unsuspend:Dv},zb(Za),nu=Pv(),nu!==null)){qa.cancelPendingCommit=nu(tx.bind(null,qa,Za,sl,Ao,jo,nl,hl,vl,Ol,Jl,1,Vl,ql)),yf(qa,sl,hl,!Hl);return}tx(qa,Za,sl,Ao,jo,nl,hl,vl,Ol)}function Zy(qa){for(var Za=qa;;){var Ao=Za.tag;if((Ao===0||Ao===11||Ao===15)&&Za.flags&16384&&(Ao=Za.updateQueue,Ao!==null&&(Ao=Ao.stores,Ao!==null)))for(var jo=0;jo<Ao.length;jo++){var nl=Ao[jo],sl=nl.getSnapshot;nl=nl.value;try{if(!Jc(sl(),nl))return!1}catch{return!1}}if(Ao=Za.child,Za.subtreeFlags&16384&&Ao!==null)Ao.return=Za,Za=Ao;else{if(Za===qa)break;for(;Za.sibling===null;){if(Za.return===null||Za.return===qa)return!0;Za=Za.return}Za.sibling.return=Za.return,Za=Za.sibling}}return!0}function yf(qa,Za,Ao,jo){Za&=~Vm,Za&=~Hf,qa.suspendedLanes|=Za,qa.pingedLanes&=~Za,jo&&(qa.warmLanes|=Za),jo=qa.expirationTimes;for(var nl=Za;0<nl;){var sl=31-_u(nl),hl=1<<sl;jo[sl]=-1,nl&=~hl}Ao!==0&&Cu(qa,Ao,Za)}function dp(){return(oc&6)===0?(g0(0),!1):!0}function Qm(){if(Xu!==null){if(lc===0)var qa=Xu.return;else qa=Xu,Gd=$f=null,pm(qa),gh=null,s0=0,qa=Xu;for(;qa!==null;)Cb(qa.alternate,qa),qa=qa.return;Xu=null}}function Th(qa,Za){var Ao=qa.timeoutHandle;Ao!==-1&&(qa.timeoutHandle=-1,gv(Ao)),Ao=qa.cancelPendingCommit,Ao!==null&&(qa.cancelPendingCommit=null,Ao()),Qm(),gc=qa,Xu=Ao=Bd(qa.current,null),tc=Za,lc=0,rd=null,mf=!1,vh=Lu(qa,Za),Hm=!1,Eh=md=Vm=Hf=gf=_c=0,Zc=p0=null,qm=!1,(Za&8)!==0&&(Za|=Za&32);var jo=qa.entangledLanes;if(jo!==0)for(qa=qa.entanglements,jo&=Za;0<jo;){var nl=31-_u(jo),sl=1<<nl;Za|=qa[nl],jo&=~sl}return Qd=Za,k0(),Ao}function Kb(qa,Za){Vu=null,ml.H=Q0,Za===Qh||Za===z0?(Za=f1(),lc=3):Za===u1?(Za=f1(),lc=4):lc=Za===hb?8:Za!==null&&typeof Za=="object"&&typeof Za.then=="function"?6:1,rd=Za,Xu===null&&(_c=1,np(qa,cd(Za,qa.current)))}function Xb(){var qa=ml.H;return ml.H=Q0,qa===null?Q0:qa}function Qb(){var qa=ml.A;return ml.A=Xy,qa}function Zm(){_c=4,mf||(tc&4194048)!==tc&&pd.current!==null||(vh=!0),(gf&134217727)===0&&(Hf&134217727)===0||gc===null||yf(gc,tc,md,!1)}function Jm(qa,Za,Ao){var jo=oc;oc|=2;var nl=Xb(),sl=Qb();(gc!==qa||tc!==Za)&&(cp=null,Th(qa,Za)),Za=!1;var hl=_c;e:do try{if(lc!==0&&Xu!==null){var vl=Xu,Ol=rd;switch(lc){case 8:Qm(),hl=6;break e;case 3:case 2:case 9:case 6:pd.current===null&&(Za=!0);var Hl=lc;if(lc=0,rd=null,wh(qa,vl,Ol,Hl),Ao&&vh){hl=0;break e}break;default:Hl=lc,lc=0,rd=null,wh(qa,vl,Ol,Hl)}}Jy(),hl=_c;break}catch(Jl){Kb(qa,Jl)}while(!0);return Za&&qa.shellSuspendCounter++,Gd=$f=null,oc=jo,ml.H=nl,ml.A=sl,Xu===null&&(gc=null,tc=0,k0()),hl}function Jy(){for(;Xu!==null;)Zb(Xu)}function ev(qa,Za){var Ao=oc;oc|=2;var jo=Xb(),nl=Qb();gc!==qa||tc!==Za?(cp=null,up=xu()+500,Th(qa,Za)):vh=Lu(qa,Za);e:do try{if(lc!==0&&Xu!==null){Za=Xu;var sl=rd;t:switch(lc){case 1:lc=0,rd=null,wh(qa,Za,sl,1);break;case 2:case 9:if(c1(sl)){lc=0,rd=null,Jb(Za);break}Za=function(){lc!==2&&lc!==9||gc!==qa||(lc=7),kd(qa)},sl.then(Za,Za);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:c1(sl)?(lc=0,rd=null,Jb(Za)):(lc=0,rd=null,wh(qa,Za,sl,7));break;case 5:var hl=null;switch(Xu.tag){case 26:hl=Xu.memoizedState;case 5:case 27:var vl=Xu;if(!hl||Px(hl)){lc=0,rd=null;var Ol=vl.sibling;if(Ol!==null)Xu=Ol;else{var Hl=vl.return;Hl!==null?(Xu=Hl,fp(Hl)):Xu=null}break t}}lc=0,rd=null,wh(qa,Za,sl,5);break;case 6:lc=0,rd=null,wh(qa,Za,sl,6);break;case 8:Qm(),_c=6;break e;default:throw Error(Ba(462))}}tv();break}catch(Jl){Kb(qa,Jl)}while(!0);return Gd=$f=null,ml.H=jo,ml.A=nl,oc=Ao,Xu!==null?0:(gc=null,tc=0,k0(),_c)}function tv(){for(;Xu!==null&&!fu();)Zb(Xu)}function Zb(qa){var Za=wb(qa.alternate,qa,Qd);qa.memoizedProps=qa.pendingProps,Za===null?fp(qa):Xu=Za}function Jb(qa){var Za=qa,Ao=Za.alternate;switch(Za.tag){case 15:case 0:Za=yb(Ao,Za,Za.pendingProps,Za.type,void 0,tc);break;case 11:Za=yb(Ao,Za,Za.pendingProps,Za.type.render,Za.ref,tc);break;case 5:pm(Za);default:Cb(Ao,Za),Za=Xu=e1(Za,Qd),Za=wb(Ao,Za,Qd)}qa.memoizedProps=qa.pendingProps,Za===null?fp(qa):Xu=Za}function wh(qa,Za,Ao,jo){Gd=$f=null,pm(Za),gh=null,s0=0;var nl=Za.return;try{if(Hy(qa,nl,Za,Ao,tc)){_c=1,np(qa,cd(Ao,qa.current)),Xu=null;return}}catch(sl){if(nl!==null)throw Xu=nl,sl;_c=1,np(qa,cd(Ao,qa.current)),Xu=null;return}Za.flags&32768?(ac||jo===1?qa=!0:vh||(tc&536870912)!==0?qa=!1:(mf=qa=!0,(jo===2||jo===9||jo===3||jo===6)&&(jo=pd.current,jo!==null&&jo.tag===13&&(jo.flags|=16384))),ex(Za,qa)):fp(Za)}function fp(qa){var Za=qa;do{if((Za.flags&32768)!==0){ex(Za,mf);return}qa=Za.return;var Ao=qy(Za.alternate,Za,Qd);if(Ao!==null){Xu=Ao;return}if(Za=Za.sibling,Za!==null){Xu=Za;return}Xu=Za=qa}while(Za!==null);_c===0&&(_c=5)}function ex(qa,Za){do{var Ao=Yy(qa.alternate,qa);if(Ao!==null){Ao.flags&=32767,Xu=Ao;return}if(Ao=qa.return,Ao!==null&&(Ao.flags|=32768,Ao.subtreeFlags=0,Ao.deletions=null),!Za&&(qa=qa.sibling,qa!==null)){Xu=qa;return}Xu=qa=Ao}while(qa!==null);_c=6,Xu=null}function tx(qa,Za,Ao,jo,nl,sl,hl,vl,Ol){qa.cancelPendingCommit=null;do hp();while(Fc!==0);if((oc&6)!==0)throw Error(Ba(327));if(Za!==null){if(Za===qa.current)throw Error(Ba(177));if(sl=Za.lanes|Za.childLanes,sl|=Gp,Ou(qa,Ao,sl,hl,vl,Ol),qa===gc&&(Xu=gc=null,tc=0),_h=Za,xf=qa,Sh=Ao,Wm=sl,Km=nl,Vb=jo,(Za.subtreeFlags&10256)!==0||(Za.flags&10256)!==0?(qa.callbackNode=null,qa.callbackPriority=0,av(Mu,function(){return sx(),null})):(qa.callbackNode=null,qa.callbackPriority=0),jo=(Za.flags&13878)!==0,(Za.subtreeFlags&13878)!==0||jo){jo=ml.T,ml.T=null,nl=Sl.p,Sl.p=2,hl=oc,oc|=4;try{Wy(qa,Za,Ao)}finally{oc=hl,Sl.p=nl,ml.T=jo}}Fc=1,nx(),rx(),ix()}}function nx(){if(Fc===1){Fc=0;var qa=xf,Za=_h,Ao=(Za.flags&13878)!==0;if((Za.subtreeFlags&13878)!==0||Ao){Ao=ml.T,ml.T=null;var jo=Sl.p;Sl.p=2;var nl=oc;oc|=4;try{$b(Za,qa);var sl=dg,hl=Hg(qa.containerInfo),vl=sl.focusedElem,Ol=sl.selectionRange;if(hl!==vl&&vl&&vl.ownerDocument&&Gg(vl.ownerDocument.documentElement,vl)){if(Ol!==null&&$p(vl)){var Hl=Ol.start,Jl=Ol.end;if(Jl===void 0&&(Jl=Hl),"selectionStart"in vl)vl.selectionStart=Hl,vl.selectionEnd=Math.min(Jl,vl.value.length);else{var nu=vl.ownerDocument||document,Vl=nu&&nu.defaultView||window;if(Vl.getSelection){var ql=Vl.getSelection(),ku=vl.textContent.length,Iu=Math.min(Ol.start,ku),fc=Ol.end===void 0?Iu:Math.min(Ol.end,ku);!ql.extend&&Iu>fc&&(hl=fc,fc=Iu,Iu=hl);var Fl=Ug(vl,Iu),Ml=Ug(vl,fc);if(Fl&&Ml&&(ql.rangeCount!==1||ql.anchorNode!==Fl.node||ql.anchorOffset!==Fl.offset||ql.focusNode!==Ml.node||ql.focusOffset!==Ml.offset)){var Gl=nu.createRange();Gl.setStart(Fl.node,Fl.offset),ql.removeAllRanges(),Iu>fc?(ql.addRange(Gl),ql.extend(Ml.node,Ml.offset)):(Gl.setEnd(Ml.node,Ml.offset),ql.addRange(Gl))}}}}for(nu=[],ql=vl;ql=ql.parentNode;)ql.nodeType===1&&nu.push({element:ql,left:ql.scrollLeft,top:ql.scrollTop});for(typeof vl.focus=="function"&&vl.focus(),vl=0;vl<nu.length;vl++){var tu=nu[vl];tu.element.scrollLeft=tu.left,tu.element.scrollTop=tu.top}}wp=!!cg,dg=cg=null}finally{oc=nl,Sl.p=jo,ml.T=Ao}}qa.current=Za,Fc=2}}function rx(){if(Fc===2){Fc=0;var qa=xf,Za=_h,Ao=(Za.flags&8772)!==0;if((Za.subtreeFlags&8772)!==0||Ao){Ao=ml.T,ml.T=null;var jo=Sl.p;Sl.p=2;var nl=oc;oc|=4;try{Mb(qa,Za.alternate,Za)}finally{oc=nl,Sl.p=jo,ml.T=Ao}}Fc=3}}function ix(){if(Fc===4||Fc===3){Fc=0,bu();var qa=xf,Za=_h,Ao=Sh,jo=Vb;(Za.subtreeFlags&10256)!==0||(Za.flags&10256)!==0?Fc=5:(Fc=0,_h=xf=null,ax(qa,qa.pendingLanes));var nl=qa.pendingLanes;if(nl===0&&(bf=null),xd(Ao),Za=Za.stateNode,iu&&typeof iu.onCommitFiberRoot=="function")try{iu.onCommitFiberRoot(Ql,Za,void 0,(Za.current.flags&128)===128)}catch{}if(jo!==null){Za=ml.T,nl=Sl.p,Sl.p=2,ml.T=null;try{for(var sl=qa.onRecoverableError,hl=0;hl<jo.length;hl++){var vl=jo[hl];sl(vl.value,{componentStack:vl.stack})}}finally{ml.T=Za,Sl.p=nl}}(Sh&3)!==0&&hp(),kd(qa),nl=qa.pendingLanes,(Ao&4194090)!==0&&(nl&42)!==0?qa===Xm?m0++:(m0=0,Xm=qa):m0=0,g0(0)}}function ax(qa,Za){(qa.pooledCacheLanes&=Za)===0&&(Za=qa.pooledCache,Za!=null&&(qa.pooledCache=null,Kh(Za)))}function hp(qa){return nx(),rx(),ix(),sx()}function sx(){if(Fc!==5)return!1;var qa=xf,Za=Wm;Wm=0;var Ao=xd(Sh),jo=ml.T,nl=Sl.p;try{Sl.p=32>Ao?32:Ao,ml.T=null,Ao=Km,Km=null;var sl=xf,hl=Sh;if(Fc=0,_h=xf=null,Sh=0,(oc&6)!==0)throw Error(Ba(331));var vl=oc;if(oc|=4,Gb(sl.current),Bb(sl,sl.current,hl,Ao),oc=vl,g0(0,!1),iu&&typeof iu.onPostCommitFiberRoot=="function")try{iu.onPostCommitFiberRoot(Ql,sl)}catch{}return!0}finally{Sl.p=nl,ml.T=jo,ax(qa,Za)}}function ox(qa,Za,Ao){Za=cd(Ao,Za),Za=Rm(qa.stateNode,Za,2),qa=lf(qa,Za,2),qa!==null&&(uc(qa,2),kd(qa))}function pc(qa,Za,Ao){if(qa.tag===3)ox(qa,qa,Ao);else for(;Za!==null;){if(Za.tag===3){ox(Za,qa,Ao);break}else if(Za.tag===1){var jo=Za.stateNode;if(typeof Za.type.getDerivedStateFromError=="function"||typeof jo.componentDidCatch=="function"&&(bf===null||!bf.has(jo))){qa=cd(Ao,qa),Ao=db(2),jo=lf(Za,Ao,2),jo!==null&&(fb(Ao,jo,Za,qa),uc(jo,2),kd(jo));break}}Za=Za.return}}function eg(qa,Za,Ao){var jo=qa.pingCache;if(jo===null){jo=qa.pingCache=new Qy;var nl=new Set;jo.set(Za,nl)}else nl=jo.get(Za),nl===void 0&&(nl=new Set,jo.set(Za,nl));nl.has(Ao)||(Hm=!0,nl.add(Ao),qa=nv.bind(null,qa,Za,Ao),Za.then(qa,qa))}function nv(qa,Za,Ao){var jo=qa.pingCache;jo!==null&&jo.delete(Za),qa.pingedLanes|=qa.suspendedLanes&Ao,qa.warmLanes&=~Ao,gc===qa&&(tc&Ao)===Ao&&(_c===4||_c===3&&(tc&62914560)===tc&&300>xu()-Ym?(oc&2)===0&&Th(qa,0):Vm|=Ao,Eh===tc&&(Eh=0)),kd(qa)}function lx(qa,Za){Za===0&&(Za=sd()),qa=ah(qa,Za),qa!==null&&(uc(qa,Za),kd(qa))}function rv(qa){var Za=qa.memoizedState,Ao=0;Za!==null&&(Ao=Za.retryLane),lx(qa,Ao)}function iv(qa,Za){var Ao=0;switch(qa.tag){case 13:var jo=qa.stateNode,nl=qa.memoizedState;nl!==null&&(Ao=nl.retryLane);break;case 19:jo=qa.stateNode;break;case 22:jo=qa.stateNode._retryCache;break;default:throw Error(Ba(314))}jo!==null&&jo.delete(Za),lx(qa,Ao)}function av(qa,Za){return ru(qa,Za)}var pp=null,Ah=null,tg=!1,mp=!1,ng=!1,Vf=0;function kd(qa){qa!==Ah&&qa.next===null&&(Ah===null?pp=Ah=qa:Ah=Ah.next=qa),mp=!0,tg||(tg=!0,ov())}function g0(qa,Za){if(!ng&&mp){ng=!0;do for(var Ao=!1,jo=pp;jo!==null;){if(qa!==0){var nl=jo.pendingLanes;if(nl===0)var sl=0;else{var hl=jo.suspendedLanes,vl=jo.pingedLanes;sl=(1<<31-_u(42|qa)+1)-1,sl&=nl&~(hl&~vl),sl=sl&201326741?sl&201326741|1:sl?sl|2:0}sl!==0&&(Ao=!0,hx(jo,sl))}else sl=tc,sl=sc(jo,jo===gc?sl:0,jo.cancelPendingCommit!==null||jo.timeoutHandle!==-1),(sl&3)===0||Lu(jo,sl)||(Ao=!0,hx(jo,sl));jo=jo.next}while(Ao);ng=!1}}function sv(){ux()}function ux(){mp=tg=!1;var qa=0;Vf!==0&&(mv()&&(qa=Vf),Vf=0);for(var Za=xu(),Ao=null,jo=pp;jo!==null;){var nl=jo.next,sl=dx(jo,Za);sl===0?(jo.next=null,Ao===null?pp=nl:Ao.next=nl,nl===null&&(Ah=Ao)):(Ao=jo,(qa!==0||(sl&3)!==0)&&(mp=!0)),jo=nl}g0(qa)}function dx(qa,Za){for(var Ao=qa.suspendedLanes,jo=qa.pingedLanes,nl=qa.expirationTimes,sl=qa.pendingLanes&-62914561;0<sl;){var hl=31-_u(sl),vl=1<<hl,Ol=nl[hl];Ol===-1?((vl&Ao)===0||(vl&jo)!==0)&&(nl[hl]=Ku(vl,Za)):Ol<=Za&&(qa.expiredLanes|=vl),sl&=~vl}if(Za=gc,Ao=tc,Ao=sc(qa,qa===Za?Ao:0,qa.cancelPendingCommit!==null||qa.timeoutHandle!==-1),jo=qa.callbackNode,Ao===0||qa===Za&&(lc===2||lc===9)||qa.cancelPendingCommit!==null)return jo!==null&&jo!==null&&lu(jo),qa.callbackNode=null,qa.callbackPriority=0;if((Ao&3)===0||Lu(qa,Ao)){if(Za=Ao&-Ao,Za===qa.callbackPriority)return Za;switch(jo!==null&&lu(jo),xd(Ao)){case 2:case 8:Ao=ic;break;case 32:Ao=Mu;break;case 268435456:Ao=Pu;break;default:Ao=Mu}return jo=fx.bind(null,qa),Ao=ru(Ao,jo),qa.callbackPriority=Za,qa.callbackNode=Ao,Za}return jo!==null&&jo!==null&&lu(jo),qa.callbackPriority=2,qa.callbackNode=null,2}function fx(qa,Za){if(Fc!==0&&Fc!==5)return qa.callbackNode=null,qa.callbackPriority=0,null;var Ao=qa.callbackNode;if(hp()&&qa.callbackNode!==Ao)return null;var jo=tc;return jo=sc(qa,qa===gc?jo:0,qa.cancelPendingCommit!==null||qa.timeoutHandle!==-1),jo===0?null:(Yb(qa,jo,Za),dx(qa,xu()),qa.callbackNode!=null&&qa.callbackNode===Ao?fx.bind(null,qa):null)}function hx(qa,Za){if(hp())return null;Yb(qa,Za,!0)}function ov(){bv(function(){(oc&6)!==0?ru(Zu,sv):ux()})}function rg(){return Vf===0&&(Vf=Yu()),Vf}function px(qa){return qa==null||typeof qa=="symbol"||typeof qa=="boolean"?null:typeof qa=="function"?qa:jd(""+qa)}function mx(qa,Za){var Ao=Za.ownerDocument.createElement("input");return Ao.name=Za.name,Ao.value=Za.value,qa.id&&Ao.setAttribute("form",qa.id),Za.parentNode.insertBefore(Ao,Za),qa=new FormData(qa),Ao.parentNode.removeChild(Ao),qa}function lv(qa,Za,Ao,jo,nl){if(Za==="submit"&&Ao&&Ao.stateNode===nl){var sl=px((nl[Ic]||null).action),hl=jo.submitter;hl&&(Za=(Za=hl[Ic]||null)?px(Za.formAction):hl.getAttribute("formAction"),Za!==null&&(sl=Za,hl=null));var vl=new $u("action","action",null,jo,nl);qa.push({event:vl,listeners:[{instance:null,listener:function(){if(jo.defaultPrevented){if(Vf!==0){var Ol=hl?mx(nl,hl):new FormData(nl);Sm(Ao,{pending:!0,data:Ol,method:nl.method,action:sl},null,Ol)}}else typeof sl=="function"&&(vl.preventDefault(),Ol=hl?mx(nl,hl):new FormData(nl),Sm(Ao,{pending:!0,data:Ol,method:nl.method,action:sl},sl,Ol))},currentTarget:nl}]})}}for(var ig=0;ig<Up.length;ig++){var ag=Up[ig],uv=ag.toLowerCase(),cv=ag[0].toUpperCase()+ag.slice(1);Sd(uv,"on"+cv)}Sd(Yg,"onAnimationEnd"),Sd(Wg,"onAnimationIteration"),Sd(Kg,"onAnimationStart"),Sd("dblclick","onDoubleClick"),Sd("focusin","onFocus"),Sd("focusout","onBlur"),Sd(Cy,"onTransitionRun"),Sd(Ry,"onTransitionStart"),Sd(Iy,"onTransitionCancel"),Sd(Xg,"onTransitionEnd"),mu("onMouseEnter",["mouseout","mouseover"]),mu("onMouseLeave",["mouseout","mouseover"]),mu("onPointerEnter",["pointerout","pointerover"]),mu("onPointerLeave",["pointerout","pointerover"]),yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yu("onBeforeInput",["compositionend","keypress","textInput","paste"]),yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(b0));function gx(qa,Za){Za=(Za&4)!==0;for(var Ao=0;Ao<qa.length;Ao++){var jo=qa[Ao],nl=jo.event;jo=jo.listeners;e:{var sl=void 0;if(Za)for(var hl=jo.length-1;0<=hl;hl--){var vl=jo[hl],Ol=vl.instance,Hl=vl.currentTarget;if(vl=vl.listener,Ol!==sl&&nl.isPropagationStopped())break e;sl=vl,nl.currentTarget=Hl;try{sl(nl)}catch(Jl){tp(Jl)}nl.currentTarget=null,sl=Ol}else for(hl=0;hl<jo.length;hl++){if(vl=jo[hl],Ol=vl.instance,Hl=vl.currentTarget,vl=vl.listener,Ol!==sl&&nl.isPropagationStopped())break e;sl=vl,nl.currentTarget=Hl;try{sl(nl)}catch(Jl){tp(Jl)}nl.currentTarget=null,sl=Ol}}}}function Qu(qa,Za){var Ao=Za[Md];Ao===void 0&&(Ao=Za[Md]=new Set);var jo=qa+"__bubble";Ao.has(jo)||(bx(Za,qa,2,!1),Ao.add(jo))}function sg(qa,Za,Ao){var jo=0;Za&&(jo|=4),bx(Ao,qa,jo,Za)}var gp="_reactListening"+Math.random().toString(36).slice(2);function og(qa){if(!qa[gp]){qa[gp]=!0,Zl.forEach(function(Ao){Ao!=="selectionchange"&&(dv.has(Ao)||sg(Ao,!1,qa),sg(Ao,!0,qa))});var Za=qa.nodeType===9?qa:qa.ownerDocument;Za===null||Za[gp]||(Za[gp]=!0,sg("selectionchange",!1,Za))}}function bx(qa,Za,Ao,jo){switch(zx(Za)){case 2:var nl=$v;break;case 8:nl=Fv;break;default:nl=Eg}Ao=nl.bind(null,Za,Ao,qa),nl=void 0,!eh||Za!=="touchstart"&&Za!=="touchmove"&&Za!=="wheel"||(nl=!0),jo?nl!==void 0?qa.addEventListener(Za,Ao,{capture:!0,passive:nl}):qa.addEventListener(Za,Ao,!0):nl!==void 0?qa.addEventListener(Za,Ao,{passive:nl}):qa.addEventListener(Za,Ao,!1)}function lg(qa,Za,Ao,jo,nl){var sl=jo;if((Za&1)===0&&(Za&2)===0&&jo!==null)e:for(;;){if(jo===null)return;var hl=jo.tag;if(hl===3||hl===4){var vl=jo.stateNode.containerInfo;if(vl===nl)break;if(hl===4)for(hl=jo.return;hl!==null;){var Ol=hl.tag;if((Ol===3||Ol===4)&&hl.stateNode.containerInfo===nl)return;hl=hl.return}for(;vl!==null;){if(hl=El(vl),hl===null)return;if(Ol=hl.tag,Ol===5||Ol===6||Ol===26||Ol===27){jo=sl=hl;continue e}vl=vl.parentNode}}jo=jo.return}Fh(function(){var Hl=sl,Jl=Zf(Ao),nu=[];e:{var Vl=Qg.get(qa);if(Vl!==void 0){var ql=$u,ku=qa;switch(qa){case"keypress":if(kl(Ao)===0)break e;case"keydown":case"keyup":ql=ay;break;case"focusin":ku="focus",ql=Dp;break;case"focusout":ku="blur",ql=Dp;break;case"beforeblur":case"afterblur":ql=Dp;break;case"click":if(Ao.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ql=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ql=rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ql=ly;break;case Yg:case Wg:case Kg:ql=Xx;break;case Xg:ql=cy;break;case"scroll":case"scrollend":ql=bc;break;case"wheel":ql=fy;break;case"copy":case"cut":case"paste":ql=Zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ql=Rg;break;case"toggle":case"beforetoggle":ql=py}var Iu=(Za&4)!==0,fc=!Iu&&(qa==="scroll"||qa==="scrollend"),Fl=Iu?Vl!==null?Vl+"Capture":null:Vl;Iu=[];for(var Ml=Hl,Gl;Ml!==null;){var tu=Ml;if(Gl=tu.stateNode,tu=tu.tag,tu!==5&&tu!==26&&tu!==27||Gl===null||Fl===null||(tu=tf(Ml,Fl),tu!=null&&Iu.push(x0(Ml,tu,Gl))),fc)break;Ml=Ml.return}0<Iu.length&&(Vl=new ql(Vl,ku,null,Ao,Jl),nu.push({event:Vl,listeners:Iu}))}}if((Za&7)===0){e:{if(Vl=qa==="mouseover"||qa==="pointerover",ql=qa==="mouseout"||qa==="pointerout",Vl&&Ao!==Qf&&(ku=Ao.relatedTarget||Ao.fromElement)&&(El(ku)||ku[od]))break e;if((ql||Vl)&&(Vl=Jl.window===Jl?Jl:(Vl=Jl.ownerDocument)?Vl.defaultView||Vl.parentWindow:window,ql?(ku=Ao.relatedTarget||Ao.toElement,ql=Hl,ku=ku?El(ku):null,ku!==null&&(fc=Ga(ku),Iu=ku.tag,ku!==fc||Iu!==5&&Iu!==27&&Iu!==6)&&(ku=null)):(ql=null,ku=Hl),ql!==ku)){if(Iu=mc,tu="onMouseLeave",Fl="onMouseEnter",Ml="mouse",(qa==="pointerout"||qa==="pointerover")&&(Iu=Rg,tu="onPointerLeave",Fl="onPointerEnter",Ml="pointer"),fc=ql==null?Vl:Pl(ql),Gl=ku==null?Vl:Pl(ku),Vl=new Iu(tu,Ml+"leave",ql,Ao,Jl),Vl.target=fc,Vl.relatedTarget=Gl,tu=null,El(Jl)===Hl&&(Iu=new Iu(Fl,Ml+"enter",ku,Ao,Jl),Iu.target=Gl,Iu.relatedTarget=fc,tu=Iu),fc=tu,ql&&ku)t:{for(Iu=ql,Fl=ku,Ml=0,Gl=Iu;Gl;Gl=Ch(Gl))Ml++;for(Gl=0,tu=Fl;tu;tu=Ch(tu))Gl++;for(;0<Ml-Gl;)Iu=Ch(Iu),Ml--;for(;0<Gl-Ml;)Fl=Ch(Fl),Gl--;for(;Ml--;){if(Iu===Fl||Fl!==null&&Iu===Fl.alternate)break t;Iu=Ch(Iu),Fl=Ch(Fl)}Iu=null}else Iu=null;ql!==null&&xx(nu,Vl,ql,Iu,!1),ku!==null&&fc!==null&&xx(nu,fc,ku,Iu,!0)}}e:{if(Vl=Hl?Pl(Hl):window,ql=Vl.nodeName&&Vl.nodeName.toLowerCase(),ql==="select"||ql==="input"&&Vl.type==="file")var Eu=Lg;else if(Mg(Vl))if(jg)Eu=Ty;else{Eu=_y;var Wu=Ey}else ql=Vl.nodeName,!ql||ql.toLowerCase()!=="input"||Vl.type!=="checkbox"&&Vl.type!=="radio"?Hl&&ju(Hl.elementType)&&(Eu=Lg):Eu=Sy;if(Eu&&(Eu=Eu(qa,Hl))){Pg(nu,Eu,Ao,Jl);break e}Wu&&Wu(qa,Vl,Hl),qa==="focusout"&&Hl&&Vl.type==="number"&&Hl.memoizedProps.value!=null&&Xf(Vl,"number",Vl.value)}switch(Wu=Hl?Pl(Hl):window,qa){case"focusin":(Mg(Wu)||Wu.contentEditable==="true")&&(nh=Wu,Fp=Hl,Hh=null);break;case"focusout":Hh=Fp=nh=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,Vg(nu,Ao,Jl);break;case"selectionchange":if(Ay)break;case"keydown":case"keyup":Vg(nu,Ao,Jl)}var Tu;if(Pp)e:{switch(qa){case"compositionstart":var Nu="onCompositionStart";break e;case"compositionend":Nu="onCompositionEnd";break e;case"compositionupdate":Nu="onCompositionUpdate";break e}Nu=void 0}else th?kg(qa,Ao)&&(Nu="onCompositionEnd"):qa==="keydown"&&Ao.keyCode===229&&(Nu="onCompositionStart");Nu&&(Ig&&Ao.locale!=="ko"&&(th||Nu!=="onCompositionStart"?Nu==="onCompositionEnd"&&th&&(Tu=wl()):(Ed=Jl,fl="value"in Ed?Ed.value:Ed.textContent,th=!0)),Wu=bp(Hl,Nu),0<Wu.length&&(Nu=new Cg(Nu,qa,null,Ao,Jl),nu.push({event:Nu,listeners:Wu}),Tu?Nu.data=Tu:(Tu=Dg(Ao),Tu!==null&&(Nu.data=Tu)))),(Tu=gy?by(qa,Ao):xy(qa,Ao))&&(Nu=bp(Hl,"onBeforeInput"),0<Nu.length&&(Wu=new Cg("onBeforeInput","beforeinput",null,Ao,Jl),nu.push({event:Wu,listeners:Nu}),Wu.data=Tu)),lv(nu,qa,Hl,Ao,Jl)}gx(nu,Za)})}function x0(qa,Za,Ao){return{instance:qa,listener:Za,currentTarget:Ao}}function bp(qa,Za){for(var Ao=Za+"Capture",jo=[];qa!==null;){var nl=qa,sl=nl.stateNode;if(nl=nl.tag,nl!==5&&nl!==26&&nl!==27||sl===null||(nl=tf(qa,Ao),nl!=null&&jo.unshift(x0(qa,nl,sl)),nl=tf(qa,Za),nl!=null&&jo.push(x0(qa,nl,sl))),qa.tag===3)return jo;qa=qa.return}return[]}function Ch(qa){if(qa===null)return null;do qa=qa.return;while(qa&&qa.tag!==5&&qa.tag!==27);return qa||null}function xx(qa,Za,Ao,jo,nl){for(var sl=Za._reactName,hl=[];Ao!==null&&Ao!==jo;){var vl=Ao,Ol=vl.alternate,Hl=vl.stateNode;if(vl=vl.tag,Ol!==null&&Ol===jo)break;vl!==5&&vl!==26&&vl!==27||Hl===null||(Ol=Hl,nl?(Hl=tf(Ao,sl),Hl!=null&&hl.unshift(x0(Ao,Hl,Ol))):nl||(Hl=tf(Ao,sl),Hl!=null&&hl.push(x0(Ao,Hl,Ol)))),Ao=Ao.return}hl.length!==0&&qa.push({event:Za,listeners:hl})}var fv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function yx(qa){return(typeof qa=="string"?qa:""+qa).replace(fv,`
`).replace(hv,"")}function vx(qa,Za){return Za=yx(Za),yx(qa)===Za}function xp(){}function dc(qa,Za,Ao,jo,nl,sl){switch(Ao){case"children":typeof jo=="string"?Za==="body"||Za==="textarea"&&jo===""||Cd(qa,jo):(typeof jo=="number"||typeof jo=="bigint")&&Za!=="body"&&Cd(qa,""+jo);break;case"className":Uu(qa,"class",jo);break;case"tabIndex":Uu(qa,"tabindex",jo);break;case"dir":case"role":case"viewBox":case"width":case"height":Uu(qa,Ao,jo);break;case"style":Lh(qa,jo,sl);break;case"data":if(Za!=="object"){Uu(qa,"data",jo);break}case"src":case"href":if(jo===""&&(Za!=="a"||Ao!=="href")){qa.removeAttribute(Ao);break}if(jo==null||typeof jo=="function"||typeof jo=="symbol"||typeof jo=="boolean"){qa.removeAttribute(Ao);break}jo=jd(""+jo),qa.setAttribute(Ao,jo);break;case"action":case"formAction":if(typeof jo=="function"){qa.setAttribute(Ao,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof sl=="function"&&(Ao==="formAction"?(Za!=="input"&&dc(qa,Za,"name",nl.name,nl,null),dc(qa,Za,"formEncType",nl.formEncType,nl,null),dc(qa,Za,"formMethod",nl.formMethod,nl,null),dc(qa,Za,"formTarget",nl.formTarget,nl,null)):(dc(qa,Za,"encType",nl.encType,nl,null),dc(qa,Za,"method",nl.method,nl,null),dc(qa,Za,"target",nl.target,nl,null)));if(jo==null||typeof jo=="symbol"||typeof jo=="boolean"){qa.removeAttribute(Ao);break}jo=jd(""+jo),qa.setAttribute(Ao,jo);break;case"onClick":jo!=null&&(qa.onclick=xp);break;case"onScroll":jo!=null&&Qu("scroll",qa);break;case"onScrollEnd":jo!=null&&Qu("scrollend",qa);break;case"dangerouslySetInnerHTML":if(jo!=null){if(typeof jo!="object"||!("__html"in jo))throw Error(Ba(61));if(Ao=jo.__html,Ao!=null){if(nl.children!=null)throw Error(Ba(60));qa.innerHTML=Ao}}break;case"multiple":qa.multiple=jo&&typeof jo!="function"&&typeof jo!="symbol";break;case"muted":qa.muted=jo&&typeof jo!="function"&&typeof jo!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(jo==null||typeof jo=="function"||typeof jo=="boolean"||typeof jo=="symbol"){qa.removeAttribute("xlink:href");break}Ao=jd(""+jo),qa.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ao);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":jo!=null&&typeof jo!="function"&&typeof jo!="symbol"?qa.setAttribute(Ao,""+jo):qa.removeAttribute(Ao);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":jo&&typeof jo!="function"&&typeof jo!="symbol"?qa.setAttribute(Ao,""):qa.removeAttribute(Ao);break;case"capture":case"download":jo===!0?qa.setAttribute(Ao,""):jo!==!1&&jo!=null&&typeof jo!="function"&&typeof jo!="symbol"?qa.setAttribute(Ao,jo):qa.removeAttribute(Ao);break;case"cols":case"rows":case"size":case"span":jo!=null&&typeof jo!="function"&&typeof jo!="symbol"&&!isNaN(jo)&&1<=jo?qa.setAttribute(Ao,jo):qa.removeAttribute(Ao);break;case"rowSpan":case"start":jo==null||typeof jo=="function"||typeof jo=="symbol"||isNaN(jo)?qa.removeAttribute(Ao):qa.setAttribute(Ao,jo);break;case"popover":Qu("beforetoggle",qa),Qu("toggle",qa),Wl(qa,"popover",jo);break;case"xlinkActuate":Ju(qa,"http://www.w3.org/1999/xlink","xlink:actuate",jo);break;case"xlinkArcrole":Ju(qa,"http://www.w3.org/1999/xlink","xlink:arcrole",jo);break;case"xlinkRole":Ju(qa,"http://www.w3.org/1999/xlink","xlink:role",jo);break;case"xlinkShow":Ju(qa,"http://www.w3.org/1999/xlink","xlink:show",jo);break;case"xlinkTitle":Ju(qa,"http://www.w3.org/1999/xlink","xlink:title",jo);break;case"xlinkType":Ju(qa,"http://www.w3.org/1999/xlink","xlink:type",jo);break;case"xmlBase":Ju(qa,"http://www.w3.org/XML/1998/namespace","xml:base",jo);break;case"xmlLang":Ju(qa,"http://www.w3.org/XML/1998/namespace","xml:lang",jo);break;case"xmlSpace":Ju(qa,"http://www.w3.org/XML/1998/namespace","xml:space",jo);break;case"is":Wl(qa,"is",jo);break;case"innerText":case"textContent":break;default:(!(2<Ao.length)||Ao[0]!=="o"&&Ao[0]!=="O"||Ao[1]!=="n"&&Ao[1]!=="N")&&(Ao=zu.get(Ao)||Ao,Wl(qa,Ao,jo))}}function ug(qa,Za,Ao,jo,nl,sl){switch(Ao){case"style":Lh(qa,jo,sl);break;case"dangerouslySetInnerHTML":if(jo!=null){if(typeof jo!="object"||!("__html"in jo))throw Error(Ba(61));if(Ao=jo.__html,Ao!=null){if(nl.children!=null)throw Error(Ba(60));qa.innerHTML=Ao}}break;case"children":typeof jo=="string"?Cd(qa,jo):(typeof jo=="number"||typeof jo=="bigint")&&Cd(qa,""+jo);break;case"onScroll":jo!=null&&Qu("scroll",qa);break;case"onScrollEnd":jo!=null&&Qu("scrollend",qa);break;case"onClick":jo!=null&&(qa.onclick=xp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!du.hasOwnProperty(Ao))e:{if(Ao[0]==="o"&&Ao[1]==="n"&&(nl=Ao.endsWith("Capture"),Za=Ao.slice(2,nl?Ao.length-7:void 0),sl=qa[Ic]||null,sl=sl!=null?sl[Ao]:null,typeof sl=="function"&&qa.removeEventListener(Za,sl,nl),typeof jo=="function")){typeof sl!="function"&&sl!==null&&(Ao in qa?qa[Ao]=null:qa.hasAttribute(Ao)&&qa.removeAttribute(Ao)),qa.addEventListener(Za,jo,nl);break e}Ao in qa?qa[Ao]=jo:jo===!0?qa.setAttribute(Ao,""):Wl(qa,Ao,jo)}}}function Bc(qa,Za,Ao){switch(Za){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",qa),Qu("load",qa);var jo=!1,nl=!1,sl;for(sl in Ao)if(Ao.hasOwnProperty(sl)){var hl=Ao[sl];if(hl!=null)switch(sl){case"src":jo=!0;break;case"srcSet":nl=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ba(137,Za));default:dc(qa,Za,sl,hl,Ao,null)}}nl&&dc(qa,Za,"srcSet",Ao.srcSet,Ao,null),jo&&dc(qa,Za,"src",Ao.src,Ao,null);return;case"input":Qu("invalid",qa);var vl=sl=hl=nl=null,Ol=null,Hl=null;for(jo in Ao)if(Ao.hasOwnProperty(jo)){var Jl=Ao[jo];if(Jl!=null)switch(jo){case"name":nl=Jl;break;case"type":hl=Jl;break;case"checked":Ol=Jl;break;case"defaultChecked":Hl=Jl;break;case"value":sl=Jl;break;case"defaultValue":vl=Jl;break;case"children":case"dangerouslySetInnerHTML":if(Jl!=null)throw Error(Ba(137,Za));break;default:dc(qa,Za,jo,Jl,Ao,null)}}Dh(qa,sl,vl,Ol,Hl,hl,nl,!1),Wf(qa);return;case"select":Qu("invalid",qa),jo=hl=sl=null;for(nl in Ao)if(Ao.hasOwnProperty(nl)&&(vl=Ao[nl],vl!=null))switch(nl){case"value":sl=vl;break;case"defaultValue":hl=vl;break;case"multiple":jo=vl;default:dc(qa,Za,nl,vl,Ao,null)}Za=sl,Ao=hl,qa.multiple=!!jo,Za!=null?vd(qa,!!jo,Za,!1):Ao!=null&&vd(qa,!!jo,Ao,!0);return;case"textarea":Qu("invalid",qa),sl=nl=jo=null;for(hl in Ao)if(Ao.hasOwnProperty(hl)&&(vl=Ao[hl],vl!=null))switch(hl){case"value":jo=vl;break;case"defaultValue":nl=vl;break;case"children":sl=vl;break;case"dangerouslySetInnerHTML":if(vl!=null)throw Error(Ba(91));break;default:dc(qa,Za,hl,vl,Ao,null)}Ph(qa,jo,nl,sl),Wf(qa);return;case"option":for(Ol in Ao)if(Ao.hasOwnProperty(Ol)&&(jo=Ao[Ol],jo!=null))switch(Ol){case"selected":qa.selected=jo&&typeof jo!="function"&&typeof jo!="symbol";break;default:dc(qa,Za,Ol,jo,Ao,null)}return;case"dialog":Qu("beforetoggle",qa),Qu("toggle",qa),Qu("cancel",qa),Qu("close",qa);break;case"iframe":case"object":Qu("load",qa);break;case"video":case"audio":for(jo=0;jo<b0.length;jo++)Qu(b0[jo],qa);break;case"image":Qu("error",qa),Qu("load",qa);break;case"details":Qu("toggle",qa);break;case"embed":case"source":case"link":Qu("error",qa),Qu("load",qa);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Hl in Ao)if(Ao.hasOwnProperty(Hl)&&(jo=Ao[Hl],jo!=null))switch(Hl){case"children":case"dangerouslySetInnerHTML":throw Error(Ba(137,Za));default:dc(qa,Za,Hl,jo,Ao,null)}return;default:if(ju(Za)){for(Jl in Ao)Ao.hasOwnProperty(Jl)&&(jo=Ao[Jl],jo!==void 0&&ug(qa,Za,Jl,jo,Ao,void 0));return}}for(vl in Ao)Ao.hasOwnProperty(vl)&&(jo=Ao[vl],jo!=null&&dc(qa,Za,vl,jo,Ao,null))}function pv(qa,Za,Ao,jo){switch(Za){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var nl=null,sl=null,hl=null,vl=null,Ol=null,Hl=null,Jl=null;for(ql in Ao){var nu=Ao[ql];if(Ao.hasOwnProperty(ql)&&nu!=null)switch(ql){case"checked":break;case"value":break;case"defaultValue":Ol=nu;default:jo.hasOwnProperty(ql)||dc(qa,Za,ql,null,jo,nu)}}for(var Vl in jo){var ql=jo[Vl];if(nu=Ao[Vl],jo.hasOwnProperty(Vl)&&(ql!=null||nu!=null))switch(Vl){case"type":sl=ql;break;case"name":nl=ql;break;case"checked":Hl=ql;break;case"defaultChecked":Jl=ql;break;case"value":hl=ql;break;case"defaultValue":vl=ql;break;case"children":case"dangerouslySetInnerHTML":if(ql!=null)throw Error(Ba(137,Za));break;default:ql!==nu&&dc(qa,Za,Vl,ql,jo,nu)}}Kf(qa,hl,vl,Ol,Hl,Jl,sl,nl);return;case"select":ql=hl=vl=Vl=null;for(sl in Ao)if(Ol=Ao[sl],Ao.hasOwnProperty(sl)&&Ol!=null)switch(sl){case"value":break;case"multiple":ql=Ol;default:jo.hasOwnProperty(sl)||dc(qa,Za,sl,null,jo,Ol)}for(nl in jo)if(sl=jo[nl],Ol=Ao[nl],jo.hasOwnProperty(nl)&&(sl!=null||Ol!=null))switch(nl){case"value":Vl=sl;break;case"defaultValue":vl=sl;break;case"multiple":hl=sl;default:sl!==Ol&&dc(qa,Za,nl,sl,jo,Ol)}Za=vl,Ao=hl,jo=ql,Vl!=null?vd(qa,!!Ao,Vl,!1):!!jo!=!!Ao&&(Za!=null?vd(qa,!!Ao,Za,!0):vd(qa,!!Ao,Ao?[]:"",!1));return;case"textarea":ql=Vl=null;for(vl in Ao)if(nl=Ao[vl],Ao.hasOwnProperty(vl)&&nl!=null&&!jo.hasOwnProperty(vl))switch(vl){case"value":break;case"children":break;default:dc(qa,Za,vl,null,jo,nl)}for(hl in jo)if(nl=jo[hl],sl=Ao[hl],jo.hasOwnProperty(hl)&&(nl!=null||sl!=null))switch(hl){case"value":Vl=nl;break;case"defaultValue":ql=nl;break;case"children":break;case"dangerouslySetInnerHTML":if(nl!=null)throw Error(Ba(91));break;default:nl!==sl&&dc(qa,Za,hl,nl,jo,sl)}Mh(qa,Vl,ql);return;case"option":for(var ku in Ao)if(Vl=Ao[ku],Ao.hasOwnProperty(ku)&&Vl!=null&&!jo.hasOwnProperty(ku))switch(ku){case"selected":qa.selected=!1;break;default:dc(qa,Za,ku,null,jo,Vl)}for(Ol in jo)if(Vl=jo[Ol],ql=Ao[Ol],jo.hasOwnProperty(Ol)&&Vl!==ql&&(Vl!=null||ql!=null))switch(Ol){case"selected":qa.selected=Vl&&typeof Vl!="function"&&typeof Vl!="symbol";break;default:dc(qa,Za,Ol,Vl,jo,ql)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Iu in Ao)Vl=Ao[Iu],Ao.hasOwnProperty(Iu)&&Vl!=null&&!jo.hasOwnProperty(Iu)&&dc(qa,Za,Iu,null,jo,Vl);for(Hl in jo)if(Vl=jo[Hl],ql=Ao[Hl],jo.hasOwnProperty(Hl)&&Vl!==ql&&(Vl!=null||ql!=null))switch(Hl){case"children":case"dangerouslySetInnerHTML":if(Vl!=null)throw Error(Ba(137,Za));break;default:dc(qa,Za,Hl,Vl,jo,ql)}return;default:if(ju(Za)){for(var fc in Ao)Vl=Ao[fc],Ao.hasOwnProperty(fc)&&Vl!==void 0&&!jo.hasOwnProperty(fc)&&ug(qa,Za,fc,void 0,jo,Vl);for(Jl in jo)Vl=jo[Jl],ql=Ao[Jl],!jo.hasOwnProperty(Jl)||Vl===ql||Vl===void 0&&ql===void 0||ug(qa,Za,Jl,Vl,jo,ql);return}}for(var Fl in Ao)Vl=Ao[Fl],Ao.hasOwnProperty(Fl)&&Vl!=null&&!jo.hasOwnProperty(Fl)&&dc(qa,Za,Fl,null,jo,Vl);for(nu in jo)Vl=jo[nu],ql=Ao[nu],!jo.hasOwnProperty(nu)||Vl===ql||Vl==null&&ql==null||dc(qa,Za,nu,Vl,jo,ql)}var cg=null,dg=null;function yp(qa){return qa.nodeType===9?qa:qa.ownerDocument}function Ex(qa){switch(qa){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _x(qa,Za){if(qa===0)switch(Za){case"svg":return 1;case"math":return 2;default:return 0}return qa===1&&Za==="foreignObject"?0:qa}function fg(qa,Za){return qa==="textarea"||qa==="noscript"||typeof Za.children=="string"||typeof Za.children=="number"||typeof Za.children=="bigint"||typeof Za.dangerouslySetInnerHTML=="object"&&Za.dangerouslySetInnerHTML!==null&&Za.dangerouslySetInnerHTML.__html!=null}var hg=null;function mv(){var qa=window.event;return qa&&qa.type==="popstate"?qa===hg?!1:(hg=qa,!0):(hg=null,!1)}var Sx=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(qa){return Tx.resolve(null).then(qa).catch(xv)}:Sx;function xv(qa){setTimeout(function(){throw qa})}function vf(qa){return qa==="head"}function wx(qa,Za){var Ao=Za,jo=0,nl=0;do{var sl=Ao.nextSibling;if(qa.removeChild(Ao),sl&&sl.nodeType===8)if(Ao=sl.data,Ao==="/$"){if(0<jo&&8>jo){Ao=jo;var hl=qa.ownerDocument;if(Ao&1&&y0(hl.documentElement),Ao&2&&y0(hl.body),Ao&4)for(Ao=hl.head,y0(Ao),hl=Ao.firstChild;hl;){var vl=hl.nextSibling,Ol=hl.nodeName;hl[yd]||Ol==="SCRIPT"||Ol==="STYLE"||Ol==="LINK"&&hl.rel.toLowerCase()==="stylesheet"||Ao.removeChild(hl),hl=vl}}if(nl===0){qa.removeChild(sl),C0(Za);return}nl--}else Ao==="$"||Ao==="$?"||Ao==="$!"?nl++:jo=Ao.charCodeAt(0)-48;else jo=0;Ao=sl}while(Ao);C0(Za)}function pg(qa){var Za=qa.firstChild;for(Za&&Za.nodeType===10&&(Za=Za.nextSibling);Za;){var Ao=Za;switch(Za=Za.nextSibling,Ao.nodeName){case"HTML":case"HEAD":case"BODY":pg(Ao),Pd(Ao);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Ao.rel.toLowerCase()==="stylesheet")continue}qa.removeChild(Ao)}}function yv(qa,Za,Ao,jo){for(;qa.nodeType===1;){var nl=Ao;if(qa.nodeName.toLowerCase()!==Za.toLowerCase()){if(!jo&&(qa.nodeName!=="INPUT"||qa.type!=="hidden"))break}else if(jo){if(!qa[yd])switch(Za){case"meta":if(!qa.hasAttribute("itemprop"))break;return qa;case"link":if(sl=qa.getAttribute("rel"),sl==="stylesheet"&&qa.hasAttribute("data-precedence"))break;if(sl!==nl.rel||qa.getAttribute("href")!==(nl.href==null||nl.href===""?null:nl.href)||qa.getAttribute("crossorigin")!==(nl.crossOrigin==null?null:nl.crossOrigin)||qa.getAttribute("title")!==(nl.title==null?null:nl.title))break;return qa;case"style":if(qa.hasAttribute("data-precedence"))break;return qa;case"script":if(sl=qa.getAttribute("src"),(sl!==(nl.src==null?null:nl.src)||qa.getAttribute("type")!==(nl.type==null?null:nl.type)||qa.getAttribute("crossorigin")!==(nl.crossOrigin==null?null:nl.crossOrigin))&&sl&&qa.hasAttribute("async")&&!qa.hasAttribute("itemprop"))break;return qa;default:return qa}}else if(Za==="input"&&qa.type==="hidden"){var sl=nl.name==null?null:""+nl.name;if(nl.type==="hidden"&&qa.getAttribute("name")===sl)return qa}else return qa;if(qa=wd(qa.nextSibling),qa===null)break}return null}function vv(qa,Za,Ao){if(Za==="")return null;for(;qa.nodeType!==3;)if((qa.nodeType!==1||qa.nodeName!=="INPUT"||qa.type!=="hidden")&&!Ao||(qa=wd(qa.nextSibling),qa===null))return null;return qa}function mg(qa){return qa.data==="$!"||qa.data==="$?"&&qa.ownerDocument.readyState==="complete"}function Ev(qa,Za){var Ao=qa.ownerDocument;if(qa.data!=="$?"||Ao.readyState==="complete")Za();else{var jo=function(){Za(),Ao.removeEventListener("DOMContentLoaded",jo)};Ao.addEventListener("DOMContentLoaded",jo),qa._reactRetry=jo}}function wd(qa){for(;qa!=null;qa=qa.nextSibling){var Za=qa.nodeType;if(Za===1||Za===3)break;if(Za===8){if(Za=qa.data,Za==="$"||Za==="$!"||Za==="$?"||Za==="F!"||Za==="F")break;if(Za==="/$")return null}}return qa}var gg=null;function Ax(qa){qa=qa.previousSibling;for(var Za=0;qa;){if(qa.nodeType===8){var Ao=qa.data;if(Ao==="$"||Ao==="$!"||Ao==="$?"){if(Za===0)return qa;Za--}else Ao==="/$"&&Za++}qa=qa.previousSibling}return null}function Cx(qa,Za,Ao){switch(Za=yp(Ao),qa){case"html":if(qa=Za.documentElement,!qa)throw Error(Ba(452));return qa;case"head":if(qa=Za.head,!qa)throw Error(Ba(453));return qa;case"body":if(qa=Za.body,!qa)throw Error(Ba(454));return qa;default:throw Error(Ba(451))}}function y0(qa){for(var Za=qa.attributes;Za.length;)qa.removeAttributeNode(Za[0]);Pd(qa)}var gd=new Map,Rx=new Set;function vp(qa){return typeof qa.getRootNode=="function"?qa.getRootNode():qa.nodeType===9?qa:qa.ownerDocument}var Zd=Sl.d;Sl.d={f:_v,r:Sv,D:Tv,C:wv,L:Av,m:Cv,X:Iv,S:Rv,M:Nv};function _v(){var qa=Zd.f(),Za=dp();return qa||Za}function Sv(qa){var Za=Il(qa);Za!==null&&Za.tag===5&&Za.type==="form"?Y1(Za):Zd.r(qa)}var Rh=typeof document>"u"?null:document;function Ix(qa,Za,Ao){var jo=Rh;if(jo&&typeof Za=="string"&&Za){var nl=qc(Za);nl='link[rel="'+qa+'"][href="'+nl+'"]',typeof Ao=="string"&&(nl+='[crossorigin="'+Ao+'"]'),Rx.has(nl)||(Rx.add(nl),qa={rel:qa,crossOrigin:Ao,href:Za},jo.querySelector(nl)===null&&(Za=jo.createElement("link"),Bc(Za,"link",qa),Ul(Za),jo.head.appendChild(Za)))}}function Tv(qa){Zd.D(qa),Ix("dns-prefetch",qa,null)}function wv(qa,Za){Zd.C(qa,Za),Ix("preconnect",qa,Za)}function Av(qa,Za,Ao){Zd.L(qa,Za,Ao);var jo=Rh;if(jo&&qa&&Za){var nl='link[rel="preload"][as="'+qc(Za)+'"]';Za==="image"&&Ao&&Ao.imageSrcSet?(nl+='[imagesrcset="'+qc(Ao.imageSrcSet)+'"]',typeof Ao.imageSizes=="string"&&(nl+='[imagesizes="'+qc(Ao.imageSizes)+'"]')):nl+='[href="'+qc(qa)+'"]';var sl=nl;switch(Za){case"style":sl=Ih(qa);break;case"script":sl=Nh(qa)}gd.has(sl)||(qa=Qa({rel:"preload",href:Za==="image"&&Ao&&Ao.imageSrcSet?void 0:qa,as:Za},Ao),gd.set(sl,qa),jo.querySelector(nl)!==null||Za==="style"&&jo.querySelector(v0(sl))||Za==="script"&&jo.querySelector(E0(sl))||(Za=jo.createElement("link"),Bc(Za,"link",qa),Ul(Za),jo.head.appendChild(Za)))}}function Cv(qa,Za){Zd.m(qa,Za);var Ao=Rh;if(Ao&&qa){var jo=Za&&typeof Za.as=="string"?Za.as:"script",nl='link[rel="modulepreload"][as="'+qc(jo)+'"][href="'+qc(qa)+'"]',sl=nl;switch(jo){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":sl=Nh(qa)}if(!gd.has(sl)&&(qa=Qa({rel:"modulepreload",href:qa},Za),gd.set(sl,qa),Ao.querySelector(nl)===null)){switch(jo){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Ao.querySelector(E0(sl)))return}jo=Ao.createElement("link"),Bc(jo,"link",qa),Ul(jo),Ao.head.appendChild(jo)}}}function Rv(qa,Za,Ao){Zd.S(qa,Za,Ao);var jo=Rh;if(jo&&qa){var nl=Bl(jo).hoistableStyles,sl=Ih(qa);Za=Za||"default";var hl=nl.get(sl);if(!hl){var vl={loading:0,preload:null};if(hl=jo.querySelector(v0(sl)))vl.loading=5;else{qa=Qa({rel:"stylesheet",href:qa,"data-precedence":Za},Ao),(Ao=gd.get(sl))&&bg(qa,Ao);var Ol=hl=jo.createElement("link");Ul(Ol),Bc(Ol,"link",qa),Ol._p=new Promise(function(Hl,Jl){Ol.onload=Hl,Ol.onerror=Jl}),Ol.addEventListener("load",function(){vl.loading|=1}),Ol.addEventListener("error",function(){vl.loading|=2}),vl.loading|=4,Ep(hl,Za,jo)}hl={type:"stylesheet",instance:hl,count:1,state:vl},nl.set(sl,hl)}}}function Iv(qa,Za){Zd.X(qa,Za);var Ao=Rh;if(Ao&&qa){var jo=Bl(Ao).hoistableScripts,nl=Nh(qa),sl=jo.get(nl);sl||(sl=Ao.querySelector(E0(nl)),sl||(qa=Qa({src:qa,async:!0},Za),(Za=gd.get(nl))&&xg(qa,Za),sl=Ao.createElement("script"),Ul(sl),Bc(sl,"link",qa),Ao.head.appendChild(sl)),sl={type:"script",instance:sl,count:1,state:null},jo.set(nl,sl))}}function Nv(qa,Za){Zd.M(qa,Za);var Ao=Rh;if(Ao&&qa){var jo=Bl(Ao).hoistableScripts,nl=Nh(qa),sl=jo.get(nl);sl||(sl=Ao.querySelector(E0(nl)),sl||(qa=Qa({src:qa,async:!0,type:"module"},Za),(Za=gd.get(nl))&&xg(qa,Za),sl=Ao.createElement("script"),Ul(sl),Bc(sl,"link",qa),Ao.head.appendChild(sl)),sl={type:"script",instance:sl,count:1,state:null},jo.set(nl,sl))}}function Nx(qa,Za,Ao,jo){var nl=(nl=Dl.current)?vp(nl):null;if(!nl)throw Error(Ba(446));switch(qa){case"meta":case"title":return null;case"style":return typeof Ao.precedence=="string"&&typeof Ao.href=="string"?(Za=Ih(Ao.href),Ao=Bl(nl).hoistableStyles,jo=Ao.get(Za),jo||(jo={type:"style",instance:null,count:0,state:null},Ao.set(Za,jo)),jo):{type:"void",instance:null,count:0,state:null};case"link":if(Ao.rel==="stylesheet"&&typeof Ao.href=="string"&&typeof Ao.precedence=="string"){qa=Ih(Ao.href);var sl=Bl(nl).hoistableStyles,hl=sl.get(qa);if(hl||(nl=nl.ownerDocument||nl,hl={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},sl.set(qa,hl),(sl=nl.querySelector(v0(qa)))&&!sl._p&&(hl.instance=sl,hl.state.loading=5),gd.has(qa)||(Ao={rel:"preload",as:"style",href:Ao.href,crossOrigin:Ao.crossOrigin,integrity:Ao.integrity,media:Ao.media,hrefLang:Ao.hrefLang,referrerPolicy:Ao.referrerPolicy},gd.set(qa,Ao),sl||Ov(nl,qa,Ao,hl.state))),Za&&jo===null)throw Error(Ba(528,""));return hl}if(Za&&jo!==null)throw Error(Ba(529,""));return null;case"script":return Za=Ao.async,Ao=Ao.src,typeof Ao=="string"&&Za&&typeof Za!="function"&&typeof Za!="symbol"?(Za=Nh(Ao),Ao=Bl(nl).hoistableScripts,jo=Ao.get(Za),jo||(jo={type:"script",instance:null,count:0,state:null},Ao.set(Za,jo)),jo):{type:"void",instance:null,count:0,state:null};default:throw Error(Ba(444,qa))}}function Ih(qa){return'href="'+qc(qa)+'"'}function v0(qa){return'link[rel="stylesheet"]['+qa+"]"}function Ox(qa){return Qa({},qa,{"data-precedence":qa.precedence,precedence:null})}function Ov(qa,Za,Ao,jo){qa.querySelector('link[rel="preload"][as="style"]['+Za+"]")?jo.loading=1:(Za=qa.createElement("link"),jo.preload=Za,Za.addEventListener("load",function(){return jo.loading|=1}),Za.addEventListener("error",function(){return jo.loading|=2}),Bc(Za,"link",Ao),Ul(Za),qa.head.appendChild(Za))}function Nh(qa){return'[src="'+qc(qa)+'"]'}function E0(qa){return"script[async]"+qa}function kx(qa,Za,Ao){if(Za.count++,Za.instance===null)switch(Za.type){case"style":var jo=qa.querySelector('style[data-href~="'+qc(Ao.href)+'"]');if(jo)return Za.instance=jo,Ul(jo),jo;var nl=Qa({},Ao,{"data-href":Ao.href,"data-precedence":Ao.precedence,href:null,precedence:null});return jo=(qa.ownerDocument||qa).createElement("style"),Ul(jo),Bc(jo,"style",nl),Ep(jo,Ao.precedence,qa),Za.instance=jo;case"stylesheet":nl=Ih(Ao.href);var sl=qa.querySelector(v0(nl));if(sl)return Za.state.loading|=4,Za.instance=sl,Ul(sl),sl;jo=Ox(Ao),(nl=gd.get(nl))&&bg(jo,nl),sl=(qa.ownerDocument||qa).createElement("link"),Ul(sl);var hl=sl;return hl._p=new Promise(function(vl,Ol){hl.onload=vl,hl.onerror=Ol}),Bc(sl,"link",jo),Za.state.loading|=4,Ep(sl,Ao.precedence,qa),Za.instance=sl;case"script":return sl=Nh(Ao.src),(nl=qa.querySelector(E0(sl)))?(Za.instance=nl,Ul(nl),nl):(jo=Ao,(nl=gd.get(sl))&&(jo=Qa({},Ao),xg(jo,nl)),qa=qa.ownerDocument||qa,nl=qa.createElement("script"),Ul(nl),Bc(nl,"link",jo),qa.head.appendChild(nl),Za.instance=nl);case"void":return null;default:throw Error(Ba(443,Za.type))}else Za.type==="stylesheet"&&(Za.state.loading&4)===0&&(jo=Za.instance,Za.state.loading|=4,Ep(jo,Ao.precedence,qa));return Za.instance}function Ep(qa,Za,Ao){for(var jo=Ao.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),nl=jo.length?jo[jo.length-1]:null,sl=nl,hl=0;hl<jo.length;hl++){var vl=jo[hl];if(vl.dataset.precedence===Za)sl=vl;else if(sl!==nl)break}sl?sl.parentNode.insertBefore(qa,sl.nextSibling):(Za=Ao.nodeType===9?Ao.head:Ao,Za.insertBefore(qa,Za.firstChild))}function bg(qa,Za){qa.crossOrigin==null&&(qa.crossOrigin=Za.crossOrigin),qa.referrerPolicy==null&&(qa.referrerPolicy=Za.referrerPolicy),qa.title==null&&(qa.title=Za.title)}function xg(qa,Za){qa.crossOrigin==null&&(qa.crossOrigin=Za.crossOrigin),qa.referrerPolicy==null&&(qa.referrerPolicy=Za.referrerPolicy),qa.integrity==null&&(qa.integrity=Za.integrity)}var _p=null;function Dx(qa,Za,Ao){if(_p===null){var jo=new Map,nl=_p=new Map;nl.set(Ao,jo)}else nl=_p,jo=nl.get(Ao),jo||(jo=new Map,nl.set(Ao,jo));if(jo.has(qa))return jo;for(jo.set(qa,null),Ao=Ao.getElementsByTagName(qa),nl=0;nl<Ao.length;nl++){var sl=Ao[nl];if(!(sl[yd]||sl[vc]||qa==="link"&&sl.getAttribute("rel")==="stylesheet")&&sl.namespaceURI!=="http://www.w3.org/2000/svg"){var hl=sl.getAttribute(Za)||"";hl=qa+hl;var vl=jo.get(hl);vl?vl.push(sl):jo.set(hl,[sl])}}return jo}function Mx(qa,Za,Ao){qa=qa.ownerDocument||qa,qa.head.insertBefore(Ao,Za==="title"?qa.querySelector("head > title"):null)}function kv(qa,Za,Ao){if(Ao===1||Za.itemProp!=null)return!1;switch(qa){case"meta":case"title":return!0;case"style":if(typeof Za.precedence!="string"||typeof Za.href!="string"||Za.href==="")break;return!0;case"link":if(typeof Za.rel!="string"||typeof Za.href!="string"||Za.href===""||Za.onLoad||Za.onError)break;switch(Za.rel){case"stylesheet":return qa=Za.disabled,typeof Za.precedence=="string"&&qa==null;default:return!0}case"script":if(Za.async&&typeof Za.async!="function"&&typeof Za.async!="symbol"&&!Za.onLoad&&!Za.onError&&Za.src&&typeof Za.src=="string")return!0}return!1}function Px(qa){return!(qa.type==="stylesheet"&&(qa.state.loading&3)===0)}var _0=null;function Dv(){}function Mv(qa,Za,Ao){if(_0===null)throw Error(Ba(475));var jo=_0;if(Za.type==="stylesheet"&&(typeof Ao.media!="string"||matchMedia(Ao.media).matches!==!1)&&(Za.state.loading&4)===0){if(Za.instance===null){var nl=Ih(Ao.href),sl=qa.querySelector(v0(nl));if(sl){qa=sl._p,qa!==null&&typeof qa=="object"&&typeof qa.then=="function"&&(jo.count++,jo=Sp.bind(jo),qa.then(jo,jo)),Za.state.loading|=4,Za.instance=sl,Ul(sl);return}sl=qa.ownerDocument||qa,Ao=Ox(Ao),(nl=gd.get(nl))&&bg(Ao,nl),sl=sl.createElement("link"),Ul(sl);var hl=sl;hl._p=new Promise(function(vl,Ol){hl.onload=vl,hl.onerror=Ol}),Bc(sl,"link",Ao),Za.instance=sl}jo.stylesheets===null&&(jo.stylesheets=new Map),jo.stylesheets.set(Za,qa),(qa=Za.state.preload)&&(Za.state.loading&3)===0&&(jo.count++,Za=Sp.bind(jo),qa.addEventListener("load",Za),qa.addEventListener("error",Za))}}function Pv(){if(_0===null)throw Error(Ba(475));var qa=_0;return qa.stylesheets&&qa.count===0&&yg(qa,qa.stylesheets),0<qa.count?function(Za){var Ao=setTimeout(function(){if(qa.stylesheets&&yg(qa,qa.stylesheets),qa.unsuspend){var jo=qa.unsuspend;qa.unsuspend=null,jo()}},6e4);return qa.unsuspend=Za,function(){qa.unsuspend=null,clearTimeout(Ao)}}:null}function Sp(){if(this.count--,this.count===0){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var qa=this.unsuspend;this.unsuspend=null,qa()}}}var Tp=null;function yg(qa,Za){qa.stylesheets=null,qa.unsuspend!==null&&(qa.count++,Tp=new Map,Za.forEach(Lv,qa),Tp=null,Sp.call(qa))}function Lv(qa,Za){if(!(Za.state.loading&4)){var Ao=Tp.get(qa);if(Ao)var jo=Ao.get(null);else{Ao=new Map,Tp.set(qa,Ao);for(var nl=qa.querySelectorAll("link[data-precedence],style[data-precedence]"),sl=0;sl<nl.length;sl++){var hl=nl[sl];(hl.nodeName==="LINK"||hl.getAttribute("media")!=="not all")&&(Ao.set(hl.dataset.precedence,hl),jo=hl)}jo&&Ao.set(null,jo)}nl=Za.instance,hl=nl.getAttribute("data-precedence"),sl=Ao.get(hl)||jo,sl===jo&&Ao.set(null,nl),Ao.set(hl,nl),this.count++,jo=Sp.bind(this),nl.addEventListener("load",jo),nl.addEventListener("error",jo),sl?sl.parentNode.insertBefore(nl,sl.nextSibling):(qa=qa.nodeType===9?qa.head:qa,qa.insertBefore(nl,qa.firstChild)),Za.state.loading|=4}}var S0={$$typeof:tl,Provider:null,Consumer:null,_currentValue:Cl,_currentValue2:Cl,_threadCount:0};function jv(qa,Za,Ao,jo,nl,sl,hl,vl){this.tag=1,this.containerInfo=qa,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bd(0),this.hiddenUpdates=bd(null),this.identifierPrefix=jo,this.onUncaughtError=nl,this.onCaughtError=sl,this.onRecoverableError=hl,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=vl,this.incompleteTransitions=new Map}function Lx(qa,Za,Ao,jo,nl,sl,hl,vl,Ol,Hl,Jl,nu){return qa=new jv(qa,Za,Ao,hl,vl,Ol,Hl,nu),Za=1,sl===!0&&(Za|=24),sl=ed(3,null,null,Za),qa.current=sl,sl.stateNode=qa,Za=em(),Za.refCount++,qa.pooledCache=Za,Za.refCount++,sl.memoizedState={element:jo,isDehydrated:Ao,cache:Za},im(sl),qa}function jx(qa){return qa?(qa=sh,qa):sh}function $x(qa,Za,Ao,jo,nl,sl){nl=jx(nl),jo.context===null?jo.context=nl:jo.pendingContext=nl,jo=of(Za),jo.payload={element:Ao},sl=sl===void 0?null:sl,sl!==null&&(jo.callback=sl),Ao=lf(qa,jo,Za),Ao!==null&&(ad(Ao,qa,Za),Jh(Ao,qa,Za))}function Fx(qa,Za){if(qa=qa.memoizedState,qa!==null&&qa.dehydrated!==null){var Ao=qa.retryLane;qa.retryLane=Ao!==0&&Ao<Za?Ao:Za}}function vg(qa,Za){Fx(qa,Za),(qa=qa.alternate)&&Fx(qa,Za)}function Bx(qa){if(qa.tag===13){var Za=ah(qa,67108864);Za!==null&&ad(Za,qa,67108864),vg(qa,67108864)}}var wp=!0;function $v(qa,Za,Ao,jo){var nl=ml.T;ml.T=null;var sl=Sl.p;try{Sl.p=2,Eg(qa,Za,Ao,jo)}finally{Sl.p=sl,ml.T=nl}}function Fv(qa,Za,Ao,jo){var nl=ml.T;ml.T=null;var sl=Sl.p;try{Sl.p=8,Eg(qa,Za,Ao,jo)}finally{Sl.p=sl,ml.T=nl}}function Eg(qa,Za,Ao,jo){if(wp){var nl=_g(jo);if(nl===null)lg(qa,Za,jo,Ap,Ao),Ux(qa,jo);else if(zv(nl,qa,Za,Ao,jo))jo.stopPropagation();else if(Ux(qa,jo),Za&4&&-1<Bv.indexOf(qa)){for(;nl!==null;){var sl=Il(nl);if(sl!==null)switch(sl.tag){case 3:if(sl=sl.stateNode,sl.current.memoizedState.isDehydrated){var hl=ec(sl.pendingLanes);if(hl!==0){var vl=sl;for(vl.pendingLanes|=2,vl.entangledLanes|=2;hl;){var Ol=1<<31-_u(hl);vl.entanglements[1]|=Ol,hl&=~Ol}kd(sl),(oc&6)===0&&(up=xu()+500,g0(0))}}break;case 13:vl=ah(sl,2),vl!==null&&ad(vl,sl,2),dp(),vg(sl,2)}if(sl=_g(jo),sl===null&&lg(qa,Za,jo,Ap,Ao),sl===nl)break;nl=sl}nl!==null&&jo.stopPropagation()}else lg(qa,Za,jo,null,Ao)}}function _g(qa){return qa=Zf(qa),Sg(qa)}var Ap=null;function Sg(qa){if(Ap=null,qa=El(qa),qa!==null){var Za=Ga(qa);if(Za===null)qa=null;else{var Ao=Za.tag;if(Ao===13){if(qa=Ha(Za),qa!==null)return qa;qa=null}else if(Ao===3){if(Za.stateNode.current.memoizedState.isDehydrated)return Za.tag===3?Za.stateNode.containerInfo:null;qa=null}else Za!==qa&&(qa=null)}}return Ap=qa,null}function zx(qa){switch(qa){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Du()){case Zu:return 2;case ic:return 8;case Mu:case gu:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Tg=!1,Ef=null,_f=null,Sf=null,T0=new Map,w0=new Map,Tf=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ux(qa,Za){switch(qa){case"focusin":case"focusout":Ef=null;break;case"dragenter":case"dragleave":_f=null;break;case"mouseover":case"mouseout":Sf=null;break;case"pointerover":case"pointerout":T0.delete(Za.pointerId);break;case"gotpointercapture":case"lostpointercapture":w0.delete(Za.pointerId)}}function A0(qa,Za,Ao,jo,nl,sl){return qa===null||qa.nativeEvent!==sl?(qa={blockedOn:Za,domEventName:Ao,eventSystemFlags:jo,nativeEvent:sl,targetContainers:[nl]},Za!==null&&(Za=Il(Za),Za!==null&&Bx(Za)),qa):(qa.eventSystemFlags|=jo,Za=qa.targetContainers,nl!==null&&Za.indexOf(nl)===-1&&Za.push(nl),qa)}function zv(qa,Za,Ao,jo,nl){switch(Za){case"focusin":return Ef=A0(Ef,qa,Za,Ao,jo,nl),!0;case"dragenter":return _f=A0(_f,qa,Za,Ao,jo,nl),!0;case"mouseover":return Sf=A0(Sf,qa,Za,Ao,jo,nl),!0;case"pointerover":var sl=nl.pointerId;return T0.set(sl,A0(T0.get(sl)||null,qa,Za,Ao,jo,nl)),!0;case"gotpointercapture":return sl=nl.pointerId,w0.set(sl,A0(w0.get(sl)||null,qa,Za,Ao,jo,nl)),!0}return!1}function Gx(qa){var Za=El(qa.target);if(Za!==null){var Ao=Ga(Za);if(Ao!==null){if(Za=Ao.tag,Za===13){if(Za=Ha(Ao),Za!==null){qa.blockedOn=Za,Af(qa.priority,function(){if(Ao.tag===13){var jo=id();jo=Dd(jo);var nl=ah(Ao,jo);nl!==null&&ad(nl,Ao,jo),vg(Ao,jo)}});return}}else if(Za===3&&Ao.stateNode.current.memoizedState.isDehydrated){qa.blockedOn=Ao.tag===3?Ao.stateNode.containerInfo:null;return}}}qa.blockedOn=null}function Cp(qa){if(qa.blockedOn!==null)return!1;for(var Za=qa.targetContainers;0<Za.length;){var Ao=_g(qa.nativeEvent);if(Ao===null){Ao=qa.nativeEvent;var jo=new Ao.constructor(Ao.type,Ao);Qf=jo,Ao.target.dispatchEvent(jo),Qf=null}else return Za=Il(Ao),Za!==null&&Bx(Za),qa.blockedOn=Ao,!1;Za.shift()}return!0}function Hx(qa,Za,Ao){Cp(qa)&&Ao.delete(Za)}function Uv(){Tg=!1,Ef!==null&&Cp(Ef)&&(Ef=null),_f!==null&&Cp(_f)&&(_f=null),Sf!==null&&Cp(Sf)&&(Sf=null),T0.forEach(Hx),w0.forEach(Hx)}function Rp(qa,Za){qa.blockedOn===Za&&(qa.blockedOn=null,Tg||(Tg=!0,La.unstable_scheduleCallback(La.unstable_NormalPriority,Uv)))}var Ip=null;function Vx(qa){Ip!==qa&&(Ip=qa,La.unstable_scheduleCallback(La.unstable_NormalPriority,function(){Ip===qa&&(Ip=null);for(var Za=0;Za<qa.length;Za+=3){var Ao=qa[Za],jo=qa[Za+1],nl=qa[Za+2];if(typeof jo!="function"){if(Sg(jo||Ao)===null)continue;break}var sl=Il(Ao);sl!==null&&(qa.splice(Za,3),Za-=3,Sm(sl,{pending:!0,data:nl,method:Ao.method,action:jo},jo,nl))}}))}function C0(qa){function Za(Ol){return Rp(Ol,qa)}Ef!==null&&Rp(Ef,qa),_f!==null&&Rp(_f,qa),Sf!==null&&Rp(Sf,qa),T0.forEach(Za),w0.forEach(Za);for(var Ao=0;Ao<Tf.length;Ao++){var jo=Tf[Ao];jo.blockedOn===qa&&(jo.blockedOn=null)}for(;0<Tf.length&&(Ao=Tf[0],Ao.blockedOn===null);)Gx(Ao),Ao.blockedOn===null&&Tf.shift();if(Ao=(qa.ownerDocument||qa).$$reactFormReplay,Ao!=null)for(jo=0;jo<Ao.length;jo+=3){var nl=Ao[jo],sl=Ao[jo+1],hl=nl[Ic]||null;if(typeof sl=="function")hl||Vx(Ao);else if(hl){var vl=null;if(sl&&sl.hasAttribute("formAction")){if(nl=sl,hl=sl[Ic]||null)vl=hl.formAction;else if(Sg(nl)!==null)continue}else vl=hl.action;typeof vl=="function"?Ao[jo+1]=vl:(Ao.splice(jo,3),jo-=3),Vx(Ao)}}}function wg(qa){this._internalRoot=qa}Np.prototype.render=wg.prototype.render=function(qa){var Za=this._internalRoot;if(Za===null)throw Error(Ba(409));var Ao=Za.current,jo=id();$x(Ao,jo,qa,Za,null,null)},Np.prototype.unmount=wg.prototype.unmount=function(){var qa=this._internalRoot;if(qa!==null){this._internalRoot=null;var Za=qa.containerInfo;$x(qa.current,2,null,qa,null,null),dp(),Za[od]=null}};function Np(qa){this._internalRoot=qa}Np.prototype.unstable_scheduleHydration=function(qa){if(qa){var Za=Jd();qa={blockedOn:null,target:qa,priority:Za};for(var Ao=0;Ao<Tf.length&&Za!==0&&Za<Tf[Ao].priority;Ao++);Tf.splice(Ao,0,qa),Ao===0&&Gx(qa)}};var qx=Na.version;if(qx!=="19.1.1")throw Error(Ba(527,qx,"19.1.1"));Sl.findDOMNode=function(qa){var Za=qa._reactInternals;if(Za===void 0)throw typeof qa.render=="function"?Error(Ba(188)):(qa=Object.keys(qa).join(","),Error(Ba(268,qa)));return qa=Xa(Za),qa=qa!==null?Ka(qa):null,qa=qa===null?null:qa.stateNode,qa};var Gv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ml,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{Ql=Op.inject(Gv),iu=Op}catch{}}return reactDomClient_production.createRoot=function(qa,Za){if(!za(qa))throw Error(Ba(299));var Ao=!1,jo="",nl=ob,sl=lb,hl=ub,vl=null;return Za!=null&&(Za.unstable_strictMode===!0&&(Ao=!0),Za.identifierPrefix!==void 0&&(jo=Za.identifierPrefix),Za.onUncaughtError!==void 0&&(nl=Za.onUncaughtError),Za.onCaughtError!==void 0&&(sl=Za.onCaughtError),Za.onRecoverableError!==void 0&&(hl=Za.onRecoverableError),Za.unstable_transitionCallbacks!==void 0&&(vl=Za.unstable_transitionCallbacks)),Za=Lx(qa,1,!1,null,null,Ao,jo,nl,sl,hl,vl,null),qa[od]=Za.current,og(qa),new wg(Za)},reactDomClient_production.hydrateRoot=function(qa,Za,Ao){if(!za(qa))throw Error(Ba(299));var jo=!1,nl="",sl=ob,hl=lb,vl=ub,Ol=null,Hl=null;return Ao!=null&&(Ao.unstable_strictMode===!0&&(jo=!0),Ao.identifierPrefix!==void 0&&(nl=Ao.identifierPrefix),Ao.onUncaughtError!==void 0&&(sl=Ao.onUncaughtError),Ao.onCaughtError!==void 0&&(hl=Ao.onCaughtError),Ao.onRecoverableError!==void 0&&(vl=Ao.onRecoverableError),Ao.unstable_transitionCallbacks!==void 0&&(Ol=Ao.unstable_transitionCallbacks),Ao.formState!==void 0&&(Hl=Ao.formState)),Za=Lx(qa,1,!0,Za,Ao??null,jo,nl,sl,hl,vl,Ol,Hl),Za.context=jx(null),Ao=Za.current,jo=id(),jo=Dd(jo),nl=of(jo),nl.callback=null,lf(Ao,nl,jo),Ao=jo,Za.current.lanes=Ao,uc(Za,Ao),kd(Za),qa[od]=Za.current,og(qa),new Np(Za)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function La(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(La)}catch(Na){console.error(Na)}}return La(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports),STORAGE_KEYS={THEME:"theme",TRANSPARENCY:"transparency",SYSTEM_PROMPT:"system_prompt",SELECTED_SYSTEM_PROMPT_ID:"selected_system_prompt_id",SCREENSHOT_CONFIG:"screenshot_config",CUSTOM_AI_PROVIDERS:"curl_custom_ai_providers",CUSTOM_SPEECH_PROVIDERS:"curl_custom_speech_providers",SELECTED_AI_PROVIDER:"curl_selected_ai_provider",SELECTED_STT_PROVIDER:"curl_selected_stt_provider",SYSTEM_AUDIO_CONTEXT:"system_audio_context",SYSTEM_AUDIO_QUICK_ACTIONS:"system_audio_quick_actions",CUSTOMIZABLE:"customizable",GHOST_API_ENABLED:"ghost_api_enabled",SHORTCUTS:"shortcuts",AUTOSTART_INITIALIZED:"autostart_initialized",SELECTED_AUDIO_INPUT_DEVICE:"selected_audio_input_device",SELECTED_AUDIO_OUTPUT_DEVICE:"selected_audio_output_device",ACTION_SETTINGS:"action_settings"},MAX_FILES=6,DEFAULT_SYSTEM_PROMPT="You are a helpful AI assistant. Be concise, accurate, and friendly in your responses",DEFAULT_QUICK_ACTIONS=["What should I say?","Follow-up questions","Fact-check","Recap"],AI_PROVIDERS=[{id:"openai",curl:`curl https://api.openai.com/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer {{API_KEY}}" \\
  -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
  }'`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"claude",curl:`curl https://api.anthropic.com/v1/messages \\
  -H "x-api-key: {{API_KEY}}" \\
  -H "anthropic-version: 2023-06-01" \\
  -H "anthropic-dangerous-direct-browser-access: true" \\
  -H "content-type: application/json" \\
  -d '{
    "model": "{{MODEL}}",
    "system": "{{SYSTEM_PROMPT}}",
    "messages": [{"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image", "source": {"type": "base64", "media_type": "image/png", "data": "{{IMAGE}}"}}]}],
    "max_tokens": 1024
  }'`,responseContentPath:"content[0].text",streaming:!0},{id:"grok",curl:`curl https://api.x.ai/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer {{API_KEY}}" \\
  -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
  }'`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"gemini",curl:`curl "https://generativelanguage.googleapis.com/v1beta/openai/chat/completions" \\
  -H "Authorization: Bearer {{API_KEY}}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
  }'}`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"mistral",curl:`curl https://api.mistral.ai/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer {{API_KEY}}" \\
  -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": "data:image/png;base64,{{IMAGE}}"}]}]
  }'`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"cohere",curl:`curl -X POST https://api.cohere.ai/v2/chat \\
    -H "Authorization: Bearer {{API_KEY}}" \\
    -H "Content-Type: application/json" \\
    -d '{
      "model": "{{MODEL}}",
      "preamble": "{{SYSTEM_PROMPT}}",
      "messages": [{"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
    }'`,responseContentPath:"message.content[0].text",streaming:!0},{id:"groq",curl:`curl https://api.groq.com/openai/v1/chat/completions     -H "Content-Type: application/json"     -H "Authorization: Bearer {{API_KEY}}"     -d '{
      "model": "{{MODEL}}",
      "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}],
      "temperature": 1,
      "max_completion_tokens": 8192,
      "top_p": 1,
      "stream": true,
      "reasoning_effort": "medium",
      "stop": null
    }'`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"perplexity",curl:`curl -X POST https://api.perplexity.ai/chat/completions \\
  -H "Authorization: Bearer {{API_KEY}}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
  }'`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"openrouter",curl:`  curl https://openrouter.ai/api/v1/chat/completions   -H "Content-Type: application/json"   -H "Authorization: Bearer {{API_KEY}}"   -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
  }'`,responseContentPath:"choices[0].message.content",streaming:!0},{id:"ollama",curl:`curl -X POST http://localhost:11434/v1/chat/completions \\
    -H "Authorization: Bearer {{API_KEY}}" \\
    -H "Content-Type: application/json" \\
    -d '{
    "model": "{{MODEL}}",
    "messages": [{"role": "system", "content": "{{SYSTEM_PROMPT}}"}, {"role": "user", "content": [{"type": "text", "text": "{{TEXT}}"}, {"type": "image_url", "image_url": {"url": "data:image/png;base64,{{IMAGE}}"}}]}]
  }'`,responseContentPath:"choices[0].message.content",streaming:!0}],SPEECH_TO_TEXT_PROVIDERS=[{id:"openai-whisper",name:"OpenAI Whisper",curl:`curl -X POST "https://api.openai.com/v1/audio/transcriptions" \\
      -H "Authorization: Bearer {{API_KEY}}" \\
      -F "file={{AUDIO}}" \\
      -F "model={{MODEL}}"`,responseContentPath:"text",streaming:!1},{id:"groq",name:"Groq Whisper",curl:`curl -X POST https://api.groq.com/openai/v1/audio/transcriptions \\
      -H "Authorization: bearer {{API_KEY}}" \\
      -F "file={{AUDIO}}" \\
      -F model={{MODEL}} \\
      -F temperature=0 \\
      -F response_format=text \\
      -F language=en`,responseContentPath:"text",streaming:!1},{id:"elevenlabs-stt",name:"ElevenLabs Speech-to-Text",curl:`curl -X POST "https://api.elevenlabs.io/v1/speech-to-text" \\
      -H "xi-api-key: {{API_KEY}}" \\
      -F "file={{AUDIO}}" \\
      -F "model_id={{MODEL}}"`,responseContentPath:"text",streaming:!1},{id:"google-stt",name:"Google Speech-to-Text",curl:`curl -X POST "https://speech.googleapis.com/v1/speech:recognize" \\
      -H "Authorization: Bearer {{API_KEY}}" \\
      -H "Content-Type: application/json" \\
      -H "x-goog-user-project: {{PROJECT_ID}}" \\
      -d '{
        "config": {
          "encoding": "LINEAR16", 
          "sampleRateHertz": 16000,
          "languageCode": "en-US"
        },
        "audio": {
          "content": "{{AUDIO}}"
        }
      }'`,responseContentPath:"results[0].alternatives[0].transcript",streaming:!1},{id:"deepgram-stt",name:"Deepgram Speech-to-Text",curl:`curl -X POST "https://api.deepgram.com/v1/listen?model={{MODEL}}" \\
      -H "Authorization: TOKEN {{API_KEY}}" \\
      -H "Content-Type: audio/wav" \\
      --data-binary {{AUDIO}}`,responseContentPath:"results.channels[0].alternatives[0].transcript",streaming:!1},{id:"azure-stt",name:"Azure Speech-to-Text",curl:`curl -X POST "https://{{REGION}}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=en-US" \\
      -H "Ocp-Apim-Subscription-Key: {{API_KEY}}" \\
      -H "Content-Type: audio/wav" \\
      --data-binary {{AUDIO}}`,responseContentPath:"DisplayText",streaming:!1},{id:"speechmatics-stt",name:"Speechmatics",curl:`curl -X POST "https://asr.api.speechmatics.com/v2/jobs" \\
      -H "Authorization: Bearer {{API_KEY}}" \\
      -F "data_file={{AUDIO}}" \\
      -F 'config={"type": "transcription", "transcription_config": {"language": "en"}}'`,responseContentPath:"job.id",streaming:!1},{id:"rev-ai-stt",name:"Rev.ai Speech-to-Text",curl:`curl -X POST "https://api.rev.ai/speechtotext/v1/jobs" \\
      -H "Authorization: Bearer {{API_KEY}}" \\
      -F "media={{AUDIO}}" \\
      -F "options={{OPTIONS}}"`,responseContentPath:"id",streaming:!1},{id:"ibm-watson-stt",name:"IBM Watson Speech-to-Text",curl:`curl -X POST "https://api.us-south.speech-to-text.watson.cloud.ibm.com/v1/recognize" \\
      -H "Authorization: Basic {{API_KEY}}" \\
      -H "Content-Type: audio/wav" \\
      --data-binary {{AUDIO}}`,responseContentPath:"results[0].alternatives[0].transcript",streaming:!1}],DEFAULT_SHORTCUT_ACTIONS=[{id:"toggle_window",name:"Toggle Window",description:"Show/Hide the main window",defaultKey:{macos:"cmd+backslash",windows:"ctrl+backslash",linux:"ctrl+backslash"}},{id:"system_audio",name:"System Audio",description:"Toggle system audio capture",defaultKey:{macos:"cmd+shift+m",windows:"ctrl+shift+m",linux:"ctrl+shift+m"}},{id:"audio_recording",name:"Voice Input",description:"Start voice recording",defaultKey:{macos:"cmd+shift+a",windows:"ctrl+shift+a",linux:"ctrl+shift+a"}},{id:"screenshot",name:"Screenshot",description:"Capture screenshot",defaultKey:{macos:"cmd+shift+s",windows:"ctrl+shift+s",linux:"ctrl+shift+s"}}];function getCustomAiProviders(){try{if(typeof window>"u")return[];const La=localStorage.getItem(STORAGE_KEYS.CUSTOM_AI_PROVIDERS);if(!La)return[];const Na=JSON.parse(La);return Array.isArray(Na)?Na.filter(ja=>ja.id&&ja.isCustom&&typeof ja.curl=="string"):[]}catch(La){return console.error("Error retrieving custom AI providers:",La),[]}}function setCustomAiProviders(La){try{if(typeof window>"u")return;localStorage.setItem(STORAGE_KEYS.CUSTOM_AI_PROVIDERS,JSON.stringify(La))}catch(Na){console.error("Error setting custom AI providers:",Na)}}function addCustomAiProvider(La){try{const Na=getCustomAiProviders(),ja=`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Ba={...La,id:ja,isCustom:!0};return Na.push(Ba),setCustomAiProviders(Na),Ba}catch(Na){return console.error("Error adding custom AI provider:",Na),null}}function updateCustomAiProvider(La,Na){try{const ja=getCustomAiProviders(),Ba=ja.findIndex(za=>za.id===La&&za.isCustom);return Ba===-1?!1:(ja[Ba]={...ja[Ba],...Na},setCustomAiProviders(ja),!0)}catch(ja){return console.error("Error updating custom AI provider:",ja),!1}}function removeCustomAiProvider(La){try{const Na=getCustomAiProviders(),ja=Na.filter(Ba=>Ba.id!==La);return ja.length===Na.length?!1:(setCustomAiProviders(ja),!0)}catch(Na){return console.error("Error removing custom AI provider:",Na),!1}}const safeLocalStorage={getItem:La=>{if(typeof window>"u")return null;try{return localStorage.getItem(La)}catch{return null}},setItem:(La,Na)=>{if(!(typeof window>"u"))try{localStorage.setItem(La,Na)}catch{}},removeItem:La=>{if(!(typeof window>"u"))try{localStorage.removeItem(La)}catch{}}},DEFAULT_CUSTOMIZABLE_STATE={appIcon:{isVisible:!0},alwaysOnTop:{isEnabled:!1},titles:{isEnabled:!0},autostart:{isEnabled:!0},cursor:{type:"invisible"}},getCustomizableState=()=>{try{const La=localStorage.getItem(STORAGE_KEYS.CUSTOMIZABLE);if(!La)return DEFAULT_CUSTOMIZABLE_STATE;const Na=JSON.parse(La);return{appIcon:Na.appIcon||DEFAULT_CUSTOMIZABLE_STATE.appIcon,alwaysOnTop:Na.alwaysOnTop||DEFAULT_CUSTOMIZABLE_STATE.alwaysOnTop,titles:Na.titles||DEFAULT_CUSTOMIZABLE_STATE.titles,autostart:Na.autostart||DEFAULT_CUSTOMIZABLE_STATE.autostart,cursor:Na.cursor||DEFAULT_CUSTOMIZABLE_STATE.cursor}}catch(La){return console.error("Failed to get customizable state:",La),DEFAULT_CUSTOMIZABLE_STATE}},setCustomizableState=La=>{try{localStorage.setItem(STORAGE_KEYS.CUSTOMIZABLE,JSON.stringify(La))}catch(Na){console.error("Failed to save customizable state:",Na)}},updateAppIconVisibility=La=>{const ja={...getCustomizableState(),appIcon:{isVisible:La}};return setCustomizableState(ja),ja},updateAlwaysOnTop=La=>{const ja={...getCustomizableState(),alwaysOnTop:{isEnabled:La}};return setCustomizableState(ja),ja},updateTitlesVisibility=La=>{const ja={...getCustomizableState(),titles:{isEnabled:La}};return setCustomizableState(ja),ja},updateCursorType=La=>{const ja={...getCustomizableState(),cursor:{type:La}};return setCustomizableState(ja),ja},updateAutostart=La=>{const ja={...getCustomizableState(),autostart:{isEnabled:La}};return setCustomizableState(ja),ja},getPlatformDefaultKey=La=>{switch(getPlatform()){case"macos":return La.defaultKey.macos;case"windows":return La.defaultKey.windows;case"linux":return La.defaultKey.linux}},getDefaultShortcutsConfig=()=>{const La={};return DEFAULT_SHORTCUT_ACTIONS.forEach(Na=>{La[Na.id]={action:Na.id,key:getPlatformDefaultKey(Na),enabled:!0}}),{bindings:La,customActions:[]}},getShortcutsConfig=()=>{try{const La=localStorage.getItem(STORAGE_KEYS.SHORTCUTS);if(La){const Na=JSON.parse(La);return{bindings:{...getDefaultShortcutsConfig().bindings,...Na.bindings},customActions:Na.customActions||[]}}return getDefaultShortcutsConfig()}catch(La){return console.error("Failed to get shortcuts config:",La),getDefaultShortcutsConfig()}},setShortcutsConfig=La=>{try{localStorage.setItem(STORAGE_KEYS.SHORTCUTS,JSON.stringify(La))}catch(Na){console.error("Failed to save shortcuts config:",Na)}},updateShortcutBinding=(La,Na,ja=!0)=>{const Ba=getShortcutsConfig();return Ba.bindings[La]={action:La,key:Na,enabled:ja},setShortcutsConfig(Ba),Ba},resetShortcutsToDefaults=()=>{const La=getDefaultShortcutsConfig();return setShortcutsConfig(La),La},checkShortcutConflicts=(La,Na)=>{const ja=getShortcutsConfig(),Ba=[];return Object.entries(ja.bindings).forEach(([za,Ga])=>{Ga.key.toLowerCase()===La.toLowerCase()&&Ga.enabled&&za!==Na&&Ba.push(za)}),Ba.length>0?{key:La,actions:Ba}:null},validateShortcutKey=La=>{const Na=La.toLowerCase().split("+").map(Ga=>Ga.trim());if(Na.length<2)return!1;const ja=["cmd","ctrl","alt","shift"];if(!Na.some(Ga=>ja.includes(Ga)))return!1;const za=[...ja,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","space","return","enter","tab","backspace","delete","esc","escape","up","down","left","right","backslash","slash","comma","period","minus","equal","plus","bracketleft","bracketright","semicolon","quote","grave"];return Na.every(Ga=>za.includes(Ga))},formatShortcutKeyForDisplay=La=>La.split("+").map(Na=>{const ja=Na.trim();return ja.charAt(0).toUpperCase()+ja.slice(1)}).join(" + "),getAllShortcutActions=La=>{const Na=getShortcutsConfig(),ja=[...DEFAULT_SHORTCUT_ACTIONS];return La&&Na.customActions&&ja.push(...Na.customActions),ja};function __classPrivateFieldGet(La,Na,ja,Ba){if(typeof Na=="function"?La!==Na||!Ba:!Na.has(La))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ja==="m"?Ba:ja==="a"?Ba.call(La):Ba?Ba.value:Na.get(La)}function __classPrivateFieldSet(La,Na,ja,Ba,za){if(typeof Na=="function"?La!==Na||!0:!Na.has(La))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Na.set(La,ja),ja}typeof SuppressedError=="function"&&SuppressedError;var _Channel_onmessage,_Channel_nextMessageIndex,_Channel_pendingMessages,_Channel_messageEndIndex,_Resource_rid;const SERIALIZE_TO_IPC_FN="__TAURI_TO_IPC_KEY__";function transformCallback(La,Na=!1){return window.__TAURI_INTERNALS__.transformCallback(La,Na)}class Channel{constructor(Na){_Channel_onmessage.set(this,void 0),_Channel_nextMessageIndex.set(this,0),_Channel_pendingMessages.set(this,[]),_Channel_messageEndIndex.set(this,void 0),__classPrivateFieldSet(this,_Channel_onmessage,Na||(()=>{})),this.id=transformCallback(ja=>{const Ba=ja.index;if("end"in ja){Ba==__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")?this.cleanupCallback():__classPrivateFieldSet(this,_Channel_messageEndIndex,Ba);return}const za=ja.message;if(Ba==__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")){for(__classPrivateFieldGet(this,_Channel_onmessage,"f").call(this,za),__classPrivateFieldSet(this,_Channel_nextMessageIndex,__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")+1);__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")in __classPrivateFieldGet(this,_Channel_pendingMessages,"f");){const Ga=__classPrivateFieldGet(this,_Channel_pendingMessages,"f")[__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")];__classPrivateFieldGet(this,_Channel_onmessage,"f").call(this,Ga),delete __classPrivateFieldGet(this,_Channel_pendingMessages,"f")[__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")],__classPrivateFieldSet(this,_Channel_nextMessageIndex,__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")+1)}__classPrivateFieldGet(this,_Channel_nextMessageIndex,"f")===__classPrivateFieldGet(this,_Channel_messageEndIndex,"f")&&this.cleanupCallback()}else __classPrivateFieldGet(this,_Channel_pendingMessages,"f")[Ba]=za})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(Na){__classPrivateFieldSet(this,_Channel_onmessage,Na)}get onmessage(){return __classPrivateFieldGet(this,_Channel_onmessage,"f")}[(_Channel_onmessage=new WeakMap,_Channel_nextMessageIndex=new WeakMap,_Channel_pendingMessages=new WeakMap,_Channel_messageEndIndex=new WeakMap,SERIALIZE_TO_IPC_FN)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}async function invoke(La,Na={},ja){return window.__TAURI_INTERNALS__.invoke(La,Na,ja)}class Resource{get rid(){return __classPrivateFieldGet(this,_Resource_rid,"f")}constructor(Na){_Resource_rid.set(this,void 0),__classPrivateFieldSet(this,_Resource_rid,Na)}async close(){return invoke("plugin:resources|close",{rid:this.rid})}}_Resource_rid=new WeakMap;function getByPath(La,Na){return Na?Na.replace(/\[/g,".").replace(/\]/g,"").split(".").reduce((ja,Ba)=>(ja||{})[Ba],La):La}async function blobToBase64(La){return new Promise((Na,ja)=>{const Ba=new FileReader;Ba.readAsDataURL(La),Ba.onloadend=()=>{const za=Ba.result?.split(",")[1]??"";Na(za)},Ba.onerror=ja})}function extractVariables(La,Na=!1){if(typeof La!="string")return[];const ja=/\{\{([A-Z_]+)\}\}/g,za=(La?.match(ja)||[]).map(Xa=>typeof Xa=="string"?Xa.slice(2,-2):"").filter(Xa=>Xa!==""),Ga=[...new Set(za)],Ha=Na?[]:["SYSTEM_PROMPT","TEXT","IMAGE","AUDIO"];return(Ga?.filter(Xa=>!Ha?.includes(Xa))).map(Xa=>({key:Xa?.toLowerCase()?.replace(/_/g,"_")||"",value:Xa}))}function processUserMessageTemplate(La,Na,ja=[]){const Ba=JSON.stringify(La).replace(/\{\{TEXT\}\}/g,Na),za=JSON.parse(Ba),Ga=Ha=>{if(Array.isArray(Ha)){const Ya=Ha.findIndex(Xa=>JSON.stringify(Xa).includes("{{IMAGE}}"));if(Ya>-1){const Xa=Ha[Ya],Ka=ja.length>0?ja.map(Va=>{const Ua=JSON.stringify(Xa).replace(/\{\{IMAGE\}\}/g,Va);return JSON.parse(Ua)}):[];return[...Ha.slice(0,Ya),...Ka,...Ha.slice(Ya+1)].map(Ga)}return Ha.map(Ga)}else if(Ha&&typeof Ha=="object"){const Ya={};for(const Xa in Ha)Ya[Xa]=Ga(Ha[Xa]);return Ya}return Ha};return Ga(za)}function buildDynamicMessages(La,Na,ja,Ba=[]){const za=La.findIndex(Ka=>JSON.stringify(Ka).includes("{{TEXT}}"));if(za===-1)return[...Na,{role:"user",content:ja}];const Ga=La.slice(0,za),Ha=La.slice(za+1),Ya=La[za],Xa=processUserMessageTemplate(Ya,ja,Ba);return[...Ga,...Na,Xa,...Ha]}function deepVariableReplacer(La,Na){if(typeof La=="string"){let ja=La;for(const[Ba,za]of Object.entries(Na))ja=ja.replace(new RegExp(`\\{\\{${Ba}\\}\\}`,"g"),za);return ja}if(Array.isArray(La))return La.map(ja=>deepVariableReplacer(ja,Na));if(La&&typeof La=="object"){const ja={};for(const Ba in La)ja[Ba]=deepVariableReplacer(La[Ba],Na);return ja}return La}function getStreamingContent(La,Na){const ja=new Set([Na.replace(".message.",".delta."),"choices[0].delta.content","candidates[0].content.parts[0].text","delta.text","text",Na]);for(const Ba of ja){if(!Ba)continue;const za=getByPath(La,Ba);if(typeof za=="string"&&za)return za}return null}const ERROR_REQUEST_CANCELLED="Request cancelled";async function fetch$1(La,Na){const ja=Na?.signal;if(ja?.aborted)throw new Error(ERROR_REQUEST_CANCELLED);const Ba=Na?.maxRedirections,za=Na?.connectTimeout,Ga=Na?.proxy,Ha=Na?.danger;Na&&(delete Na.maxRedirections,delete Na.connectTimeout,delete Na.proxy,delete Na.danger);const Ya=Na?.headers?Na.headers instanceof Headers?Na.headers:new Headers(Na.headers):new Headers,Xa=new Request(La,Na),Ka=await Xa.arrayBuffer(),Qa=Ka.byteLength!==0?Array.from(new Uint8Array(Ka)):null;for(const[al,ll]of Xa.headers)Ya.get(al)||Ya.set(al,ll);const Ua=(Ya instanceof Headers?Array.from(Ya.entries()):Array.isArray(Ya)?Ya:Object.entries(Ya)).map(([al,ll])=>[al,typeof ll=="string"?ll:ll.toString()]);if(ja?.aborted)throw new Error(ERROR_REQUEST_CANCELLED);const Wa=await invoke("plugin:http|fetch",{clientConfig:{method:Xa.method,url:Xa.url,headers:Ua,data:Qa,maxRedirections:Ba,connectTimeout:za,proxy:Ga,danger:Ha}}),Ja=()=>invoke("plugin:http|fetch_cancel",{rid:Wa});if(ja?.aborted)throw Ja(),new Error(ERROR_REQUEST_CANCELLED);ja?.addEventListener("abort",()=>void Ja());const{status:Oo,statusText:Do,url:Mo,headers:el,rid:tl}=await invoke("plugin:http|fetch_send",{rid:Wa}),rl=[101,103,204,205,304].includes(Oo)?null:new ReadableStream({start:al=>{const ll=new Channel;ll.onmessage=ul=>{if(ja?.aborted){al.error(ERROR_REQUEST_CANCELLED);return}const ol=new Uint8Array(ul),cl=ol[ol.byteLength-1],gl=ol.slice(0,ol.byteLength-1);if(cl==1){al.close();return}al.enqueue(gl)},invoke("plugin:http|fetch_read_body",{rid:tl,streamChannel:ll}).catch(ul=>{al.error(ul)})}}),il=new Response(rl,{status:Oo,statusText:Do});return Object.defineProperty(il,"url",{value:Mo}),Object.defineProperty(il,"headers",{value:new Headers(el)}),il}var TauriEvent;(function(La){La.WINDOW_RESIZED="tauri://resize",La.WINDOW_MOVED="tauri://move",La.WINDOW_CLOSE_REQUESTED="tauri://close-requested",La.WINDOW_DESTROYED="tauri://destroyed",La.WINDOW_FOCUS="tauri://focus",La.WINDOW_BLUR="tauri://blur",La.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",La.WINDOW_THEME_CHANGED="tauri://theme-changed",La.WINDOW_CREATED="tauri://window-created",La.WEBVIEW_CREATED="tauri://webview-created",La.DRAG_ENTER="tauri://drag-enter",La.DRAG_OVER="tauri://drag-over",La.DRAG_DROP="tauri://drag-drop",La.DRAG_LEAVE="tauri://drag-leave"})(TauriEvent||(TauriEvent={}));async function _unlisten(La,Na){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(La,Na),await invoke("plugin:event|unlisten",{event:La,eventId:Na})}async function listen(La,Na,ja){var Ba;const za=typeof ja?.target=="string"?{kind:"AnyLabel",label:ja.target}:(Ba=ja?.target)!==null&&Ba!==void 0?Ba:{kind:"Any"};return invoke("plugin:event|listen",{event:La,target:za,handler:transformCallback(Na)}).then(Ga=>async()=>_unlisten(La,Ga))}async function once(La,Na,ja){return listen(La,Ba=>{_unlisten(La,Ba.id),Na(Ba)},ja)}async function emit(La,Na){await invoke("plugin:event|emit",{event:La,payload:Na})}async function emitTo(La,Na,ja){await invoke("plugin:event|emit_to",{target:typeof La=="string"?{kind:"AnyLabel",label:La}:La,event:Na,payload:ja})}var pareJson={exports:{}},minimist,hasRequiredMinimist;function requireMinimist(){if(hasRequiredMinimist)return minimist;hasRequiredMinimist=1;function La(Ba,za){var Ga=Ba;za.slice(0,-1).forEach(function(Ya){Ga=Ga[Ya]||{}});var Ha=za[za.length-1];return Ha in Ga}function Na(Ba){return typeof Ba=="number"||/^0x[0-9a-f]+$/i.test(Ba)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(Ba)}function ja(Ba,za){return za==="constructor"&&typeof Ba[za]=="function"||za==="__proto__"}return minimist=function(Ba,za){za||(za={});var Ga={bools:{},strings:{},unknownFn:null};typeof za.unknown=="function"&&(Ga.unknownFn=za.unknown),typeof za.boolean=="boolean"&&za.boolean?Ga.allBools=!0:[].concat(za.boolean).filter(Boolean).forEach(function(ll){Ga.bools[ll]=!0});var Ha={};function Ya(ll){return Ha[ll].some(function(ul){return Ga.bools[ul]})}Object.keys(za.alias||{}).forEach(function(ll){Ha[ll]=[].concat(za.alias[ll]),Ha[ll].forEach(function(ul){Ha[ul]=[ll].concat(Ha[ll].filter(function(ol){return ul!==ol}))})}),[].concat(za.string).filter(Boolean).forEach(function(ll){Ga.strings[ll]=!0,Ha[ll]&&[].concat(Ha[ll]).forEach(function(ul){Ga.strings[ul]=!0})});var Xa=za.default||{},Ka={_:[]};function Qa(ll,ul){return Ga.allBools&&/^--[^=]+$/.test(ul)||Ga.strings[ll]||Ga.bools[ll]||Ha[ll]}function Va(ll,ul,ol){for(var cl=ll,gl=0;gl<ul.length-1;gl++){var bl=ul[gl];if(ja(cl,bl))return;cl[bl]===void 0&&(cl[bl]={}),(cl[bl]===Object.prototype||cl[bl]===Number.prototype||cl[bl]===String.prototype)&&(cl[bl]={}),cl[bl]===Array.prototype&&(cl[bl]=[]),cl=cl[bl]}var _l=ul[ul.length-1];ja(cl,_l)||((cl===Object.prototype||cl===Number.prototype||cl===String.prototype)&&(cl={}),cl===Array.prototype&&(cl=[]),cl[_l]===void 0||Ga.bools[_l]||typeof cl[_l]=="boolean"?cl[_l]=ol:Array.isArray(cl[_l])?cl[_l].push(ol):cl[_l]=[cl[_l],ol])}function Ua(ll,ul,ol){if(!(ol&&Ga.unknownFn&&!Qa(ll,ol)&&Ga.unknownFn(ol)===!1)){var cl=!Ga.strings[ll]&&Na(ul)?Number(ul):ul;Va(Ka,ll.split("."),cl),(Ha[ll]||[]).forEach(function(gl){Va(Ka,gl.split("."),cl)})}}Object.keys(Ga.bools).forEach(function(ll){Ua(ll,Xa[ll]===void 0?!1:Xa[ll])});var Wa=[];Ba.indexOf("--")!==-1&&(Wa=Ba.slice(Ba.indexOf("--")+1),Ba=Ba.slice(0,Ba.indexOf("--")));for(var Ja=0;Ja<Ba.length;Ja++){var Oo=Ba[Ja],Do,Mo;if(/^--.+=/.test(Oo)){var el=Oo.match(/^--([^=]+)=([\s\S]*)$/);Do=el[1];var tl=el[2];Ga.bools[Do]&&(tl=tl!=="false"),Ua(Do,tl,Oo)}else if(/^--no-.+/.test(Oo))Do=Oo.match(/^--no-(.+)/)[1],Ua(Do,!1,Oo);else if(/^--.+/.test(Oo))Do=Oo.match(/^--(.+)/)[1],Mo=Ba[Ja+1],Mo!==void 0&&!/^(-|--)[^-]/.test(Mo)&&!Ga.bools[Do]&&!Ga.allBools&&(!Ha[Do]||!Ya(Do))?(Ua(Do,Mo,Oo),Ja+=1):/^(true|false)$/.test(Mo)?(Ua(Do,Mo==="true",Oo),Ja+=1):Ua(Do,Ga.strings[Do]?"":!0,Oo);else if(/^-[^-]+/.test(Oo)){for(var rl=Oo.slice(1,-1).split(""),il=!1,al=0;al<rl.length;al++){if(Mo=Oo.slice(al+2),Mo==="-"){Ua(rl[al],Mo,Oo);continue}if(/[A-Za-z]/.test(rl[al])&&Mo[0]==="="){Ua(rl[al],Mo.slice(1),Oo),il=!0;break}if(/[A-Za-z]/.test(rl[al])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(Mo)){Ua(rl[al],Mo,Oo),il=!0;break}if(rl[al+1]&&rl[al+1].match(/\W/)){Ua(rl[al],Oo.slice(al+2),Oo),il=!0;break}else Ua(rl[al],Ga.strings[rl[al]]?"":!0,Oo)}Do=Oo.slice(-1)[0],!il&&Do!=="-"&&(Ba[Ja+1]&&!/^(-|--)[^-]/.test(Ba[Ja+1])&&!Ga.bools[Do]&&(!Ha[Do]||!Ya(Do))?(Ua(Do,Ba[Ja+1],Oo),Ja+=1):Ba[Ja+1]&&/^(true|false)$/.test(Ba[Ja+1])?(Ua(Do,Ba[Ja+1]==="true",Oo),Ja+=1):Ua(Do,Ga.strings[Do]?"":!0,Oo))}else if((!Ga.unknownFn||Ga.unknownFn(Oo)!==!1)&&Ka._.push(Ga.strings._||!Na(Oo)?Oo:Number(Oo)),za.stopEarly){Ka._.push.apply(Ka._,Ba.slice(Ja+1));break}}return Object.keys(Xa).forEach(function(ll){La(Ka,ll.split("."))||(Va(Ka,ll.split("."),Xa[ll]),(Ha[ll]||[]).forEach(function(ul){Va(Ka,ul.split("."),Xa[ll])}))}),za["--"]?Ka["--"]=Wa.slice():Wa.forEach(function(ll){Ka._.push(ll)}),Ka},minimist}var convertor,hasRequiredConvertor;function requireConvertor(){if(hasRequiredConvertor)return convertor;hasRequiredConvertor=1;function La(za){return za.split(/:(.+)/).map(Ga=>Ga.trim())}function Na(za){return za.split(/=(.+)/)}function ja(za,Ga=La){let Ha={};var Ya=Ga(za);return Ha[Ya[0]]=Ya[1],Ha}function Ba(za){if(za==="")return null;let Ga={};return za.split(/&/).forEach(Ya=>{const Xa=Ya.split(/=/);Ga[Xa[0]]=Xa[1]}),Ga}return convertor={header:za=>{let Ga={};if(typeof za=="string")Ga=ja(za);else return za.forEach(Ha=>{Ga={...Ga,...ja(Ha,La)}}),Ga;return Ga},body:za=>{if(typeof za=="string")try{return JSON.parse(za)}catch{try{return Ba(za)}catch{return za}}else{let Ga={};return za.forEach(Ha=>{Ga={...Ga,...ja(Ha,Na)}}),Ga}},parseParamsField:Ba},convertor}var option,hasRequiredOption;function requireOption(){if(hasRequiredOption)return option;hasRequiredOption=1;const La=requireConvertor();return option=[{name:"url",alias:["url","curl"],description:"Url request",convertor:null},{name:"cookie",alias:["b","cookie"],description:"<name=data> Supply cookie with request. If no =, then specifies the cookie file to use (see -c).",convertor:null},{name:"cookie-jar",alias:["c","cookie-jar"],description:"<file name> File to save response cookies to.",convertor:null},{name:"data",alias:["d","data","data-raw","data-urlencode","data-binary"],description:"<data> Send specified data in POST request. Details provided below.",convertor:La.body},{name:"fail",alias:["f","fail"],description:"Fail silently (don't output HTML error form if returned).",convertor:null},{name:"form",alias:["F","form"],description:"<name=content> Submit form data.",convertor:null},{name:"header",alias:["H","header"],description:"<header> Headers to supply with request.",convertor:La.header},{name:"include",alias:["i","include"],description:"Include HTTP headers in the output.",convertor:null},{name:"head",alias:["I","head"],description:"Fetch headers only.",convertor:null},{name:"insecure",alias:["k","insecure"],description:"Allow insecure connections to succeed.",convertor:null},{name:"location",alias:["L","location"],description:"v",convertor:null},{name:"output",alias:["o","output"],description:"<file> Write output to . Can use --create-dirs in conjunction with this to create any directories specified in the -o path.",convertor:null},{name:"remote-name",alias:["remote-name","O"],description:"Write output to file named like the remote file (only writes to current directory).",convertor:null},{name:"silent",alias:["s","silent"],description:"Silent (quiet) mode. Use with -S to force it to show errors.",convertor:null},{name:"verbose",alias:["v","verbose"],description:"Provide more information (useful for debugging).",convertor:null},{name:"write-out",alias:["write-out","w"],description:`<format> Make curl display information on stdout after a completed transfer. See man page for more details on available variables. Convenient way to force curl to append a newline to output: -w "
" (can add to ~/.curlrc).`,convertor:null},{name:"method",alias:["X","request"],description:"The request method to use.",convertor:null},{name:"user-agent",alias:["A","user-agent"],description:"Specify the User-Agent send to the HTTP server.",convertor:null},{name:"referer",alias:["e","referer"],description:'Sends the "Referrer Page" information to the HTTP server.',convertor:null}],option}var matcher,hasRequiredMatcher;function requireMatcher(){return hasRequiredMatcher||(hasRequiredMatcher=1,matcher={matchArgv:function(La){return La.replace(/\\\n/g," ").match(/"([^"\\]*(?:\\.[^"\\]*)*)"|'([^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+/g).map(Na=>Na.startsWith("'")&&Na.endsWith("'")||Na.startsWith('"')&&Na.endsWith('"')?Na.substring(1,Na.length-1):Na)}}),matcher}var hasRequiredPareJson;function requirePareJson(){return hasRequiredPareJson||(hasRequiredPareJson=1,(function(La,Na){const ja=requireMinimist(),Ba=requireConvertor(),za=requireOption(),Ga=requireMatcher();La.exports=Na.default=function(Ha){(typeof Ha=="string"||Ha instanceof String)&&(Ha=Ga.matchArgv(Ha));const Ya=ja(Ha);let Xa={};if(Ya._[1]&&(Xa.url=Ya._[1].replace(/'/g,"")),za.forEach(Ka=>{let Va=Ka.alias.map(Ua=>Ya[Ua]).filter(Ua=>Ua)[0];Va&&(Ka.convertor?Xa[Ka.name]=Ka.convertor(Va):Xa[Ka.name]=Va)}),Xa.url){let Ka=new URL(Xa.url);Xa.url=Ka.origin+Ka.pathname;let Qa=new URLSearchParams(Ka.search);Array.from(Qa).length&&(Xa.params=Ba.parseParamsField(Qa.toString()))}return Xa.method||(Xa.method=Xa.data?"POST":"GET"),Xa}})(pareJson,pareJson.exports)),pareJson.exports}var pareJsonExports=requirePareJson();const curl2Json=getDefaultExportFromCjs(pareJsonExports);async function shouldUseScribeAPI(){try{return safeLocalStorage.getItem(STORAGE_KEYS.Scribe_API_ENABLED)==="true"?await invoke("check_license_status"):!1}catch(La){return console.warn("Failed to check Scribe API availability:",La),!1}}const MESSAGE_ID_OFFSET=1,CONVERSATION_SAVE_DEBOUNCE_MS=500,CHUNK_POLL_INTERVAL_MS=50,DOWNLOAD_SUCCESS_DISPLAY_MS=2e3,CONVERSATION_TITLE_WORD_LIMIT=6,CONVERSATION_ID_RANDOM_LENGTH=9;function generateConversationId(La="chat"){const Na=Date.now(),ja=Math.random().toString(36).substring(2,2+CONVERSATION_ID_RANDOM_LENGTH);return`${La==="sysaudio"?"sysaudio_conv":"conv"}_${Na}_${ja}`}function generateMessageId(La,Na=Date.now()){return`msg_${Na}_${La}`}function generateRequestId(){const La=Date.now(),Na=Math.random().toString(36).substring(2,2+CONVERSATION_ID_RANDOM_LENGTH);return`req_${La}_${Na}`}async function*fetchScribeAIResponse(La){try{const{systemPrompt:Na,userMessage:ja,imagesBase64:Ba=[],history:za=[],signal:Ga}=La;if(Ga?.aborted)return;let Ha;if(za.length>0){const Ua=[...za].reverse().map(Wa=>({role:Wa.role,content:[{type:"text",text:Wa.content}]}));Ha=JSON.stringify(Ua)}let Ya;Ba.length>0&&(Ya=Ba.length===1?Ba[0]:Ba);let Xa=!1;const Ka=[],Qa=await listen("chat_stream_chunk",Ua=>{const Wa=Ua.payload;Ka.push(Wa)}),Va=await listen("chat_stream_complete",()=>{Xa=!0});try{if(Ga?.aborted){Qa(),Va();return}await invoke("chat_stream",{userMessage:ja,systemPrompt:Na,imageBase64:Ya,history:Ha});let Ua=0;for(;!Xa;){if(Ga?.aborted){Qa(),Va();return}if(await new Promise(Wa=>setTimeout(Wa,CHUNK_POLL_INTERVAL_MS)),Ga?.aborted){Qa(),Va();return}for(let Wa=Ua;Wa<Ka.length;Wa++)yield Ka[Wa];Ua=Ka.length}if(Ga?.aborted){Qa(),Va();return}for(let Wa=Ua;Wa<Ka.length;Wa++)yield Ka[Wa]}finally{Qa(),Va()}}catch(Na){yield`Scribe API Error: ${Na instanceof Error?Na.message:String(Na)}`}}async function*fetchAIResponse(La){try{const{provider:Na,selectedProvider:ja,systemPrompt:Ba,history:za=[],userMessage:Ga,imagesBase64:Ha=[],signal:Ya}=La;if(Ya?.aborted)return;if(await shouldUseScribeAPI()){yield*fetchScribeAIResponse({systemPrompt:Ba,userMessage:Ga,imagesBase64:Ha,history:za,signal:Ya});return}if(!Na)throw new Error("Provider not provided");if(!ja)throw new Error("Selected provider not provided");let Ka;try{Ka=curl2Json(Na.curl)}catch(al){throw new Error(`Failed to parse curl: ${al instanceof Error?al.message:"Unknown error"}`)}const Va=extractVariables(Na.curl).filter(({key:al})=>al!=="SYSTEM_PROMPT"&&al!=="TEXT"&&al!=="IMAGE");for(const{key:al}of Va)if(!ja.variables?.[al]||ja.variables[al].trim()==="")throw new Error(`Missing required variable: ${al}. Please configure it in settings.`);if(!Ga)throw new Error("User message is required");if(Ha.length>0&&!Na.curl.includes("{{IMAGE}}"))throw new Error(`Provider ${Na?.id??"unknown"} does not support image input`);let Ua=Ka.data?JSON.parse(JSON.stringify(Ka.data)):{};const Wa=Object.keys(Ua).find(al=>["messages","contents","conversation","history"].includes(al));if(Wa&&Array.isArray(Ua[Wa])){const al=buildDynamicMessages(Ua[Wa],za,Ga,Ha);Ua[Wa]=al}const Ja={...Object.fromEntries(Object.entries(ja.variables).map(([al,ll])=>[al.toUpperCase(),ll])),SYSTEM_PROMPT:Ba||""};Ua=deepVariableReplacer(Ua,Ja);let Oo=deepVariableReplacer(Ka.url||"",Ja);const Do=deepVariableReplacer(Ka.header||{},Ja);if(Do["Content-Type"]="application/json",Na?.streaming&&typeof Ua=="object"&&Ua!==null){const al=Object.keys(Ua).find(ll=>ll.toLowerCase()==="stream");al?Ua[al]=!0:Ua.stream=!0}const Mo=Oo?.includes("http")?fetch:fetch$1;let el;try{el=await Mo(Oo,{method:Ka.method||"POST",headers:Do,body:Ka.method==="GET"?void 0:JSON.stringify(Ua),signal:Ya})}catch(al){if(Ya?.aborted||al instanceof Error&&al.name==="AbortError")return;yield`Network error during API request: ${al instanceof Error?al.message:"Unknown error"}`;return}if(!el.ok){let al="";try{al=await el.text()}catch{}yield`API request failed: ${el.status} ${el.statusText}${al?` - ${al}`:""}`;return}if(!Na?.streaming){let al;try{al=await el.json()}catch(ul){yield`Failed to parse non-streaming response: ${ul instanceof Error?ul.message:"Unknown error"}`;return}yield getByPath(al,Na?.responseContentPath||"")||"";return}if(!el.body){yield"Streaming not supported or response body missing";return}const tl=el.body.getReader(),rl=new TextDecoder;let il="";for(;;){if(Ya?.aborted){tl.cancel();return}let al;try{al=await tl.read()}catch(cl){if(Ya?.aborted||cl instanceof Error&&cl.name==="AbortError")return;yield`Error reading stream: ${cl instanceof Error?cl.message:"Unknown error"}`;return}const{done:ll,value:ul}=al;if(ll)break;if(Ya?.aborted){tl.cancel();return}il+=rl.decode(ul,{stream:!0});const ol=il.split(`
`);il=ol.pop()||"";for(const cl of ol)if(cl.startsWith("data:")){const gl=cl.substring(5).trim();if(!gl||gl==="[DONE]")continue;try{const bl=JSON.parse(gl),_l=getStreamingContent(bl,Na?.responseContentPath||"");_l&&(yield _l)}catch{}}}}catch(Na){throw new Error(`Error in fetchAIResponse: ${Na instanceof Error?Na.message:"Unknown error"}`)}}async function fetchScribeSTT(La){try{const Na=await blobToBase64(La),ja=await invoke("transcribe_audio",{audioBase64:Na});return ja.success&&ja.transcription?ja.transcription:ja.error||"Transcription failed"}catch(Na){return`Scribe STT Error: ${Na instanceof Error?Na.message:String(Na)}`}}async function fetchSTT(La){let Na=[];try{const{provider:ja,selectedProvider:Ba,audio:za}=La;if(await shouldUseScribeAPI())return await fetchScribeSTT(za);if(!ja)throw new Error("Provider not provided");if(!Ba)throw new Error("Selected provider not provided");if(!za)throw new Error("Audio file is required");let Ha;try{Ha=curl2Json(ja.curl)}catch(gl){throw new Error(`Failed to parse curl: ${gl instanceof Error?gl.message:"Unknown error"}`)}if(za.size===0)throw new Error("Audio file is empty");const Xa={...Object.fromEntries(Object.entries(Ba.variables).map(([gl,bl])=>[gl.toUpperCase(),bl]))};let Ka=deepVariableReplacer(Ha.url||"",Xa);const Qa=deepVariableReplacer(Ha.header||{},Xa),Va=deepVariableReplacer(Ha.form||{},Xa),Ua=ja.curl.includes("--data-binary"),Wa=Ha.params||{},Ja=Object.fromEntries(Object.entries(Wa).map(([gl,bl])=>[gl,typeof bl=="string"?decodeURIComponent(bl):""])),Oo=deepVariableReplacer(Ja,Xa),Do=new URLSearchParams(Oo).toString();Do&&(Ka+=(Ka.includes("?")?"&":"?")+Do);let Mo={...Qa},el;if(ja.curl.includes("-F ")||ja.curl.includes("--form")){const gl=new FormData,bl=new Blob([await za.arrayBuffer()],{type:za.type});gl.append("file",bl,"audio.wav");const _l=Object.keys(Qa).map(xl=>xl.toUpperCase().replace(/[-_]/g,""));for(const[xl,Al]of Object.entries(Va)){if(typeof Al!="string"){if(!Al||_l.includes(xl.toUpperCase())||xl.toUpperCase()==="AUDIO")continue;gl.append(xl.toLowerCase(),Al);continue}if(isNaN(parseInt(xl,10))){if(xl.toLowerCase()==="file"||!Al||_l.includes(xl.toUpperCase())||xl.toUpperCase()==="AUDIO")continue;gl.append(xl.toLowerCase(),Al)}else{const[ml,...Sl]=Al.split("="),Cl=Sl.join("=");if(ml.toLowerCase()==="file"||!Cl||_l.includes(ml.toUpperCase().replace(/[-_]/g,"")))continue;gl.append(ml,Cl)}}delete Mo["Content-Type"],el=gl}else if(Ua)el=new Blob([await za.arrayBuffer()],{type:za.type});else{Xa.AUDIO=await blobToBase64(za);const gl=Ha.data?{...Ha.data}:{};el=JSON.stringify(deepVariableReplacer(gl,Xa))}const rl=Ka?.includes("http")?fetch:fetch$1;let il;try{il=await rl(Ka,{method:Ha.method||"POST",headers:Mo,body:Ha.method==="GET"?void 0:el})}catch(gl){throw new Error(`Network error: ${gl instanceof Error?gl.message:gl}`)}if(!il.ok){let gl="";try{gl=await il.text()}catch{}let bl;try{bl=JSON.parse(gl).message||gl}catch{bl=gl||il.statusText}throw new Error(`HTTP ${il.status}: ${bl}`)}const al=await il.text();let ll;try{ll=JSON.parse(al)}catch{return[...Na,al.trim()].filter(Boolean).join("; ")}const ul=ja.responseContentPath||"text",ol=ul.charAt(0).toLowerCase()+ul.slice(1),cl=(getByPath(ll,ol)||"").trim();return cl?[...Na,cl].filter(Boolean).join("; "):[...Na,"No transcription found"].join("; ")}catch(ja){const Ba=ja instanceof Error?ja.message:String(ja);throw new Error(Ba)}}var ActionType=(La=>(La.FILE_CREATE="file_create",La.FILE_EDIT="file_edit",La.FILE_DELETE="file_delete",La.FILE_READ="file_read",La.APP_LAUNCH="app_launch",La.SYSTEM_COMMAND="system_command",La.FILE_LIST="file_list",La.FILE_MOVE="file_move",La))(ActionType||{});function detectIntent(La){const Na=La.trim().toLowerCase();if(Na.length<3)return{type:"chat",confidence:"high",requiresAI:!1};if(isExplicitChat(Na))return{type:"chat",confidence:"high",requiresAI:!0};const ja=detectFileIntent(Na);if(ja)return ja;const Ba=detectAppLaunchIntent(Na);if(Ba)return Ba;const za=detectSystemCommandIntent(Na);return za||{type:"chat",confidence:"low",requiresAI:!0}}function isExplicitChat(La){return["what","how","why","tell me","explain","describe","help me understand","what is","what are","question","ask"].some(ja=>La.startsWith(ja))}function detectFileIntent(La){const Na=[/^(create|make|new)\s+(?:a\s+)?(?:file\s+)?(?:called|named)\s+(.+)/i,/^write\s+(?:to\s+)?(?:file\s+)?(?:called|named)\s+(.+)/i,/^create\s+(.+?)\s+(?:file|with\s+(?:content|the\s+text))/i];for(const Ha of Na){const Ya=La.match(Ha);if(Ya){const Xa=Ya[Ya.length-1];return{type:"action",action:ActionType.FILE_CREATE,confidence:"high",requiresAI:!1,rawCommand:La,params:{path:extractFilePath(Xa),content:extractContent(La)}}}}const ja=[/^(read|show|display|get|open)\s+(?:the\s+)?(?:file\s+)?(?:called|named)?\s*(.+)/i,/^(view|cat|type)\s+(.+)/i];for(const Ha of ja){const Ya=La.match(Ha);if(Ya&&isLikelyFileReference(Ya[Ya.length-1]))return{type:"action",action:ActionType.FILE_READ,confidence:"high",requiresAI:!1,rawCommand:La,params:{path:extractFilePath(Ya[Ya.length-1])}}}const Ba=[/^(edit|modify|change|update|replace)\s+(?:the\s+)?(?:file\s+)?(?:called|named)?\s*(.+)/i,/^(add|append)\s+(?:to\s+)?(?:the\s+)?(?:file\s+)?(?:called|named)?\s*(.+)/i,/^edit\s+(.+?)\s+(?:and\s+)?(?:replace|change|with|to)/i];for(const Ha of Ba){const Ya=La.match(Ha);if(Ya&&isLikelyFileReference(Ya[Ya.length-1]))return{type:"action",action:ActionType.FILE_EDIT,confidence:"high",requiresAI:!1,rawCommand:La,params:{path:extractFilePath(Ya[Ya.length-1]),content:extractContent(La,Ya[Ya.length-1])}}}const za=[/^(delete|remove|rm)\s+(?:the\s+)?(?:file\s+)?(?:called|named)?\s*(.+)/i,/^(clear|clean)\s+(?:the\s+)?(?:file\s+)?(.+)/i];for(const Ha of za){const Ya=La.match(Ha);if(Ya&&isLikelyFileReference(Ya[Ya.length-1]))return{type:"action",action:ActionType.FILE_DELETE,confidence:"high",requiresAI:!1,rawCommand:La,params:{path:extractFilePath(Ya[Ya.length-1])}}}const Ga=[/^(list|show|ls|dir)\s+(?:files\s+)?(?:in\s+)?(.+)?/i,/^(what\s+)?files?\s+(?:are\s+)?(?:in|inside|under)\s+(.+)/i];for(const Ha of Ga){const Ya=La.match(Ha);if(Ya)return{type:"action",action:ActionType.FILE_LIST,confidence:"high",requiresAI:!1,rawCommand:La,params:{path:Ya[1]?extractFilePath(Ya[1]):void 0}}}return null}function detectAppLaunchIntent(La){const Na=[/^(open|launch|run|start)\s+(?:the\s+)?(?:app\s+)?(?:called|named)?\s*(.+)/i,/^(open|launch)\s+(chrome|firefox|safari|notepad|calculator|terminal)/i];for(const ja of Na){const Ba=La.match(ja);if(Ba){const za=Ba[Ba.length-1].trim();return{type:"action",action:ActionType.APP_LAUNCH,confidence:"high",requiresAI:!1,rawCommand:La,params:{appName:za}}}}return null}function detectSystemCommandIntent(La){const Na=[/^(shutdown|restart|reboot|sleep|hibernate)\s+(?:the\s+)?computer/i,/^(lock|unlock)\s+(?:the\s+)?(?:screen|computer)/i];for(const ja of Na){const Ba=La.match(ja);if(Ba)return{type:"action",action:ActionType.SYSTEM_COMMAND,confidence:"high",requiresAI:!1,rawCommand:La,params:{command:Ba[1]}}}return null}function extractFilePath(La){let Na=La.replace(/file\s+in\s+/i,"").replace(/in\s+my\s+/i,"").replace(/the\s+/i,"").trim();Na=Na.replace(/^["']|["']$/g,"");const ja=[" with "," containing "," that says "," with content "];for(const Ba of ja)Na.toLowerCase().includes(Ba)&&(Na=Na.substring(0,Na.toLowerCase().indexOf(Ba)));return Na.trim()}function extractContent(La,Na){const ja=[" with "," containing "," that says "," with content "];for(const Ga of ja)if(La.toLowerCase().includes(Ga)){const Ha=La.toLowerCase().indexOf(Ga);return La.substring(Ha+Ga.length).trim()}const Ba=/create\s+.+?\s+and\s+write\s+(.+)/i,za=La.match(Ba);if(za)return za[1].trim()}function isLikelyFileReference(La){return/\.\w{2,4}$/.test(La)?!0:["file","document","folder","directory"].some(ja=>La.toLowerCase().includes(ja))}function shouldUseAIForIntent(La){return La.requiresAI||La.confidence==="low"}const INTENT_EXTRACTION_PROMPT=`You are an intent parser for a system that can perform actions on the user's computer.

Extract structured action intent from user messages. Return ONLY valid JSON in this exact format:
{
  "action": "file_create|file_edit|file_delete|file_read|app_launch|system_command|chat",
  "params": {
    "path": "file path if applicable",
    "content": "content for file operations",
    "appName": "application name for app_launch",
    "command": "command name for system_commands"
  },
  "dangerous": boolean,
  "confidence": "high|low"
}

If the message is NOT an action request (pure conversation), return:
{
  "action": "chat",
  "params": {},
  "dangerous": false,
  "confidence": "high"
}

For file operations:
- file_create: user wants to create a new file with content
- file_edit: user wants to modify existing file
- file_delete: user wants to delete a file
- file_read: user wants to read/view file contents

For applications:
- app_launch: user wants to open/launch an application

For system:
- system_command: user wants to execute system-level commands

If uncertain, set confidence to "low" and action to "chat".
Always return valid JSON.`;async function extractIntentWithAI(La,Na,ja,Ba){try{let za="";for await(const Ha of fetchAIResponse({provider:Na,selectedProvider:ja,systemPrompt:INTENT_EXTRACTION_PROMPT,history:[],userMessage:La,imagesBase64:[],signal:Ba})){if(Ba?.aborted)return{type:"chat",confidence:"low",requiresAI:!1};za+=Ha}return parseAIResponse(za)}catch(za){return console.error("Failed to extract intent with AI:",za),{type:"chat",confidence:"low",requiresAI:!1}}}function parseAIResponse(La){let Na=La.trim();Na=Na.replace(/```json\n?/g,"").replace(/```\n?/g,""),Na=Na.trim();const ja=Na.match(/\{[\s\S]*\}/);ja&&(Na=ja[0]);try{const Ba=JSON.parse(Na);return Ba.action==="chat"?{type:"chat",confidence:Ba.confidence||"low",requiresAI:!1}:Object.values(ActionType).includes(Ba.action)?{type:"action",action:Ba.action,confidence:Ba.confidence||"low",requiresAI:!1,params:Ba.params||{}}:(console.warn("Invalid action type from AI:",Ba.action),{type:"chat",confidence:"low",requiresAI:!1})}catch(Ba){return console.error("Failed to parse AI intent response:",Ba),console.error("Response was:",La),{type:"chat",confidence:"low",requiresAI:!1}}}const validateCurl=(La,Na)=>{if(!La.trim().startsWith("curl"))return{isValid:!1,message:"The command must start with 'curl'."};try{curl2Json(La)}catch{return{isValid:!1,message:"Invalid cURL command syntax. Please check for typos or try validating it on an online tool like reqbin.com/curl-online."}}const ja=Na.filter(Ba=>!La.includes(`{{${Ba}}}`));return ja.length>0?{isValid:!1,message:`The following required variables are missing: ${ja.map(za=>`{{${za}}}`).join(", ")}.`}:{isValid:!0}},PROMPT_TEMPLATES=[{id:"real_time_translator",name:"Real-time Translator",prompt:`You are a real-time translation assistant. Listen to system audio and provide instant, accurate translations. Be concise and quick.

[ADD YOUR TRANSLATION SETTINGS HERE]
- From language: 
- To language: 
- Context/Domain: (business, casual, technical, etc.)

Provide immediate translations of what you hear. Keep responses short and clear for quick reading.`},{id:"meeting_assistant",name:"Meeting Assistant",prompt:`You are a transparent meeting assistant. Listen to conversations and provide real-time insights, summaries, and action items.

[ADD YOUR MEETING CONTEXT HERE]
- Meeting type: 
- Your role: 
- Key topics to focus on: 
- What you need help with: 

Provide quick insights, key points, and actionable information as the meeting progresses.`},{id:"interview_assistant",name:"Interview Assistant",prompt:`You are a real-time interview assistant. Help answer questions by providing quick, relevant talking points based on the candidate's background.

[ADD YOUR RESUME HERE]
- Your experience: 
- Key skills: 
- Notable achievements: 
- Education: 
- Projects: 

[ADD JOB DESCRIPTION HERE]
- Position: 
- Required skills: 
- Company: 
- Key responsibilities: 

Listen to interview questions and provide concise, relevant talking points to help answer effectively.`},{id:"technical_interview",name:"Technical Interview Helper",prompt:`You are a technical interview assistant. Provide quick hints, approaches, and explanations for technical questions.

[ADD YOUR TECHNICAL BACKGROUND HERE]
- Programming languages: 
- Technologies/frameworks: 
- Experience level: 
- Areas of expertise: 

[ADD JOB REQUIREMENTS HERE]
- Technical stack: 
- Position level: 
- Key technical skills needed: 

Listen to technical questions and provide brief, helpful guidance and approaches.`},{id:"presentation_coach",name:"Presentation Coach",prompt:`You are a real-time presentation assistant. Help improve delivery, suggest talking points, and provide confidence boosters.

[ADD YOUR PRESENTATION CONTEXT HERE]
- Topic/subject: 
- Audience: 
- Key messages: 
- Your expertise level: 
- Presentation goals: 

Provide quick tips, talking points, and encouragement as you present.`},{id:"learning_assistant",name:"Learning Assistant",prompt:`You are a real-time learning companion. Help understand concepts, provide explanations, and suggest questions during lectures or tutorials.

[ADD YOUR LEARNING CONTEXT HERE]
- Subject/topic: 
- Your current level: 
- Learning goals: 
- Areas of difficulty: 
- Course context: 

Provide quick explanations, clarifications, and helpful insights as you learn.`},{id:"customer_call_helper",name:"Customer Call Helper",prompt:`You are a customer service assistant. Help handle customer calls by providing quick responses, solutions, and talking points.

[ADD YOUR PRODUCT/SERVICE INFO HERE]
- Company/product: 
- Common issues: 
- Your role: 
- Available solutions: 
- Escalation procedures: 

Listen to customer concerns and provide quick, helpful response suggestions.`},{id:"general_assistant",name:"General Assistant",prompt:`You are a transparent AI assistant. Provide real-time help, insights, and information based on what you hear through system audio.

[ADD YOUR PREFERENCES HERE]
- Primary use case: 
- Areas of interest: 
- Response style: (brief, detailed, technical, etc.)
- Language preference: 

Listen and provide relevant, helpful information and insights in real-time.`}],getPromptTemplateById=La=>PROMPT_TEMPLATES.find(Na=>Na.id===La);class Database{constructor(Na){this.path=Na}static async load(Na){const ja=await invoke("plugin:sql|load",{db:Na});return new Database(ja)}static get(Na){return new Database(Na)}async execute(Na,ja){const[Ba,za]=await invoke("plugin:sql|execute",{db:this.path,query:Na,values:ja??[]});return{lastInsertId:za,rowsAffected:Ba}}async select(Na,ja){return await invoke("plugin:sql|select",{db:this.path,query:Na,values:ja??[]})}async close(Na){return await invoke("plugin:sql|close",{db:Na})}}const DB_NAME="sqlite:ghost.db";let dbInstance=null;async function getDatabase(){if(!dbInstance)try{dbInstance=await Database.load(DB_NAME)}catch(La){throw new Error(`Failed to initialize database: ${La instanceof Error?La.message:String(La)}`)}return dbInstance}async function createSystemPrompt(La){const Na=await getDatabase(),ja=La.name.trim(),Ba=La.prompt.trim();if(!ja)throw new Error("System prompt name cannot be empty");if(!Ba)throw new Error("System prompt text cannot be empty");const za=await Na.execute("INSERT INTO system_prompts (name, prompt) VALUES (?, ?)",[ja,Ba]),Ga=await Na.select("SELECT * FROM system_prompts WHERE id = ?",[za.lastInsertId]);if(!Ga[0])throw new Error("Failed to retrieve created system prompt");return Ga[0]}async function getAllSystemPrompts(){return await(await getDatabase()).select("SELECT * FROM system_prompts ORDER BY created_at DESC")}async function updateSystemPrompt(La,Na){const ja=await getDatabase(),Ba=[],za=[];if(Na.name!==void 0){const Ha=Na.name.trim();if(!Ha)throw new Error("System prompt name cannot be empty");Ba.push("name = ?"),za.push(Ha)}if(Na.prompt!==void 0){const Ha=Na.prompt.trim();if(!Ha)throw new Error("System prompt text cannot be empty");Ba.push("prompt = ?"),za.push(Ha)}if(Ba.length===0)throw new Error("No fields to update");za.push(La),await ja.execute(`UPDATE system_prompts SET ${Ba.join(", ")} WHERE id = ?`,za);const Ga=await ja.select("SELECT * FROM system_prompts WHERE id = ?",[La]);if(!Ga[0])throw new Error("System prompt not found after update");return Ga[0]}async function deleteSystemPrompt(La){if((await(await getDatabase()).execute("DELETE FROM system_prompts WHERE id = ?",[La])).rowsAffected===0)throw new Error("System prompt not found")}const LEGACY_CHAT_HISTORY_KEY="chat_history";function safeJsonParse(La,Na){if(!La)return Na;try{return JSON.parse(La)}catch(ja){return console.error("Failed to parse JSON:",ja),Na}}function validateConversation(La){return!La.id||typeof La.id!="string"?(console.error("Invalid conversation: missing or invalid id"),!1):!La.title||typeof La.title!="string"?(console.error("Invalid conversation: missing or invalid title"),!1):Array.isArray(La.messages)?!0:(console.error("Invalid conversation: messages is not an array"),!1)}function validateMessage(La){return!La.id||typeof La.id!="string"?(console.error("Invalid message: missing or invalid id"),!1):!La.role||!["user","assistant","system"].includes(La.role)?(console.error("Invalid message: missing or invalid role"),!1):typeof La.content!="string"?(console.error("Invalid message: content must be a string"),!1):typeof La.timestamp!="number"||La.timestamp<0?(console.error("Invalid message: invalid timestamp"),!1):!0}async function createConversation(La){if(!validateConversation(La))throw new Error("Invalid conversation data");const Na=await getDatabase();try{await Na.execute("INSERT INTO conversations (id, title, created_at, updated_at) VALUES (?, ?, ?, ?)",[La.id,La.title,La.createdAt||Date.now(),La.updatedAt||Date.now()]);for(const ja of La.messages){if(!validateMessage(ja)){console.warn("Skipping invalid message in conversation creation");continue}const Ba=ja.attachedFiles?JSON.stringify(ja.attachedFiles):null;await Na.execute("INSERT INTO messages (id, conversation_id, role, content, timestamp, attached_files) VALUES (?, ?, ?, ?, ?, ?)",[ja.id,La.id,ja.role,ja.content,ja.timestamp,Ba])}return La}catch(ja){throw console.error("Failed to create conversation:",ja),await Na.execute("DELETE FROM conversations WHERE id = ?",[La.id]).catch(()=>{}),ja}}async function getAllConversations(){const La=await getDatabase();try{const Na=await La.select("SELECT * FROM conversations ORDER BY updated_at DESC");if(Na.length===0)return[];const ja=Na.map(Ha=>Ha.id),Ba=ja.map(()=>"?").join(","),za=await La.select(`SELECT * FROM messages WHERE conversation_id IN (${Ba}) ORDER BY conversation_id, timestamp ASC`,ja),Ga=new Map;for(const Ha of za)Ga.has(Ha.conversation_id)||Ga.set(Ha.conversation_id,[]),Ga.get(Ha.conversation_id).push(Ha);return Na.map(Ha=>({id:Ha.id,title:Ha.title,createdAt:Ha.created_at,updatedAt:Ha.updated_at,messages:Ga.get(Ha.id)?.map(Ya=>({id:Ya.id,role:Ya.role,content:Ya.content,timestamp:Ya.timestamp,attachedFiles:safeJsonParse(Ya.attached_files,void 0)}))||[]}))}catch(Na){throw console.error("Failed to get all conversations:",Na),Na}}async function getConversationById(La){if(!La||typeof La!="string")return console.error("Invalid conversation id"),null;const Na=await getDatabase();try{const ja=await Na.select("SELECT * FROM conversations WHERE id = ?",[La]);if(ja.length===0)return null;const Ba=ja[0],za=await Na.select("SELECT * FROM messages WHERE conversation_id = ? ORDER BY timestamp ASC",[La]);return{id:Ba.id,title:Ba.title,createdAt:Ba.created_at,updatedAt:Ba.updated_at,messages:za.map(Ga=>({id:Ga.id,role:Ga.role,content:Ga.content,timestamp:Ga.timestamp,attachedFiles:safeJsonParse(Ga.attached_files,void 0)}))}}catch(ja){return console.error(`Failed to get conversation ${La}:`,ja),null}}async function updateConversation(La){if(!validateConversation(La))throw new Error("Invalid conversation data");const Na=await getDatabase();try{if((await Na.execute("UPDATE conversations SET title = ?, updated_at = ? WHERE id = ?",[La.title,La.updatedAt,La.id])).rowsAffected===0)throw new Error("Conversation not found");const Ba=await Na.select("SELECT * FROM messages WHERE conversation_id = ?",[La.id]);await Na.execute("DELETE FROM messages WHERE conversation_id = ?",[La.id]);try{for(const za of La.messages){if(!validateMessage(za)){console.warn("Skipping invalid message in conversation update");continue}const Ga=za.attachedFiles?JSON.stringify(za.attachedFiles):null;await Na.execute("INSERT INTO messages (id, conversation_id, role, content, timestamp, attached_files) VALUES (?, ?, ?, ?, ?, ?)",[za.id,La.id,za.role,za.content,za.timestamp,Ga])}}catch(za){console.error("Failed to insert new messages, restoring backup:",za);for(const Ga of Ba)await Na.execute("INSERT INTO messages (id, conversation_id, role, content, timestamp, attached_files) VALUES (?, ?, ?, ?, ?, ?)",[Ga.id,Ga.conversation_id,Ga.role,Ga.content,Ga.timestamp,Ga.attached_files]).catch(()=>{});throw za}return La}catch(ja){throw console.error("Failed to update conversation:",ja),ja}}async function saveConversation(La){if(!validateConversation(La))throw new Error("Invalid conversation data");try{return await getConversationById(La.id)?await updateConversation(La):await createConversation(La)}catch(Na){throw console.error("Failed to save conversation:",Na),Na}}async function deleteConversation(La){if(!La||typeof La!="string")return console.error("Invalid conversation id"),!1;const Na=await getDatabase();try{return(await Na.execute("DELETE FROM conversations WHERE id = ?",[La])).rowsAffected>0}catch(ja){throw console.error(`Failed to delete conversation ${La}:`,ja),ja}}async function deleteAllConversations(){const La=await getDatabase();try{await La.execute("DELETE FROM messages"),await La.execute("DELETE FROM conversations")}catch(Na){throw console.error("Failed to delete all conversations:",Na),Na}}function generateConversationTitle(La){if(!La||typeof La!="string")return"New Conversation";const Na=La.trim();if(Na.length===0)return"New Conversation";const Ba=Na.split(/\s+/).slice(0,CONVERSATION_TITLE_WORD_LIMIT).join(" ");return Ba.length<Na.length?`${Ba}...`:Ba}async function migrateLocalStorageToSQLite(){const La="chat_history_migrated_to_sqlite";try{if(safeLocalStorage.getItem(La)==="true")return{success:!0,migratedCount:0};const Na=safeLocalStorage.getItem(LEGACY_CHAT_HISTORY_KEY);if(!Na)return safeLocalStorage.setItem(La,"true"),{success:!0,migratedCount:0};let ja=[];try{const Ya=JSON.parse(Na);ja=Array.isArray(Ya)?Ya:[]}catch(Ya){return console.error("Failed to parse localStorage chat history:",Ya),safeLocalStorage.setItem(La,"true"),{success:!1,migratedCount:0,error:"Failed to parse localStorage data"}}if(ja.length===0)return safeLocalStorage.setItem(La,"true"),{success:!0,migratedCount:0};const Ba=await getDatabase();let za=0,Ga=0;for(const Ya of ja)try{if(!Ya?.id||!Ya?.title){console.warn("Skipping invalid conversation:",Ya),Ga++;continue}if(await getConversationById(Ya.id)){console.log(`Conversation ${Ya.id} already exists, skipping`);continue}if(await Ba.execute("INSERT INTO conversations (id, title, created_at, updated_at) VALUES (?, ?, ?, ?)",[Ya.id,Ya.title,Ya.createdAt||Date.now(),Ya.updatedAt||Date.now()]),Array.isArray(Ya.messages)&&Ya.messages.length>0)for(const Ka of Ya.messages){if(!Ka?.id||!Ka?.role||typeof Ka?.content!="string"){console.warn(`Skipping invalid message in conversation ${Ya.id}:`,Ka);continue}const Qa=Ka.attachedFiles?JSON.stringify(Ka.attachedFiles):null;await Ba.execute("INSERT INTO messages (id, conversation_id, role, content, timestamp, attached_files) VALUES (?, ?, ?, ?, ?, ?)",[Ka.id,Ya.id,Ka.role,Ka.content,Ka.timestamp||Date.now(),Qa])}za++}catch(Xa){console.error(`Failed to migrate conversation ${Ya?.id}:`,Xa),Ga++,await Ba.execute("DELETE FROM conversations WHERE id = ?",[Ya?.id]).catch(()=>{})}safeLocalStorage.setItem(La,"true"),safeLocalStorage.removeItem(LEGACY_CHAT_HISTORY_KEY);const Ha=Ga>0?`Migrated ${za}/${ja.length} conversations (${Ga} failed)`:`Successfully migrated ${za} conversations`;return console.log(Ha),{success:za>0||Ga===0,migratedCount:za,error:Ga>0?`${Ga} conversations failed to migrate`:void 0}}catch(Na){return console.error("Migration failed:",Na),safeLocalStorage.setItem(La,"true"),{success:!1,migratedCount:0,error:Na instanceof Error?Na.message:String(Na)}}}const getPlatform=()=>{if(navigator.userAgentData?.platform){const Na=navigator.userAgentData.platform.toLowerCase();return Na.includes("mac")?"macos":Na.includes("win")?"windows":"linux"}const La=navigator.platform.toLowerCase();return La.includes("mac")?"macos":La.includes("win")?"windows":"linux"},isMacOS=()=>getPlatform()==="macos";var t=typeof window<"u"?window:void 0,i$1=typeof globalThis<"u"?globalThis:t,e=Array.prototype,r$1=e.forEach,s$1=e.indexOf,n=i$1?.navigator,o=i$1?.document,a=i$1?.location,l=i$1?.fetch,u$1=i$1!=null&&i$1.XMLHttpRequest&&"withCredentials"in new i$1.XMLHttpRequest?i$1.XMLHttpRequest:void 0,h$1=i$1?.AbortController,d=n?.userAgent,v=t??{},c={DEBUG:!1,LIB_VERSION:"1.270.1"};function f(La,Na,ja,Ba,za,Ga,Ha){try{var Ya=La[Ga](Ha),Xa=Ya.value}catch(Ka){return void ja(Ka)}Ya.done?Na(Xa):Promise.resolve(Xa).then(Ba,za)}function p$2(La){return function(){var Na=this,ja=arguments;return new Promise((function(Ba,za){var Ga=La.apply(Na,ja);function Ha(Xa){f(Ga,Ba,za,Ha,Ya,"next",Xa)}function Ya(Xa){f(Ga,Ba,za,Ha,Ya,"throw",Xa)}Ha(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(La){for(var Na=1;Na<arguments.length;Na++){var ja=arguments[Na];for(var Ba in ja)({}).hasOwnProperty.call(ja,Ba)&&(La[Ba]=ja[Ba])}return La},g.apply(null,arguments)}function _(La,Na){if(La==null)return{};var ja={};for(var Ba in La)if({}.hasOwnProperty.call(La,Ba)){if(Na.indexOf(Ba)!==-1)continue;ja[Ba]=La[Ba]}return ja}var m$1=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function y(La,Na){return La.indexOf(Na)!==-1}var b=function(La){return La.trim()},w=function(La){return La.replace(/^\$/,"")},S$1=Array.isArray,k$2=Object.prototype,x=k$2.hasOwnProperty,E=k$2.toString,R=S$1||function(La){return E.call(La)==="[object Array]"},I=La=>typeof La=="function",P$1=La=>La===Object(La)&&!R(La),T$2=La=>{if(P$1(La)){for(var Na in La)if(x.call(La,Na))return!1;return!0}return!1},C=La=>La===void 0,M=La=>E.call(La)=="[object String]",O=La=>M(La)&&La.trim().length===0,F=La=>La===null,A=La=>C(La)||F(La),D$2=La=>E.call(La)=="[object Number]",j=La=>E.call(La)==="[object Boolean]",L$1=La=>La instanceof FormData,N$1=La=>y(m$1,La);function U$1(La){return La===null||typeof La!="object"}function z(La,Na){return Object.prototype.toString.call(La)==="[object "+Na+"]"}function B$2(La){return!C(Event)&&(function(Na,ja){try{return Na instanceof ja}catch{return!1}})(La,Event)}var q=[!0,"true",1,"1","yes"],H$1=La=>y(q,La),W$1=[!1,"false",0,"0","no"];function G$1(La,Na,ja,Ba,za){return Na>ja&&(Ba.warn("min cannot be greater than max."),Na=ja),D$2(La)?La>ja?(Ba.warn(" cannot be  greater than max: "+ja+". Using max value instead."),ja):La<Na?(Ba.warn(" cannot be less than min: "+Na+". Using min value instead."),Na):La:(Ba.warn(" must be a number. using max or fallback. max: "+ja+", fallback: "+za),G$1(za||ja,Na,ja,Ba))}class V{constructor(Na){this.t=Na,this.i={},this.o=()=>{Object.keys(this.i).forEach((ja=>{var Ba=this.h(ja)+this.m;Ba>=this.S?delete this.i[ja]:this.k(ja,Ba)}))},this.h=ja=>this.i[String(ja)],this.k=(ja,Ba)=>{this.i[String(ja)]=Ba},this.consumeRateLimit=ja=>{var Ba,za,Ga=(Ba=this.h(ja))!==null&&Ba!==void 0?Ba:this.S;if((Ga=Math.max(Ga-1,0))===0)return!0;this.k(ja,Ga);var Ha=Ga===0;return Ha&&((za=this.$)==null||za.call(this,ja)),Ha},this.$=this.t.$,this.S=G$1(this.t.bucketSize,0,100,this.t.R),this.m=G$1(this.t.refillRate,0,this.S,this.t.R),this.I=G$1(this.t.refillInterval,0,864e5,this.t.R),this.P=setInterval((()=>{this.o()}),this.I)}stop(){this.P&&(clearInterval(this.P),this.P=void 0)}}var J$1,K$2,Y$2,X$2=La=>La instanceof Error;function Q(La){var Na=globalThis._posthogChunkIds;if(Na){var ja=Object.keys(Na);return Y$2&&ja.length===K$2||(K$2=ja.length,Y$2=ja.reduce(((Ba,za)=>{J$1||(J$1={});var Ga=J$1[za];if(Ga)Ba[Ga[0]]=Ga[1];else for(var Ha=La(za),Ya=Ha.length-1;Ya>=0;Ya--){var Xa=Ha[Ya],Ka=Xa?.filename,Qa=Na[za];if(Ka&&Qa){Ba[Ka]=Qa,J$1[za]=[Ka,Qa];break}}return Ba}),{})),Y$2}}var Z$1="?";function tt(La,Na,ja,Ba){var za={platform:"web:javascript",filename:La,function:Na==="<anonymous>"?Z$1:Na,in_app:!0};return C(ja)||(za.lineno=ja),C(Ba)||(za.colno=Ba),za}var it=(La,Na)=>{var ja=La.indexOf("safari-extension")!==-1,Ba=La.indexOf("safari-web-extension")!==-1;return ja||Ba?[La.indexOf("@")!==-1?La.split("@")[0]:Z$1,ja?"safari-extension:"+Na:"safari-web-extension:"+Na]:[La,Na]},et=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,rt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,st=/\((\S*)(?::(\d+))(?::(\d+))\)/,nt=La=>{var Na=et.exec(La);if(Na){var[,ja,Ba,za]=Na;return tt(ja,Z$1,+Ba,+za)}var Ga=rt.exec(La);if(Ga){if(Ga[2]&&Ga[2].indexOf("eval")===0){var Ha=st.exec(Ga[2]);Ha&&(Ga[2]=Ha[1],Ga[3]=Ha[2],Ga[4]=Ha[3])}var[Ya,Xa]=it(Ga[1]||Z$1,Ga[2]);return tt(Xa,Ya,Ga[3]?+Ga[3]:void 0,Ga[4]?+Ga[4]:void 0)}},ot=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,at=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,lt=La=>{var Na=ot.exec(La);if(Na){if(Na[3]&&Na[3].indexOf(" > eval")>-1){var ja=at.exec(Na[3]);ja&&(Na[1]=Na[1]||"eval",Na[3]=ja[1],Na[4]=ja[2],Na[5]="")}var Ba=Na[3],za=Na[1]||Z$1;return[za,Ba]=it(za,Ba),tt(Ba,za,Na[4]?+Na[4]:void 0,Na[5]?+Na[5]:void 0)}},ut=/\(error: (.*)\)/,ht=50;function dt(){for(var La=arguments.length,Na=new Array(La),ja=0;ja<La;ja++)Na[ja]=arguments[ja];return function(Ba,za){za===void 0&&(za=0);for(var Ga=[],Ha=Ba.split(`
`),Ya=za;Ya<Ha.length;Ya++){var Xa=Ha[Ya];if(!(Xa.length>1024)){var Ka=ut.test(Xa)?Xa.replace(ut,"$1"):Xa;if(!Ka.match(/\S*Error: /)){for(var Qa of Na){var Va=Qa(Ka);if(Va){Ga.push(Va);break}}if(Ga.length>=ht)break}}}return(function(Ua){if(!Ua.length)return[];var Wa=Array.from(Ua);return Wa.reverse(),Wa.slice(0,ht).map((Ja=>{return g({},Ja,{filename:Ja.filename||(Oo=Wa,Oo[Oo.length-1]||{}).filename,function:Ja.function||Z$1});var Oo}))})(Ga)}}class vt{constructor(Na,ja,Ba){Na===void 0&&(Na=[]),ja===void 0&&(ja=[]),Ba===void 0&&(Ba=[]),this.coercers=Na,this.modifiers=Ba,this.stackParser=dt(...ja)}buildFromUnknown(Na,ja){ja===void 0&&(ja={});var Ba=ja&&ja.mechanism||{handled:!0,type:"generic"},za=this.buildCoercingContext(Ba,ja,0).apply(Na),Ga=this.buildParsingContext(),Ha=this.parseStacktrace(za,Ga);return{$exception_list:this.convertToExceptionList(Ha,Ba),$exception_level:"error"}}modifyFrames(Na){var ja=this;return p$2((function*(){for(var Ba of Na)Ba.stacktrace&&Ba.stacktrace.frames&&R(Ba.stacktrace.frames)&&(Ba.stacktrace.frames=yield ja.applyModifiers(Ba.stacktrace.frames));return Na}))()}coerceFallback(Na){var ja;return{type:"Error",value:"Unknown error",stack:(ja=Na.syntheticException)==null?void 0:ja.stack,synthetic:!0}}parseStacktrace(Na,ja){var Ba,za;return Na.cause!=null&&(Ba=this.parseStacktrace(Na.cause,ja)),Na.stack!=""&&Na.stack!=null&&(za=this.applyChunkIds(this.stackParser(Na.stack,Na.synthetic?1:0),ja.chunkIdMap)),g({},Na,{cause:Ba,stack:za})}applyChunkIds(Na,ja){return Na.map((Ba=>(Ba.filename&&ja&&(Ba.chunk_id=ja[Ba.filename]),Ba)))}applyCoercers(Na,ja){for(var Ba of this.coercers)if(Ba.match(Na))return Ba.coerce(Na,ja);return this.coerceFallback(ja)}applyModifiers(Na){var ja=this;return p$2((function*(){var Ba=Na;for(var za of ja.modifiers)Ba=yield za(Ba);return Ba}))()}convertToExceptionList(Na,ja){var Ba,za,Ga,Ha={type:Na.type,value:Na.value,mechanism:{type:(Ba=ja.type)!==null&&Ba!==void 0?Ba:"generic",handled:(za=ja.handled)===null||za===void 0||za,synthetic:(Ga=Na.synthetic)!==null&&Ga!==void 0&&Ga}};Na.stack&&(Ha.stacktrace={type:"raw",frames:Na.stack});var Ya=[Ha];return Na.cause!=null&&Ya.push(...this.convertToExceptionList(Na.cause,g({},ja,{handled:!0}))),Ya}buildParsingContext(){return{chunkIdMap:Q(this.stackParser)}}buildCoercingContext(Na,ja,Ba){Ba===void 0&&(Ba=0);var za=(Ga,Ha)=>{if(Ha<=4){var Ya=this.buildCoercingContext(Na,ja,Ha);return this.applyCoercers(Ga,Ya)}};return g({},ja,{syntheticException:Ba==0?ja.syntheticException:void 0,mechanism:Na,apply:Ga=>za(Ga,Ba),next:Ga=>za(Ga,Ba+1)})}}class ct{match(Na){return this.isDOMException(Na)||this.isDOMError(Na)}coerce(Na,ja){var Ba=M(Na.stack);return{type:this.getType(Na),value:this.getValue(Na),stack:Ba?Na.stack:void 0,cause:Na.cause?ja.next(Na.cause):void 0,synthetic:!1}}getType(Na){return this.isDOMError(Na)?"DOMError":"DOMException"}getValue(Na){var ja=Na.name||(this.isDOMError(Na)?"DOMError":"DOMException");return Na.message?ja+": "+Na.message:ja}isDOMException(Na){return z(Na,"DOMException")}isDOMError(Na){return z(Na,"DOMError")}}class ft{match(Na){return(ja=>ja instanceof Error)(Na)}coerce(Na,ja){return{type:this.getType(Na),value:this.getMessage(Na,ja),stack:this.getStack(Na),cause:Na.cause?ja.next(Na.cause):void 0,synthetic:!1}}getType(Na){return Na.name||Na.constructor.name}getMessage(Na,ja){var Ba=Na.message;return Ba.error&&typeof Ba.error.message=="string"?String(Ba.error.message):String(Ba)}getStack(Na){return Na.stacktrace||Na.stack||void 0}}class pt{constructor(){}match(Na){return z(Na,"ErrorEvent")&&Na.error!=null}coerce(Na,ja){var Ba,za=ja.apply(Na.error);return za||{type:"ErrorEvent",value:Na.message,stack:(Ba=ja.syntheticException)==null?void 0:Ba.stack,synthetic:!0}}}var gt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class _t{match(Na){return typeof Na=="string"}coerce(Na,ja){var Ba,[za,Ga]=this.getInfos(Na);return{type:za??"Error",value:Ga??Na,stack:(Ba=ja.syntheticException)==null?void 0:Ba.stack,synthetic:!0}}getInfos(Na){var ja="Error",Ba=Na,za=Na.match(gt);return za&&(ja=za[1],Ba=za[2]),[ja,Ba]}}var mt=["fatal","error","warning","log","info","debug"];function yt(La,Na){Na===void 0&&(Na=40);var ja=Object.keys(La);if(ja.sort(),!ja.length)return"[object has no keys]";for(var Ba=ja.length;Ba>0;Ba--){var za=ja.slice(0,Ba).join(", ");if(!(za.length>Na))return Ba===ja.length||za.length<=Na?za:za.slice(0,Na)+"..."}return""}class bt{match(Na){return typeof Na=="object"&&Na!==null}coerce(Na,ja){var Ba,za=this.getErrorPropertyFromObject(Na);return za?ja.apply(za):{type:this.getType(Na),value:this.getValue(Na),stack:(Ba=ja.syntheticException)==null?void 0:Ba.stack,level:this.isSeverityLevel(Na.level)?Na.level:"error",synthetic:!0}}getType(Na){return B$2(Na)?Na.constructor.name:"Error"}getValue(Na){if("name"in Na&&typeof Na.name=="string"){var ja="'"+Na.name+"' captured as exception";return"message"in Na&&typeof Na.message=="string"&&(ja+=" with message: '"+Na.message+"'"),ja}if("message"in Na&&typeof Na.message=="string")return Na.message;var Ba=this.getObjectClassName(Na);return(Ba&&Ba!=="Object"?"'"+Ba+"'":"Object")+" captured as exception with keys: "+yt(Na)}isSeverityLevel(Na){return M(Na)&&!O(Na)&&mt.indexOf(Na)>=0}getErrorPropertyFromObject(Na){for(var ja in Na)if(Object.prototype.hasOwnProperty.call(Na,ja)){var Ba=Na[ja];if(X$2(Ba))return Ba}}getObjectClassName(Na){try{var ja=Object.getPrototypeOf(Na);return ja?ja.constructor.name:void 0}catch{return}}}class wt{match(Na){return B$2(Na)}coerce(Na,ja){var Ba,za=Na.constructor.name;return{type:za,value:za+" captured as exception with keys: "+yt(Na),stack:(Ba=ja.syntheticException)==null?void 0:Ba.stack,synthetic:!0}}}class St{match(Na){return U$1(Na)}coerce(Na,ja){var Ba;return{type:"Error",value:"Primitive value captured as exception: "+String(Na),stack:(Ba=ja.syntheticException)==null?void 0:Ba.stack,synthetic:!0}}}class kt{match(Na){return z(Na,"PromiseRejectionEvent")}coerce(Na,ja){var Ba,za=this.getUnhandledRejectionReason(Na);return U$1(za)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(za),stack:(Ba=ja.syntheticException)==null?void 0:Ba.stack,synthetic:!0}:ja.apply(za)}getUnhandledRejectionReason(Na){if(U$1(Na))return Na;try{if("reason"in Na)return Na.reason;if("detail"in Na&&"reason"in Na.detail)return Na.detail.reason}catch{}return Na}}var $t=La=>{var Na={T:function(ja){if(t&&(c.DEBUG||v.POSTHOG_DEBUG)&&!C(t.console)&&t.console){for(var Ba=("__rrweb_original__"in t.console[ja])?t.console[ja].__rrweb_original__:t.console[ja],za=arguments.length,Ga=new Array(za>1?za-1:0),Ha=1;Ha<za;Ha++)Ga[Ha-1]=arguments[Ha];Ba(La,...Ga)}},info:function(){for(var ja=arguments.length,Ba=new Array(ja),za=0;za<ja;za++)Ba[za]=arguments[za];Na.T("log",...Ba)},warn:function(){for(var ja=arguments.length,Ba=new Array(ja),za=0;za<ja;za++)Ba[za]=arguments[za];Na.T("warn",...Ba)},error:function(){for(var ja=arguments.length,Ba=new Array(ja),za=0;za<ja;za++)Ba[za]=arguments[za];Na.T("error",...Ba)},critical:function(){for(var ja=arguments.length,Ba=new Array(ja),za=0;za<ja;za++)Ba[za]=arguments[za];console.error(La,...Ba)},uninitializedWarning:ja=>{Na.error("You must initialize PostHog before calling "+ja)},createLogger:ja=>$t(La+" "+ja)};return Na},xt=$t("[PostHog.js]"),Et=xt.createLogger,Rt=Et("[ExternalScriptsLoader]"),It=(La,Na,ja)=>{if(La.config.disable_external_dependency_loading)return Rt.warn(Na+" was requested but loading of external scripts is disabled."),ja("Loading of external scripts is disabled");var Ba=o?.querySelectorAll("script");if(Ba){for(var za,Ga=function(){if(Ba[Ha].src===Na){var Xa=Ba[Ha];return Xa.__posthog_loading_callback_fired?{v:ja()}:(Xa.addEventListener("load",(Ka=>{Xa.__posthog_loading_callback_fired=!0,ja(void 0,Ka)})),Xa.onerror=Ka=>ja(Ka),{v:void 0})}},Ha=0;Ha<Ba.length;Ha++)if(za=Ga())return za.v}var Ya=()=>{if(!o)return ja("document not found");var Xa=o.createElement("script");if(Xa.type="text/javascript",Xa.crossOrigin="anonymous",Xa.src=Na,Xa.onload=Va=>{Xa.__posthog_loading_callback_fired=!0,ja(void 0,Va)},Xa.onerror=Va=>ja(Va),La.config.prepare_external_dependency_script&&(Xa=La.config.prepare_external_dependency_script(Xa)),!Xa)return ja("prepare_external_dependency_script returned null");var Ka,Qa=o.querySelectorAll("body > script");Qa.length>0?(Ka=Qa[0].parentNode)==null||Ka.insertBefore(Xa,Qa[0]):o.body.appendChild(Xa)};o!=null&&o.body?Ya():o?.addEventListener("DOMContentLoaded",Ya)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(La,Na,ja)=>{var Ba="/static/"+Na+".js?v="+La.version;if(Na==="remote-config"&&(Ba="/array/"+La.config.token+"/config.js"),Na==="toolbar"){var za=3e5;Ba=Ba+"&t="+Math.floor(Date.now()/za)*za}var Ga=La.requestRouter.endpointFor("assets",Ba);It(La,Ga,ja)},v.__PosthogExtensions__.loadSiteApp=(La,Na,ja)=>{var Ba=La.requestRouter.endpointFor("api",Na);It(La,Ba,ja)};var Pt={};function Tt(La,Na,ja){if(R(La)){if(r$1&&La.forEach===r$1)La.forEach(Na,ja);else if("length"in La&&La.length===+La.length){for(var Ba=0,za=La.length;Ba<za;Ba++)if(Ba in La&&Na.call(ja,La[Ba],Ba)===Pt)return}}}function Ct(La,Na,ja){if(!A(La)){if(R(La))return Tt(La,Na,ja);if(L$1(La)){for(var Ba of La.entries())if(Na.call(ja,Ba[1],Ba[0])===Pt)return}else for(var za in La)if(x.call(La,za)&&Na.call(ja,La[za],za)===Pt)return}}var Mt=function(La){for(var Na=arguments.length,ja=new Array(Na>1?Na-1:0),Ba=1;Ba<Na;Ba++)ja[Ba-1]=arguments[Ba];return Tt(ja,(function(za){for(var Ga in za)za[Ga]!==void 0&&(La[Ga]=za[Ga])})),La},Ot=function(La){for(var Na=arguments.length,ja=new Array(Na>1?Na-1:0),Ba=1;Ba<Na;Ba++)ja[Ba-1]=arguments[Ba];return Tt(ja,(function(za){Tt(za,(function(Ga){La.push(Ga)}))})),La};function Ft(La){for(var Na=Object.keys(La),ja=Na.length,Ba=new Array(ja);ja--;)Ba[ja]=[Na[ja],La[Na[ja]]];return Ba}var At=function(La){try{return La()}catch{return}},Dt=function(La){return function(){try{for(var Na=arguments.length,ja=new Array(Na),Ba=0;Ba<Na;Ba++)ja[Ba]=arguments[Ba];return La.apply(this,ja)}catch(za){xt.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),xt.critical(za)}}},jt=function(La){var Na={};return Ct(La,(function(ja,Ba){(M(ja)&&ja.length>0||D$2(ja))&&(Na[Ba]=ja)})),Na};function Lt(La,Na){return ja=La,Ba=Ga=>M(Ga)&&!F(Na)?Ga.slice(0,Na):Ga,za=new Set,(function Ga(Ha,Ya){return Ha!==Object(Ha)?Ba?Ba(Ha,Ya):Ha:za.has(Ha)?void 0:(za.add(Ha),R(Ha)?(Xa=[],Tt(Ha,(Ka=>{Xa.push(Ga(Ka))}))):(Xa={},Ct(Ha,((Ka,Qa)=>{za.has(Ka)||(Xa[Qa]=Ga(Ka,Qa))}))),Xa);var Xa})(ja);var ja,Ba,za}var Nt=["herokuapp.com","vercel.app","netlify.app"];function Ut(La){var Na=La?.hostname;if(!M(Na))return!1;var ja=Na.split(".").slice(-2).join(".");for(var Ba of Nt)if(ja===Ba)return!1;return!0}function zt(La,Na){for(var ja=0;ja<La.length;ja++)if(Na(La[ja]))return La[ja]}function Bt(La,Na,ja,Ba){var{capture:za=!1,passive:Ga=!0}=Ba??{};La?.addEventListener(Na,ja,{capture:za,passive:Ga})}var qt="$people_distinct_id",Ht="__alias",Wt="__timers",Gt="$autocapture_disabled_server_side",Vt="$heatmaps_enabled_server_side",Jt="$exception_capture_enabled_server_side",Kt="$error_tracking_suppression_rules",Yt="$error_tracking_capture_extension_exceptions",Xt="$web_vitals_enabled_server_side",Qt="$dead_clicks_enabled_server_side",Zt="$web_vitals_allowed_metrics",ti="$session_recording_remote_config",ii="$session_recording_enabled_server_side",ei="$console_log_recording_enabled_server_side",ri="$session_recording_network_payload_capture",si="$session_recording_masking",ni="$session_recording_canvas_recording",oi="$replay_sample_rate",ai="$replay_minimum_duration",li="$replay_script_config",ui="$sesid",hi="$session_is_sampled",di="$session_recording_url_trigger_activated_session",vi="$session_recording_event_trigger_activated_session",ci="$enabled_feature_flags",fi="$early_access_features",pi="$feature_flag_details",gi="$stored_person_properties",_i$1="$stored_group_properties",mi="$surveys",yi="$surveys_activated",bi="$flag_call_reported",wi="$user_state",Si="$client_session_props",ki="$capture_rate_limit",$i="$initial_campaign_params",xi="$initial_referrer_info",Ei="$initial_person_info",Ri="$epp",Ii="__POSTHOG_TOOLBAR__",Pi="$posthog_cookieless",Ti=[qt,Ht,"__cmpns",Wt,ii,Vt,ui,ci,Kt,wi,fi,pi,_i$1,gi,mi,bi,Si,ki,$i,xi,Ri,Ei];function Ci(La){return La instanceof Element&&(La.id===Ii||!(La.closest==null||!La.closest(".toolbar-global-fade-container")))}function Mi(La){return!!La&&La.nodeType===1}function Oi(La,Na){return!!La&&!!La.tagName&&La.tagName.toLowerCase()===Na.toLowerCase()}function Fi(La){return!!La&&La.nodeType===3}function Ai(La){return!!La&&La.nodeType===11}function Di(La){return La?b(La).split(/\s+/):[]}function ji(La){var Na=t?.location.href;return!!(Na&&La&&La.some((ja=>Na.match(ja))))}function Li(La){var Na="";switch(typeof La.className){case"string":Na=La.className;break;case"object":Na=(La.className&&"baseVal"in La.className?La.className.baseVal:null)||La.getAttribute("class")||"";break;default:Na=""}return Di(Na)}function Ni(La){return A(La)?null:b(La).split(/(\s+)/).filter((Na=>re$1(Na))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Ui(La){var Na="";return Ki(La)&&!Yi(La)&&La.childNodes&&La.childNodes.length&&Ct(La.childNodes,(function(ja){var Ba;Fi(ja)&&ja.textContent&&(Na+=(Ba=Ni(ja.textContent))!==null&&Ba!==void 0?Ba:"")})),b(Na)}function zi(La){return C(La.target)?La.srcElement||null:(Na=La.target)!=null&&Na.shadowRoot?La.composedPath()[0]||null:La.target||null;var Na}var Bi=["a","button","form","input","select","textarea","label"];function qi(La,Na){if(C(Na))return!0;var ja,Ba=function(Ga){if(Na.some((Ha=>Ga.matches(Ha))))return{v:!0}};for(var za of La)if(ja=Ba(za))return ja.v;return!1}function Hi(La){var Na=La.parentNode;return!(!Na||!Mi(Na))&&Na}var Wi=[".ph-no-rageclick",".ph-no-capture"],Gi=La=>!La||Oi(La,"html")||!Mi(La),Vi=(La,Na)=>{if(!t||Gi(La))return{parentIsUsefulElement:!1,targetElementList:[]};for(var ja=!1,Ba=[La],za=La;za.parentNode&&!Oi(za,"body");)if(Ai(za.parentNode))Ba.push(za.parentNode.host),za=za.parentNode.host;else{var Ga=Hi(za);if(!Ga)break;if(Na||Bi.indexOf(Ga.tagName.toLowerCase())>-1)ja=!0;else{var Ha=t.getComputedStyle(Ga);Ha&&Ha.getPropertyValue("cursor")==="pointer"&&(ja=!0)}Ba.push(Ga),za=Ga}return{parentIsUsefulElement:ja,targetElementList:Ba}};function Ji(La,Na,ja,Ba,za){var Ga,Ha,Ya,Xa;if(ja===void 0&&(ja=void 0),!t||Gi(La)||(Ga=ja)!=null&&Ga.url_allowlist&&!ji(ja.url_allowlist)||(Ha=ja)!=null&&Ha.url_ignorelist&&ji(ja.url_ignorelist))return!1;if((Ya=ja)!=null&&Ya.dom_event_allowlist){var Ka=ja.dom_event_allowlist;if(Ka&&!Ka.some((Ja=>Na.type===Ja)))return!1}var{parentIsUsefulElement:Qa,targetElementList:Va}=Vi(La,Ba);if(!(function(Ja,Oo){var Do=Oo?.element_allowlist;if(C(Do))return!0;var Mo,el=function(rl){if(Do.some((il=>rl.tagName.toLowerCase()===il)))return{v:!0}};for(var tl of Ja)if(Mo=el(tl))return Mo.v;return!1})(Va,ja)||!qi(Va,(Xa=ja)==null?void 0:Xa.css_selector_allowlist))return!1;var Ua=t.getComputedStyle(La);if(Ua&&Ua.getPropertyValue("cursor")==="pointer"&&Na.type==="click")return!0;var Wa=La.tagName.toLowerCase();switch(Wa){case"html":return!1;case"form":return(za||["submit"]).indexOf(Na.type)>=0;case"input":case"select":case"textarea":return(za||["change","click"]).indexOf(Na.type)>=0;default:return Qa?(za||["click"]).indexOf(Na.type)>=0:(za||["click"]).indexOf(Na.type)>=0&&(Bi.indexOf(Wa)>-1||La.getAttribute("contenteditable")==="true")}}function Ki(La){for(var Na=La;Na.parentNode&&!Oi(Na,"body");Na=Na.parentNode){var ja=Li(Na);if(y(ja,"ph-sensitive")||y(ja,"ph-no-capture"))return!1}if(y(Li(La),"ph-include"))return!0;var Ba=La.type||"";if(M(Ba))switch(Ba.toLowerCase()){case"hidden":case"password":return!1}var za=La.name||La.id||"";return!(M(za)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(za.replace(/[^a-zA-Z0-9]/g,"")))}function Yi(La){return!!(Oi(La,"input")&&!["button","checkbox","submit","reset"].includes(La.type)||Oi(La,"select")||Oi(La,"textarea")||La.getAttribute("contenteditable")==="true")}var Xi="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Qi=new RegExp("^(?:"+Xi+")$"),Zi=new RegExp(Xi),te="\\d{3}-?\\d{2}-?\\d{4}",ie=new RegExp("^("+te+")$"),ee$1=new RegExp("("+te+")");function re$1(La,Na){return Na===void 0&&(Na=!0),!(A(La)||M(La)&&(La=b(La),(Na?Qi:Zi).test((La||"").replace(/[- ]/g,""))||(Na?ie:ee$1).test(La)))}function se(La){var Na=Ui(La);return re$1(Na=(Na+" "+ne(La)).trim())?Na:""}function ne(La){var Na="";return La&&La.childNodes&&La.childNodes.length&&Ct(La.childNodes,(function(ja){var Ba;if(ja&&((Ba=ja.tagName)==null?void 0:Ba.toLowerCase())==="span")try{var za=Ui(ja);Na=(Na+" "+za).trim(),ja.childNodes&&ja.childNodes.length&&(Na=(Na+" "+ne(ja)).trim())}catch(Ga){xt.error("[AutoCapture]",Ga)}})),Na}function oe(La){return(function(Na){var ja=Na.map((Ba=>{var za,Ga,Ha="";if(Ba.tag_name&&(Ha+=Ba.tag_name),Ba.attr_class)for(var Ya of(Ba.attr_class.sort(),Ba.attr_class))Ha+="."+Ya.replace(/"/g,"");var Xa=g({},Ba.text?{text:Ba.text}:{},{"nth-child":(za=Ba.nth_child)!==null&&za!==void 0?za:0,"nth-of-type":(Ga=Ba.nth_of_type)!==null&&Ga!==void 0?Ga:0},Ba.href?{href:Ba.href}:{},Ba.attr_id?{attr_id:Ba.attr_id}:{},Ba.attributes),Ka={};return Ft(Xa).sort(((Qa,Va)=>{var[Ua]=Qa,[Wa]=Va;return Ua.localeCompare(Wa)})).forEach((Qa=>{var[Va,Ua]=Qa;return Ka[ae(Va.toString())]=ae(Ua.toString())})),Ha+=":",Ha+=Ft(Ka).map((Qa=>{var[Va,Ua]=Qa;return Va+'="'+Ua+'"'})).join("")}));return ja.join(";")})((function(Na){return Na.map((ja=>{var Ba,za,Ga={text:(Ba=ja.$el_text)==null?void 0:Ba.slice(0,400),tag_name:ja.tag_name,href:(za=ja.attr__href)==null?void 0:za.slice(0,2048),attr_class:le$1(ja),attr_id:ja.attr__id,nth_child:ja.nth_child,nth_of_type:ja.nth_of_type,attributes:{}};return Ft(ja).filter((Ha=>{var[Ya]=Ha;return Ya.indexOf("attr__")===0})).forEach((Ha=>{var[Ya,Xa]=Ha;return Ga.attributes[Ya]=Xa})),Ga}))})(La))}function ae(La){return La.replace(/"|\\"/g,'\\"')}function le$1(La){var Na=La.attr__class;return Na?R(Na)?Na:Di(Na):void 0}let ue$1=class{constructor(){this.clicks=[]}isRageClick(Na,ja,Ba){var za=this.clicks[this.clicks.length-1];if(za&&Math.abs(Na-za.x)+Math.abs(ja-za.y)<30&&Ba-za.timestamp<1e3){if(this.clicks.push({x:Na,y:ja,timestamp:Ba}),this.clicks.length===3)return!0}else this.clicks=[{x:Na,y:ja,timestamp:Ba}];return!1}};var he$1="$copy_autocapture",de$1=(function(La){return La.GZipJS="gzip-js",La.Base64="base64",La})({}),ce$1=["localhost","127.0.0.1"],fe$1=La=>{var Na=o?.createElement("a");return C(Na)?null:(Na.href=La,Na)},pe$1=function(La,Na){var ja,Ba;Na===void 0&&(Na="&");var za=[];return Ct(La,(function(Ga,Ha){C(Ga)||C(Ha)||Ha==="undefined"||(ja=encodeURIComponent((Ya=>Ya instanceof File)(Ga)?Ga.name:Ga.toString()),Ba=encodeURIComponent(Ha),za[za.length]=Ba+"="+ja)})),za.join(Na)},ge=function(La,Na){for(var ja,Ba=((La.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),za=0;za<Ba.length;za++){var Ga=Ba[za].split("=");if(Ga[0]===Na){ja=Ga;break}}if(!R(ja)||ja.length<2)return"";var Ha=ja[1];try{Ha=decodeURIComponent(Ha)}catch{xt.error("Skipping decoding for malformed query param: "+Ha)}return Ha.replace(/\+/g," ")},_e$1=function(La,Na,ja){if(!La||!Na||!Na.length)return La;for(var Ba=La.split("#"),za=Ba[0]||"",Ga=Ba[1],Ha=za.split("?"),Ya=Ha[1],Xa=Ha[0],Ka=(Ya||"").split("&"),Qa=[],Va=0;Va<Ka.length;Va++){var Ua=Ka[Va].split("=");R(Ua)&&(Na.includes(Ua[0])?Qa.push(Ua[0]+"="+ja):Qa.push(Ka[Va]))}var Wa=Xa;return Ya!=null&&(Wa+="?"+Qa.join("&")),Ga!=null&&(Wa+="#"+Ga),Wa},me$1=function(La,Na){var ja=La.match(new RegExp(Na+"=([^&]*)"));return ja?ja[1]:null},ye$1=Et("[AutoCapture]");function be$1(La,Na){return Na.length>La?Na.slice(0,La)+"...":Na}function we$1(La){if(La.previousElementSibling)return La.previousElementSibling;var Na=La;do Na=Na.previousSibling;while(Na&&!Mi(Na));return Na}function Se$1(La,Na,ja,Ba){var za=La.tagName.toLowerCase(),Ga={tag_name:za};Bi.indexOf(za)>-1&&!ja&&(za.toLowerCase()==="a"||za.toLowerCase()==="button"?Ga.$el_text=be$1(1024,se(La)):Ga.$el_text=be$1(1024,Ui(La)));var Ha=Li(La);Ha.length>0&&(Ga.classes=Ha.filter((function(Qa){return Qa!==""}))),Ct(La.attributes,(function(Qa){var Va;if((!Yi(La)||["name","id","class","aria-label"].indexOf(Qa.name)!==-1)&&(Ba==null||!Ba.includes(Qa.name))&&!Na&&re$1(Qa.value)&&(Va=Qa.name,!M(Va)||Va.substring(0,10)!=="_ngcontent"&&Va.substring(0,7)!=="_nghost")){var Ua=Qa.value;Qa.name==="class"&&(Ua=Di(Ua).join(" ")),Ga["attr__"+Qa.name]=be$1(1024,Ua)}}));for(var Ya=1,Xa=1,Ka=La;Ka=we$1(Ka);)Ya++,Ka.tagName===La.tagName&&Xa++;return Ga.nth_child=Ya,Ga.nth_of_type=Xa,Ga}function ke$1(La,Na){for(var ja,Ba,{e:za,maskAllElementAttributes:Ga,maskAllText:Ha,elementAttributeIgnoreList:Ya,elementsChainAsString:Xa}=Na,Ka=[La],Qa=La;Qa.parentNode&&!Oi(Qa,"body");)Ai(Qa.parentNode)?(Ka.push(Qa.parentNode.host),Qa=Qa.parentNode.host):(Ka.push(Qa.parentNode),Qa=Qa.parentNode);var Va,Ua=[],Wa={},Ja=!1,Oo=!1;if(Ct(Ka,(rl=>{var il=Ki(rl);rl.tagName.toLowerCase()==="a"&&(Ja=rl.getAttribute("href"),Ja=il&&Ja&&re$1(Ja)&&Ja),y(Li(rl),"ph-no-capture")&&(Oo=!0),Ua.push(Se$1(rl,Ga,Ha,Ya));var al=(function(ll){if(!Ki(ll))return{};var ul={};return Ct(ll.attributes,(function(ol){if(ol.name&&ol.name.indexOf("data-ph-capture-attribute")===0){var cl=ol.name.replace("data-ph-capture-attribute-",""),gl=ol.value;cl&&gl&&re$1(gl)&&(ul[cl]=gl)}})),ul})(rl);Mt(Wa,al)})),Oo)return{props:{},explicitNoCapture:Oo};if(Ha||(La.tagName.toLowerCase()==="a"||La.tagName.toLowerCase()==="button"?Ua[0].$el_text=se(La):Ua[0].$el_text=Ui(La)),Ja){var Do,Mo;Ua[0].attr__href=Ja;var el=(Do=fe$1(Ja))==null?void 0:Do.host,tl=t==null||(Mo=t.location)==null?void 0:Mo.host;el&&tl&&el!==tl&&(Va=Ja)}return{props:Mt({$event_type:za.type,$ce_version:1},Xa?{}:{$elements:Ua},{$elements_chain:oe(Ua)},(ja=Ua[0])!=null&&ja.$el_text?{$el_text:(Ba=Ua[0])==null?void 0:Ba.$el_text}:{},Va&&za.type==="click"?{$external_click_url:Va}:{},Wa)}}class $e{constructor(Na){this.C=!1,this.M=null,this.rageclicks=new ue$1,this.O=!1,this.instance=Na,this.F=null}get A(){var Na,ja,Ba=P$1(this.instance.config.autocapture)?this.instance.config.autocapture:{};return Ba.url_allowlist=(Na=Ba.url_allowlist)==null?void 0:Na.map((za=>new RegExp(za))),Ba.url_ignorelist=(ja=Ba.url_ignorelist)==null?void 0:ja.map((za=>new RegExp(za))),Ba}D(){if(this.isBrowserSupported()){if(t&&o){var Na=Ba=>{Ba=Ba||t?.event;try{this.j(Ba)}catch(za){ye$1.error("Failed to capture event",za)}};if(Bt(o,"submit",Na,{capture:!0}),Bt(o,"change",Na,{capture:!0}),Bt(o,"click",Na,{capture:!0}),this.A.capture_copied_text){var ja=Ba=>{Ba=Ba||t?.event,this.j(Ba,he$1)};Bt(o,"copy",ja,{capture:!0}),Bt(o,"cut",ja,{capture:!0})}}}else ye$1.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(Na){Na.elementsChainAsString&&(this.O=Na.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Gt]:!!Na.autocapture_opt_out}),this.M=!!Na.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(Na){this.F=Na}getElementSelectors(Na){var ja,Ba=[];return(ja=this.F)==null||ja.forEach((za=>{var Ga=o?.querySelectorAll(za);Ga?.forEach((Ha=>{Na===Ha&&Ba.push(za)}))})),Ba}get isEnabled(){var Na,ja,Ba=(Na=this.instance.persistence)==null?void 0:Na.props[Gt],za=this.M;if(F(za)&&!j(Ba)&&!this.instance.L())return!1;var Ga=(ja=this.M)!==null&&ja!==void 0?ja:!!Ba;return!!this.instance.config.autocapture&&!Ga}j(Na,ja){if(ja===void 0&&(ja="$autocapture"),this.isEnabled){var Ba,za=zi(Na);Fi(za)&&(za=za.parentNode||null),ja==="$autocapture"&&Na.type==="click"&&Na instanceof MouseEvent&&this.instance.config.rageclick&&(Ba=this.rageclicks)!=null&&Ba.isRageClick(Na.clientX,Na.clientY,new Date().getTime())&&(function(Ua,Wa){if(!t||Gi(Ua))return!1;var Ja,Oo;if((Ja=j(Wa)?!!Wa&&Wi:(Oo=Wa?.css_selector_ignorelist)!==null&&Oo!==void 0?Oo:Wi)===!1)return!1;var{targetElementList:Do}=Vi(Ua,!1);return!qi(Do,Ja)})(za,this.instance.config.rageclick)&&this.j(Na,"$rageclick");var Ga=ja===he$1;if(za&&Ji(za,Na,this.A,Ga,Ga?["copy","cut"]:void 0)){var{props:Ha,explicitNoCapture:Ya}=ke$1(za,{e:Na,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.O});if(Ya)return!1;var Xa=this.getElementSelectors(za);if(Xa&&Xa.length>0&&(Ha.$element_selectors=Xa),ja===he$1){var Ka,Qa=Ni(t==null||(Ka=t.getSelection())==null?void 0:Ka.toString()),Va=Na.type||"clipboard";if(!Qa)return!1;Ha.$selected_content=Qa,Ha.$copy_type=Va}return this.instance.capture(ja,Ha),!0}}}isBrowserSupported(){return I(o?.querySelectorAll)}}Math.trunc||(Math.trunc=function(La){return La<0?Math.ceil(La):Math.floor(La)}),Number.isInteger||(Number.isInteger=function(La){return D$2(La)&&isFinite(La)&&Math.floor(La)===La});var xe$1="0123456789abcdef";let Ee$1=class Ag{constructor(Na){if(this.bytes=Na,Na.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(Na,ja,Ba,za){if(!Number.isInteger(Na)||!Number.isInteger(ja)||!Number.isInteger(Ba)||!Number.isInteger(za)||Na<0||ja<0||Ba<0||za<0||Na>0xffffffffffff||ja>4095||Ba>1073741823||za>4294967295)throw new RangeError("invalid field value");var Ga=new Uint8Array(16);return Ga[0]=Na/Math.pow(2,40),Ga[1]=Na/Math.pow(2,32),Ga[2]=Na/Math.pow(2,24),Ga[3]=Na/Math.pow(2,16),Ga[4]=Na/Math.pow(2,8),Ga[5]=Na,Ga[6]=112|ja>>>8,Ga[7]=ja,Ga[8]=128|Ba>>>24,Ga[9]=Ba>>>16,Ga[10]=Ba>>>8,Ga[11]=Ba,Ga[12]=za>>>24,Ga[13]=za>>>16,Ga[14]=za>>>8,Ga[15]=za,new Ag(Ga)}toString(){for(var Na="",ja=0;ja<this.bytes.length;ja++)Na=Na+xe$1.charAt(this.bytes[ja]>>>4)+xe$1.charAt(15&this.bytes[ja]),ja!==3&&ja!==5&&ja!==7&&ja!==9||(Na+="-");if(Na.length!==36)throw new Error("Invalid UUIDv7 was generated");return Na}clone(){return new Ag(this.bytes.slice(0))}equals(Na){return this.compareTo(Na)===0}compareTo(Na){for(var ja=0;ja<16;ja++){var Ba=this.bytes[ja]-Na.bytes[ja];if(Ba!==0)return Math.sign(Ba)}return 0}},Re$1=class{constructor(){this.N=0,this.U=0,this.B=new Te$1}generate(){var Na=this.generateOrAbort();if(C(Na)){this.N=0;var ja=this.generateOrAbort();if(C(ja))throw new Error("Could not generate UUID after timestamp reset");return ja}return Na}generateOrAbort(){var Na=Date.now();if(Na>this.N)this.N=Na,this.q();else{if(!(Na+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.q())}return Ee$1.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.B.nextUint32())}q(){this.U=1024*this.B.nextUint32()+(1023&this.B.nextUint32())}};var Ie$1,Pe$1=La=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var Na=0;Na<La.length;Na++)La[Na]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return La};t&&!C(t.crypto)&&crypto.getRandomValues&&(Pe$1=La=>crypto.getRandomValues(La));let Te$1=class{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(Pe$1(this.H),this.W=0),this.H[this.W++]}};var Ce$1=()=>Me$1().toString(),Me$1=()=>(Ie$1||(Ie$1=new Re$1)).generate(),Oe="",Fe=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Ae(La,Na){if(Na){var ja=(function(za,Ga){if(Ga===void 0&&(Ga=o),Oe)return Oe;if(!Ga||["localhost","127.0.0.1"].includes(za))return"";for(var Ha=za.split("."),Ya=Math.min(Ha.length,8),Xa="dmn_chk_"+Ce$1();!Oe&&Ya--;){var Ka=Ha.slice(Ya).join("."),Qa=Xa+"=1;domain=."+Ka+";path=/";Ga.cookie=Qa+";max-age=3",Ga.cookie.includes(Xa)&&(Ga.cookie=Qa+";max-age=0",Oe=Ka)}return Oe})(La);if(!ja){var Ba=(za=>{var Ga=za.match(Fe);return Ga?Ga[0]:""})(La);Ba!==ja&&xt.info("Warning: cookie subdomain discovery mismatch",Ba,ja),ja=Ba}return ja?"; domain=."+ja:""}return""}var De$1={G:()=>!!o,V:function(La){xt.error("cookieStore error: "+La)},J:function(La){if(o){try{for(var Na=La+"=",ja=o.cookie.split(";").filter((Ga=>Ga.length)),Ba=0;Ba<ja.length;Ba++){for(var za=ja[Ba];za.charAt(0)==" ";)za=za.substring(1,za.length);if(za.indexOf(Na)===0)return decodeURIComponent(za.substring(Na.length,za.length))}}catch{}return null}},K:function(La){var Na;try{Na=JSON.parse(De$1.J(La))||{}}catch{}return Na},Y:function(La,Na,ja,Ba,za){if(o)try{var Ga="",Ha="",Ya=Ae(o.location.hostname,Ba);if(ja){var Xa=new Date;Xa.setTime(Xa.getTime()+24*ja*60*60*1e3),Ga="; expires="+Xa.toUTCString()}za&&(Ha="; secure");var Ka=La+"="+encodeURIComponent(JSON.stringify(Na))+Ga+"; SameSite=Lax; path=/"+Ya+Ha;return Ka.length>3686.4&&xt.warn("cookieStore warning: large cookie, len="+Ka.length),o.cookie=Ka,Ka}catch{return}},X:function(La,Na){if(o!=null&&o.cookie)try{De$1.Y(La,"",-1,Na)}catch{return}}},je=null,Le={G:function(){if(!F(je))return je;var La=!0;if(C(t))La=!1;else try{var Na="__mplssupport__";Le.Y(Na,"xyz"),Le.J(Na)!=='"xyz"'&&(La=!1),Le.X(Na)}catch{La=!1}return La||xt.error("localStorage unsupported; falling back to cookie store"),je=La,La},V:function(La){xt.error("localStorage error: "+La)},J:function(La){try{return t?.localStorage.getItem(La)}catch(Na){Le.V(Na)}return null},K:function(La){try{return JSON.parse(Le.J(La))||{}}catch{}return null},Y:function(La,Na){try{t?.localStorage.setItem(La,JSON.stringify(Na))}catch(ja){Le.V(ja)}},X:function(La){try{t?.localStorage.removeItem(La)}catch(Na){Le.V(Na)}}},Ne=["distinct_id",ui,hi,Ri,Ei],Ue=g({},Le,{K:function(La){try{var Na={};try{Na=De$1.K(La)||{}}catch{}var ja=Mt(Na,JSON.parse(Le.J(La)||"{}"));return Le.Y(La,ja),ja}catch{}return null},Y:function(La,Na,ja,Ba,za,Ga){try{Le.Y(La,Na,void 0,void 0,Ga);var Ha={};Ne.forEach((Ya=>{Na[Ya]&&(Ha[Ya]=Na[Ya])})),Object.keys(Ha).length&&De$1.Y(La,Ha,ja,Ba,za,Ga)}catch(Ya){Le.V(Ya)}},X:function(La,Na){try{t?.localStorage.removeItem(La),De$1.X(La,Na)}catch(ja){Le.V(ja)}}}),ze={},Be={G:function(){return!0},V:function(La){xt.error("memoryStorage error: "+La)},J:function(La){return ze[La]||null},K:function(La){return ze[La]||null},Y:function(La,Na){ze[La]=Na},X:function(La){delete ze[La]}},qe=null,He={G:function(){if(!F(qe))return qe;if(qe=!0,C(t))qe=!1;else try{var La="__support__";He.Y(La,"xyz"),He.J(La)!=='"xyz"'&&(qe=!1),He.X(La)}catch{qe=!1}return qe},V:function(La){xt.error("sessionStorage error: ",La)},J:function(La){try{return t?.sessionStorage.getItem(La)}catch(Na){He.V(Na)}return null},K:function(La){try{return JSON.parse(He.J(La))||null}catch{}return null},Y:function(La,Na){try{t?.sessionStorage.setItem(La,JSON.stringify(Na))}catch(ja){He.V(ja)}},X:function(La){try{t?.sessionStorage.removeItem(La)}catch(Na){He.V(Na)}}},We=(function(La){return La[La.PENDING=-1]="PENDING",La[La.DENIED=0]="DENIED",La[La.GRANTED=1]="GRANTED",La})({});class Ge{constructor(Na){this._instance=Na}get A(){return this._instance.config}get consent(){return this.Z()?We.DENIED:this.tt}isOptedOut(){return this.A.cookieless_mode==="always"||this.consent===We.DENIED||this.consent===We.PENDING&&(this.A.opt_out_capturing_by_default||this.A.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===We.DENIED}optInOut(Na){this.it.Y(this.et,Na?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:Na,opt_out_capturing_cookie_prefix:ja,consent_persistence_name:Ba}=this._instance.config;return Ba||(ja?ja+Na:"__ph_opt_in_out_"+Na)}get tt(){var Na=this.it.J(this.et);return H$1(Na)?We.GRANTED:y(W$1,Na)?We.DENIED:We.PENDING}get it(){if(!this.rt){var Na=this.A.opt_out_capturing_persistence_type;this.rt=Na==="localStorage"?Le:De$1;var ja=Na==="localStorage"?De$1:Le;ja.J(this.et)&&(this.rt.J(this.et)||this.optInOut(H$1(ja.J(this.et))),ja.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!zt([n?.doNotTrack,n?.msDoNotTrack,v.doNotTrack],(Na=>H$1(Na)))}}var Ve=Et("[Dead Clicks]"),Je=()=>!0,Ke=La=>{var Na,ja=!((Na=La.instance.persistence)==null||!Na.get_property(Qt)),Ba=La.instance.config.capture_dead_clicks;return j(Ba)?Ba:ja};class Ye{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(Na,ja,Ba){this.instance=Na,this.isEnabled=ja,this.onCapture=Ba,this.startIfEnabled()}onRemoteConfig(Na){this.instance.persistence&&this.instance.persistence.register({[Qt]:Na?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt((()=>{this.ot()}))}nt(Na){var ja,Ba;(ja=v.__PosthogExtensions__)!=null&&ja.initDeadClicksAutocapture&&Na(),(Ba=v.__PosthogExtensions__)==null||Ba.loadExternalDependency==null||Ba.loadExternalDependency(this.instance,"dead-clicks-autocapture",(za=>{za?Ve.error("failed to load script",za):Na()}))}ot(){var Na;if(o){if(!this.st&&(Na=v.__PosthogExtensions__)!=null&&Na.initDeadClicksAutocapture){var ja=P$1(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};ja.__onCapture=this.onCapture,this.st=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,ja),this.st.start(o),Ve.info("starting...")}}else Ve.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,Ve.info("stopping..."))}}var Xe=Et("[ExceptionAutocapture]");class Qe{constructor(Na){var ja,Ba,za;this.lt=()=>{var Ga;if(t&&this.isEnabled&&(Ga=v.__PosthogExtensions__)!=null&&Ga.errorWrappingFunctions){var Ha=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,Ya=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,Xa=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=Ha(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=Ya(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=Xa(this.captureException.bind(this)))}catch(Ka){Xe.error("failed to start",Ka),this.vt()}}},this._instance=Na,this.ct=!((ja=this._instance.persistence)==null||!ja.props[Jt]),this.A=this.ft(),this.gt=new V({refillRate:(Ba=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&Ba!==void 0?Ba:1,bucketSize:(za=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&za!==void 0?za:10,refillInterval:1e4,R:Xe}),this.startIfEnabled()}ft(){var Na=this._instance.config.capture_exceptions,ja={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return P$1(Na)?ja=g({},ja,Na):(C(Na)?this.ct:Na)&&(ja=g({},ja,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),ja}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Xe.info("enabled"),this.nt(this.lt))}nt(Na){var ja,Ba;(ja=v.__PosthogExtensions__)!=null&&ja.errorWrappingFunctions&&Na(),(Ba=v.__PosthogExtensions__)==null||Ba.loadExternalDependency==null||Ba.loadExternalDependency(this._instance,"exception-autocapture",(za=>{if(za)return Xe.error("failed to load script",za);Na()}))}vt(){var Na,ja,Ba;(Na=this.ut)==null||Na.call(this),this.ut=void 0,(ja=this.ht)==null||ja.call(this),this.ht=void 0,(Ba=this.dt)==null||Ba.call(this),this.dt=void 0}onRemoteConfig(Na){var ja=Na.autocaptureExceptions;this.ct=!!ja||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Jt]:this.ct}),this.startIfEnabled()}captureException(Na){var ja,Ba,za=(ja=Na==null||(Ba=Na.$exception_list)==null||(Ba=Ba[0])==null?void 0:Ba.type)!==null&&ja!==void 0?ja:"Exception";this.gt.consumeRateLimit(za)?Xe.info("Skipping exception capture because of client rate limiting.",{exception:za}):this._instance.exceptions.sendExceptionEvent(Na)}}function Ze(La,Na,ja){try{if(!(Na in La))return()=>{};var Ba=La[Na],za=ja(Ba);return I(za)&&(za.prototype=za.prototype||{},Object.defineProperties(za,{__posthog_wrapped__:{enumerable:!1,value:!0}})),La[Na]=za,()=>{La[Na]=Ba}}catch{return()=>{}}}class tr{constructor(Na){var ja;this._instance=Na,this._t=(t==null||(ja=t.location)==null?void 0:ja.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(xt.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,xt.info("History API monitoring stopped")}monitorHistoryChanges(){var Na,ja;if(t&&t.history){var Ba=this;(Na=t.history.pushState)!=null&&Na.__posthog_wrapped__||Ze(t.history,"pushState",(za=>function(Ga,Ha,Ya){za.call(this,Ga,Ha,Ya),Ba.bt("pushState")})),(ja=t.history.replaceState)!=null&&ja.__posthog_wrapped__||Ze(t.history,"replaceState",(za=>function(Ga,Ha,Ya){za.call(this,Ga,Ha,Ya),Ba.bt("replaceState")})),this.wt()}}bt(Na){try{var ja,Ba=t==null||(ja=t.location)==null?void 0:ja.pathname;if(!Ba)return;Ba!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:Na}),this._t=Ba}catch(za){xt.error("Error capturing "+Na+" pageview",za)}}wt(){if(!this.yt){var Na=()=>{this.bt("popstate")};Bt(t,"popstate",Na),this.yt=()=>{t&&t.removeEventListener("popstate",Na)}}}}function ir(La){var Na,ja;return((Na=JSON.stringify(La,(ja=[],function(Ba,za){if(P$1(za)){for(;ja.length>0&&ja[ja.length-1]!==this;)ja.pop();return ja.includes(za)?"[Circular]":(ja.push(za),za)}return za})))==null?void 0:Na.length)||0}function er(La,Na){if(Na===void 0&&(Na=66060288e-1),La.size>=Na&&La.data.length>1){var ja=Math.floor(La.data.length/2),Ba=La.data.slice(0,ja),za=La.data.slice(ja);return[er({size:ir(Ba),data:Ba,sessionId:La.sessionId,windowId:La.windowId}),er({size:ir(za),data:za,sessionId:La.sessionId,windowId:La.windowId})].flatMap((Ga=>Ga))}return[La]}var rr=(La=>(La[La.DomContentLoaded=0]="DomContentLoaded",La[La.Load=1]="Load",La[La.FullSnapshot=2]="FullSnapshot",La[La.IncrementalSnapshot=3]="IncrementalSnapshot",La[La.Meta=4]="Meta",La[La.Custom=5]="Custom",La[La.Plugin=6]="Plugin",La))(rr||{}),sr=(La=>(La[La.Mutation=0]="Mutation",La[La.MouseMove=1]="MouseMove",La[La.MouseInteraction=2]="MouseInteraction",La[La.Scroll=3]="Scroll",La[La.ViewportResize=4]="ViewportResize",La[La.Input=5]="Input",La[La.TouchMove=6]="TouchMove",La[La.MediaInteraction=7]="MediaInteraction",La[La.StyleSheetRule=8]="StyleSheetRule",La[La.CanvasMutation=9]="CanvasMutation",La[La.Font=10]="Font",La[La.Log=11]="Log",La[La.Drag=12]="Drag",La[La.StyleDeclaration=13]="StyleDeclaration",La[La.Selection=14]="Selection",La[La.AdoptedStyleSheet=15]="AdoptedStyleSheet",La[La.CustomElement=16]="CustomElement",La))(sr||{}),nr="[SessionRecording]",or="redacted",ar={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:La=>La,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},lr=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],ur=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],hr=["/s/","/e/","/i/"];function dr(La,Na,ja,Ba){if(A(La))return La;var za=Na?.["content-length"]||(function(Ga){return new Blob([Ga]).size})(La);return M(za)&&(za=parseInt(za)),za>ja?nr+" "+Ba+" body too large to record ("+za+" bytes)":La}function vr(La,Na){if(A(La))return La;var ja=La;return re$1(ja,!1)||(ja=nr+" "+Na+" body "+or),Ct(ur,(Ba=>{var za,Ga;(za=ja)!=null&&za.length&&((Ga=ja)==null?void 0:Ga.indexOf(Ba))!==-1&&(ja=nr+" "+Na+" body "+or+" as might contain: "+Ba)})),ja}var cr=(La,Na)=>{var ja,Ba,za,Ga={payloadSizeLimitBytes:ar.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ar.performanceEntryTypeToObserve],payloadHostDenyList:[...Na.payloadHostDenyList||[],...ar.payloadHostDenyList]},Ha=La.session_recording.recordHeaders!==!1&&Na.recordHeaders,Ya=La.session_recording.recordBody!==!1&&Na.recordBody,Xa=La.capture_performance!==!1&&Na.recordPerformance,Ka=(ja=Ga,za=Math.min(1e6,(Ba=ja.payloadSizeLimitBytes)!==null&&Ba!==void 0?Ba:1e6),Ua=>(Ua!=null&&Ua.requestBody&&(Ua.requestBody=dr(Ua.requestBody,Ua.requestHeaders,za,"Request")),Ua!=null&&Ua.responseBody&&(Ua.responseBody=dr(Ua.responseBody,Ua.responseHeaders,za,"Response")),Ua)),Qa=Ua=>{return Ka(((Oo,Do)=>{var Mo,el=fe$1(Oo.name),tl=Do.indexOf("http")===0?(Mo=fe$1(Do))==null?void 0:Mo.pathname:Do;tl==="/"&&(tl="");var rl=el?.pathname.replace(tl||"","");if(!(el&&rl&&hr.some((il=>rl.indexOf(il)===0))))return Oo})((Ja=(Wa=Ua).requestHeaders,A(Ja)||Ct(Object.keys(Ja??{}),(Oo=>{lr.includes(Oo.toLowerCase())&&(Ja[Oo]=or)})),Wa),La.api_host));var Wa,Ja},Va=I(La.session_recording.maskNetworkRequestFn);return Va&&I(La.session_recording.maskCapturedNetworkRequestFn)&&xt.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),Va&&(La.session_recording.maskCapturedNetworkRequestFn=Ua=>{var Wa=La.session_recording.maskNetworkRequestFn({url:Ua.name});return g({},Ua,{name:Wa?.url})}),Ga.maskRequestFn=I(La.session_recording.maskCapturedNetworkRequestFn)?Ua=>{var Wa,Ja=Qa(Ua);return Ja&&(Wa=La.session_recording.maskCapturedNetworkRequestFn==null?void 0:La.session_recording.maskCapturedNetworkRequestFn(Ja))!==null&&Wa!==void 0?Wa:void 0}:Ua=>(function(Wa){if(!C(Wa))return Wa.requestBody=vr(Wa.requestBody,"Request"),Wa.responseBody=vr(Wa.responseBody,"Response"),Wa})(Qa(Ua)),g({},ar,Ga,{recordHeaders:Ha,recordBody:Ya,recordPerformance:Xa,recordInitialRequests:Xa})};class fr{constructor(Na,ja){var Ba,za;ja===void 0&&(ja={}),this.St={},this.kt=Ga=>{if(!this.St[Ga]){var Ha,Ya;this.St[Ga]=!0;var Xa=this.$t(Ga);(Ha=(Ya=this.t).onBlockedNode)==null||Ha.call(Ya,Ga,Xa)}},this.xt=Ga=>{var Ha=this.$t(Ga);if(Ha?.nodeName!=="svg"&&Ha instanceof Element){var Ya=Ha.closest("svg");if(Ya)return[this._rrweb.mirror.getId(Ya),Ya]}return[Ga,Ha]},this.$t=Ga=>this._rrweb.mirror.getNode(Ga),this.Et=Ga=>{var Ha,Ya,Xa,Ka,Qa,Va,Ua,Wa;return((Ha=(Ya=Ga.removes)==null?void 0:Ya.length)!==null&&Ha!==void 0?Ha:0)+((Xa=(Ka=Ga.attributes)==null?void 0:Ka.length)!==null&&Xa!==void 0?Xa:0)+((Qa=(Va=Ga.texts)==null?void 0:Va.length)!==null&&Qa!==void 0?Qa:0)+((Ua=(Wa=Ga.adds)==null?void 0:Wa.length)!==null&&Ua!==void 0?Ua:0)},this.throttleMutations=Ga=>{if(Ga.type!==3||Ga.data.source!==0)return Ga;var Ha=Ga.data,Ya=this.Et(Ha);Ha.attributes&&(Ha.attributes=Ha.attributes.filter((Ka=>{var[Qa]=this.xt(Ka.id);return!this.gt.consumeRateLimit(Qa)&&Ka})));var Xa=this.Et(Ha);return Xa!==0||Ya===Xa?Ga:void 0},this._rrweb=Na,this.t=ja,this.gt=new V({bucketSize:(Ba=this.t.bucketSize)!==null&&Ba!==void 0?Ba:100,refillRate:(za=this.t.refillRate)!==null&&za!==void 0?za:10,refillInterval:1e3,$:this.kt,R:xt})}}var pr=Uint8Array,gr=Uint16Array,_r=Uint32Array,mr=new pr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yr=new pr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),br$1=new pr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wr=function(La,Na){for(var ja=new gr(31),Ba=0;Ba<31;++Ba)ja[Ba]=Na+=1<<La[Ba-1];var za=new _r(ja[30]);for(Ba=1;Ba<30;++Ba)for(var Ga=ja[Ba];Ga<ja[Ba+1];++Ga)za[Ga]=Ga-ja[Ba]<<5|Ba;return[ja,za]},Sr=wr(mr,2),kr=Sr[0],$r=Sr[1];kr[28]=258,$r[258]=28;for(var xr=wr(yr,0)[1],Er=new gr(32768),Rr=0;Rr<32768;++Rr){var Ir=(43690&Rr)>>>1|(21845&Rr)<<1;Ir=(61680&(Ir=(52428&Ir)>>>2|(13107&Ir)<<2))>>>4|(3855&Ir)<<4,Er[Rr]=((65280&Ir)>>>8|(255&Ir)<<8)>>>1}var Pr=function(La,Na,ja){for(var Ba=La.length,za=0,Ga=new gr(Na);za<Ba;++za)++Ga[La[za]-1];var Ha,Ya=new gr(Na);for(za=0;za<Na;++za)Ya[za]=Ya[za-1]+Ga[za-1]<<1;for(Ha=new gr(Ba),za=0;za<Ba;++za)Ha[za]=Er[Ya[La[za]-1]++]>>>15-La[za];return Ha},Tr=new pr(288);for(Rr=0;Rr<144;++Rr)Tr[Rr]=8;for(Rr=144;Rr<256;++Rr)Tr[Rr]=9;for(Rr=256;Rr<280;++Rr)Tr[Rr]=7;for(Rr=280;Rr<288;++Rr)Tr[Rr]=8;var Cr=new pr(32);for(Rr=0;Rr<32;++Rr)Cr[Rr]=5;var Mr=Pr(Tr,9),Or=Pr(Cr,5),Fr=function(La){return(La/8>>0)+(7&La&&1)},Ar=function(La,Na,ja){(ja==null||ja>La.length)&&(ja=La.length);var Ba=new(La instanceof gr?gr:La instanceof _r?_r:pr)(ja-Na);return Ba.set(La.subarray(Na,ja)),Ba},Dr=function(La,Na,ja){ja<<=7&Na;var Ba=Na/8>>0;La[Ba]|=ja,La[Ba+1]|=ja>>>8},jr=function(La,Na,ja){ja<<=7&Na;var Ba=Na/8>>0;La[Ba]|=ja,La[Ba+1]|=ja>>>8,La[Ba+2]|=ja>>>16},Lr=function(La,Na){for(var ja=[],Ba=0;Ba<La.length;++Ba)La[Ba]&&ja.push({s:Ba,f:La[Ba]});var za=ja.length,Ga=ja.slice();if(!za)return[new pr(0),0];if(za==1){var Ha=new pr(ja[0].s+1);return Ha[ja[0].s]=1,[Ha,1]}ja.sort((function(il,al){return il.f-al.f})),ja.push({s:-1,f:25001});var Ya=ja[0],Xa=ja[1],Ka=0,Qa=1,Va=2;for(ja[0]={s:-1,f:Ya.f+Xa.f,l:Ya,r:Xa};Qa!=za-1;)Ya=ja[ja[Ka].f<ja[Va].f?Ka++:Va++],Xa=ja[Ka!=Qa&&ja[Ka].f<ja[Va].f?Ka++:Va++],ja[Qa++]={s:-1,f:Ya.f+Xa.f,l:Ya,r:Xa};var Ua=Ga[0].s;for(Ba=1;Ba<za;++Ba)Ga[Ba].s>Ua&&(Ua=Ga[Ba].s);var Wa=new gr(Ua+1),Ja=Nr(ja[Qa-1],Wa,0);if(Ja>Na){Ba=0;var Oo=0,Do=Ja-Na,Mo=1<<Do;for(Ga.sort((function(il,al){return Wa[al.s]-Wa[il.s]||il.f-al.f}));Ba<za;++Ba){var el=Ga[Ba].s;if(!(Wa[el]>Na))break;Oo+=Mo-(1<<Ja-Wa[el]),Wa[el]=Na}for(Oo>>>=Do;Oo>0;){var tl=Ga[Ba].s;Wa[tl]<Na?Oo-=1<<Na-Wa[tl]++-1:++Ba}for(;Ba>=0&&Oo;--Ba){var rl=Ga[Ba].s;Wa[rl]==Na&&(--Wa[rl],++Oo)}Ja=Na}return[new pr(Wa),Ja]},Nr=function(La,Na,ja){return La.s==-1?Math.max(Nr(La.l,Na,ja+1),Nr(La.r,Na,ja+1)):Na[La.s]=ja},Ur=function(La){for(var Na=La.length;Na&&!La[--Na];);for(var ja=new gr(++Na),Ba=0,za=La[0],Ga=1,Ha=function(Xa){ja[Ba++]=Xa},Ya=1;Ya<=Na;++Ya)if(La[Ya]==za&&Ya!=Na)++Ga;else{if(!za&&Ga>2){for(;Ga>138;Ga-=138)Ha(32754);Ga>2&&(Ha(Ga>10?Ga-11<<5|28690:Ga-3<<5|12305),Ga=0)}else if(Ga>3){for(Ha(za),--Ga;Ga>6;Ga-=6)Ha(8304);Ga>2&&(Ha(Ga-3<<5|8208),Ga=0)}for(;Ga--;)Ha(za);Ga=1,za=La[Ya]}return[ja.subarray(0,Ba),Na]},zr=function(La,Na){for(var ja=0,Ba=0;Ba<Na.length;++Ba)ja+=La[Ba]*Na[Ba];return ja},Br=function(La,Na,ja){var Ba=ja.length,za=Fr(Na+2);La[za]=255&Ba,La[za+1]=Ba>>>8,La[za+2]=255^La[za],La[za+3]=255^La[za+1];for(var Ga=0;Ga<Ba;++Ga)La[za+Ga+4]=ja[Ga];return 8*(za+4+Ba)},qr=function(La,Na,ja,Ba,za,Ga,Ha,Ya,Xa,Ka,Qa){Dr(Na,Qa++,ja),++za[256];for(var Va=Lr(za,15),Ua=Va[0],Wa=Va[1],Ja=Lr(Ga,15),Oo=Ja[0],Do=Ja[1],Mo=Ur(Ua),el=Mo[0],tl=Mo[1],rl=Ur(Oo),il=rl[0],al=rl[1],ll=new gr(19),ul=0;ul<el.length;++ul)ll[31&el[ul]]++;for(ul=0;ul<il.length;++ul)ll[31&il[ul]]++;for(var ol=Lr(ll,7),cl=ol[0],gl=ol[1],bl=19;bl>4&&!cl[br$1[bl-1]];--bl);var _l,xl,Al,ml,Sl=Ka+5<<3,Cl=zr(za,Tr)+zr(Ga,Cr)+Ha,Nl=zr(za,Ua)+zr(Ga,Oo)+Ha+14+3*bl+zr(ll,cl)+(2*ll[16]+3*ll[17]+7*ll[18]);if(Sl<=Cl&&Sl<=Nl)return Br(Na,Qa,La.subarray(Xa,Xa+Ka));if(Dr(Na,Qa,1+(Nl<Cl)),Qa+=2,Nl<Cl){_l=Pr(Ua,Wa),xl=Ua,Al=Pr(Oo,Do),ml=Oo;var dl=Pr(cl,gl);for(Dr(Na,Qa,tl-257),Dr(Na,Qa+5,al-1),Dr(Na,Qa+10,bl-4),Qa+=14,ul=0;ul<bl;++ul)Dr(Na,Qa+3*ul,cl[br$1[ul]]);Qa+=3*bl;for(var Rl=[el,il],Tl=0;Tl<2;++Tl){var pl=Rl[Tl];for(ul=0;ul<pl.length;++ul){var jl=31&pl[ul];Dr(Na,Qa,dl[jl]),Qa+=cl[jl],jl>15&&(Dr(Na,Qa,pl[ul]>>>5&127),Qa+=pl[ul]>>>12)}}}else _l=Mr,xl=Tr,Al=Or,ml=Cr;for(ul=0;ul<Ya;++ul)if(Ba[ul]>255){jl=Ba[ul]>>>18&31,jr(Na,Qa,_l[jl+257]),Qa+=xl[jl+257],jl>7&&(Dr(Na,Qa,Ba[ul]>>>23&31),Qa+=mr[jl]);var Ll=31&Ba[ul];jr(Na,Qa,Al[Ll]),Qa+=ml[Ll],Ll>3&&(jr(Na,Qa,Ba[ul]>>>5&8191),Qa+=yr[Ll])}else jr(Na,Qa,_l[Ba[ul]]),Qa+=xl[Ba[ul]];return jr(Na,Qa,_l[256]),Qa+xl[256]},Hr=new _r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Wr=(function(){for(var La=new _r(256),Na=0;Na<256;++Na){for(var ja=Na,Ba=9;--Ba;)ja=(1&ja&&3988292384)^ja>>>1;La[Na]=ja}return La})(),Gr=function(){var La=4294967295;return{p:function(Na){for(var ja=La,Ba=0;Ba<Na.length;++Ba)ja=Wr[255&ja^Na[Ba]]^ja>>>8;La=ja},d:function(){return 4294967295^La}}},Vr=function(La,Na,ja,Ba,za){return(function(Ga,Ha,Ya,Xa,Ka,Qa){var Va=Ga.length,Ua=new pr(Xa+Va+5*(1+Math.floor(Va/7e3))+Ka),Wa=Ua.subarray(Xa,Ua.length-Ka),Ja=0;if(!Ha||Va<8)for(var Oo=0;Oo<=Va;Oo+=65535){var Do=Oo+65535;Do<Va?Ja=Br(Wa,Ja,Ga.subarray(Oo,Do)):(Wa[Oo]=Qa,Ja=Br(Wa,Ja,Ga.subarray(Oo,Va)))}else{for(var Mo=Hr[Ha-1],el=Mo>>>13,tl=8191&Mo,rl=(1<<Ya)-1,il=new gr(32768),al=new gr(rl+1),ll=Math.ceil(Ya/3),ul=2*ll,ol=function(xu){return(Ga[xu]^Ga[xu+1]<<ll^Ga[xu+2]<<ul)&rl},cl=new _r(25e3),gl=new gr(288),bl=new gr(32),_l=0,xl=0,Al=(Oo=0,0),ml=0,Sl=0;Oo<Va;++Oo){var Cl=ol(Oo),Nl=32767&Oo,dl=al[Cl];if(il[Nl]=dl,al[Cl]=Nl,ml<=Oo){var Rl=Va-Oo;if((_l>7e3||Al>24576)&&Rl>423){Ja=qr(Ga,Wa,0,cl,gl,bl,xl,Al,Sl,Oo-Sl,Ja),Al=_l=xl=0,Sl=Oo;for(var Tl=0;Tl<286;++Tl)gl[Tl]=0;for(Tl=0;Tl<30;++Tl)bl[Tl]=0}var pl=2,jl=0,Ll=tl,Dl=Nl-dl&32767;if(Rl>2&&Cl==ol(Oo-Dl))for(var $l=Math.min(el,Rl)-1,eu=Math.min(32767,Oo),uu=Math.min(258,Rl);Dl<=eu&&--Ll&&Nl!=dl;){if(Ga[Oo+pl]==Ga[Oo+pl-Dl]){for(var su=0;su<uu&&Ga[Oo+su]==Ga[Oo+su-Dl];++su);if(su>pl){if(pl=su,jl=Dl,su>$l)break;var pu=Math.min(Dl,su-2),Yl=0;for(Tl=0;Tl<pu;++Tl){var ru=Oo-Dl+Tl+32768&32767,lu=ru-il[ru]+32768&32767;lu>Yl&&(Yl=lu,dl=ru)}}}Dl+=(Nl=dl)-(dl=il[Nl])+32768&32767}if(jl){cl[Al++]=268435456|$r[pl]<<18|xr[jl];var fu=31&$r[pl],bu=31&xr[jl];xl+=mr[fu]+yr[bu],++gl[257+fu],++bl[bu],ml=Oo+pl,++_l}else cl[Al++]=Ga[Oo],++gl[Ga[Oo]]}}Ja=qr(Ga,Wa,Qa,cl,gl,bl,xl,Al,Sl,Oo-Sl,Ja)}return Ar(Ua,0,Xa+Fr(Ja)+Ka)})(La,Na.level==null?6:Na.level,Na.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(La.length)))):12+Na.mem,ja,Ba,!0)},Jr=function(La,Na,ja){for(;ja;++Na)La[Na]=ja,ja>>>=8},Kr=function(La,Na){var ja=Na.filename;if(La[0]=31,La[1]=139,La[2]=8,La[8]=Na.level<2?4:Na.level==9?2:0,La[9]=3,Na.mtime!=0&&Jr(La,4,Math.floor(new Date(Na.mtime||Date.now())/1e3)),ja){La[3]=8;for(var Ba=0;Ba<=ja.length;++Ba)La[Ba+10]=ja.charCodeAt(Ba)}},Yr=function(La){return 10+(La.filename&&La.filename.length+1||0)};function Xr(La,Na){Na===void 0&&(Na={});var ja=Gr(),Ba=La.length;ja.p(La);var za=Vr(La,Na,Yr(Na),8),Ga=za.length;return Kr(za,Na),Jr(za,Ga-8,ja.d()),Jr(za,Ga-4,Ba),za}function Qr(La,Na){var ja=La.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(La);for(var Ba=new pr(La.length+(La.length>>>1)),za=0,Ga=function(Ka){Ba[za++]=Ka},Ha=0;Ha<ja;++Ha){if(za+5>Ba.length){var Ya=new pr(za+8+(ja-Ha<<1));Ya.set(Ba),Ba=Ya}var Xa=La.charCodeAt(Ha);Xa<128||Na?Ga(Xa):Xa<2048?(Ga(192|Xa>>>6),Ga(128|63&Xa)):Xa>55295&&Xa<57344?(Ga(240|(Xa=65536+(1047552&Xa)|1023&La.charCodeAt(++Ha))>>>18),Ga(128|Xa>>>12&63),Ga(128|Xa>>>6&63),Ga(128|63&Xa)):(Ga(224|Xa>>>12),Ga(128|Xa>>>6&63),Ga(128|63&Xa))}return Ar(Ba,0,za)}function Zr(La,Na){return(function(ja){for(var Ba=0,za=0;za<ja.length;za++)Ba=(Ba<<5)-Ba+ja.charCodeAt(za),Ba|=0;return Math.abs(Ba)})(La)%100<G$1(100*Na,0,100,xt)}var ts="disabled",is="sampled",es="active",rs="buffering",ss="paused",ns="trigger",os=ns+"_activated",as=ns+"_pending",ls=ns+"_"+ts;function us(La,Na){return Na.some((ja=>ja.matching==="regex"&&new RegExp(ja.url).test(La)))}class hs{constructor(Na){this.Rt=Na}triggerStatus(Na){var ja=this.Rt.map((Ba=>Ba.triggerStatus(Na)));return ja.includes(os)?os:ja.includes(as)?as:ls}stop(){this.Rt.forEach((Na=>Na.stop()))}}class ds{constructor(Na){this.Rt=Na}triggerStatus(Na){var ja=new Set;for(var Ba of this.Rt)ja.add(Ba.triggerStatus(Na));switch(ja.delete(ls),ja.size){case 0:return ls;case 1:return Array.from(ja)[0];default:return as}}stop(){this.Rt.forEach((Na=>Na.stop()))}}class vs{triggerStatus(){return as}stop(){}}var cs=La=>"sessionRecording"in La;class fs{constructor(Na){this.It=[],this.Pt=[],this.urlBlocked=!1,this._instance=Na}onConfig(Na){var ja,Ba;this.It=(cs(Na)?(ja=Na.sessionRecording)==null?void 0:ja.urlTriggers:Na?.urlTriggers)||[],this.Pt=(cs(Na)?(Ba=Na.sessionRecording)==null?void 0:Ba.urlBlocklist:Na?.urlBlocklist)||[]}onRemoteConfig(Na){this.onConfig(Na)}Tt(Na){var ja;return this.It.length===0?ls:((ja=this._instance)==null?void 0:ja.get_property(di))===Na?os:as}triggerStatus(Na){var ja=this.Tt(Na),Ba=ja===os?os:ja===as?as:ls;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:Ba}),Ba}checkUrlTriggerConditions(Na,ja,Ba){if(t!==void 0&&t.location.href){var za=t.location.href,Ga=this.urlBlocked,Ha=us(za,this.Pt);Ga&&Ha||(Ha&&!Ga?Na():!Ha&&Ga&&ja(),us(za,this.It)&&Ba("url"))}}stop(){}}class ps{constructor(Na){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=Na}triggerStatus(){var Na=as;return A(this.linkedFlag)&&(Na=ls),this.linkedFlagSeen&&(Na=os),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:Na}),Na}onConfig(Na,ja){var Ba;if(this.linkedFlag=(cs(Na)?(Ba=Na.sessionRecording)==null?void 0:Ba.linkedFlag:Na?.linkedFlag)||null,!A(this.linkedFlag)&&!this.linkedFlagSeen){var za=M(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,Ga=M(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags(((Ha,Ya)=>{var Xa=!1;if(P$1(Ya)&&za in Ya){var Ka=Ya[za];Xa=j(Ka)?Ka===!0:Ga?Ka===Ga:!!Ka}this.linkedFlagSeen=Xa,Xa&&ja(za,Ga)}))}}onRemoteConfig(Na,ja){this.onConfig(Na,ja)}stop(){this.Ct()}}class gs{constructor(Na){this.Mt=[],this._instance=Na}onConfig(Na){var ja;this.Mt=(cs(Na)?(ja=Na.sessionRecording)==null?void 0:ja.eventTriggers:Na?.eventTriggers)||[]}onRemoteConfig(Na){this.onConfig(Na)}Ot(Na){var ja;return this.Mt.length===0?ls:((ja=this._instance)==null?void 0:ja.get_property(vi))===Na?os:as}triggerStatus(Na){var ja=this.Ot(Na),Ba=ja===os?os:ja===as?as:ls;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:Ba}),Ba}stop(){}}function _s(La){return La.isRecordingEnabled?rs:ts}function ms(La){if(!La.receivedFlags)return rs;if(!La.isRecordingEnabled)return ts;if(La.urlTriggerMatching.urlBlocked)return ss;var Na=La.isSampled===!0,ja=new hs([La.eventTriggerMatching,La.urlTriggerMatching,La.linkedFlagMatching]).triggerStatus(La.sessionId);return Na?is:ja===os?es:ja===as?rs:La.isSampled===!1?ts:es}function ys(La){if(!La.receivedFlags)return rs;if(!La.isRecordingEnabled)return ts;if(La.urlTriggerMatching.urlBlocked)return ss;var Na=new ds([La.eventTriggerMatching,La.urlTriggerMatching,La.linkedFlagMatching]).triggerStatus(La.sessionId),ja=Na!==ls,Ba=j(La.isSampled);return ja&&Na===as?rs:ja&&Na===ls||Ba&&!La.isSampled?ts:La.isSampled===!0?is:es}var bs="[SessionRecording]",ws=Et(bs);function Ss(){var La;return v==null||(La=v.__PosthogExtensions__)==null||(La=La.rrweb)==null?void 0:La.record}var ks=3e5,$s=[sr.MouseMove,sr.MouseInteraction,sr.Scroll,sr.ViewportResize,sr.Input,sr.TouchMove,sr.MediaInteraction,sr.Drag],xs=La=>({rrwebMethod:La,enqueuedAt:Date.now(),attempt:1});function Es(La){return(function(Na,ja){for(var Ba="",za=0;za<Na.length;){var Ga=Na[za++];Ba+=String.fromCharCode(Ga)}return Ba})(Xr(Qr(JSON.stringify(La))))}function Rs(La){return La.type===rr.Custom&&La.data.tag==="sessionIdle"}class Is{get sessionId(){return this.Ft}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(bs+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var Na,ja;return this.Nt.triggerStatus(this.sessionId)===as?6e4:(Na=(ja=this._instance.config.session_recording)==null?void 0:ja.full_snapshot_interval_millis)!==null&&Na!==void 0?Na:ks}get Ut(){var Na=this._instance.get_property(hi);return j(Na)?Na:null}get zt(){var Na,ja,Ba=(Na=this.H)==null?void 0:Na.data[((ja=this.H)==null?void 0:ja.data.length)-1],{sessionStartTimestamp:za}=this.jt.checkAndGetSessionAndWindowId(!0);return Ba?Ba.timestamp-za:null}get Bt(){var Na=!!this._instance.get_property(ii),ja=!this._instance.config.disable_session_recording;return t&&Na&&ja}get qt(){var Na=!!this._instance.get_property(ei),ja=this._instance.config.enable_recording_console_log;return ja??Na}get Ht(){var Na,ja,Ba,za,Ga,Ha,Ya=this._instance.config.session_recording.captureCanvas,Xa=this._instance.get_property(ni),Ka=(Na=(ja=Ya?.recordCanvas)!==null&&ja!==void 0?ja:Xa?.enabled)!==null&&Na!==void 0&&Na,Qa=(Ba=(za=Ya?.canvasFps)!==null&&za!==void 0?za:Xa?.fps)!==null&&Ba!==void 0?Ba:4,Va=(Ga=(Ha=Ya?.canvasQuality)!==null&&Ha!==void 0?Ha:Xa?.quality)!==null&&Ga!==void 0?Ga:.4;if(typeof Va=="string"){var Ua=parseFloat(Va);Va=isNaN(Ua)?.4:Ua}return{enabled:Ka,fps:G$1(Qa,0,12,ws.createLogger("canvas recording fps"),4),quality:G$1(Va,0,1,ws.createLogger("canvas recording quality"),.4)}}get Wt(){var Na,ja,Ba=this._instance.get_property(ri),za={recordHeaders:(Na=this._instance.config.session_recording)==null?void 0:Na.recordHeaders,recordBody:(ja=this._instance.config.session_recording)==null?void 0:ja.recordBody},Ga=za?.recordHeaders||Ba?.recordHeaders,Ha=za?.recordBody||Ba?.recordBody,Ya=P$1(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,Xa=!!(j(Ya)?Ya:Ba?.capturePerformance);return Ga||Ha||Xa?{recordHeaders:Ga,recordBody:Ha,recordPerformance:Xa}:void 0}get Gt(){var Na,ja,Ba,za,Ga,Ha,Ya=this._instance.get_property(si),Xa={maskAllInputs:(Na=this._instance.config.session_recording)==null?void 0:Na.maskAllInputs,maskTextSelector:(ja=this._instance.config.session_recording)==null?void 0:ja.maskTextSelector,blockSelector:(Ba=this._instance.config.session_recording)==null?void 0:Ba.blockSelector},Ka=(za=Xa?.maskAllInputs)!==null&&za!==void 0?za:Ya?.maskAllInputs,Qa=(Ga=Xa?.maskTextSelector)!==null&&Ga!==void 0?Ga:Ya?.maskTextSelector,Va=(Ha=Xa?.blockSelector)!==null&&Ha!==void 0?Ha:Ya?.blockSelector;return C(Ka)&&C(Qa)&&C(Va)?void 0:{maskAllInputs:Ka==null||Ka,maskTextSelector:Qa,blockSelector:Va}}get Vt(){var Na=this._instance.get_property(oi);return D$2(Na)?Na:null}get Jt(){var Na=this._instance.get_property(ai);return D$2(Na)?Na:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.Bt,isSampled:this.Ut,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):rs}constructor(Na){if(this.Yt=_s,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new vs,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.tryAddCustomEvent("browser offline",{})},this.di=()=>{this.tryAddCustomEvent("browser online",{})},this.vi=()=>{if(o!=null&&o.visibilityState){var za="window "+o.visibilityState;this.tryAddCustomEvent(za,{})}},this._instance=Na,this.Dt=!1,this.ci="/s/",this.fi=void 0,this.Kt=!1,!this._instance.sessionManager)throw ws.error("started without valid sessionManager"),new Error(bs+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(bs+' cannot be used with cookieless_mode="always"');this.Zt=new ps(this._instance),this.Xt=new fs(this._instance),this.Qt=new gs(this._instance);var{sessionId:ja,windowId:Ba}=this.jt.checkAndGetSessionAndWindowId();this.Ft=ja,this.pi=Ba,this.H=this.gi(),this.At>=this.jt.sessionTimeoutMs&&ws.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(Na){this.Bt?(this.mi(Na),Bt(t,"beforeunload",this.li),Bt(t,"offline",this.hi),Bt(t,"online",this.di),Bt(t,"visibilitychange",this.vi),this.yi(),this.bi(),A(this.ri)&&(this.ri=this._instance.on("eventCaptured",(ja=>{try{if(ja.event==="$pageview"){var Ba=ja!=null&&ja.properties.$current_url?this.wi(ja?.properties.$current_url):"";if(!Ba)return;this.tryAddCustomEvent("$pageview",{href:Ba})}}catch(za){ws.error("Could not add $pageview to rrweb session",za)}}))),this.si||(this.si=this.jt.onSessionId(((ja,Ba,za)=>{var Ga,Ha;za&&(this.tryAddCustomEvent("$session_id_change",{sessionId:ja,windowId:Ba,changeReason:za}),(Ga=this._instance)==null||(Ga=Ga.persistence)==null||Ga.unregister(vi),(Ha=this._instance)==null||(Ha=Ha.persistence)==null||Ha.unregister(di))})))):this.stopRecording()}stopRecording(){var Na,ja,Ba,za;this.Dt&&this.fi&&(this.fi(),this.fi=void 0,this.Dt=!1,t?.removeEventListener("beforeunload",this.li),t?.removeEventListener("offline",this.hi),t?.removeEventListener("online",this.di),t?.removeEventListener("visibilitychange",this.vi),this.gi(),clearInterval(this.Si),(Na=this.ri)==null||Na.call(this),this.ri=void 0,(ja=this.ai)==null||ja.call(this),this.ai=void 0,(Ba=this.si)==null||Ba.call(this),this.si=void 0,(za=this.oi)==null||za.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),ws.info("stopped"))}ki(){var Na;(Na=this._instance.persistence)==null||Na.unregister(hi)}$i(Na){var ja,Ba=this.Ft!==Na,za=this.Vt;if(D$2(za)){var Ga=this.Ut,Ha=Ba||!j(Ga),Ya=Ha?Zr(Na,za):Ga;Ha&&(Ya?this.xi(is):ws.warn("Sample rate ("+za+") has determined that this sessionId ("+Na+") will not be sent to the server."),this.tryAddCustomEvent("samplingDecisionMade",{sampleRate:za,isSampled:Ya})),(ja=this._instance.persistence)==null||ja.register({[hi]:Ya})}else this.ki()}onRemoteConfig(Na){var ja,Ba,za,Ga;this.tryAddCustomEvent("$remote_config_received",Na),this.Ei(Na),(ja=Na.sessionRecording)!=null&&ja.endpoint&&(this.ci=(Ga=Na.sessionRecording)==null?void 0:Ga.endpoint),this.yi(),((Ba=Na.sessionRecording)==null?void 0:Ba.triggerMatchType)==="any"?(this.Yt=ms,this.Nt=new hs([this.Qt,this.Xt])):(this.Yt=ys,this.Nt=new ds([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(za=Na.sessionRecording)==null?void 0:za.triggerMatchType}),this.Xt.onConfig(Na),this.Qt.onConfig(Na),this.Zt.onConfig(Na,((Ha,Ya)=>{this.xi("linked_flag_matched",{flag:Ha,variant:Ya})})),this.Kt=!0,this.startIfEnabledOrStop()}yi(){D$2(this.Vt)&&A(this.oi)&&(this.oi=this.jt.onSessionId((Na=>{this.$i(Na)})))}Ei(Na){if(this._instance.persistence){var ja,Ba=this._instance.persistence,za=()=>{var Ga,Ha,Ya,Xa,Ka,Qa,Va,Ua,Wa,Ja=(Ga=Na.sessionRecording)==null?void 0:Ga.sampleRate,Oo=A(Ja)?null:parseFloat(Ja);A(Oo)&&this.ki();var Do=(Ha=Na.sessionRecording)==null?void 0:Ha.minimumDurationMilliseconds;Ba.register({[ii]:!!Na.sessionRecording,[ei]:(Ya=Na.sessionRecording)==null?void 0:Ya.consoleLogRecordingEnabled,[ri]:g({capturePerformance:Na.capturePerformance},(Xa=Na.sessionRecording)==null?void 0:Xa.networkPayloadCapture),[si]:(Ka=Na.sessionRecording)==null?void 0:Ka.masking,[ni]:{enabled:(Qa=Na.sessionRecording)==null?void 0:Qa.recordCanvas,fps:(Va=Na.sessionRecording)==null?void 0:Va.canvasFps,quality:(Ua=Na.sessionRecording)==null?void 0:Ua.canvasQuality},[oi]:Oo,[ai]:C(Do)?null:Do,[li]:(Wa=Na.sessionRecording)==null?void 0:Wa.scriptConfig})};za(),(ja=this.ni)==null||ja.call(this),this.ni=this.jt.onSessionId(za)}}log(Na,ja){var Ba;ja===void 0&&(ja="log"),(Ba=this._instance.sessionRecording)==null||Ba.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:ja,trace:[],payload:[JSON.stringify(Na)]}},timestamp:Date.now()})}mi(Na){if(!C(Object.assign)&&!C(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var ja;this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),Ss()?this.Ri():(ja=v.__PosthogExtensions__)==null||ja.loadExternalDependency==null||ja.loadExternalDependency(this._instance,this.Ii,(Ba=>{if(Ba)return ws.error("could not load recorder",Ba);this.Ri()})),ws.info("starting"),this.status===es&&this.xi(Na||"recording_initialized")}}get Ii(){var Na;return((Na=this._instance)==null||(Na=Na.persistence)==null||(Na=Na.get_property(li))==null?void 0:Na.script)||"recorder"}Pi(Na){var ja;return Na.type===3&&$s.indexOf((ja=Na.data)==null?void 0:ja.source)!==-1}Ti(Na){var ja=this.Pi(Na);ja||this.ii||Na.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.Si),this.tryAddCustomEvent("sessionIdle",{eventTimestamp:Na.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var Ba=!1;if(ja&&(this.ei=Na.timestamp,this.ii)){var za=this.ii==="unknown";this.ii=!1,za||(this.tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:Na.type}),Ba=!0)}if(!this.ii){var{windowId:Ga,sessionId:Ha}=this.jt.checkAndGetSessionAndWindowId(!ja,Na.timestamp),Ya=this.Ft!==Ha,Xa=this.pi!==Ga;this.pi=Ga,this.Ft=Ha,Ya||Xa?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):Ba&&this.Ci()}}Mi(Na){try{return Na.rrwebMethod(),!0}catch(ja){return this.ti.length<10?this.ti.push({enqueuedAt:Na.enqueuedAt||Date.now(),attempt:Na.attempt++,rrwebMethod:Na.rrwebMethod}):ws.warn("could not emit queued rrweb event.",ja,Na),!1}}tryAddCustomEvent(Na,ja){return this.Mi(xs((()=>Ss().addCustomEvent(Na,ja))))}Oi(){return this.Mi(xs((()=>Ss().takeFullSnapshot())))}Ri(){var Na,ja,Ba,za,Ga={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},Ha=this._instance.config.session_recording;for(var[Ya,Xa]of Object.entries(Ha||{}))Ya in Ga&&(Ya==="maskInputOptions"?Ga.maskInputOptions=g({password:!0},Xa):Ga[Ya]=Xa);this.Ht&&this.Ht.enabled&&(Ga.recordCanvas=!0,Ga.sampling={canvas:this.Ht.fps},Ga.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(Ga.maskAllInputs=(ja=this.Gt.maskAllInputs)===null||ja===void 0||ja,Ga.maskTextSelector=(Ba=this.Gt.maskTextSelector)!==null&&Ba!==void 0?Ba:void 0,Ga.blockSelector=(za=this.Gt.blockSelector)!==null&&za!==void 0?za:void 0);var Ka=Ss();if(Ka){this.Fi=(Na=this.Fi)!==null&&Na!==void 0?Na:new fr(Ka,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(Va,Ua)=>{var Wa="Too many mutations on node '"+Va+"'. Rate limiting. This could be due to SVG animations or something similar";ws.info(Wa,{node:Ua}),this.log(bs+" "+Wa,"warn")}});var Qa=this.Ai();this.fi=Ka(g({emit:Va=>{this.onRRwebEmit(Va)},plugins:Qa},Ga)),this.ei=Date.now(),this.ii=j(this.ii)?this.ii:"unknown",this.tryAddCustomEvent("$session_options",{sessionRecordingOptions:Ga,activePlugins:Qa.map((Va=>Va?.name))}),this.tryAddCustomEvent("$posthog_config",{config:this._instance.config})}else ws.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ci(){if(this.Si&&clearInterval(this.Si),this.ii!==!0){var Na=this.Lt;Na&&(this.Si=setInterval((()=>{this.Oi()}),Na))}}Ai(){var Na,ja,Ba=[],za=(Na=v.__PosthogExtensions__)==null||(Na=Na.rrwebPlugins)==null?void 0:Na.getRecordConsolePlugin;za&&this.qt&&Ba.push(za());var Ga=(ja=v.__PosthogExtensions__)==null||(ja=ja.rrwebPlugins)==null?void 0:ja.getRecordNetworkPlugin;return this.Wt&&I(Ga)&&(!ce$1.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?Ba.push(Ga(cr(this._instance.config,this.Wt))):ws.info("NetworkCapture not started because we are on localhost.")),Ba}onRRwebEmit(Na){var ja;if(this.Di(),Na&&P$1(Na)){if(Na.type===rr.Meta){var Ba=this.wi(Na.data.href);if(this.ji=Ba,!Ba)return;Na.data.href=Ba}else this.Li();if(this.Xt.checkUrlTriggerConditions((()=>this.Ni()),(()=>this.Ui()),(Ua=>this.zi(Ua))),!this.Xt.urlBlocked||(za=Na).type===rr.Custom&&za.data.tag==="recording paused"){var za;Na.type===rr.FullSnapshot&&this.Ci(),Na.type===rr.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===as&&this.Bi();var Ga=this.Fi?this.Fi.throttleMutations(Na):Na;if(Ga){var Ha=(function(Ua){var Wa=Ua;if(Wa&&P$1(Wa)&&Wa.type===6&&P$1(Wa.data)&&Wa.data.plugin==="rrweb/console@1"){Wa.data.payload.payload.length>10&&(Wa.data.payload.payload=Wa.data.payload.payload.slice(0,10),Wa.data.payload.payload.push("...[truncated]"));for(var Ja=[],Oo=0;Oo<Wa.data.payload.payload.length;Oo++)Wa.data.payload.payload[Oo]&&Wa.data.payload.payload[Oo].length>2e3?Ja.push(Wa.data.payload.payload[Oo].slice(0,2e3)+"...[truncated]"):Ja.push(Wa.data.payload.payload[Oo]);return Wa.data.payload.payload=Ja,Ua}return Ua})(Ga);if(this.Ti(Ha),this.ii!==!0||Rs(Ha)){if(Rs(Ha)){var Ya=Ha.data.payload;if(Ya){var Xa=Ya.lastActivityTimestamp,Ka=Ya.threshold;Ha.timestamp=Xa+Ka}}var Qa=(ja=this._instance.config.session_recording.compress_events)===null||ja===void 0||ja?(function(Ua){try{if(Ua.type===rr.FullSnapshot)return g({},Ua,{data:Es(Ua.data),cv:"2024-10"});if(Ua.type===rr.IncrementalSnapshot&&Ua.data.source===sr.Mutation)return g({},Ua,{cv:"2024-10",data:g({},Ua.data,{texts:Es(Ua.data.texts),attributes:Es(Ua.data.attributes),removes:Es(Ua.data.removes),adds:Es(Ua.data.adds)})});if(Ua.type===rr.IncrementalSnapshot&&Ua.data.source===sr.StyleSheetRule)return g({},Ua,{cv:"2024-10",data:g({},Ua.data,{adds:Ua.data.adds?Es(Ua.data.adds):void 0,removes:Ua.data.removes?Es(Ua.data.removes):void 0})})}catch(Wa){ws.error("could not compress event - will use uncompressed event",Wa)}return Ua})(Ha):Ha,Va={$snapshot_bytes:ir(Qa),$snapshot_data:Qa,$session_id:this.Ft,$window_id:this.pi};this.status!==ts?this.qi(Va):this.gi()}}}}}Li(){if(!this._instance.config.capture_pageview&&t){var Na=this.wi(t.location.href);this.ji!==Na&&(this.tryAddCustomEvent("$url_changed",{href:Na}),this.ji=Na)}}Di(){if(this.ti.length){var Na=[...this.ti];this.ti=[],Na.forEach((ja=>{Date.now()-ja.enqueuedAt<=2e3&&this.Mi(ja)}))}}wi(Na){var ja=this._instance.config.session_recording;if(ja.maskNetworkRequestFn){var Ba,za={url:Na};return(Ba=za=ja.maskNetworkRequestFn(za))==null?void 0:Ba.url}return Na}Bi(){if(!this.H||this.H.data.length===0)return this.gi();for(var Na=-1,ja=this.H.data.length-1;ja>=0;ja--)if(this.H.data[ja].type===rr.Meta){Na=ja;break}return Na>=0?(this.H.data=this.H.data.slice(Na),this.H.size=this.H.data.reduce(((Ba,za)=>Ba+ir(za)),0),this.H):this.gi()}gi(){return this.H={size:0,data:[],sessionId:this.Ft,windowId:this.pi},this.H}ui(){this.Hi&&(clearTimeout(this.Hi),this.Hi=void 0);var Na=this.Jt,ja=this.zt,Ba=D$2(ja)&&ja>=0,za=D$2(Na)&&Ba&&ja<Na;return this.status===rs||this.status===ss||this.status===ts||za?(this.Hi=setTimeout((()=>{this.ui()}),2e3),this.H):(this.H.data.length>0&&er(this.H).forEach((Ga=>{this.Wi({$snapshot_bytes:Ga.size,$snapshot_data:Ga.data,$session_id:Ga.sessionId,$window_id:Ga.windowId,$lib:"web",$lib_version:c.LIB_VERSION})})),this.gi())}qi(Na){var ja,Ba=2+(((ja=this.H)==null?void 0:ja.data.length)||0);!this.ii&&(this.H.size+Na.$snapshot_bytes+Ba>943718.4||this.H.sessionId!==this.Ft)&&(this.H=this.ui()),this.H.size+=Na.$snapshot_bytes,this.H.data.push(Na.$snapshot_data),this.Hi||this.ii||(this.Hi=setTimeout((()=>{this.ui()}),2e3))}Wi(Na){this._instance.capture("$snapshot",Na,{_url:this._instance.requestRouter.endpointFor("api",this.ci),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(Na){var ja;this.Nt.triggerStatus(this.sessionId)===as&&((ja=this._instance)==null||(ja=ja.persistence)==null||ja.register({[Na==="url"?di:vi]:this.Ft}),this.ui(),this.xi(Na+"_trigger_matched"))}Ni(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.Si),ws.info("recording paused due to URL blocker"),this.tryAddCustomEvent("recording paused",{reason:"url blocker"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Ci(),this.tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),ws.info("recording resumed"))}bi(){this.Qt.Mt.length!==0&&A(this.ai)&&(this.ai=this._instance.on("eventCaptured",(Na=>{try{this.Qt.Mt.includes(Na.event)&&this.zi("event")}catch(ja){ws.error("Could not activate event trigger",ja)}})))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.xi("linked_flag_overridden")}overrideSampling(){var Na;(Na=this._instance.persistence)==null||Na.register({[hi]:!0}),this.Oi(),this.xi("sampling_overridden")}overrideTrigger(Na){this.zi(Na)}xi(Na,ja){this._instance.register_for_session({$session_recording_start_reason:Na}),ws.info(Na.replace("_"," "),ja),y(["recording_initialized","session_id_changed"],Na)||this.tryAddCustomEvent(Na,ja)}get sdkDebugProperties(){var{sessionStartTimestamp:Na}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.zt,$sdk_debug_session_start:Na}}}var Ps=Et("[SegmentIntegration]");function Ts(La,Na){var ja=La.config.segment;if(!ja)return Na();(function(Ba,za){var Ga=Ba.config.segment;if(!Ga)return za();var Ha=Xa=>{var Ka=()=>Xa.anonymousId()||Ce$1();Ba.config.get_device_id=Ka,Xa.id()&&(Ba.register({distinct_id:Xa.id(),$device_id:Ka()}),Ba.persistence.set_property(wi,"identified")),za()},Ya=Ga.user();"then"in Ya&&I(Ya.then)?Ya.then((Xa=>Ha(Xa))):Ha(Ya)})(La,(()=>{ja.register((Ba=>{Promise&&Promise.resolve||Ps.warn("This browser does not have Promise support, and can not use the segment integration");var za=(Ga,Ha)=>{if(!Ha)return Ga;Ga.event.userId||Ga.event.anonymousId===Ba.get_distinct_id()||(Ps.info("No userId set, resetting PostHog"),Ba.reset()),Ga.event.userId&&Ga.event.userId!==Ba.get_distinct_id()&&(Ps.info("UserId set, identifying with PostHog"),Ba.identify(Ga.event.userId));var Ya=Ba.calculateEventProperties(Ha,Ga.event.properties);return Ga.event.properties=Object.assign({},Ya,Ga.event.properties),Ga};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:Ga=>za(Ga,Ga.event.event),page:Ga=>za(Ga,"$pageview"),identify:Ga=>za(Ga,"$identify"),screen:Ga=>za(Ga,"$screen")}})(La)).then((()=>{Na()}))}))}var Cs="posthog-js";function Ms(La,Na){var{organization:ja,projectId:Ba,prefix:za,severityAllowList:Ga=["error"],sendExceptionsToPostHog:Ha=!0}=Na===void 0?{}:Na;return Ya=>{var Xa,Ka,Qa,Va,Ua;if(!(Ga==="*"||Ga.includes(Ya.level))||!La.__loaded)return Ya;Ya.tags||(Ya.tags={});var Wa=La.requestRouter.endpointFor("ui","/project/"+La.config.token+"/person/"+La.get_distinct_id());Ya.tags["PostHog Person URL"]=Wa,La.sessionRecordingStarted()&&(Ya.tags["PostHog Recording URL"]=La.get_session_replay_url({withTimestamp:!0}));var Ja=((Xa=Ya.exception)==null?void 0:Xa.values)||[],Oo=Ja.map((Mo=>g({},Mo,{stacktrace:Mo.stacktrace?g({},Mo.stacktrace,{type:"raw",frames:(Mo.stacktrace.frames||[]).map((el=>g({},el,{platform:"web:javascript"})))}):void 0}))),Do={$exception_message:((Ka=Ja[0])==null?void 0:Ka.value)||Ya.message,$exception_type:(Qa=Ja[0])==null?void 0:Qa.type,$exception_personURL:Wa,$exception_level:Ya.level,$exception_list:Oo,$sentry_event_id:Ya.event_id,$sentry_exception:Ya.exception,$sentry_exception_message:((Va=Ja[0])==null?void 0:Va.value)||Ya.message,$sentry_exception_type:(Ua=Ja[0])==null?void 0:Ua.type,$sentry_tags:Ya.tags};return ja&&Ba&&(Do.$sentry_url=(za||"https://sentry.io/organizations/")+ja+"/issues/?project="+Ba+"&query="+Ya.event_id),Ha&&La.exceptions.sendExceptionEvent(Do),Ya}}class Os{constructor(Na,ja,Ba,za,Ga,Ha){this.name=Cs,this.setupOnce=function(Ya){Ya(Ms(Na,{organization:ja,projectId:Ba,prefix:za,severityAllowList:Ga,sendExceptionsToPostHog:Ha==null||Ha}))}}}var Fs=t!=null&&t.location?me$1(t.location.hash,"__posthog")||me$1(location.hash,"state"):null,As="_postHogToolbarParams",Ds=Et("[Toolbar]"),js=(function(La){return La[La.UNINITIALIZED=0]="UNINITIALIZED",La[La.LOADING=1]="LOADING",La[La.LOADED=2]="LOADED",La})(js||{});class Ls{constructor(Na){this.instance=Na}Gi(Na){v.ph_toolbar_state=Na}Vi(){var Na;return(Na=v.ph_toolbar_state)!==null&&Na!==void 0?Na:js.UNINITIALIZED}maybeLoadToolbar(Na,ja,Ba){if(Na===void 0&&(Na=void 0),ja===void 0&&(ja=void 0),Ba===void 0&&(Ba=void 0),!t||!o)return!1;Na=Na??t.location,Ba=Ba??t.history;try{if(!ja){try{t.localStorage.setItem("test","test"),t.localStorage.removeItem("test")}catch{return!1}ja=t?.localStorage}var za,Ga=Fs||me$1(Na.hash,"__posthog")||me$1(Na.hash,"state"),Ha=Ga?At((()=>JSON.parse(atob(decodeURIComponent(Ga)))))||At((()=>JSON.parse(decodeURIComponent(Ga)))):null;return Ha&&Ha.action==="ph_authorize"?((za=Ha).source="url",za&&Object.keys(za).length>0&&(Ha.desiredHash?Na.hash=Ha.desiredHash:Ba?Ba.replaceState(Ba.state,"",Na.pathname+Na.search):Na.hash="")):((za=JSON.parse(ja.getItem(As)||"{}")).source="localstorage",delete za.userIntent),!(!za.token||this.instance.config.token!==za.token)&&(this.loadToolbar(za),!0)}catch{return!1}}Ji(Na){var ja=v.ph_load_toolbar||v.ph_load_editor;!A(ja)&&I(ja)?ja(Na,this.instance):Ds.warn("No toolbar load function found")}loadToolbar(Na){var ja=!(o==null||!o.getElementById(Ii));if(!t||ja)return!1;var Ba=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,za=g({token:this.instance.config.token},Na,{apiURL:this.instance.requestRouter.endpointFor("ui")},Ba?{instrument:!1}:{});if(t.localStorage.setItem(As,JSON.stringify(g({},za,{source:void 0}))),this.Vi()===js.LOADED)this.Ji(za);else if(this.Vi()===js.UNINITIALIZED){var Ga;this.Gi(js.LOADING),(Ga=v.__PosthogExtensions__)==null||Ga.loadExternalDependency==null||Ga.loadExternalDependency(this.instance,"toolbar",(Ha=>{if(Ha)return Ds.error("[Toolbar] Failed to load",Ha),void this.Gi(js.UNINITIALIZED);this.Gi(js.LOADED),this.Ji(za)})),Bt(t,"turbolinks:load",(()=>{this.Gi(js.UNINITIALIZED),this.loadToolbar(za)}))}return!0}Ki(Na){return this.loadToolbar(Na)}maybeLoadEditor(Na,ja,Ba){return Na===void 0&&(Na=void 0),ja===void 0&&(ja=void 0),Ba===void 0&&(Ba=void 0),this.maybeLoadToolbar(Na,ja,Ba)}}var Ns=Et("[TracingHeaders]");class Us{constructor(Na){this.Yi=void 0,this.Xi=void 0,this.lt=()=>{var ja,Ba;C(this.Yi)&&((ja=v.__PosthogExtensions__)==null||(ja=ja.tracingHeadersPatchFns)==null||ja._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),C(this.Xi)&&((Ba=v.__PosthogExtensions__)==null||(Ba=Ba.tracingHeadersPatchFns)==null||Ba._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=Na}nt(Na){var ja,Ba;(ja=v.__PosthogExtensions__)!=null&&ja.tracingHeadersPatchFns&&Na(),(Ba=v.__PosthogExtensions__)==null||Ba.loadExternalDependency==null||Ba.loadExternalDependency(this._instance,"tracing-headers",(za=>{if(za)return Ns.error("failed to load script",za);Na()}))}startIfEnabledOrStop(){var Na,ja;this._instance.config.__add_tracing_headers?this.nt(this.lt):((Na=this.Yi)==null||Na.call(this),(ja=this.Xi)==null||ja.call(this),this.Yi=void 0,this.Xi=void 0)}}var zs=Et("[Web Vitals]"),Bs=9e5;class qs{constructor(Na){var ja;this.Qi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Zi=()=>{clearTimeout(this.te),this.H.metrics.length!==0&&(this._instance.capture("$web_vitals",this.H.metrics.reduce(((Ba,za)=>g({},Ba,{["$web_vitals_"+za.name+"_event"]:g({},za),["$web_vitals_"+za.name+"_value"]:za.value})),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.ie=Ba=>{var za,Ga=(za=this._instance.sessionManager)==null?void 0:za.checkAndGetSessionAndWindowId(!0);if(C(Ga))zs.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var Ha=this.ee();C(Ha)||(A(Ba?.name)||A(Ba?.value)?zs.error("Invalid metric received",Ba):this.re&&Ba.value>=this.re?zs.error("Ignoring metric with value >= "+this.re,Ba):(this.H.url!==Ha&&(this.Zi(),this.te=setTimeout(this.Zi,this.flushToCaptureTimeoutMs)),C(this.H.url)&&(this.H.url=Ha),this.H.firstMetricTimestamp=C(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,Ba.attribution&&Ba.attribution.interactionTargetElement&&(Ba.attribution.interactionTargetElement=void 0),this.H.metrics.push(g({},Ba,{$current_url:Ha,$session_id:Ga.sessionId,$window_id:Ga.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Zi()))}},this.lt=()=>{var Ba,za,Ga,Ha,Ya=v.__PosthogExtensions__;C(Ya)||C(Ya.postHogWebVitalsCallbacks)||({onLCP:Ba,onCLS:za,onFCP:Ga,onINP:Ha}=Ya.postHogWebVitalsCallbacks),Ba&&za&&Ga&&Ha?(this.allowedMetrics.indexOf("LCP")>-1&&Ba(this.ie.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&za(this.ie.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&Ga(this.ie.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&Ha(this.ie.bind(this)),this.C=!0):zs.error("web vitals callbacks not loaded - not starting")},this._instance=Na,this.Qi=!((ja=this._instance.persistence)==null||!ja.props[Xt]),this.startIfEnabled()}get allowedMetrics(){var Na,ja,Ba=P$1(this._instance.config.capture_performance)?(Na=this._instance.config.capture_performance)==null?void 0:Na.web_vitals_allowed_metrics:void 0;return C(Ba)?((ja=this._instance.persistence)==null?void 0:ja.props[Zt])||["CLS","FCP","INP","LCP"]:Ba}get flushToCaptureTimeoutMs(){return(P$1(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get re(){var Na=P$1(this._instance.config.capture_performance)&&D$2(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Bs;return 0<Na&&Na<=6e4?Bs:Na}get isEnabled(){var Na=a?.protocol;if(Na!=="http:"&&Na!=="https:")return zs.info("Web Vitals are disabled on non-http/https protocols"),!1;var ja=P$1(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:j(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return j(ja)?ja:this.Qi}startIfEnabled(){this.isEnabled&&!this.C&&(zs.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(Na){var ja=P$1(Na.capturePerformance)&&!!Na.capturePerformance.web_vitals,Ba=P$1(Na.capturePerformance)?Na.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Xt]:ja}),this._instance.persistence.register({[Zt]:Ba})),this.Qi=ja,this.startIfEnabled()}nt(Na){var ja,Ba;(ja=v.__PosthogExtensions__)!=null&&ja.postHogWebVitalsCallbacks&&Na(),(Ba=v.__PosthogExtensions__)==null||Ba.loadExternalDependency==null||Ba.loadExternalDependency(this._instance,"web-vitals",(za=>{za?zs.error("failed to load script",za):Na()}))}ee(){var Na=t?t.location.href:void 0;return Na||zs.error("Could not determine current URL"),Na}}var Hs=Et("[Heatmaps]");function Ws(La){return P$1(La)&&"clientX"in La&&"clientY"in La&&D$2(La.clientX)&&D$2(La.clientY)}class Gs{constructor(Na){var ja;this.rageclicks=new ue$1,this.Qi=!1,this.C=!1,this.se=null,this.instance=Na,this.Qi=!((ja=this.instance.persistence)==null||!ja.props[Vt])}get flushIntervalMilliseconds(){var Na=5e3;return P$1(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(Na=this.instance.config.capture_heatmaps.flush_interval_milliseconds),Na}get isEnabled(){return C(this.instance.config.capture_heatmaps)?C(this.instance.config.enable_heatmaps)?this.Qi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.C)return;Hs.info("starting..."),this.ne(),this.se=setInterval(this.oe.bind(this),this.flushIntervalMilliseconds)}else{var Na,ja;clearInterval((Na=this.se)!==null&&Na!==void 0?Na:void 0),(ja=this.ae)==null||ja.stop(),this.getAndClearBuffer()}}onRemoteConfig(Na){var ja=!!Na.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Vt]:ja}),this.Qi=ja,this.startIfEnabled()}getAndClearBuffer(){var Na=this.H;return this.H=void 0,Na}le(Na){this.ue(Na.originalEvent,"deadclick")}ne(){t&&o&&(Bt(t,"beforeunload",this.oe.bind(this)),Bt(o,"click",(Na=>this.ue(Na||t?.event)),{capture:!0}),Bt(o,"mousemove",(Na=>this.he(Na||t?.event)),{capture:!0}),this.ae=new Ye(this.instance,Je,this.le.bind(this)),this.ae.startIfEnabled(),this.C=!0)}de(Na,ja){var Ba=this.instance.scrollManager.scrollY(),za=this.instance.scrollManager.scrollX(),Ga=this.instance.scrollManager.scrollElement(),Ha=(function(Ya,Xa,Ka){for(var Qa=Ya;Qa&&Mi(Qa)&&!Oi(Qa,"body");){if(Qa===Ka)return!1;if(y(Xa,t?.getComputedStyle(Qa).position))return!0;Qa=Hi(Qa)}return!1})(zi(Na),["fixed","sticky"],Ga);return{x:Na.clientX+(Ha?0:za),y:Na.clientY+(Ha?0:Ba),target_fixed:Ha,type:ja}}ue(Na,ja){var Ba;if(ja===void 0&&(ja="click"),!Ci(Na.target)&&Ws(Na)){var za=this.de(Na,ja);(Ba=this.rageclicks)!=null&&Ba.isRageClick(Na.clientX,Na.clientY,new Date().getTime())&&this.ve(g({},za,{type:"rageclick"})),this.ve(za)}}he(Na){!Ci(Na.target)&&Ws(Na)&&(clearTimeout(this.ce),this.ce=setTimeout((()=>{this.ve(this.de(Na,"mousemove"))}),500))}ve(Na){if(t){var ja=t.location.href;this.H=this.H||{},this.H[ja]||(this.H[ja]=[]),this.H[ja].push(Na)}}oe(){this.H&&!T$2(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Vs{constructor(Na){this._instance=Na}doPageView(Na,ja){var Ba,za=this.fe(Na,ja);return this.pe={pathname:(Ba=t?.location.pathname)!==null&&Ba!==void 0?Ba:"",pageViewId:ja,timestamp:Na},this._instance.scrollManager.resetContext(),za}doPageLeave(Na){var ja;return this.fe(Na,(ja=this.pe)==null?void 0:ja.pageViewId)}doEvent(){var Na;return{$pageview_id:(Na=this.pe)==null?void 0:Na.pageViewId}}fe(Na,ja){var Ba=this.pe;if(!Ba)return{$pageview_id:ja};var za={$pageview_id:ja,$prev_pageview_id:Ba.pageViewId},Ga=this._instance.scrollManager.getContext();if(Ga&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:Ha,lastScrollY:Ya,maxScrollY:Xa,maxContentHeight:Ka,lastContentY:Qa,maxContentY:Va}=Ga;if(!(C(Ha)||C(Ya)||C(Xa)||C(Ka)||C(Qa)||C(Va))){Ha=Math.ceil(Ha),Ya=Math.ceil(Ya),Xa=Math.ceil(Xa),Ka=Math.ceil(Ka),Qa=Math.ceil(Qa),Va=Math.ceil(Va);var Ua=Ha<=1?1:G$1(Ya/Ha,0,1,xt),Wa=Ha<=1?1:G$1(Xa/Ha,0,1,xt),Ja=Ka<=1?1:G$1(Qa/Ka,0,1,xt),Oo=Ka<=1?1:G$1(Va/Ka,0,1,xt);za=Mt(za,{$prev_pageview_last_scroll:Ya,$prev_pageview_last_scroll_percentage:Ua,$prev_pageview_max_scroll:Xa,$prev_pageview_max_scroll_percentage:Wa,$prev_pageview_last_content:Qa,$prev_pageview_last_content_percentage:Ja,$prev_pageview_max_content:Va,$prev_pageview_max_content_percentage:Oo})}}return Ba.pathname&&(za.$prev_pageview_pathname=Ba.pathname),Ba.timestamp&&(za.$prev_pageview_duration=(Na.getTime()-Ba.timestamp.getTime())/1e3),za}}var Js=function(La){var Na,ja,Ba,za,Ga="";for(Na=ja=0,Ba=(La=(La+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,za=0;za<Ba;za++){var Ha=La.charCodeAt(za),Ya=null;Ha<128?ja++:Ya=Ha>127&&Ha<2048?String.fromCharCode(Ha>>6|192,63&Ha|128):String.fromCharCode(Ha>>12|224,Ha>>6&63|128,63&Ha|128),F(Ya)||(ja>Na&&(Ga+=La.substring(Na,ja)),Ga+=Ya,Na=ja=za+1)}return ja>Na&&(Ga+=La.substring(Na,La.length)),Ga},Ks=!!u$1||!!l,Ys="text/plain",Xs=(La,Na)=>{var[ja,Ba]=La.split("?"),za=g({},Na);Ba?.split("&").forEach((Ha=>{var[Ya]=Ha.split("=");delete za[Ya]}));var Ga=pe$1(za);return ja+"?"+(Ga=Ga?(Ba?Ba+"&":"")+Ga:Ba)},Qs=(La,Na)=>JSON.stringify(La,((ja,Ba)=>typeof Ba=="bigint"?Ba.toString():Ba),Na),Zs=La=>{var{data:Na,compression:ja}=La;if(Na){if(ja===de$1.GZipJS){var Ba=Xr(Qr(Qs(Na)),{mtime:0}),za=new Blob([Ba],{type:Ys});return{contentType:Ys,body:za,estimatedSize:za.size}}if(ja===de$1.Base64){var Ga=(function(Xa){var Ka,Qa,Va,Ua,Wa,Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Oo=0,Do=0,Mo="",el=[];if(!Xa)return Xa;Xa=Js(Xa);do Ka=(Wa=Xa.charCodeAt(Oo++)<<16|Xa.charCodeAt(Oo++)<<8|Xa.charCodeAt(Oo++))>>18&63,Qa=Wa>>12&63,Va=Wa>>6&63,Ua=63&Wa,el[Do++]=Ja.charAt(Ka)+Ja.charAt(Qa)+Ja.charAt(Va)+Ja.charAt(Ua);while(Oo<Xa.length);switch(Mo=el.join(""),Xa.length%3){case 1:Mo=Mo.slice(0,-2)+"==";break;case 2:Mo=Mo.slice(0,-1)+"="}return Mo})(Qs(Na)),Ha=(Xa=>"data="+encodeURIComponent(typeof Xa=="string"?Xa:Qs(Xa)))(Ga);return{contentType:"application/x-www-form-urlencoded",body:Ha,estimatedSize:new Blob([Ha]).size}}var Ya=Qs(Na);return{contentType:"application/json",body:Ya,estimatedSize:new Blob([Ya]).size}}},tn=[];l&&tn.push({transport:"fetch",method:La=>{var Na,ja,{contentType:Ba,body:za,estimatedSize:Ga}=(Na=Zs(La))!==null&&Na!==void 0?Na:{},Ha=new Headers;Ct(La.headers,(function(Qa,Va){Ha.append(Va,Qa)})),Ba&&Ha.append("Content-Type",Ba);var Ya=La.url,Xa=null;if(h$1){var Ka=new h$1;Xa={signal:Ka.signal,timeout:setTimeout((()=>Ka.abort()),La.timeout)}}l(Ya,g({method:La?.method||"GET",headers:Ha,keepalive:La.method==="POST"&&(Ga||0)<52428.8,body:za,signal:(ja=Xa)==null?void 0:ja.signal},La.fetchOptions)).then((Qa=>Qa.text().then((Va=>{var Ua={statusCode:Qa.status,text:Va};if(Qa.status===200)try{Ua.json=JSON.parse(Va)}catch(Wa){xt.error(Wa)}La.callback==null||La.callback(Ua)})))).catch((Qa=>{xt.error(Qa),La.callback==null||La.callback({statusCode:0,text:Qa})})).finally((()=>Xa?clearTimeout(Xa.timeout):null))}}),u$1&&tn.push({transport:"XHR",method:La=>{var Na,ja=new u$1;ja.open(La.method||"GET",La.url,!0);var{contentType:Ba,body:za}=(Na=Zs(La))!==null&&Na!==void 0?Na:{};Ct(La.headers,(function(Ga,Ha){ja.setRequestHeader(Ha,Ga)})),Ba&&ja.setRequestHeader("Content-Type",Ba),La.timeout&&(ja.timeout=La.timeout),La.disableXHRCredentials||(ja.withCredentials=!0),ja.onreadystatechange=()=>{if(ja.readyState===4){var Ga={statusCode:ja.status,text:ja.responseText};if(ja.status===200)try{Ga.json=JSON.parse(ja.responseText)}catch{}La.callback==null||La.callback(Ga)}},ja.send(za)}}),n!=null&&n.sendBeacon&&tn.push({transport:"sendBeacon",method:La=>{var Na=Xs(La.url,{beacon:"1"});try{var ja,{contentType:Ba,body:za}=(ja=Zs(La))!==null&&ja!==void 0?ja:{},Ga=typeof za=="string"?new Blob([za],{type:Ba}):za;n.sendBeacon(Na,Ga)}catch{}}});var en=function(La,Na){if(!(function(ja){try{new RegExp(ja)}catch{return!1}return!0})(Na))return!1;try{return new RegExp(Na).test(La)}catch{return!1}};function rn(La,Na,ja){return Qs({distinct_id:La,userPropertiesToSet:Na,userPropertiesToSetOnce:ja})}var sn={exact:(La,Na)=>Na.some((ja=>La.some((Ba=>ja===Ba)))),is_not:(La,Na)=>Na.every((ja=>La.every((Ba=>ja!==Ba)))),regex:(La,Na)=>Na.some((ja=>La.some((Ba=>en(ja,Ba))))),not_regex:(La,Na)=>Na.every((ja=>La.every((Ba=>!en(ja,Ba))))),icontains:(La,Na)=>Na.map(nn).some((ja=>La.map(nn).some((Ba=>ja.includes(Ba))))),not_icontains:(La,Na)=>Na.map(nn).every((ja=>La.map(nn).every((Ba=>!ja.includes(Ba)))))},nn=La=>La.toLowerCase(),on=Et("[Error tracking]");class an{constructor(Na){var ja,Ba;this.ge=[],this._e=new vt([new ct,new kt,new pt,new ft,new wt,new bt,new _t,new St],[nt,lt]),this._instance=Na,this.ge=(ja=(Ba=this._instance.persistence)==null?void 0:Ba.get_property(Kt))!==null&&ja!==void 0?ja:[]}onRemoteConfig(Na){var ja,Ba,za,Ga=(ja=(Ba=Na.errorTracking)==null?void 0:Ba.suppressionRules)!==null&&ja!==void 0?ja:[],Ha=(za=Na.errorTracking)==null?void 0:za.captureExtensionExceptions;this.ge=Ga,this._instance.persistence&&this._instance.persistence.register({[Kt]:this.ge,[Yt]:Ha})}get me(){var Na,ja=!!this._instance.get_property(Yt),Ba=this._instance.config.error_tracking.captureExtensionExceptions;return(Na=Ba??ja)!==null&&Na!==void 0&&Na}buildProperties(Na,ja){return this._e.buildFromUnknown(Na,{syntheticException:ja?.syntheticException,mechanism:{handled:ja?.handled}})}sendExceptionEvent(Na){if(this.ye(Na))on.info("Skipping exception capture because a suppression rule matched");else{if(this.me||!this.be(Na))return this._instance.capture("$exception",Na,{_noTruncate:!0,_batchKey:"exceptionEvent"});on.info("Skipping exception capture because it was thrown by an extension")}}ye(Na){var ja=Na.$exception_list;if(!ja||!R(ja)||ja.length===0)return!1;var Ba=ja.reduce(((za,Ga)=>{var{type:Ha,value:Ya}=Ga;return M(Ha)&&Ha.length>0&&za.$exception_types.push(Ha),M(Ya)&&Ya.length>0&&za.$exception_values.push(Ya),za}),{$exception_types:[],$exception_values:[]});return this.ge.some((za=>{var Ga=za.values.map((Ha=>{var Ya,Xa=sn[Ha.operator],Ka=R(Ha.value)?Ha.value:[Ha.value],Qa=(Ya=Ba[Ha.key])!==null&&Ya!==void 0?Ya:[];return Ka.length>0&&Xa(Ka,Qa)}));return za.type==="OR"?Ga.some(Boolean):Ga.every(Boolean)}))}be(Na){var ja=Na.$exception_list;return!(!ja||!R(ja))&&ja.flatMap((Ba=>{var za,Ga;return(za=(Ga=Ba.stacktrace)==null?void 0:Ga.frames)!==null&&za!==void 0?za:[]})).some((Ba=>Ba.filename&&Ba.filename.startsWith("chrome-extension://")))}}var ln="Mobile",un="iOS",hn="Android",dn="Tablet",vn=hn+" "+dn,cn$1="iPad",fn="Apple",pn=fn+" Watch",gn="Safari",_n="BlackBerry",mn="Samsung",yn=mn+"Browser",bn=mn+" Internet",wn="Chrome",Sn=wn+" OS",kn=wn+" "+un,$n="Internet Explorer",xn=$n+" "+ln,En="Opera",Rn=En+" Mini",In="Edge",Pn="Microsoft "+In,Tn="Firefox",Cn=Tn+" "+un,Mn="Nintendo",On="PlayStation",Fn="Xbox",An=hn+" "+ln,Dn=ln+" "+gn,jn="Windows",Ln=jn+" Phone",Nn="Nokia",Un="Ouya",zn="Generic",Bn=zn+" "+ln.toLowerCase(),qn=zn+" "+dn.toLowerCase(),Hn="Konqueror",Wn="(\\d+(\\.\\d+)?)",Gn=new RegExp("Version/"+Wn),Vn=new RegExp(Fn,"i"),Jn=new RegExp(On+" \\w+","i"),Kn=new RegExp(Mn+" \\w+","i"),Yn=new RegExp(_n+"|PlayBook|BB10","i"),Xn={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Qn=(La,Na)=>Na&&y(Na,fn)||(function(ja){return y(ja,gn)&&!y(ja,wn)&&!y(ja,hn)})(La),Zn=function(La,Na){return Na=Na||"",y(La," OPR/")&&y(La,"Mini")?Rn:y(La," OPR/")?En:Yn.test(La)?_n:y(La,"IE"+ln)||y(La,"WPDesktop")?xn:y(La,yn)?bn:y(La,In)||y(La,"Edg/")?Pn:y(La,"FBIOS")?"Facebook "+ln:y(La,"UCWEB")||y(La,"UCBrowser")?"UC Browser":y(La,"CriOS")?kn:y(La,"CrMo")||y(La,wn)?wn:y(La,hn)&&y(La,gn)?An:y(La,"FxiOS")?Cn:y(La.toLowerCase(),Hn.toLowerCase())?Hn:Qn(La,Na)?y(La,ln)?Dn:gn:y(La,Tn)?Tn:y(La,"MSIE")||y(La,"Trident/")?$n:y(La,"Gecko")?Tn:""},to={[xn]:[new RegExp("rv:"+Wn)],[Pn]:[new RegExp(In+"?\\/"+Wn)],[wn]:[new RegExp("("+wn+"|CrMo)\\/"+Wn)],[kn]:[new RegExp("CriOS\\/"+Wn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Wn)],[gn]:[Gn],[Dn]:[Gn],[En]:[new RegExp("(Opera|OPR)\\/"+Wn)],[Tn]:[new RegExp(Tn+"\\/"+Wn)],[Cn]:[new RegExp("FxiOS\\/"+Wn)],[Hn]:[new RegExp("Konqueror[:/]?"+Wn,"i")],[_n]:[new RegExp(_n+" "+Wn),Gn],[An]:[new RegExp("android\\s"+Wn,"i")],[bn]:[new RegExp(yn+"\\/"+Wn)],[$n]:[new RegExp("(rv:|MSIE )"+Wn)],Mozilla:[new RegExp("rv:"+Wn)]},io=function(La,Na){var ja=Zn(La,Na),Ba=to[ja];if(C(Ba))return null;for(var za=0;za<Ba.length;za++){var Ga=Ba[za],Ha=La.match(Ga);if(Ha)return parseFloat(Ha[Ha.length-2])}return null},eo=[[new RegExp(Fn+"; "+Fn+" (.*?)[);]","i"),La=>[Fn,La&&La[1]||""]],[new RegExp(Mn,"i"),[Mn,""]],[new RegExp(On,"i"),[On,""]],[Yn,[_n,""]],[new RegExp(jn,"i"),(La,Na)=>{if(/Phone/.test(Na)||/WPDesktop/.test(Na))return[Ln,""];if(new RegExp(ln).test(Na)&&!/IEMobile\b/.test(Na))return[jn+" "+ln,""];var ja=/Windows NT ([0-9.]+)/i.exec(Na);if(ja&&ja[1]){var Ba=ja[1],za=Xn[Ba]||"";return/arm/i.test(Na)&&(za="RT"),[jn,za]}return[jn,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,La=>{if(La&&La[3]){var Na=[La[3],La[4],La[5]||"0"];return[un,Na.join(".")]}return[un,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,La=>{var Na="";return La&&La.length>=3&&(Na=C(La[2])?La[3]:La[2]),["watchOS",Na]}],[new RegExp("("+hn+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+hn+")","i"),La=>{if(La&&La[2]){var Na=[La[2],La[3],La[4]||"0"];return[hn,Na.join(".")]}return[hn,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,La=>{var Na=["Mac OS X",""];if(La&&La[1]){var ja=[La[1],La[2],La[3]||"0"];Na[1]=ja.join(".")}return Na}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Sn,""]],[/Linux|debian/i,["Linux",""]]],ro=function(La){return Kn.test(La)?Mn:Jn.test(La)?On:Vn.test(La)?Fn:new RegExp(Un,"i").test(La)?Un:new RegExp("("+Ln+"|WPDesktop)","i").test(La)?Ln:/iPad/.test(La)?cn$1:/iPod/.test(La)?"iPod Touch":/iPhone/.test(La)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(La)?pn:Yn.test(La)?_n:/(kobo)\s(ereader|touch)/i.test(La)?"Kobo":new RegExp(Nn,"i").test(La)?Nn:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(La)||/(kf[a-z]+)( bui|\)).+silk\//i.test(La)?"Kindle Fire":/(Android|ZTE)/i.test(La)?!new RegExp(ln).test(La)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(La)?/pixel[\daxl ]{1,6}/i.test(La)&&!/pixel c/i.test(La)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(La)||/lmy47v/i.test(La)&&!/QTAQZ3/i.test(La)?hn:vn:hn:new RegExp("(pda|"+ln+")","i").test(La)?Bn:new RegExp(dn,"i").test(La)&&!new RegExp(dn+" pc","i").test(La)?qn:""},so="https?://(.*)",no=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],oo=Ot(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],no),ao="<masked>",lo=["li_fat_id"];function uo(La,Na,ja){if(!o)return{};var Ba,za=Na?Ot([],no,ja||[]):[],Ga=ho(_e$1(o.URL,za,ao),La),Ha=(Ba={},Ct(lo,(function(Ya){var Xa=De$1.J(Ya);Ba[Ya]=Xa||null})),Ba);return Mt(Ha,Ga)}function ho(La,Na){var ja=oo.concat(Na||[]),Ba={};return Ct(ja,(function(za){var Ga=ge(La,za);Ba[za]=Ga||null})),Ba}function vo(La){var Na=(function(Ga){return Ga?Ga.search(so+"google.([^/?]*)")===0?"google":Ga.search(so+"bing.com")===0?"bing":Ga.search(so+"yahoo.com")===0?"yahoo":Ga.search(so+"duckduckgo.com")===0?"duckduckgo":null:null})(La),ja=Na!="yahoo"?"q":"p",Ba={};if(!F(Na)){Ba.$search_engine=Na;var za=o?ge(o.referrer,ja):"";za.length&&(Ba.ph_keyword=za)}return Ba}function co(){return navigator.language||navigator.userLanguage}function fo(){return o?.referrer||"$direct"}function po(La,Na){var ja=La?Ot([],no,Na||[]):[],Ba=a?.href.substring(0,1e3);return{r:fo().substring(0,1e3),u:Ba?_e$1(Ba,ja,ao):void 0}}function go(La){var Na,{r:ja,u:Ba}=La,za={$referrer:ja,$referring_domain:ja==null?void 0:ja=="$direct"?"$direct":(Na=fe$1(ja))==null?void 0:Na.host};if(Ba){za.$current_url=Ba;var Ga=fe$1(Ba);za.$host=Ga?.host,za.$pathname=Ga?.pathname;var Ha=ho(Ba);Mt(za,Ha)}if(ja){var Ya=vo(ja);Mt(za,Ya)}return za}function _o(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function mo(){try{return new Date().getTimezoneOffset()}catch{return}}function yo(La,Na){if(!d)return{};var ja,Ba,za,Ga=La?Ot([],no,Na||[]):[],[Ha,Ya]=(function(Xa){for(var Ka=0;Ka<eo.length;Ka++){var[Qa,Va]=eo[Ka],Ua=Qa.exec(Xa),Wa=Ua&&(I(Va)?Va(Ua,Xa):Va);if(Wa)return Wa}return["",""]})(d);return Mt(jt({$os:Ha,$os_version:Ya,$browser:Zn(d,navigator.vendor),$device:ro(d),$device_type:(Ba=d,za=ro(Ba),za===cn$1||za===vn||za==="Kobo"||za==="Kindle Fire"||za===qn?dn:za===Mn||za===Fn||za===On||za===Un?"Console":za===pn?"Wearable":za?ln:"Desktop"),$timezone:_o(),$timezone_offset:mo()}),{$current_url:_e$1(a?.href,Ga,ao),$host:a?.host,$pathname:a?.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+"...":d,$browser_version:io(d,navigator.vendor),$browser_language:co(),$browser_language_prefix:(ja=co(),typeof ja=="string"?ja.split("-")[0]:void 0),$screen_height:t?.screen.height,$screen_width:t?.screen.width,$viewport_height:t?.innerHeight,$viewport_width:t?.innerWidth,$lib:"web",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var bo=Et("[FeatureFlags]"),wo="$active_feature_flags",So="$override_feature_flags",ko="$feature_flag_payloads",$o="$override_feature_flag_payloads",xo="$feature_flag_request_id",Eo=La=>{var Na={};for(var[ja,Ba]of Ft(La||{}))Ba&&(Na[ja]=Ba);return Na},Ro=La=>{var Na=La.flags;return Na?(La.featureFlags=Object.fromEntries(Object.keys(Na).map((ja=>{var Ba;return[ja,(Ba=Na[ja].variant)!==null&&Ba!==void 0?Ba:Na[ja].enabled]}))),La.featureFlagPayloads=Object.fromEntries(Object.keys(Na).filter((ja=>Na[ja].enabled)).filter((ja=>{var Ba;return(Ba=Na[ja].metadata)==null?void 0:Ba.payload})).map((ja=>{var Ba;return[ja,(Ba=Na[ja].metadata)==null?void 0:Ba.payload]})))):bo.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),La},Io=(function(La){return La.FeatureFlags="feature_flags",La.Recordings="recordings",La})({});class Po{constructor(Na){this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.Re=!1,this._instance=Na,this.featureFlagEventHandlers=[]}Ie(){var Na=this._instance.config.evaluation_environments;return Na!=null&&Na.length?Na.filter((ja=>{var Ba=ja&&typeof ja=="string"&&ja.trim().length>0;return Ba||bo.error("Invalid evaluation environment found:",ja,"Expected non-empty string"),Ba})):[]}Pe(){return this.Ie().length>0}flags(){if(this._instance.config.__preview_remote_config)this.Ee=!0;else{var Na=!this.Te&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ce({disableFlags:Na})}}get hasLoadedFlags(){return this.Se}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var Na=this._instance.get_property(pi),ja=this._instance.get_property(So),Ba=this._instance.get_property($o);if(!Ba&&!ja)return Na||{};var za=Mt({},Na||{}),Ga=[...new Set([...Object.keys(Ba||{}),...Object.keys(ja||{})])];for(var Ha of Ga){var Ya,Xa,Ka=za[Ha],Qa=ja?.[Ha],Va=C(Qa)?(Ya=Ka?.enabled)!==null&&Ya!==void 0&&Ya:!!Qa,Ua=C(Qa)?Ka.variant:typeof Qa=="string"?Qa:void 0,Wa=Ba?.[Ha],Ja=g({},Ka,{enabled:Va,variant:Va?Ua??Ka?.variant:void 0});Va!==Ka?.enabled&&(Ja.original_enabled=Ka?.enabled),Ua!==Ka?.variant&&(Ja.original_variant=Ka?.variant),Wa&&(Ja.metadata=g({},Ka?.metadata,{payload:Wa,original_payload:Ka==null||(Xa=Ka.metadata)==null?void 0:Xa.payload})),za[Ha]=Ja}return this.we||(bo.warn(" Overriding feature flag details!",{flagDetails:Na,overriddenPayloads:Ba,finalDetails:za}),this.we=!0),za}getFlagVariants(){var Na=this._instance.get_property(ci),ja=this._instance.get_property(So);if(!ja)return Na||{};for(var Ba=Mt({},Na),za=Object.keys(ja),Ga=0;Ga<za.length;Ga++)Ba[za[Ga]]=ja[za[Ga]];return this.we||(bo.warn(" Overriding feature flags!",{enabledFlags:Na,overriddenFlags:ja,finalFlags:Ba}),this.we=!0),Ba}getFlagPayloads(){var Na=this._instance.get_property(ko),ja=this._instance.get_property($o);if(!ja)return Na||{};for(var Ba=Mt({},Na||{}),za=Object.keys(ja),Ga=0;Ga<za.length;Ga++)Ba[za[Ga]]=ja[za[Ga]];return this.we||(bo.warn(" Overriding feature flag payloads!",{flagPayloads:Na,overriddenPayloads:ja,finalPayloads:Ba}),this.we=!0),Ba}reloadFeatureFlags(){this.$e||this._instance.config.advanced_disable_feature_flags||this.Te||(this.Te=setTimeout((()=>{this.Ce()}),5))}Me(){clearTimeout(this.Te),this.Te=void 0}ensureFlagsLoaded(){this.Se||this.ke||this.Te||this.reloadFeatureFlags()}setAnonymousDistinctId(Na){this.$anon_distinct_id=Na}setReloadingPaused(Na){this.$e=Na}Ce(Na){var ja;if(this.Me(),!this._instance.L())if(this.ke)this.xe=!0;else{var Ba={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},((ja=this._instance.persistence)==null?void 0:ja.get_initial_props())||{},this._instance.get_property(gi)||{}),group_properties:this._instance.get_property(_i$1)};(Na!=null&&Na.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(Ba.disable_flags=!0),this.Pe()&&(Ba.evaluation_environments=this.Ie());var za=this._instance.config.__preview_remote_config,Ga=za?"/flags/?v=2":"/flags/?v=2&config=true",Ha=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",Ya=this._instance.requestRouter.endpointFor("api",Ga+Ha);za&&(Ba.timezone=_o()),this.ke=!0,this._instance.Oe({method:"POST",url:Ya,data:Ba,compression:this._instance.config.disable_compression?void 0:de$1.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:Xa=>{var Ka,Qa,Va=!0;if(Xa.statusCode===200&&(this.xe||(this.$anon_distinct_id=void 0),Va=!1),this.ke=!1,this.Ee||(this.Ee=!0,this._instance.Fe((Qa=Xa.json)!==null&&Qa!==void 0?Qa:{})),!Ba.disable_flags||this.xe)if(this.Re=!Va,Xa.json&&(Ka=Xa.json.quotaLimited)!=null&&Ka.includes(Io.FeatureFlags))bo.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var Ua;Ba.disable_flags||this.receivedFeatureFlags((Ua=Xa.json)!==null&&Ua!==void 0?Ua:{},Va),this.xe&&(this.xe=!1,this.Ce())}}})}}getFeatureFlag(Na,ja){if(ja===void 0&&(ja={}),this.Se||this.getFlags()&&this.getFlags().length>0){var Ba=this.getFlagVariants()[Na],za=""+Ba,Ga=this._instance.get_property(xo)||void 0,Ha=this._instance.get_property(bi)||{};if((ja.send_event||!("send_event"in ja))&&(!(Na in Ha)||!Ha[Na].includes(za))){var Ya,Xa,Ka,Qa,Va,Ua,Wa,Ja,Oo;R(Ha[Na])?Ha[Na].push(za):Ha[Na]=[za],(Ya=this._instance.persistence)==null||Ya.register({[bi]:Ha});var Do=this.getFeatureFlagDetails(Na),Mo={$feature_flag:Na,$feature_flag_response:Ba,$feature_flag_payload:this.getFeatureFlagPayload(Na)||null,$feature_flag_request_id:Ga,$feature_flag_bootstrapped_response:((Xa=this._instance.config.bootstrap)==null||(Xa=Xa.featureFlags)==null?void 0:Xa[Na])||null,$feature_flag_bootstrapped_payload:((Ka=this._instance.config.bootstrap)==null||(Ka=Ka.featureFlagPayloads)==null?void 0:Ka[Na])||null,$used_bootstrap_value:!this.Re};C(Do==null||(Qa=Do.metadata)==null?void 0:Qa.version)||(Mo.$feature_flag_version=Do.metadata.version);var el,tl=(Va=Do==null||(Ua=Do.reason)==null?void 0:Ua.description)!==null&&Va!==void 0?Va:Do==null||(Wa=Do.reason)==null?void 0:Wa.code;tl&&(Mo.$feature_flag_reason=tl),Do!=null&&(Ja=Do.metadata)!=null&&Ja.id&&(Mo.$feature_flag_id=Do.metadata.id),C(Do?.original_variant)&&C(Do?.original_enabled)||(Mo.$feature_flag_original_response=C(Do.original_variant)?Do.original_enabled:Do.original_variant),Do!=null&&(Oo=Do.metadata)!=null&&Oo.original_payload&&(Mo.$feature_flag_original_payload=Do==null||(el=Do.metadata)==null?void 0:el.original_payload),this._instance.capture("$feature_flag_called",Mo)}return Ba}bo.warn('getFeatureFlag for key "'+Na+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(Na){return this.getFlagsWithDetails()[Na]}getFeatureFlagPayload(Na){return this.getFlagPayloads()[Na]}getRemoteConfigPayload(Na,ja){var Ba=this._instance.config.token,za={distinct_id:this._instance.get_distinct_id(),token:Ba};this.Pe()&&(za.evaluation_environments=this.Ie()),this._instance.Oe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:za,compression:this._instance.config.disable_compression?void 0:de$1.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:Ga=>{var Ha,Ya=(Ha=Ga.json)==null?void 0:Ha.featureFlagPayloads;ja(Ya?.[Na]||void 0)}})}isFeatureEnabled(Na,ja){if(ja===void 0&&(ja={}),this.Se||this.getFlags()&&this.getFlags().length>0){var Ba=this.getFeatureFlag(Na,ja);return C(Ba)?void 0:!!Ba}bo.warn('isFeatureEnabled for key "'+Na+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(Na){this.featureFlagEventHandlers.push(Na)}removeFeatureFlagsHandler(Na){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((ja=>ja!==Na))}receivedFeatureFlags(Na,ja){if(this._instance.persistence){this.Se=!0;var Ba=this.getFlagVariants(),za=this.getFlagPayloads(),Ga=this.getFlagsWithDetails();(function(Ha,Ya,Xa,Ka,Qa){Xa===void 0&&(Xa={}),Ka===void 0&&(Ka={}),Qa===void 0&&(Qa={});var Va=Ro(Ha),Ua=Va.flags,Wa=Va.featureFlags,Ja=Va.featureFlagPayloads;if(Wa){var Oo=Ha.requestId;if(R(Wa)){bo.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var Do={};if(Wa)for(var Mo=0;Mo<Wa.length;Mo++)Do[Wa[Mo]]=!0;Ya&&Ya.register({[wo]:Wa,[ci]:Do})}else{var el=Wa,tl=Ja,rl=Ua;Ha.errorsWhileComputingFlags&&(el=g({},Xa,el),tl=g({},Ka,tl),rl=g({},Qa,rl)),Ya&&Ya.register(g({[wo]:Object.keys(Eo(el)),[ci]:el||{},[ko]:tl||{},[pi]:rl||{}},Oo?{[xo]:Oo}:{}))}}})(Na,this._instance.persistence,Ba,za,Ga),this.Ae(ja)}}override(Na,ja){ja===void 0&&(ja=!1),bo.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:Na,suppressWarning:ja})}overrideFeatureFlags(Na){if(!this._instance.__loaded||!this._instance.persistence)return bo.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(Na===!1)return this._instance.persistence.unregister(So),this._instance.persistence.unregister($o),void this.Ae();if(Na&&typeof Na=="object"&&("flags"in Na||"payloads"in Na)){var ja,Ba=Na;if(this.we=!!((ja=Ba.suppressWarning)!==null&&ja!==void 0&&ja),"flags"in Ba){if(Ba.flags===!1)this._instance.persistence.unregister(So);else if(Ba.flags)if(R(Ba.flags)){for(var za={},Ga=0;Ga<Ba.flags.length;Ga++)za[Ba.flags[Ga]]=!0;this._instance.persistence.register({[So]:za})}else this._instance.persistence.register({[So]:Ba.flags})}return"payloads"in Ba&&(Ba.payloads===!1?this._instance.persistence.unregister($o):Ba.payloads&&this._instance.persistence.register({[$o]:Ba.payloads})),void this.Ae()}this.Ae()}onFeatureFlags(Na){if(this.addFeatureFlagsHandler(Na),this.Se){var{flags:ja,flagVariants:Ba}=this.De();Na(ja,Ba)}return()=>this.removeFeatureFlagsHandler(Na)}updateEarlyAccessFeatureEnrollment(Na,ja,Ba){var za,Ga=(this._instance.get_property(fi)||[]).find((Ka=>Ka.flagKey===Na)),Ha={["$feature_enrollment/"+Na]:ja},Ya={$feature_flag:Na,$feature_enrollment:ja,$set:Ha};Ga&&(Ya.$early_access_feature_name=Ga.name),Ba&&(Ya.$feature_enrollment_stage=Ba),this._instance.capture("$feature_enrollment_update",Ya),this.setPersonPropertiesForFlags(Ha,!1);var Xa=g({},this.getFlagVariants(),{[Na]:ja});(za=this._instance.persistence)==null||za.register({[wo]:Object.keys(Eo(Xa)),[ci]:Xa}),this.Ae()}getEarlyAccessFeatures(Na,ja,Ba){ja===void 0&&(ja=!1);var za=this._instance.get_property(fi),Ga=Ba?"&"+Ba.map((Ha=>"stage="+Ha)).join("&"):"";if(za&&!ja)return Na(za);this._instance.Oe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+Ga),method:"GET",callback:Ha=>{var Ya,Xa;if(Ha.json){var Ka=Ha.json.earlyAccessFeatures;return(Ya=this._instance.persistence)==null||Ya.unregister(fi),(Xa=this._instance.persistence)==null||Xa.register({[fi]:Ka}),Na(Ka)}}})}De(){var Na=this.getFlags(),ja=this.getFlagVariants();return{flags:Na.filter((Ba=>ja[Ba])),flagVariants:Object.keys(ja).filter((Ba=>ja[Ba])).reduce(((Ba,za)=>(Ba[za]=ja[za],Ba)),{})}}Ae(Na){var{flags:ja,flagVariants:Ba}=this.De();this.featureFlagEventHandlers.forEach((za=>za(ja,Ba,{errorsLoading:Na})))}setPersonPropertiesForFlags(Na,ja){ja===void 0&&(ja=!0);var Ba=this._instance.get_property(gi)||{};this._instance.register({[gi]:g({},Ba,Na)}),ja&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(gi)}setGroupPropertiesForFlags(Na,ja){ja===void 0&&(ja=!0);var Ba=this._instance.get_property(_i$1)||{};Object.keys(Ba).length!==0&&Object.keys(Ba).forEach((za=>{Ba[za]=g({},Ba[za],Na[za]),delete Na[za]})),this._instance.register({[_i$1]:g({},Ba,Na)}),ja&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(Na){if(Na){var ja=this._instance.get_property(_i$1)||{};this._instance.register({[_i$1]:g({},ja,{[Na]:{}})})}else this._instance.unregister(_i$1)}reset(){this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.Re=!1,this.$anon_distinct_id=void 0,this.Me(),this.we=!1}}var To=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Co{constructor(Na,ja){this.A=Na,this.props={},this.je=!1,this.Le=(Ba=>{var za="";return Ba.token&&(za=Ba.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),Ba.persistence_name?"ph_"+Ba.persistence_name:"ph_"+za+"_posthog"})(Na),this.it=this.Ne(Na),this.load(),Na.debug&&xt.info("Persistence loaded",Na.persistence,g({},this.props)),this.update_config(Na,Na,ja),this.save()}isDisabled(){return!!this.Ue}Ne(Na){To.indexOf(Na.persistence.toLowerCase())===-1&&(xt.critical("Unknown persistence type "+Na.persistence+"; falling back to localStorage+cookie"),Na.persistence="localStorage+cookie");var ja=Na.persistence.toLowerCase();return ja==="localstorage"&&Le.G()?Le:ja==="localstorage+cookie"&&Ue.G()?Ue:ja==="sessionstorage"&&He.G()?He:ja==="memory"?Be:ja==="cookie"?De$1:Ue.G()?Ue:De$1}properties(){var Na={};return Ct(this.props,(function(ja,Ba){if(Ba===ci&&P$1(ja))for(var za=Object.keys(ja),Ga=0;Ga<za.length;Ga++)Na["$feature/"+za[Ga]]=ja[za[Ga]];else Ya=Ba,Xa=!1,(F(Ha=Ti)?Xa:s$1&&Ha.indexOf===s$1?Ha.indexOf(Ya)!=-1:(Ct(Ha,(function(Ka){if(Xa||(Xa=Ka===Ya))return Pt})),Xa))||(Na[Ba]=ja);var Ha,Ya,Xa})),Na}load(){if(!this.Ue){var Na=this.it.K(this.Le);Na&&(this.props=Mt({},Na))}}save(){this.Ue||this.it.Y(this.Le,this.props,this.ze,this.Be,this.qe,this.A.debug)}remove(){this.it.X(this.Le,!1),this.it.X(this.Le,!0)}clear(){this.remove(),this.props={}}register_once(Na,ja,Ba){if(P$1(Na)){C(ja)&&(ja="None"),this.ze=C(Ba)?this.He:Ba;var za=!1;if(Ct(Na,((Ga,Ha)=>{this.props.hasOwnProperty(Ha)&&this.props[Ha]!==ja||(this.props[Ha]=Ga,za=!0)})),za)return this.save(),!0}return!1}register(Na,ja){if(P$1(Na)){this.ze=C(ja)?this.He:ja;var Ba=!1;if(Ct(Na,((za,Ga)=>{Na.hasOwnProperty(Ga)&&this.props[Ga]!==za&&(this.props[Ga]=za,Ba=!0)})),Ba)return this.save(),!0}return!1}unregister(Na){Na in this.props&&(delete this.props[Na],this.save())}update_campaign_params(){if(!this.je){var Na=uo(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);T$2(jt(Na))||this.register(Na),this.je=!0}}update_search_keyword(){var Na;this.register((Na=o?.referrer)?vo(Na):{})}update_referrer_info(){var Na;this.register_once({$referrer:fo(),$referring_domain:o!=null&&o.referrer&&((Na=fe$1(o.referrer))==null?void 0:Na.host)||"$direct"},void 0)}set_initial_person_info(){this.props[$i]||this.props[xi]||this.register_once({[Ei]:po(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var Na={};Ct([xi,$i],(Ha=>{var Ya=this.props[Ha];Ya&&Ct(Ya,(function(Xa,Ka){Na["$initial_"+w(Ka)]=Xa}))}));var ja,Ba,za=this.props[Ei];if(za){var Ga=(ja=go(za),Ba={},Ct(ja,(function(Ha,Ya){Ba["$initial_"+w(Ya)]=Ha})),Ba);Mt(Na,Ga)}return Na}safe_merge(Na){return Ct(this.props,(function(ja,Ba){Ba in Na||(Na[Ba]=ja)})),Na}update_config(Na,ja,Ba){if(this.He=this.ze=Na.cookie_expiration,this.set_disabled(Na.disable_persistence||!!Ba),this.set_cross_subdomain(Na.cross_subdomain_cookie),this.set_secure(Na.secure_cookie),Na.persistence!==ja.persistence){var za=this.Ne(Na),Ga=this.props;this.clear(),this.it=za,this.props=Ga,this.save()}}set_disabled(Na){this.Ue=Na,this.Ue?this.remove():this.save()}set_cross_subdomain(Na){Na!==this.Be&&(this.Be=Na,this.remove(),this.save())}set_secure(Na){Na!==this.qe&&(this.qe=Na,this.remove(),this.save())}set_event_timer(Na,ja){var Ba=this.props[Wt]||{};Ba[Na]=ja,this.props[Wt]=Ba,this.save()}remove_event_timer(Na){var ja=(this.props[Wt]||{})[Na];return C(ja)||(delete this.props[Wt][Na],this.save()),ja}get_property(Na){return this.props[Na]}set_property(Na,ja){this.props[Na]=ja,this.save()}}(function(La){return La.Button="button",La.Tab="tab",La.Selector="selector",La})({});(function(La){return La.TopLeft="top_left",La.TopRight="top_right",La.TopCenter="top_center",La.MiddleLeft="middle_left",La.MiddleRight="middle_right",La.MiddleCenter="middle_center",La.Left="left",La.Center="center",La.Right="right",La.NextToTrigger="next_to_trigger",La})({});var Fo=(function(La){return La.Popover="popover",La.API="api",La.Widget="widget",La.ExternalSurvey="external_survey",La})({});(function(La){return La.Open="open",La.MultipleChoice="multiple_choice",La.SingleChoice="single_choice",La.Rating="rating",La.Link="link",La})({});(function(La){return La.NextQuestion="next_question",La.End="end",La.ResponseBased="response_based",La.SpecificQuestion="specific_question",La})({});(function(La){return La.Once="once",La.Recurring="recurring",La.Always="always",La})({});var Lo=(function(La){return La.SHOWN="survey shown",La.DISMISSED="survey dismissed",La.SENT="survey sent",La})({}),No=(function(La){return La.SURVEY_ID="$survey_id",La.SURVEY_NAME="$survey_name",La.SURVEY_RESPONSE="$survey_response",La.SURVEY_ITERATION="$survey_iteration",La.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",La.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",La.SURVEY_SUBMISSION_ID="$survey_submission_id",La.SURVEY_QUESTIONS="$survey_questions",La.SURVEY_COMPLETED="$survey_completed",La})({}),Uo=(function(La){return La.Popover="popover",La.Inline="inline",La})({});class zo{constructor(){this.We={},this.We={}}on(Na,ja){return this.We[Na]||(this.We[Na]=[]),this.We[Na].push(ja),()=>{this.We[Na]=this.We[Na].filter((Ba=>Ba!==ja))}}emit(Na,ja){for(var Ba of this.We[Na]||[])Ba(ja);for(var za of this.We["*"]||[])za(Na,ja)}}class Bo{constructor(Na){this.Ge=new zo,this.Ve=(ja,Ba)=>this.Je(ja,Ba)&&this.Ke(ja,Ba)&&this.Ye(ja,Ba),this.Je=(ja,Ba)=>Ba==null||!Ba.event||ja?.event===Ba?.event,this._instance=Na,this.Xe=new Set,this.Qe=new Set}init(){var Na;if(!C((Na=this._instance)==null?void 0:Na.Ze)){var ja;(ja=this._instance)==null||ja.Ze(((Ba,za)=>{this.on(Ba,za)}))}}register(Na){var ja,Ba;if(!C((ja=this._instance)==null?void 0:ja.Ze)&&(Na.forEach((Ha=>{var Ya,Xa;(Ya=this.Qe)==null||Ya.add(Ha),(Xa=Ha.steps)==null||Xa.forEach((Ka=>{var Qa;(Qa=this.Xe)==null||Qa.add(Ka?.event||"")}))})),(Ba=this._instance)!=null&&Ba.autocapture)){var za,Ga=new Set;Na.forEach((Ha=>{var Ya;(Ya=Ha.steps)==null||Ya.forEach((Xa=>{Xa!=null&&Xa.selector&&Ga.add(Xa?.selector)}))})),(za=this._instance)==null||za.autocapture.setElementSelectors(Ga)}}on(Na,ja){var Ba;ja!=null&&Na.length!=0&&(this.Xe.has(Na)||this.Xe.has(ja?.event))&&this.Qe&&((Ba=this.Qe)==null?void 0:Ba.size)>0&&this.Qe.forEach((za=>{this.tr(ja,za)&&this.Ge.emit("actionCaptured",za.name)}))}ir(Na){this.onAction("actionCaptured",(ja=>Na(ja)))}tr(Na,ja){if(ja?.steps==null)return!1;for(var Ba of ja.steps)if(this.Ve(Na,Ba))return!0;return!1}onAction(Na,ja){return this.Ge.on(Na,ja)}Ke(Na,ja){if(ja!=null&&ja.url){var Ba,za=Na==null||(Ba=Na.properties)==null?void 0:Ba.$current_url;if(!za||typeof za!="string"||!Bo.er(za,ja?.url,ja?.url_matching||"contains"))return!1}return!0}static er(Na,ja,Ba){switch(Ba){case"regex":return!!t&&en(Na,ja);case"exact":return ja===Na;case"contains":var za=Bo.rr(ja).replace(/_/g,".").replace(/%/g,".*");return en(Na,za);default:return!1}}static rr(Na){return Na.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ye(Na,ja){if((ja!=null&&ja.href||ja!=null&&ja.tag_name||ja!=null&&ja.text)&&!this.sr(Na).some((Ga=>!(ja!=null&&ja.href&&!Bo.er(Ga.href||"",ja?.href,ja?.href_matching||"exact"))&&(ja==null||!ja.tag_name||Ga.tag_name===ja?.tag_name)&&!(ja!=null&&ja.text&&!Bo.er(Ga.text||"",ja?.text,ja?.text_matching||"exact")&&!Bo.er(Ga.$el_text||"",ja?.text,ja?.text_matching||"exact")))))return!1;if(ja!=null&&ja.selector){var Ba,za=Na==null||(Ba=Na.properties)==null?void 0:Ba.$element_selectors;if(!za||!za.includes(ja?.selector))return!1}return!0}sr(Na){return Na?.properties.$elements==null?[]:Na?.properties.$elements}}var qo=Et("[Surveys]"),Ho="seenSurvey_",Wo=(La,Na)=>{var ja="$survey_"+Na+"/"+La.id;return La.current_iteration&&La.current_iteration>0&&(ja="$survey_"+Na+"/"+La.id+"/"+La.current_iteration),ja},Go=La=>{var Na=""+Ho+La.id;return La.current_iteration&&La.current_iteration>0&&(Na=""+Ho+La.id+"_"+La.current_iteration),Na},Vo=[Fo.Popover,Fo.Widget,Fo.API],Jo={ignoreConditions:!1,ignoreDelay:!1,displayType:Uo.Popover};class Ko{constructor(Na){this._instance=Na,this.nr=new Map,this.ar=new Map}register(Na){var ja;C((ja=this._instance)==null?void 0:ja.Ze)||(this.lr(Na),this.ur(Na))}ur(Na){var ja=Na.filter((Ba=>{var za,Ga;return((za=Ba.conditions)==null?void 0:za.actions)&&((Ga=Ba.conditions)==null||(Ga=Ga.actions)==null||(Ga=Ga.values)==null?void 0:Ga.length)>0}));ja.length!==0&&(this.hr==null&&(this.hr=new Bo(this._instance),this.hr.init(),this.hr.ir((Ba=>{this.onAction(Ba)}))),ja.forEach((Ba=>{var za,Ga,Ha,Ya,Xa;Ba.conditions&&(za=Ba.conditions)!=null&&za.actions&&(Ga=Ba.conditions)!=null&&(Ga=Ga.actions)!=null&&Ga.values&&((Ha=Ba.conditions)==null||(Ha=Ha.actions)==null||(Ha=Ha.values)==null?void 0:Ha.length)>0&&((Ya=this.hr)==null||Ya.register(Ba.conditions.actions.values),(Xa=Ba.conditions)==null||(Xa=Xa.actions)==null||(Xa=Xa.values)==null||Xa.forEach((Ka=>{if(Ka&&Ka.name){var Qa=this.ar.get(Ka.name);Qa&&Qa.push(Ba.id),this.ar.set(Ka.name,Qa||[Ba.id])}})))})))}lr(Na){var ja;Na.filter((Ba=>{var za,Ga;return((za=Ba.conditions)==null?void 0:za.events)&&((Ga=Ba.conditions)==null||(Ga=Ga.events)==null||(Ga=Ga.values)==null?void 0:Ga.length)>0})).length!==0&&((ja=this._instance)==null||ja.Ze(((Ba,za)=>{this.onEvent(Ba,za)})),Na.forEach((Ba=>{var za;(za=Ba.conditions)==null||(za=za.events)==null||(za=za.values)==null||za.forEach((Ga=>{if(Ga&&Ga.name){var Ha=this.nr.get(Ga.name);Ha&&Ha.push(Ba.id),this.nr.set(Ga.name,Ha||[Ba.id])}}))})))}onEvent(Na,ja){var Ba,za,Ga=((Ba=this._instance)==null||(Ba=Ba.persistence)==null?void 0:Ba.props[yi])||[];if(Lo.SHOWN===Na&&ja&&Ga.length>0){var Ha;qo.info("survey event matched, removing survey from activated surveys",{event:Na,eventPayload:ja,existingActivatedSurveys:Ga});var Ya=ja==null||(Ha=ja.properties)==null?void 0:Ha.$survey_id;if(Ya){var Xa=Ga.indexOf(Ya);Xa>=0&&(Ga.splice(Xa,1),this.dr(Ga))}}else if(this.nr.has(Na)){qo.info("survey event name matched",{event:Na,eventPayload:ja,surveys:this.nr.get(Na)});var Ka=[];(za=this._instance)==null||za.getSurveys((Va=>{Ka=Va.filter((Ua=>{var Wa;return(Wa=this.nr.get(Na))==null?void 0:Wa.includes(Ua.id)}))}));var Qa=Ka.filter((Va=>{var Ua,Wa=(Ua=Va.conditions)==null||(Ua=Ua.events)==null||(Ua=Ua.values)==null?void 0:Ua.find((Ja=>Ja.name===Na));return!!Wa&&(!Wa.propertyFilters||Object.entries(Wa.propertyFilters).every((Ja=>{var Oo,[Do,Mo]=Ja,el=ja==null||(Oo=ja.properties)==null?void 0:Oo[Do];if(C(el)||F(el))return!1;var tl=[String(el)],rl=sn[Mo.operator];return rl?rl(Mo.values,tl):(qo.warn("Unknown property comparison operator: "+Mo.operator),!1)})))}));this.dr(Ga.concat(Qa.map((Va=>Va.id))||[]))}}onAction(Na){var ja,Ba=((ja=this._instance)==null||(ja=ja.persistence)==null?void 0:ja.props[yi])||[];this.ar.has(Na)&&this.dr(Ba.concat(this.ar.get(Na)||[]))}dr(Na){var ja;qo.info("updating activated surveys",{activatedSurveys:Na}),(ja=this._instance)==null||(ja=ja.persistence)==null||ja.register({[yi]:[...new Set(Na)]})}getSurveys(){var Na,ja=(Na=this._instance)==null||(Na=Na.persistence)==null?void 0:Na.props[yi];return ja||[]}getEventToSurveys(){return this.nr}vr(){return this.hr}}class Yo{constructor(Na){this.cr=void 0,this._surveyManager=null,this.pr=!1,this.gr=!1,this._r=[],this._instance=Na,this._surveyEventReceiver=null}onRemoteConfig(Na){if(!this._instance.config.disable_surveys){var ja=Na.surveys;if(A(ja))return qo.warn("Flags not loaded yet. Not loading surveys.");var Ba=R(ja);this.cr=Ba?ja.length>0:ja,qo.info("flags response received, isSurveysEnabled: "+this.cr),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var Na=[],ja=0;ja<localStorage.length;ja++){var Ba=localStorage.key(ja);(Ba!=null&&Ba.startsWith(Ho)||Ba!=null&&Ba.startsWith("inProgressSurvey_"))&&Na.push(Ba)}Na.forEach((za=>localStorage.removeItem(za)))}loadIfEnabled(){if(!this._surveyManager)if(this.gr)qo.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)qo.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())qo.info("Not loading surveys in cookieless mode without consent.");else{var Na=v?.__PosthogExtensions__;if(Na){if(!C(this.cr)||this._instance.config.advanced_enable_surveys){var ja=this.cr||this._instance.config.advanced_enable_surveys;this.gr=!0;try{var Ba=Na.generateSurveys;if(Ba)return void this.mr(Ba,ja);var za=Na.loadExternalDependency;if(!za)return void this.yr("PostHog loadExternalDependency extension not found.");za(this._instance,"surveys",(Ga=>{Ga||!Na.generateSurveys?this.yr("Could not load surveys script",Ga):this.mr(Na.generateSurveys,ja)}))}catch(Ga){throw this.yr("Error initializing surveys",Ga),Ga}finally{this.gr=!1}}}else qo.error("PostHog Extensions not found.")}}mr(Na,ja){this._surveyManager=Na(this._instance,ja),this._surveyEventReceiver=new Ko(this._instance),qo.info("Surveys loaded successfully"),this.br({isLoaded:!0})}yr(Na,ja){qo.error(Na,ja),this.br({isLoaded:!1,error:Na})}onSurveysLoaded(Na){return this._r.push(Na),this._surveyManager&&this.br({isLoaded:!0}),()=>{this._r=this._r.filter((ja=>ja!==Na))}}getSurveys(Na,ja){if(ja===void 0&&(ja=!1),this._instance.config.disable_surveys)return qo.info("Disabled. Not loading surveys."),Na([]);var Ba=this._instance.get_property(mi);if(Ba&&!ja)return Na(Ba,{isLoaded:!0});if(this.pr)return Na([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.pr=!0,this._instance.Oe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:za=>{var Ga;this.pr=!1;var Ha=za.statusCode;if(Ha!==200||!za.json){var Ya="Surveys API could not be loaded, status: "+Ha;return qo.error(Ya),Na([],{isLoaded:!1,error:Ya})}var Xa,Ka=za.json.surveys||[],Qa=Ka.filter((Va=>(function(Ua){return!(!Ua.start_date||Ua.end_date)})(Va)&&((function(Ua){var Wa;return!((Wa=Ua.conditions)==null||(Wa=Wa.events)==null||(Wa=Wa.values)==null||!Wa.length)})(Va)||(function(Ua){var Wa;return!((Wa=Ua.conditions)==null||(Wa=Wa.actions)==null||(Wa=Wa.values)==null||!Wa.length)})(Va))));return Qa.length>0&&((Xa=this._surveyEventReceiver)==null||Xa.register(Qa)),(Ga=this._instance.persistence)==null||Ga.register({[mi]:Ka}),Na(Ka,{isLoaded:!0})}})}catch(za){throw this.pr=!1,za}}br(Na){for(var ja of this._r)try{if(!Na.isLoaded)return ja([],Na);this.getSurveys(ja)}catch(Ba){qo.error("Error in survey callback",Ba)}}getActiveMatchingSurveys(Na,ja){if(ja===void 0&&(ja=!1),!A(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(Na,ja);qo.warn("init was not called")}wr(Na){var ja=null;return this.getSurveys((Ba=>{var za;ja=(za=Ba.find((Ga=>Ga.id===Na)))!==null&&za!==void 0?za:null})),ja}Sr(Na){if(A(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var ja=typeof Na=="string"?this.wr(Na):Na;return ja?this._surveyManager.checkSurveyEligibility(ja):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(Na){if(A(this._surveyManager))return qo.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var ja=this.Sr(Na);return{visible:ja.eligible,disabledReason:ja.reason}}canRenderSurveyAsync(Na,ja){return A(this._surveyManager)?(qo.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((Ba=>{this.getSurveys((za=>{var Ga,Ha=(Ga=za.find((Xa=>Xa.id===Na)))!==null&&Ga!==void 0?Ga:null;if(Ha){var Ya=this.Sr(Ha);Ba({visible:Ya.eligible,disabledReason:Ya.reason})}else Ba({visible:!1,disabledReason:"Survey not found"})}),ja)}))}renderSurvey(Na,ja){var Ba;if(A(this._surveyManager))qo.warn("init was not called");else{var za=typeof Na=="string"?this.wr(Na):Na;if(za!=null&&za.id)if(Vo.includes(za.type)){var Ga=o?.querySelector(ja);if(Ga)return(Ba=za.appearance)!=null&&Ba.surveyPopupDelaySeconds?(qo.info("Rendering survey "+za.id+" with delay of "+za.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var Ha,Ya;qo.info("Rendering survey "+za.id+" with delay of "+((Ha=za.appearance)==null?void 0:Ha.surveyPopupDelaySeconds)+" seconds"),(Ya=this._surveyManager)==null||Ya.renderSurvey(za,Ga),qo.info("Survey "+za.id+" rendered")}),1e3*za.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(za,Ga);qo.warn("Survey element not found")}else qo.warn("Surveys of type "+za.type+" cannot be rendered in the app");else qo.warn("Survey not found")}}displaySurvey(Na,ja){var Ba;if(A(this._surveyManager))qo.warn("init was not called");else{var za=this.wr(Na);if(za){var Ga=za;if((Ba=za.appearance)!=null&&Ba.surveyPopupDelaySeconds&&ja.ignoreDelay&&(Ga=g({},za,{appearance:g({},za.appearance,{surveyPopupDelaySeconds:0})})),ja.ignoreConditions===!1){var Ha=this.canRenderSurvey(za);if(!Ha.visible)return void qo.warn("Survey is not eligible to be displayed: ",Ha.disabledReason)}ja.displayType!==Uo.Inline?this._surveyManager.handlePopoverSurvey(Ga):this.renderSurvey(Ga,ja.selector)}else qo.warn("Survey not found")}}}var Xo=Et("[RateLimiter]");class Qo{constructor(Na){var ja,Ba;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=za=>{var Ga=za.text;if(Ga&&Ga.length)try{(JSON.parse(Ga).quota_limited||[]).forEach((Ha=>{Xo.info((Ha||"events")+" is quota limited."),this.serverLimits[Ha]=new Date().getTime()+6e4}))}catch(Ha){return void Xo.warn('could not rate limit - continuing. Error: "'+Ha?.message+'"',{text:Ga})}},this.instance=Na,this.captureEventsPerSecond=((ja=Na.config.rate_limiting)==null?void 0:ja.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((Ba=Na.config.rate_limiting)==null?void 0:Ba.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(Na){var ja,Ba,za;Na===void 0&&(Na=!1);var Ga=new Date().getTime(),Ha=(ja=(Ba=this.instance.persistence)==null?void 0:Ba.get_property(ki))!==null&&ja!==void 0?ja:{tokens:this.captureEventsBurstLimit,last:Ga};Ha.tokens+=(Ga-Ha.last)/1e3*this.captureEventsPerSecond,Ha.last=Ga,Ha.tokens>this.captureEventsBurstLimit&&(Ha.tokens=this.captureEventsBurstLimit);var Ya=Ha.tokens<1;return Ya||Na||(Ha.tokens=Math.max(0,Ha.tokens-1)),!Ya||this.lastEventRateLimited||Na||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=Ya,(za=this.instance.persistence)==null||za.set_property(ki,Ha),{isRateLimited:Ya,remainingTokens:Ha.tokens}}isServerRateLimited(Na){var ja=this.serverLimits[Na||"events"]||!1;return ja!==!1&&new Date().getTime()<ja}}var Zo=Et("[RemoteConfig]");class ta{constructor(Na){this._instance=Na}get remoteConfig(){var Na;return(Na=v._POSTHOG_REMOTE_CONFIG)==null||(Na=Na[this._instance.config.token])==null?void 0:Na.config}kr(Na){var ja,Ba;(ja=v.__PosthogExtensions__)!=null&&ja.loadExternalDependency?(Ba=v.__PosthogExtensions__)==null||Ba.loadExternalDependency==null||Ba.loadExternalDependency(this._instance,"remote-config",(()=>Na(this.remoteConfig))):(Zo.error("PostHog Extensions not found. Cannot load remote config."),Na())}$r(Na){this._instance.Oe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:ja=>{Na(ja.json)}})}load(){try{if(this.remoteConfig)return Zo.info("Using preloaded remote config",this.remoteConfig),void this.Fe(this.remoteConfig);if(this._instance.L())return void Zo.warn("Remote config is disabled. Falling back to local config.");this.kr((Na=>{if(!Na)return Zo.info("No config found after loading remote JS config. Falling back to JSON."),void this.$r((ja=>{this.Fe(ja)}));this.Fe(Na)}))}catch(Na){Zo.error("Error loading remote config",Na)}}Fe(Na){Na?this._instance.config.__preview_remote_config?(this._instance.Fe(Na),Na.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Zo.info("__preview_remote_config is disabled. Logging config instead",Na):Zo.error("Failed to fetch remote config from PostHog.")}}var ia=3e3;class ea{constructor(Na,ja){this.Er=!0,this.Rr=[],this.Ir=G$1(ja?.flush_interval_ms||ia,250,5e3,xt.createLogger("flush interval"),ia),this.Pr=Na}enqueue(Na){this.Rr.push(Na),this.Tr||this.Cr()}unload(){this.Mr();var Na=this.Rr.length>0?this.Or():{},ja=Object.values(Na);[...ja.filter((Ba=>Ba.url.indexOf("/e")===0)),...ja.filter((Ba=>Ba.url.indexOf("/e")!==0))].map((Ba=>{this.Pr(g({},Ba,{transport:"sendBeacon"}))}))}enable(){this.Er=!1,this.Cr()}Cr(){var Na=this;this.Er||(this.Tr=setTimeout((()=>{if(this.Mr(),this.Rr.length>0){var ja=this.Or(),Ba=function(){var Ga=ja[za],Ha=new Date().getTime();Ga.data&&R(Ga.data)&&Ct(Ga.data,(Ya=>{Ya.offset=Math.abs(Ya.timestamp-Ha),delete Ya.timestamp})),Na.Pr(Ga)};for(var za in ja)Ba()}}),this.Ir))}Mr(){clearTimeout(this.Tr),this.Tr=void 0}Or(){var Na={};return Ct(this.Rr,(ja=>{var Ba,za=ja,Ga=(za?za.batchKey:null)||za.url;C(Na[Ga])&&(Na[Ga]=g({},za,{data:[]})),(Ba=Na[Ga].data)==null||Ba.push(za.data)})),this.Rr=[],Na}}var ra=["retriesPerformedSoFar"];class sa{constructor(Na){this.Fr=!1,this.Ar=3e3,this.Rr=[],this._instance=Na,this.Rr=[],this.Dr=!0,!C(t)&&"onLine"in t.navigator&&(this.Dr=t.navigator.onLine,Bt(t,"online",(()=>{this.Dr=!0,this.oe()})),Bt(t,"offline",(()=>{this.Dr=!1})))}get length(){return this.Rr.length}retriableRequest(Na){var{retriesPerformedSoFar:ja}=Na,Ba=_(Na,ra);D$2(ja)&&ja>0&&(Ba.url=Xs(Ba.url,{retry_count:ja})),this._instance.Oe(g({},Ba,{callback:za=>{za.statusCode!==200&&(za.statusCode<400||za.statusCode>=500)&&(ja??0)<10?this.jr(g({retriesPerformedSoFar:ja},Ba)):Ba.callback==null||Ba.callback(za)}}))}jr(Na){var ja=Na.retriesPerformedSoFar||0;Na.retriesPerformedSoFar=ja+1;var Ba=(function(Ha){var Ya=3e3*Math.pow(2,Ha),Xa=Ya/2,Ka=Math.min(18e5,Ya),Qa=(Math.random()-.5)*(Ka-Xa);return Math.ceil(Ka+Qa)})(ja),za=Date.now()+Ba;this.Rr.push({retryAt:za,requestOptions:Na});var Ga="Enqueued failed request for retry in "+Ba;navigator.onLine||(Ga+=" (Browser is offline)"),xt.warn(Ga),this.Fr||(this.Fr=!0,this.Lr())}Lr(){this.Nr&&clearTimeout(this.Nr),this.Nr=setTimeout((()=>{this.Dr&&this.Rr.length>0&&this.oe(),this.Lr()}),this.Ar)}oe(){var Na=Date.now(),ja=[],Ba=this.Rr.filter((Ga=>Ga.retryAt<Na||(ja.push(Ga),!1)));if(this.Rr=ja,Ba.length>0)for(var{requestOptions:za}of Ba)this.retriableRequest(za)}unload(){for(var{requestOptions:Na}of(this.Nr&&(clearTimeout(this.Nr),this.Nr=void 0),this.Rr))try{this._instance.Oe(g({},Na,{transport:"sendBeacon"}))}catch(ja){xt.error(ja)}this.Rr=[]}}class na{constructor(Na){this.Ur=()=>{var ja,Ba,za,Ga;this.zr||(this.zr={});var Ha=this.scrollElement(),Ya=this.scrollY(),Xa=Ha?Math.max(0,Ha.scrollHeight-Ha.clientHeight):0,Ka=Ya+(Ha?.clientHeight||0),Qa=Ha?.scrollHeight||0;this.zr.lastScrollY=Math.ceil(Ya),this.zr.maxScrollY=Math.max(Ya,(ja=this.zr.maxScrollY)!==null&&ja!==void 0?ja:0),this.zr.maxScrollHeight=Math.max(Xa,(Ba=this.zr.maxScrollHeight)!==null&&Ba!==void 0?Ba:0),this.zr.lastContentY=Ka,this.zr.maxContentY=Math.max(Ka,(za=this.zr.maxContentY)!==null&&za!==void 0?za:0),this.zr.maxContentHeight=Math.max(Qa,(Ga=this.zr.maxContentHeight)!==null&&Ga!==void 0?Ga:0)},this._instance=Na}getContext(){return this.zr}resetContext(){var Na=this.zr;return setTimeout(this.Ur,0),Na}startMeasuringScrollPosition(){Bt(t,"scroll",this.Ur,{capture:!0}),Bt(t,"scrollend",this.Ur,{capture:!0}),Bt(t,"resize",this.Ur)}scrollElement(){if(!this._instance.config.scroll_root_selector)return t?.document.documentElement;var Na=R(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var ja of Na){var Ba=t?.document.querySelector(ja);if(Ba)return Ba}}scrollY(){if(this._instance.config.scroll_root_selector){var Na=this.scrollElement();return Na&&Na.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var Na=this.scrollElement();return Na&&Na.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var oa=La=>po(La?.config.mask_personal_data_properties,La?.config.custom_personal_data_properties);class aa{constructor(Na,ja,Ba,za){this.Br=Ga=>{var Ha=this.qr();if(!Ha||Ha.sessionId!==Ga){var Ya={sessionId:Ga,props:this.Hr(this._instance)};this.Wr.register({[Si]:Ya})}},this._instance=Na,this.Gr=ja,this.Wr=Ba,this.Hr=za||oa,this.Gr.onSessionId(this.Br)}qr(){return this.Wr.props[Si]}getSetOnceProps(){var Na,ja=(Na=this.qr())==null?void 0:Na.props;return ja?"r"in ja?go(ja):{$referring_domain:ja.referringDomain,$pathname:ja.initialPathName,utm_source:ja.utm_source,utm_campaign:ja.utm_campaign,utm_medium:ja.utm_medium,utm_content:ja.utm_content,utm_term:ja.utm_term}:{}}getSessionProps(){var Na={};return Ct(jt(this.getSetOnceProps()),((ja,Ba)=>{Ba==="$current_url"&&(Ba="url"),Na["$session_entry_"+w(Ba)]=ja})),Na}}var la=Et("[SessionId]");class ua{on(Na,ja){return this.Vr.on(Na,ja)}constructor(Na,ja,Ba){var za;if(this.Jr=[],this.Vr=new zo,this.Kr=(Qa,Va)=>Math.abs(Qa-Va)>this.sessionTimeoutMs,!Na.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(Na.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=Na.config,this.Wr=Na.persistence,this.pi=void 0,this.Ft=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Yr=ja||Ce$1,this.Xr=Ba||Ce$1;var Ga=this.A.persistence_name||this.A.token,Ha=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*G$1(Ha,60,36e3,la.createLogger("session_idle_timeout_seconds"),1800),Na.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Qr(),this.Zr="ph_"+Ga+"_window_id",this.ts="ph_"+Ga+"_primary_window_exists",this.es()){var Ya=He.K(this.Zr),Xa=He.K(this.ts);Ya&&!Xa?this.pi=Ya:He.X(this.Zr),He.Y(this.ts,!0)}if((za=this.A.bootstrap)!=null&&za.sessionID)try{var Ka=(Qa=>{var Va=Qa.replace(/-/g,"");if(Va.length!==32)throw new Error("Not a valid UUID");if(Va[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(Va.substring(0,12),16)})(this.A.bootstrap.sessionID);this.rs(this.A.bootstrap.sessionID,new Date().getTime(),Ka)}catch(Qa){la.error("Invalid sessionID in bootstrap",Qa)}this.ss()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(Na){return C(this.Jr)&&(this.Jr=[]),this.Jr.push(Na),this.Ft&&Na(this.Ft,this.pi),()=>{this.Jr=this.Jr.filter((ja=>ja!==Na))}}es(){return this.A.persistence!=="memory"&&!this.Wr.Ue&&He.G()}ns(Na){Na!==this.pi&&(this.pi=Na,this.es()&&He.Y(this.Zr,Na))}os(){return this.pi?this.pi:this.es()?He.K(this.Zr):null}rs(Na,ja,Ba){Na===this.Ft&&ja===this._sessionActivityTimestamp&&Ba===this._sessionStartTimestamp||(this._sessionStartTimestamp=Ba,this._sessionActivityTimestamp=ja,this.Ft=Na,this.Wr.register({[ui]:[ja,Na,Ba]}))}ls(){if(this.Ft&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ft,this._sessionStartTimestamp];var Na=this.Wr.props[ui];return R(Na)&&Na.length===2&&Na.push(Na[0]),Na||[0,null,0]}resetSessionId(){this.rs(null,null,null)}ss(){Bt(t,"beforeunload",(()=>{this.es()&&He.X(this.ts)}),{capture:!1})}checkAndGetSessionAndWindowId(Na,ja){if(Na===void 0&&(Na=!1),ja===void 0&&(ja=null),this.A.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var Ba=ja||new Date().getTime(),[za,Ga,Ha]=this.ls(),Ya=this.os(),Xa=D$2(Ha)&&Ha>0&&Math.abs(Ba-Ha)>864e5,Ka=!1,Qa=!Ga,Va=!Na&&this.Kr(Ba,za);Qa||Va||Xa?(Ga=this.Yr(),Ya=this.Xr(),la.info("new session ID generated",{sessionId:Ga,windowId:Ya,changeReason:{noSessionId:Qa,activityTimeout:Va,sessionPastMaximumLength:Xa}}),Ha=Ba,Ka=!0):Ya||(Ya=this.Xr(),Ka=!0);var Ua=za===0||!Na||Xa?Ba:za,Wa=Ha===0?new Date().getTime():Ha;return this.ns(Ya),this.rs(Ga,Ua,Wa),Na||this.Qr(),Ka&&this.Jr.forEach((Ja=>Ja(Ga,Ya,Ka?{noSessionId:Qa,activityTimeout:Va,sessionPastMaximumLength:Xa}:void 0))),{sessionId:Ga,windowId:Ya,sessionStartTimestamp:Wa,changeReason:Ka?{noSessionId:Qa,activityTimeout:Va,sessionPastMaximumLength:Xa}:void 0,lastActivityTimestamp:za}}Qr(){clearTimeout(this.us),this.us=setTimeout((()=>{var[Na]=this.ls();if(this.Kr(new Date().getTime(),Na)){var ja=this.Ft;this.resetSessionId(),this.Vr.emit("forcedIdleReset",{idleSessionId:ja})}}),1.1*this.sessionTimeoutMs)}}var ha=["$set_once","$set"],da=Et("[SiteApps]");class va{constructor(Na){this._instance=Na,this.hs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ds(Na,ja){if(ja){var Ba=this.globalsForEvent(ja);this.hs.push(Ba),this.hs.length>1e3&&(this.hs=this.hs.slice(10))}}get siteAppLoaders(){var Na;return(Na=v._POSTHOG_REMOTE_CONFIG)==null||(Na=Na[this._instance.config.token])==null?void 0:Na.siteApps}init(){if(this.isEnabled){var Na=this._instance.Ze(this.ds.bind(this));this.vs=()=>{Na(),this.hs=[],this.vs=void 0}}}globalsForEvent(Na){var ja,Ba,za,Ga,Ha,Ya,Xa;if(!Na)throw new Error("Event payload is required");var Ka={},Qa=this._instance.get_property("$groups")||[],Va=this._instance.get_property("$stored_group_properties")||{};for(var[Ua,Wa]of Object.entries(Va))Ka[Ua]={id:Qa[Ua],type:Ua,properties:Wa};var{$set_once:Ja,$set:Oo}=Na;return{event:g({},_(Na,ha),{properties:g({},Na.properties,Oo?{$set:g({},(ja=(Ba=Na.properties)==null?void 0:Ba.$set)!==null&&ja!==void 0?ja:{},Oo)}:{},Ja?{$set_once:g({},(za=(Ga=Na.properties)==null?void 0:Ga.$set_once)!==null&&za!==void 0?za:{},Ja)}:{}),elements_chain:(Ha=(Ya=Na.properties)==null?void 0:Ya.$elements_chain)!==null&&Ha!==void 0?Ha:"",distinct_id:(Xa=Na.properties)==null?void 0:Xa.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:Ka}}setupSiteApp(Na){var ja=this.apps[Na.id],Ba=()=>{var Ya;!ja.errored&&this.hs.length&&(da.info("Processing "+this.hs.length+" events for site app with id "+Na.id),this.hs.forEach((Xa=>ja.processEvent==null?void 0:ja.processEvent(Xa))),ja.processedBuffer=!0),Object.values(this.apps).every((Xa=>Xa.processedBuffer||Xa.errored))&&((Ya=this.vs)==null||Ya.call(this))},za=!1,Ga=Ya=>{ja.errored=!Ya,ja.loaded=!0,da.info("Site app with id "+Na.id+" "+(Ya?"loaded":"errored")),za&&Ba()};try{var{processEvent:Ha}=Na.init({posthog:this._instance,callback:Ya=>{Ga(Ya)}});Ha&&(ja.processEvent=Ha),za=!0}catch(Ya){da.error("Error while initializing PostHog app with config id "+Na.id,Ya),Ga(!1)}if(za&&ja.loaded)try{Ba()}catch(Ya){da.error("Error while processing buffered events PostHog app with config id "+Na.id,Ya),ja.errored=!0}}cs(){var Na=this.siteAppLoaders||[];for(var ja of Na)this.apps[ja.id]={id:ja.id,loaded:!1,errored:!1,processedBuffer:!1};for(var Ba of Na)this.setupSiteApp(Ba)}fs(Na){if(Object.keys(this.apps).length!==0){var ja=this.globalsForEvent(Na);for(var Ba of Object.values(this.apps))try{Ba.processEvent==null||Ba.processEvent(ja)}catch(za){da.error("Error while processing event "+Na.event+" for site app "+Ba.id,za)}}}onRemoteConfig(Na){var ja,Ba,za,Ga=this;if((ja=this.siteAppLoaders)!=null&&ja.length)return this.isEnabled?(this.cs(),void this._instance.on("eventCaptured",(Ka=>this.fs(Ka)))):void da.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((Ba=this.vs)==null||Ba.call(this),(za=Na.siteApps)!=null&&za.length)if(this.isEnabled){var Ha=function(Ka){var Qa;v["__$$ph_site_app_"+Ka]=Ga._instance,(Qa=v.__PosthogExtensions__)==null||Qa.loadSiteApp==null||Qa.loadSiteApp(Ga._instance,Xa,(Va=>{if(Va)return da.error("Error while initializing PostHog app with config id "+Ka,Va)}))};for(var{id:Ya,url:Xa}of Na.siteApps)Ha(Ya)}else da.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var ca=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],fa=function(La,Na){if(!La)return!1;var ja=La.toLowerCase();return ca.concat(Na||[]).some((Ba=>{var za=Ba.toLowerCase();return ja.indexOf(za)!==-1}))},pa=function(La,Na){if(!La)return!1;var ja=La.userAgent;if(ja&&fa(ja,Na))return!0;try{var Ba=La?.userAgentData;if(Ba!=null&&Ba.brands&&Ba.brands.some((za=>fa(za?.brand,Na))))return!0}catch{}return!!La.webdriver},ga=(function(La){return La.US="us",La.EU="eu",La.CUSTOM="custom",La})({}),_a="i.posthog.com";class ma{constructor(Na){this.ps={},this.instance=Na}get apiHost(){var Na=this.instance.config.api_host.trim().replace(/\/$/,"");return Na==="https://app.posthog.com"?"https://us.i.posthog.com":Na}get uiHost(){var Na,ja=(Na=this.instance.config.ui_host)==null?void 0:Na.replace(/\/$/,"");return ja||(ja=this.apiHost.replace("."+_a,".posthog.com")),ja==="https://app.posthog.com"?"https://us.posthog.com":ja}get region(){return this.ps[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ps[this.apiHost]=ga.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ps[this.apiHost]=ga.EU:this.ps[this.apiHost]=ga.CUSTOM),this.ps[this.apiHost]}endpointFor(Na,ja){if(ja===void 0&&(ja=""),ja&&(ja=ja[0]==="/"?ja:"/"+ja),Na==="ui")return this.uiHost+ja;if(this.region===ga.CUSTOM)return this.apiHost+ja;var Ba=_a+ja;switch(Na){case"assets":return"https://"+this.region+"-assets."+Ba;case"api":return"https://"+this.region+"."+Ba}}}var ya={icontains:(La,Na)=>!!t&&Na.href.toLowerCase().indexOf(La.toLowerCase())>-1,not_icontains:(La,Na)=>!!t&&Na.href.toLowerCase().indexOf(La.toLowerCase())===-1,regex:(La,Na)=>!!t&&en(Na.href,La),not_regex:(La,Na)=>!!t&&!en(Na.href,La),exact:(La,Na)=>Na.href===La,is_not:(La,Na)=>Na.href!==La};class ba{constructor(Na){var ja=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(Ba){Ba===void 0&&(Ba=!1),ja.getWebExperiments((za=>{ba.gs("retrieved web experiments from the server"),ja._s=new Map,za.forEach((Ga=>{if(Ga.feature_flag_key){var Ha;ja._s&&(ba.gs("setting flag key ",Ga.feature_flag_key," to web experiment ",Ga),(Ha=ja._s)==null||Ha.set(Ga.feature_flag_key,Ga));var Ya=ja._instance.getFeatureFlag(Ga.feature_flag_key);M(Ya)&&Ga.variants[Ya]&&ja.ys(Ga.name,Ya,Ga.variants[Ya].transforms)}else if(Ga.variants)for(var Xa in Ga.variants){var Ka=Ga.variants[Xa];ba.bs(Ka)&&ja.ys(Ga.name,Xa,Ka.transforms)}}))}),Ba)},this._instance=Na,this._instance.onFeatureFlags((Ba=>{this.onFeatureFlags(Ba)}))}onFeatureFlags(Na){if(this._is_bot())ba.gs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(A(this._s))return this._s=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ba.gs("applying feature flags",Na),Na.forEach((ja=>{var Ba;if(this._s&&(Ba=this._s)!=null&&Ba.has(ja)){var za,Ga=this._instance.getFeatureFlag(ja),Ha=(za=this._s)==null?void 0:za.get(ja);Ga&&Ha!=null&&Ha.variants[Ga]&&this.ys(Ha.name,Ga,Ha.variants[Ga].transforms)}}))}}previewWebExperiment(){var Na=ba.getWindowLocation();if(Na!=null&&Na.search){var ja=ge(Na?.search,"__experiment_id"),Ba=ge(Na?.search,"__experiment_variant");ja&&Ba&&(ba.gs("previewing web experiments "+ja+" && "+Ba),this.getWebExperiments((za=>{this.ws(parseInt(ja),Ba,za)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(Na,ja,Ba){if(this._instance.config.disable_web_experiments&&!Ba)return Na([]);var za=this._instance.get_property("$web_experiments");if(za&&!ja)return Na(za);this._instance.Oe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:Ga=>{if(Ga.statusCode!==200||!Ga.json)return Na([]);var Ha=Ga.json.experiments||[];return Na(Ha)}})}ws(Na,ja,Ba){var za=Ba.filter((Ga=>Ga.id===Na));za&&za.length>0&&(ba.gs("Previewing web experiment ["+za[0].name+"] with variant ["+ja+"]"),this.ys(za[0].name,ja,za[0].variants[ja].transforms))}static bs(Na){return!A(Na.conditions)&&ba.Ss(Na)&&ba.ks(Na)}static Ss(Na){var ja;if(A(Na.conditions)||A((ja=Na.conditions)==null?void 0:ja.url))return!0;var Ba,za,Ga,Ha=ba.getWindowLocation();return!!Ha&&((Ba=Na.conditions)==null||!Ba.url||ya[(za=(Ga=Na.conditions)==null?void 0:Ga.urlMatchType)!==null&&za!==void 0?za:"icontains"](Na.conditions.url,Ha))}static getWindowLocation(){return t?.location}static ks(Na){var ja;if(A(Na.conditions)||A((ja=Na.conditions)==null?void 0:ja.utm))return!0;var Ba=uo();if(Ba.utm_source){var za,Ga,Ha,Ya,Xa,Ka,Qa,Va,Ua=(za=Na.conditions)==null||(za=za.utm)==null||!za.utm_campaign||((Ga=Na.conditions)==null||(Ga=Ga.utm)==null?void 0:Ga.utm_campaign)==Ba.utm_campaign,Wa=(Ha=Na.conditions)==null||(Ha=Ha.utm)==null||!Ha.utm_source||((Ya=Na.conditions)==null||(Ya=Ya.utm)==null?void 0:Ya.utm_source)==Ba.utm_source,Ja=(Xa=Na.conditions)==null||(Xa=Xa.utm)==null||!Xa.utm_medium||((Ka=Na.conditions)==null||(Ka=Ka.utm)==null?void 0:Ka.utm_medium)==Ba.utm_medium,Oo=(Qa=Na.conditions)==null||(Qa=Qa.utm)==null||!Qa.utm_term||((Va=Na.conditions)==null||(Va=Va.utm)==null?void 0:Va.utm_term)==Ba.utm_term;return Ua&&Ja&&Oo&&Wa}return!1}static gs(Na){for(var ja=arguments.length,Ba=new Array(ja>1?ja-1:0),za=1;za<ja;za++)Ba[za-1]=arguments[za];xt.info("[WebExperiments] "+Na,Ba)}ys(Na,ja,Ba){this._is_bot()?ba.gs("Refusing to render web experiment since the viewer is a likely bot"):ja!=="control"?Ba.forEach((za=>{if(za.selector){var Ga;ba.gs("applying transform of variant "+ja+" for experiment "+Na+" ",za);var Ha=(Ga=document)==null?void 0:Ga.querySelectorAll(za.selector);Ha?.forEach((Ya=>{var Xa=Ya;za.html&&(Xa.innerHTML=za.html),za.css&&Xa.setAttribute("style",za.css)}))}})):ba.gs("Control variants leave the page unmodified.")}_is_bot(){return n&&this._instance?pa(n,this._instance.config.custom_blocked_useragents):void 0}}var wa=Et("[PostHog ExternalIntegrations]"),Sa={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class ka{constructor(Na){this._instance=Na}nt(Na,ja){var Ba;(Ba=v.__PosthogExtensions__)==null||Ba.loadExternalDependency==null||Ba.loadExternalDependency(this._instance,Na,(za=>{if(za)return wa.error("failed to load script",za);ja()}))}startIfEnabledOrStop(){var Na=this,ja=function(Ha){var Ya,Xa,Ka;!za||(Ya=v.__PosthogExtensions__)!=null&&(Ya=Ya.integrations)!=null&&Ya[Ha]||Na.nt(Sa[Ha],(()=>{var Qa;(Qa=v.__PosthogExtensions__)==null||(Qa=Qa.integrations)==null||(Qa=Qa[Ha])==null||Qa.start(Na._instance)})),!za&&(Xa=v.__PosthogExtensions__)!=null&&(Xa=Xa.integrations)!=null&&Xa[Ha]&&((Ka=v.__PosthogExtensions__)==null||(Ka=Ka.integrations)==null||(Ka=Ka[Ha])==null||Ka.stop())};for(var[Ba,za]of Object.entries((Ga=this._instance.config.integrations)!==null&&Ga!==void 0?Ga:{})){var Ga;ja(Ba)}}}var $a="[SessionRecording]",xa=Et($a);class Ea{get started(){var Na;return!((Na=this.$s)==null||!Na.isStarted)}get status(){var Na;return((Na=this.$s)==null?void 0:Na.status)||"lazy_loading"}constructor(Na){if(this._forceAllowLocalhostNetworkCapture=!1,this.ni=void 0,this._instance=Na,!this._instance.sessionManager)throw xa.error("started without valid sessionManager"),new Error($a+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error($a+' cannot be used with cookieless_mode="always"')}get Bt(){var Na,ja=!((Na=this._instance.get_property(ti))==null||!Na.enabled),Ba=!this._instance.config.disable_session_recording,za=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&ja&&Ba&&!za}startIfEnabledOrStop(Na){var ja;if(!this.Bt||(ja=this.$s)==null||!ja.isStarted){var Ba=!C(Object.assign)&&!C(Array.from);this.Bt&&Ba?(this.xs(Na),xa.info("starting")):this.stopRecording()}}xs(Na){var ja,Ba,za;this.Bt&&(v!=null&&(ja=v.__PosthogExtensions__)!=null&&(ja=ja.rrweb)!=null&&ja.record&&(Ba=v.__PosthogExtensions__)!=null&&Ba.initSessionRecording?this.Ri(Na):(za=v.__PosthogExtensions__)==null||za.loadExternalDependency==null||za.loadExternalDependency(this._instance,this.Ii,(Ga=>{if(Ga)return xa.error("could not load recorder",Ga);this.Ri(Na)})))}stopRecording(){var Na;(Na=this.$s)==null||Na.stop()}ki(){var Na;(Na=this._instance.persistence)==null||Na.unregister(hi)}Ei(Na){if(this._instance.persistence){var ja,Ba,za=this._instance.persistence,Ga=()=>{var Ha=Na.sessionRecording,Ya=Ha?.sampleRate,Xa=A(Ya)?null:parseFloat(Ya);A(Xa)&&this.ki();var Ka=Ha?.minimumDurationMilliseconds;za.register({[ti]:g({enabled:!!Ha},Ha,{networkPayloadCapture:g({capturePerformance:Na.capturePerformance},Ha?.networkPayloadCapture),canvasRecording:{enabled:Ha?.recordCanvas,fps:Ha?.canvasFps,quality:Ha?.canvasQuality},sampleRate:Xa,minimumDurationMilliseconds:C(Ka)?null:Ka,endpoint:Ha?.endpoint,triggerMatchType:Ha?.triggerMatchType,masking:Ha?.masking,urlTriggers:Ha?.urlTriggers})})};Ga(),(ja=this.ni)==null||ja.call(this),this.ni=(Ba=this._instance.sessionManager)==null?void 0:Ba.onSessionId(Ga)}}onRemoteConfig(Na){"sessionRecording"in Na?(this.Ei(Na),this.startIfEnabledOrStop()):xa.info("skipping remote config with no sessionRecording",Na)}log(Na,ja){var Ba;ja===void 0&&(ja="log"),(Ba=this.$s)!=null&&Ba.log?this.$s.log(Na,ja):xa.warn("log called before recorder was ready")}get Ii(){var Na,ja,Ba=(Na=this._instance)==null||(Na=Na.persistence)==null?void 0:Na.get_property(ti);return(Ba==null||(ja=Ba.scriptConfig)==null?void 0:ja.script)||"lazy-recorder"}Ri(Na){var ja,Ba;if((ja=v.__PosthogExtensions__)==null||!ja.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.$s||(this.$s=(Ba=v.__PosthogExtensions__)==null?void 0:Ba.initSessionRecording(this._instance),this.$s._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.$s.start(Na)}onRRwebEmit(Na){var ja;(ja=this.$s)==null||ja.onRRwebEmit==null||ja.onRRwebEmit(Na)}overrideLinkedFlag(){var Na;(Na=this.$s)==null||Na.overrideLinkedFlag()}overrideSampling(){var Na;(Na=this.$s)==null||Na.overrideSampling()}overrideTrigger(Na){var ja;(ja=this.$s)==null||ja.overrideTrigger(Na)}get sdkDebugProperties(){var Na;return((Na=this.$s)==null?void 0:Na.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(Na,ja){var Ba;return!((Ba=this.$s)==null||!Ba.tryAddCustomEvent(Na,ja))}}var Ra={},Ia=()=>{},Pa="posthog",Ta=!Ks&&d?.indexOf("MSIE")===-1&&d?.indexOf("Mozilla")===-1,Ca=La=>{var Na;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ut(o?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Ia,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:La!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:La??"unset",debug:a&&M(a?.search)&&a.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(t==null||(Na=t.location)==null?void 0:Na.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:ja=>{var Ba="Bad HTTP status: "+ja.statusCode+" "+ja.text;xt.error(Ba)},get_device_id:ja=>ja,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:ia},error_tracking:{},_onCapture:Ia,__preview_eager_load_replay:!0}},Ma=La=>{var Na={};C(La.process_person)||(Na.person_profiles=La.process_person),C(La.xhr_headers)||(Na.request_headers=La.xhr_headers),C(La.cookie_name)||(Na.persistence_name=La.cookie_name),C(La.disable_cookie)||(Na.disable_persistence=La.disable_cookie),C(La.store_google)||(Na.save_campaign_params=La.store_google),C(La.verbose)||(Na.debug=La.verbose);var ja=Mt({},Na,La);return R(La.property_blacklist)&&(C(La.property_denylist)?ja.property_denylist=La.property_blacklist:R(La.property_denylist)?ja.property_denylist=[...La.property_blacklist,...La.property_denylist]:xt.error("Invalid value for property_denylist config: "+La.property_denylist)),ja};class Oa{constructor(){this.__forceAllowLocalhost=!1}get Es(){return this.__forceAllowLocalhost}set Es(Na){xt.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=Na}}class Fa{get decideEndpointWasHit(){var Na,ja;return(Na=(ja=this.featureFlags)==null?void 0:ja.hasLoadedFlags)!==null&&Na!==void 0&&Na}get flagsEndpointWasHit(){var Na,ja;return(Na=(ja=this.featureFlags)==null?void 0:ja.hasLoadedFlags)!==null&&Na!==void 0&&Na}constructor(){this.webPerformance=new Oa,this.Rs=!1,this.version=c.LIB_VERSION,this.Is=new zo,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Ca(),this.SentryIntegration=Os,this.sentryIntegration=Na=>(function(ja,Ba){var za=Ms(ja,Ba);return{name:Cs,processEvent:Ga=>za(Ga)}})(this,Na),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Ps=!1,this.Ts=null,this.Cs=null,this.Ms=null,this.featureFlags=new Po(this),this.toolbar=new Ls(this),this.scrollManager=new na(this),this.pageViewManager=new Vs(this),this.surveys=new Yo(this),this.experiments=new ba(this),this.exceptions=new an(this),this.rateLimiter=new Qo(this),this.requestRouter=new ma(this),this.consent=new Ge(this),this.externalIntegrations=new ka(this),this.people={set:(Na,ja,Ba)=>{var za=M(Na)?{[Na]:ja}:Na;this.setPersonProperties(za),Ba?.({})},set_once:(Na,ja,Ba)=>{var za=M(Na)?{[Na]:ja}:Na;this.setPersonProperties(void 0,za),Ba?.({})}},this.on("eventCaptured",(Na=>xt.info('send "'+Na?.event+'"',Na)))}init(Na,ja,Ba){if(Ba&&Ba!==Pa){var za,Ga=(za=Ra[Ba])!==null&&za!==void 0?za:new Fa;return Ga._init(Na,ja,Ba),Ra[Ba]=Ga,Ra[Pa][Ba]=Ga,Ga}return this._init(Na,ja,Ba)}_init(Na,ja,Ba){var za,Ga;if(ja===void 0&&(ja={}),C(Na)||O(Na))return xt.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return xt.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Os=ja,this.Fs=[],ja.person_profiles&&(this.Cs=ja.person_profiles),this.set_config(Mt({},Ca(ja.defaults),Ma(ja),{name:Ba,token:Na})),this.config.on_xhr_error&&xt.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=ja.disable_compression?void 0:de$1.GZipJS;var Ha=this.As();this.persistence=new Co(this.config,Ha),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Co(g({},this.config,{persistence:"sessionStorage"}),Ha);var Ya=g({},this.persistence.props),Xa=g({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ds=new ea((tl=>this.js(tl)),this.config.request_queue_config),this.Ls=new sa(this),this.__request_queue=[];var Ka=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(Ka||(this.sessionManager=new ua(this),this.sessionPropsManager=new aa(this,this.sessionManager,this.persistence)),new Us(this).startIfEnabledOrStop(),this.siteApps=new va(this),(za=this.siteApps)==null||za.init(),Ka||(this.config.__preview_eager_load_replay?this.sessionRecording=new Is(this):this.sessionRecording=new Ea(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $e(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Gs(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new qs(this),this.exceptionObserver=new Qe(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Ye(this,Ke),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new tr(this),this.historyAutocapture.startIfEnabled(),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&xt.info("Starting in debug mode",{this:this,config:ja,thisC:g({},this.config),p:Ya,s:Xa}),((Ga=ja.bootstrap)==null?void 0:Ga.distinctID)!==void 0){var Qa,Va,Ua=this.config.get_device_id(Ce$1()),Wa=(Qa=ja.bootstrap)!=null&&Qa.isIdentifiedID?Ua:ja.bootstrap.distinctID;this.persistence.set_property(wi,(Va=ja.bootstrap)!=null&&Va.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:ja.bootstrap.distinctID,$device_id:Wa})}if(this.Ns()){var Ja,Oo,Do=Object.keys(((Ja=ja.bootstrap)==null?void 0:Ja.featureFlags)||{}).filter((tl=>{var rl;return!((rl=ja.bootstrap)==null||(rl=rl.featureFlags)==null||!rl[tl])})).reduce(((tl,rl)=>{var il;return tl[rl]=((il=ja.bootstrap)==null||(il=il.featureFlags)==null?void 0:il[rl])||!1,tl}),{}),Mo=Object.keys(((Oo=ja.bootstrap)==null?void 0:Oo.featureFlagPayloads)||{}).filter((tl=>Do[tl])).reduce(((tl,rl)=>{var il,al;return(il=ja.bootstrap)!=null&&(il=il.featureFlagPayloads)!=null&&il[rl]&&(tl[rl]=(al=ja.bootstrap)==null||(al=al.featureFlagPayloads)==null?void 0:al[rl]),tl}),{});this.featureFlags.receivedFeatureFlags({featureFlags:Do,featureFlagPayloads:Mo})}if(Ka)this.register_once({distinct_id:Pi,$device_id:null},"");else if(!this.get_distinct_id()){var el=this.config.get_device_id(Ce$1());this.register_once({distinct_id:el,$device_id:el},""),this.persistence.set_property(wi,"anonymous")}return Bt(t,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),ja.segment?Ts(this,(()=>this.Us())):this.Us(),I(this.config._onCapture)&&this.config._onCapture!==Ia&&(xt.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(tl=>this.config._onCapture(tl.event,tl)))),this.config.ip&&xt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Fe(Na){var ja,Ba,za,Ga,Ha,Ya,Xa,Ka;if(!o||!o.body)return xt.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.Fe(Na)}),500);this.compression=void 0,Na.supportedCompression&&!this.config.disable_compression&&(this.compression=y(Na.supportedCompression,de$1.GZipJS)?de$1.GZipJS:y(Na.supportedCompression,de$1.Base64)?de$1.Base64:void 0),(ja=Na.analytics)!=null&&ja.endpoint&&(this.analyticsDefaultEndpoint=Na.analytics.endpoint),this.set_config({person_profiles:this.Cs?this.Cs:"identified_only"}),(Ba=this.siteApps)==null||Ba.onRemoteConfig(Na),(za=this.sessionRecording)==null||za.onRemoteConfig(Na),(Ga=this.autocapture)==null||Ga.onRemoteConfig(Na),(Ha=this.heatmaps)==null||Ha.onRemoteConfig(Na),this.surveys.onRemoteConfig(Na),(Ya=this.webVitalsAutocapture)==null||Ya.onRemoteConfig(Na),(Xa=this.exceptionObserver)==null||Xa.onRemoteConfig(Na),this.exceptions.onRemoteConfig(Na),(Ka=this.deadClicksAutocapture)==null||Ka.onRemoteConfig(Na)}Us(){try{this.config.loaded(this)}catch(Na){xt.critical("`loaded` function failed",Na)}this.zs(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Bs()}),1),new ta(this).load(),this.featureFlags.flags()}zs(){var Na;this.is_capturing()&&this.config.request_batching&&((Na=this.Ds)==null||Na.enable())}_dom_loaded(){this.is_capturing()&&Tt(this.__request_queue,(Na=>this.js(Na))),this.__request_queue=[],this.zs()}_handle_unload(){var Na,ja;this.config.request_batching?(this.qs()&&this.capture("$pageleave"),(Na=this.Ds)==null||Na.unload(),(ja=this.Ls)==null||ja.unload()):this.qs()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Oe(Na){this.__loaded&&(Ta?this.__request_queue.push(Na):this.rateLimiter.isServerRateLimited(Na.batchKey)||(Na.transport=Na.transport||this.config.api_transport,Na.url=Xs(Na.url,{ip:this.config.ip?1:0}),Na.headers=g({},this.config.request_headers),Na.compression=Na.compression==="best-available"?this.compression:Na.compression,Na.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(Na.disableTransport=["sendBeacon"]),Na.fetchOptions=Na.fetchOptions||this.config.fetch_options,(ja=>{var Ba,za,Ga,Ha=g({},ja);Ha.timeout=Ha.timeout||6e4,Ha.url=Xs(Ha.url,{_:new Date().getTime().toString(),ver:c.LIB_VERSION,compression:Ha.compression});var Ya=(Ba=Ha.transport)!==null&&Ba!==void 0?Ba:"fetch",Xa=tn.filter((Qa=>!Ha.disableTransport||!Qa.transport||!Ha.disableTransport.includes(Qa.transport))),Ka=(za=(Ga=zt(Xa,(Qa=>Qa.transport===Ya)))==null?void 0:Ga.method)!==null&&za!==void 0?za:Xa[0].method;if(!Ka)throw new Error("No available transport method");Ka(Ha)})(g({},Na,{callback:ja=>{var Ba,za;this.rateLimiter.checkForLimiting(ja),ja.statusCode>=400&&((Ba=(za=this.config).on_request_error)==null||Ba.call(za,ja)),Na.callback==null||Na.callback(ja)}}))))}js(Na){this.Ls?this.Ls.retriableRequest(Na):this.Oe(Na)}_execute_array(Na){var ja,Ba=[],za=[],Ga=[];Tt(Na,(Ya=>{Ya&&(ja=Ya[0],R(ja)?Ga.push(Ya):I(Ya)?Ya.call(this):R(Ya)&&ja==="alias"?Ba.push(Ya):R(Ya)&&ja.indexOf("capture")!==-1&&I(this[ja])?Ga.push(Ya):za.push(Ya))}));var Ha=function(Ya,Xa){Tt(Ya,(function(Ka){if(R(Ka[0])){var Qa=Xa;Ct(Ka,(function(Va){Qa=Qa[Va[0]].apply(Qa,Va.slice(1))}))}else this[Ka[0]].apply(this,Ka.slice(1))}),Xa)};Ha(Ba,this),Ha(za,this),Ha(Ga,this)}Ns(){var Na,ja;return((Na=this.config.bootstrap)==null?void 0:Na.featureFlags)&&Object.keys((ja=this.config.bootstrap)==null?void 0:ja.featureFlags).length>0||!1}push(Na){this._execute_array([Na])}capture(Na,ja,Ba){var za;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ds){if(this.is_capturing())if(!C(Na)&&M(Na)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var Ga=Ba!=null&&Ba.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(Ga==null||!Ga.isRateLimited){ja!=null&&ja.$current_url&&!M(ja?.$current_url)&&(xt.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),ja==null||delete ja.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var Ha=new Date,Ya=Ba?.timestamp||Ha,Xa=Ce$1(),Ka={uuid:Xa,event:Na,properties:this.calculateEventProperties(Na,ja||{},Ya,Xa)};Ga&&(Ka.properties.$lib_rate_limit_remaining_tokens=Ga.remainingTokens),Ba?.$set&&(Ka.$set=Ba?.$set);var Qa,Va=this.Hs(Ba?.$set_once);if(Va&&(Ka.$set_once=Va),(Ka=Lt(Ka,Ba!=null&&Ba._noTruncate?null:this.config.properties_string_max_length)).timestamp=Ya,C(Ba?.timestamp)||(Ka.properties.$event_time_override_provided=!0,Ka.properties.$event_time_override_system_time=Ha),Na===Lo.DISMISSED||Na===Lo.SENT){var Ua=ja?.[No.SURVEY_ID],Wa=ja?.[No.SURVEY_ITERATION];Qa={id:Ua,current_iteration:Wa},localStorage.getItem(Go(Qa))||localStorage.setItem(Go(Qa),"true"),Ka.$set=g({},Ka.$set,{[Wo({id:Ua,current_iteration:Wa},Na===Lo.SENT?"responded":"dismissed")]:!0})}var Ja=g({},Ka.properties.$set,Ka.$set);if(T$2(Ja)||this.setPersonPropertiesForFlags(Ja),!A(this.config.before_send)){var Oo=this.Ws(Ka);if(!Oo)return;Ka=Oo}this.Is.emit("eventCaptured",Ka);var Do={method:"POST",url:(za=Ba?._url)!==null&&za!==void 0?za:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:Ka,compression:"best-available",batchKey:Ba?._batchKey};return!this.config.request_batching||Ba&&(Ba==null||!Ba._batchKey)||Ba!=null&&Ba.send_instantly?this.js(Do):this.Ds.enqueue(Do),Ka}xt.critical("This capture call is ignored due to client rate limiting.")}}else xt.error("No event name provided to posthog.capture")}else xt.uninitializedWarning("posthog.capture")}Ze(Na){return this.on("eventCaptured",(ja=>Na(ja.event,ja)))}calculateEventProperties(Na,ja,Ba,za,Ga){if(Ba=Ba||new Date,!this.persistence||!this.sessionPersistence)return ja;var Ha=Ga?void 0:this.persistence.remove_event_timer(Na),Ya=g({},ja);if(Ya.token=this.config.token,Ya.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(Ya.$cookieless_mode=!0),Na==="$snapshot"){var Xa=g({},this.persistence.properties(),this.sessionPersistence.properties());return Ya.distinct_id=Xa.distinct_id,(!M(Ya.distinct_id)&&!D$2(Ya.distinct_id)||O(Ya.distinct_id))&&xt.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),Ya}var Ka,Qa=yo(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:Va,windowId:Ua}=this.sessionManager.checkAndGetSessionAndWindowId(Ga,Ba.getTime());Ya.$session_id=Va,Ya.$window_id=Ua}this.sessionPropsManager&&Mt(Ya,this.sessionPropsManager.getSessionProps());try{var Wa;this.sessionRecording&&Mt(Ya,this.sessionRecording.sdkDebugProperties),Ya.$sdk_debug_retry_queue_size=(Wa=this.Ls)==null?void 0:Wa.length}catch(Mo){Ya.$sdk_debug_error_capturing_properties=String(Mo)}if(this.requestRouter.region===ga.CUSTOM&&(Ya.$lib_custom_api_host=this.config.api_host),Ka=Na!=="$pageview"||Ga?Na!=="$pageleave"||Ga?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(Ba):this.pageViewManager.doPageView(Ba,za),Ya=Mt(Ya,Ka),Na==="$pageview"&&o&&(Ya.title=o.title),!C(Ha)){var Ja=Ba.getTime()-Ha;Ya.$duration=parseFloat((Ja/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(Ya.$browser_type=this._is_bot()?"bot":"browser"),(Ya=Mt({},Qa,this.persistence.properties(),this.sessionPersistence.properties(),Ya)).$is_identified=this._isIdentified(),R(this.config.property_denylist)?Ct(this.config.property_denylist,(function(Mo){delete Ya[Mo]})):xt.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var Oo=this.config.sanitize_properties;Oo&&(xt.error("sanitize_properties is deprecated. Use before_send instead"),Ya=Oo(Ya,Na));var Do=this.Gs();return Ya.$process_person_profile=Do,Do&&!Ga&&this.Vs("_calculate_event_properties"),Ya}Hs(Na){var ja;if(!this.persistence||!this.Gs()||this.Rs)return Na;var Ba=this.persistence.get_initial_props(),za=(ja=this.sessionPropsManager)==null?void 0:ja.getSetOnceProps(),Ga=Mt({},Ba,za||{},Na||{}),Ha=this.config.sanitize_properties;return Ha&&(xt.error("sanitize_properties is deprecated. Use before_send instead"),Ga=Ha(Ga,"$set_once")),this.Rs=!0,T$2(Ga)?void 0:Ga}register(Na,ja){var Ba;(Ba=this.persistence)==null||Ba.register(Na,ja)}register_once(Na,ja,Ba){var za;(za=this.persistence)==null||za.register_once(Na,ja,Ba)}register_for_session(Na){var ja;(ja=this.sessionPersistence)==null||ja.register(Na)}unregister(Na){var ja;(ja=this.persistence)==null||ja.unregister(Na)}unregister_for_session(Na){var ja;(ja=this.sessionPersistence)==null||ja.unregister(Na)}Js(Na,ja){this.register({[Na]:ja})}getFeatureFlag(Na,ja){return this.featureFlags.getFeatureFlag(Na,ja)}getFeatureFlagPayload(Na){var ja=this.featureFlags.getFeatureFlagPayload(Na);try{return JSON.parse(ja)}catch{return ja}}isFeatureEnabled(Na,ja){return this.featureFlags.isFeatureEnabled(Na,ja)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(Na,ja,Ba){this.featureFlags.updateEarlyAccessFeatureEnrollment(Na,ja,Ba)}getEarlyAccessFeatures(Na,ja,Ba){return ja===void 0&&(ja=!1),this.featureFlags.getEarlyAccessFeatures(Na,ja,Ba)}on(Na,ja){return this.Is.on(Na,ja)}onFeatureFlags(Na){return this.featureFlags.onFeatureFlags(Na)}onSurveysLoaded(Na){return this.surveys.onSurveysLoaded(Na)}onSessionId(Na){var ja,Ba;return(ja=(Ba=this.sessionManager)==null?void 0:Ba.onSessionId(Na))!==null&&ja!==void 0?ja:()=>{}}getSurveys(Na,ja){ja===void 0&&(ja=!1),this.surveys.getSurveys(Na,ja)}getActiveMatchingSurveys(Na,ja){ja===void 0&&(ja=!1),this.surveys.getActiveMatchingSurveys(Na,ja)}renderSurvey(Na,ja){this.surveys.renderSurvey(Na,ja)}displaySurvey(Na,ja){ja===void 0&&(ja=Jo),this.surveys.displaySurvey(Na,ja)}canRenderSurvey(Na){return this.surveys.canRenderSurvey(Na)}canRenderSurveyAsync(Na,ja){return ja===void 0&&(ja=!1),this.surveys.canRenderSurveyAsync(Na,ja)}identify(Na,ja,Ba){if(!this.__loaded||!this.persistence)return xt.uninitializedWarning("posthog.identify");if(D$2(Na)&&(Na=Na.toString(),xt.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),Na)if(["distinct_id","distinctid"].includes(Na.toLowerCase()))xt.critical('The string "'+Na+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(Na!==Pi){if(this.Vs("posthog.identify")){var za=this.get_distinct_id();if(this.register({$user_id:Na}),!this.get_property("$device_id")){var Ga=za;this.register_once({$had_persisted_distinct_id:!0,$device_id:Ga},"")}Na!==za&&Na!==this.get_property(Ht)&&(this.unregister(Ht),this.register({distinct_id:Na}));var Ha=(this.persistence.get_property(wi)||"anonymous")==="anonymous";Na!==za&&Ha?(this.persistence.set_property(wi,"identified"),this.setPersonPropertiesForFlags(g({},Ba||{},ja||{}),!1),this.capture("$identify",{distinct_id:Na,$anon_distinct_id:za},{$set:ja||{},$set_once:Ba||{}}),this.Ms=rn(Na,ja,Ba),this.featureFlags.setAnonymousDistinctId(za)):(ja||Ba)&&this.setPersonProperties(ja,Ba),Na!==za&&(this.reloadFeatureFlags(),this.unregister(bi))}}else xt.critical('The string "'+Pi+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else xt.error("Unique user id has not been set in posthog.identify")}setPersonProperties(Na,ja){if((Na||ja)&&this.Vs("posthog.setPersonProperties")){var Ba=rn(this.get_distinct_id(),Na,ja);this.Ms!==Ba?(this.setPersonPropertiesForFlags(g({},ja||{},Na||{})),this.capture("$set",{$set:Na||{},$set_once:ja||{}}),this.Ms=Ba):xt.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(Na,ja,Ba){if(Na&&ja){if(this.Vs("posthog.group")){var za=this.getGroups();za[Na]!==ja&&this.resetGroupPropertiesForFlags(Na),this.register({$groups:g({},za,{[Na]:ja})}),Ba&&(this.capture("$groupidentify",{$group_type:Na,$group_key:ja,$group_set:Ba}),this.setGroupPropertiesForFlags({[Na]:Ba})),za[Na]===ja||Ba||this.reloadFeatureFlags()}}else xt.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(Na,ja){ja===void 0&&(ja=!0),this.featureFlags.setPersonPropertiesForFlags(Na,ja)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(Na,ja){ja===void 0&&(ja=!0),this.Vs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(Na,ja)}resetGroupPropertiesForFlags(Na){this.featureFlags.resetGroupPropertiesForFlags(Na)}reset(Na){var ja,Ba,za,Ga;if(xt.info("reset"),!this.__loaded)return xt.uninitializedWarning("posthog.reset");var Ha=this.get_property("$device_id");if(this.consent.reset(),(ja=this.persistence)==null||ja.clear(),(Ba=this.sessionPersistence)==null||Ba.clear(),this.surveys.reset(),this.featureFlags.reset(),(za=this.persistence)==null||za.set_property(wi,"anonymous"),(Ga=this.sessionManager)==null||Ga.resetSessionId(),this.Ms=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Pi,$device_id:null},"");else{var Ya=this.config.get_device_id(Ce$1());this.register_once({distinct_id:Ya,$device_id:Na?Ya:Ha},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var Na,ja;return(Na=(ja=this.sessionManager)==null?void 0:ja.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&Na!==void 0?Na:""}get_session_replay_url(Na){if(!this.sessionManager)return"";var{sessionId:ja,sessionStartTimestamp:Ba}=this.sessionManager.checkAndGetSessionAndWindowId(!0),za=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+ja);if(Na!=null&&Na.withTimestamp&&Ba){var Ga,Ha=(Ga=Na.timestampLookBack)!==null&&Ga!==void 0?Ga:10;if(!Ba)return za;za+="?t="+Math.max(Math.floor((new Date().getTime()-Ba)/1e3)-Ha,0)}return za}alias(Na,ja){return Na===this.get_property(qt)?(xt.critical("Attempting to create alias for existing People user - aborting."),-2):this.Vs("posthog.alias")?(C(ja)&&(ja=this.get_distinct_id()),Na!==ja?(this.Js(Ht,Na),this.capture("$create_alias",{alias:Na,distinct_id:ja})):(xt.warn("alias matches current distinct_id - skipping api call."),this.identify(Na),-1)):void 0}set_config(Na){var ja=g({},this.config);if(P$1(Na)){var Ba,za,Ga,Ha,Ya;Mt(this.config,Ma(Na));var Xa=this.As();(Ba=this.persistence)==null||Ba.update_config(this.config,ja,Xa),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Co(g({},this.config,{persistence:"sessionStorage"}),Xa),Le.G()&&Le.J("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(c.DEBUG=!0,xt.info("set_config",{config:Na,oldConfig:ja,newConfig:g({},this.config)})),(za=this.sessionRecording)==null||za.startIfEnabledOrStop(),(Ga=this.autocapture)==null||Ga.startIfEnabled(),(Ha=this.heatmaps)==null||Ha.startIfEnabled(),this.surveys.loadIfEnabled(),this.Ks(),(Ya=this.externalIntegrations)==null||Ya.startIfEnabledOrStop()}}startSessionRecording(Na){var ja=Na===!0,Ba={sampling:ja||!(Na==null||!Na.sampling),linked_flag:ja||!(Na==null||!Na.linked_flag),url_trigger:ja||!(Na==null||!Na.url_trigger),event_trigger:ja||!(Na==null||!Na.event_trigger)};if(Object.values(Ba).some(Boolean)){var za,Ga,Ha,Ya,Xa;(za=this.sessionManager)==null||za.checkAndGetSessionAndWindowId(),Ba.sampling&&((Ga=this.sessionRecording)==null||Ga.overrideSampling()),Ba.linked_flag&&((Ha=this.sessionRecording)==null||Ha.overrideLinkedFlag()),Ba.url_trigger&&((Ya=this.sessionRecording)==null||Ya.overrideTrigger("url")),Ba.event_trigger&&((Xa=this.sessionRecording)==null||Xa.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var Na;return!((Na=this.sessionRecording)==null||!Na.started)}captureException(Na,ja){var Ba=new Error("PostHog syntheticException"),za=this.exceptions.buildProperties(Na,{handled:!0,syntheticException:Ba});return this.exceptions.sendExceptionEvent(g({},za,ja))}loadToolbar(Na){return this.toolbar.loadToolbar(Na)}get_property(Na){var ja;return(ja=this.persistence)==null?void 0:ja.props[Na]}getSessionProperty(Na){var ja;return(ja=this.sessionPersistence)==null?void 0:ja.props[Na]}toString(){var Na,ja=(Na=this.config.name)!==null&&Na!==void 0?Na:Pa;return ja!==Pa&&(ja=Pa+"."+ja),ja}_isIdentified(){var Na,ja;return((Na=this.persistence)==null?void 0:Na.get_property(wi))==="identified"||((ja=this.sessionPersistence)==null?void 0:ja.get_property(wi))==="identified"}Gs(){var Na,ja;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&T$2(this.getGroups())&&((Na=this.persistence)==null||(Na=Na.props)==null||!Na[Ht])&&((ja=this.persistence)==null||(ja=ja.props)==null||!ja[Ri]))}qs(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Gs()||this.Vs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Vs(Na){return this.config.person_profiles==="never"?(xt.error(Na+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Js(Ri,!0),!0)}As(){if(this.config.cookieless_mode==="always")return!0;var Na=this.consent.isOptedOut(),ja=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||Na&&!!ja}Ks(){var Na,ja,Ba,za,Ga=this.As();return((Na=this.persistence)==null?void 0:Na.Ue)!==Ga&&((Ba=this.persistence)==null||Ba.set_disabled(Ga)),((ja=this.sessionPersistence)==null?void 0:ja.Ue)!==Ga&&((za=this.sessionPersistence)==null||za.set_disabled(Ga)),Ga}opt_in_capturing(Na){if(this.config.cookieless_mode!=="always"){var ja;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new ua(this),this.persistence&&(this.sessionPropsManager=new aa(this,this.sessionManager,this.persistence)),this.sessionRecording=new Is(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Ks(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(C(Na?.captureEventName)||Na!=null&&Na.captureEventName)&&this.capture((ja=Na?.captureEventName)!==null&&ja!==void 0?ja:"$opt_in",Na?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Bs()}else xt.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var Na;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Ks(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Pi,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,(Na=this.sessionRecording)==null||Na.stopRecording(),this.sessionRecording=void 0,this.Bs())):xt.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var Na=this.consent.consent;return Na===We.GRANTED?"granted":Na===We.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Ks()}_is_bot(){return n?pa(n,this.config.custom_blocked_useragents):void 0}Bs(){o&&(o.visibilityState==="visible"?this.Ps||(this.Ps=!0,this.capture("$pageview",{title:o.title},{send_instantly:!0}),this.Ts&&(o.removeEventListener("visibilitychange",this.Ts),this.Ts=null)):this.Ts||(this.Ts=this.Bs.bind(this),Bt(o,"visibilitychange",this.Ts)))}debug(Na){Na===!1?(t?.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(t?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var Na,ja,Ba,za,Ga,Ha,Ya,Xa=this.Os||{};return"advanced_disable_flags"in Xa?!!Xa.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(xt.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(Ba="advanced_disable_decide",za=!1,Ga=xt,Ha=(ja="advanced_disable_flags")in(Na=Xa)&&!C(Na[ja]),Ya=Ba in Na&&!C(Na[Ba]),Ha?Na[ja]:Ya?(Ga&&Ga.warn("Config field '"+Ba+"' is deprecated. Please use '"+ja+"' instead. The old field will be removed in a future major version."),Na[Ba]):za)}Ws(Na){if(A(this.config.before_send))return Na;var ja=R(this.config.before_send)?this.config.before_send:[this.config.before_send],Ba=Na;for(var za of ja){if(Ba=za(Ba),A(Ba)){var Ga="Event '"+Na.event+"' was rejected in beforeSend function";return N$1(Na.event)?xt.warn(Ga+". This can cause unexpected behavior."):xt.info(Ga),null}Ba.properties&&!T$2(Ba.properties)||xt.warn("Event '"+Na.event+"' has no properties after beforeSend function, this is likely an error.")}return Ba}getPageViewId(){var Na;return(Na=this.pageViewManager.pe)==null?void 0:Na.pageViewId}captureTraceFeedback(Na,ja){this.capture("$ai_feedback",{$ai_trace_id:String(Na),$ai_feedback_text:ja})}captureTraceMetric(Na,ja,Ba){this.capture("$ai_metric",{$ai_trace_id:String(Na),$ai_metric_name:ja,$ai_metric_value:String(Ba)})}}(function(La,Na){for(var ja=0;ja<Na.length;ja++)La.prototype[Na[ja]]=Dt(La.prototype[Na[ja]])})(Fa,["identify"]);var Aa,Da=(Aa=Ra[Pa]=new Fa,(function(){function La(){La.done||(La.done=!0,Ta=!1,Ct(Ra,(function(Na){Na._dom_loaded()})))}o!=null&&o.addEventListener?o.readyState==="complete"?La():Bt(o,"DOMContentLoaded",La,{capture:!1}):t&&xt.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),Aa);class PostHogTauri{static async init(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this._performInit(),this.initPromise)}static async _performInit(){try{const Na=await invoke("plugin:posthog|get_config");Da.init(Na.apiKey,{api_host:Na.apiHost,...Na.options});const ja=await invoke("plugin:posthog|get_distinct_id");ja&&Da.identify(ja),this.initialized=!0}catch(Na){throw console.error("Failed to initialize PostHog:",Na),new Error(`PostHog initialization failed: ${Na}`)}}static async capture(Na,ja){await this.init(),Da.capture(Na,ja)}static async identify(Na,ja){await this.init(),await invoke("plugin:posthog|identify",{distinct_id:Na,properties:ja}),Da.identify(Na)}static async alias(Na){await this.init(),Da.alias(Na)}static async reset(){await this.init(),await invoke("plugin:posthog|reset"),Da.reset()}static async getDistinctId(){return await this.init(),await invoke("plugin:posthog|get_distinct_id")||Da.get_distinct_id()}static async groupIdentify(Na,ja,Ba){await this.init(),Da.group(Na,ja,Ba)}static async setPersonProperties(Na){await this.init(),Da.setPersonProperties(Na)}static async isFeatureEnabled(Na){return await this.init(),Da.isFeatureEnabled(Na)||!1}static async getFeatureFlag(Na){return await this.init(),Da.getFeatureFlag(Na)}static async getFeatureFlagPayload(Na){return await this.init(),Da.getFeatureFlagPayload(Na)}static async reloadFeatureFlags(){await this.init(),Da.reloadFeatureFlags()}static async capturePageView(Na){await this.init(),Da.capture("$pageview",Na)}static async getInstance(){return await this.init(),Da}static isInitialized(){return this.initialized}static async initialize(){return this.init()}}PostHogTauri.initialized=!1;PostHogTauri.initPromise=null;const ANALYTICS_EVENTS={APP_STARTED:"app_started",GET_LICENSE:"get_license"},captureEvent=async(La,Na)=>{try{await PostHogTauri.capture(La,Na||{})}catch(ja){console.debug("Analytics event failed:",La,ja)}},trackAppStart=async(La,Na)=>{await captureEvent(ANALYTICS_EVENTS.APP_STARTED,{app_version:La,platform:navigator.platform,instance_id:Na})},scriptRel="modulepreload",assetsURL=function(La){return"/"+La},seen={},__vitePreload=function(Na,ja,Ba){let za=Promise.resolve();if(ja&&ja.length>0){let Xa=function(Ka){return Promise.all(Ka.map(Qa=>Promise.resolve(Qa).then(Va=>({status:"fulfilled",value:Va}),Va=>({status:"rejected",reason:Va}))))};document.getElementsByTagName("link");const Ha=document.querySelector("meta[property=csp-nonce]"),Ya=Ha?.nonce||Ha?.getAttribute("nonce");za=Xa(ja.map(Ka=>{if(Ka=assetsURL(Ka),Ka in seen)return;seen[Ka]=!0;const Qa=Ka.endsWith(".css"),Va=Qa?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ka}"]${Va}`))return;const Ua=document.createElement("link");if(Ua.rel=Qa?"stylesheet":scriptRel,Qa||(Ua.as="script"),Ua.crossOrigin="",Ua.href=Ka,Ya&&Ua.setAttribute("nonce",Ya),document.head.appendChild(Ua),Qa)return new Promise((Wa,Ja)=>{Ua.addEventListener("load",Wa),Ua.addEventListener("error",()=>Ja(new Error(`Unable to preload CSS for ${Ka}`)))})}))}function Ga(Ha){const Ya=new Event("vite:preloadError",{cancelable:!0});if(Ya.payload=Ha,window.dispatchEvent(Ya),!Ya.defaultPrevented)throw Ha}return za.then(Ha=>{for(const Ya of Ha||[])Ya.status==="rejected"&&Ga(Ya.reason);return Na().catch(Ga)})};class LogicalSize{constructor(...Na){this.type="Logical",Na.length===1?"Logical"in Na[0]?(this.width=Na[0].Logical.width,this.height=Na[0].Logical.height):(this.width=Na[0].width,this.height=Na[0].height):(this.width=Na[0],this.height=Na[1])}toPhysical(Na){return new PhysicalSize(this.width*Na,this.height*Na)}[SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class PhysicalSize{constructor(...Na){this.type="Physical",Na.length===1?"Physical"in Na[0]?(this.width=Na[0].Physical.width,this.height=Na[0].Physical.height):(this.width=Na[0].width,this.height=Na[0].height):(this.width=Na[0],this.height=Na[1])}toLogical(Na){return new LogicalSize(this.width/Na,this.height/Na)}[SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class Size{constructor(Na){this.size=Na}toLogical(Na){return this.size instanceof LogicalSize?this.size:this.size.toLogical(Na)}toPhysical(Na){return this.size instanceof PhysicalSize?this.size:this.size.toPhysical(Na)}[SERIALIZE_TO_IPC_FN](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class LogicalPosition{constructor(...Na){this.type="Logical",Na.length===1?"Logical"in Na[0]?(this.x=Na[0].Logical.x,this.y=Na[0].Logical.y):(this.x=Na[0].x,this.y=Na[0].y):(this.x=Na[0],this.y=Na[1])}toPhysical(Na){return new PhysicalPosition(this.x*Na,this.y*Na)}[SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class PhysicalPosition{constructor(...Na){this.type="Physical",Na.length===1?"Physical"in Na[0]?(this.x=Na[0].Physical.x,this.y=Na[0].Physical.y):(this.x=Na[0].x,this.y=Na[0].y):(this.x=Na[0],this.y=Na[1])}toLogical(Na){return new LogicalPosition(this.x/Na,this.y/Na)}[SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class Position{constructor(Na){this.position=Na}toLogical(Na){return this.position instanceof LogicalPosition?this.position:this.position.toLogical(Na)}toPhysical(Na){return this.position instanceof PhysicalPosition?this.position:this.position.toPhysical(Na)}[SERIALIZE_TO_IPC_FN](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}let Image$1=class kp extends Resource{constructor(Na){super(Na)}static async new(Na,ja,Ba){return invoke("plugin:image|new",{rgba:transformImage(Na),width:ja,height:Ba}).then(za=>new kp(za))}static async fromBytes(Na){return invoke("plugin:image|from_bytes",{bytes:transformImage(Na)}).then(ja=>new kp(ja))}static async fromPath(Na){return invoke("plugin:image|from_path",{path:Na}).then(ja=>new kp(ja))}async rgba(){return invoke("plugin:image|rgba",{rid:this.rid}).then(Na=>new Uint8Array(Na))}async size(){return invoke("plugin:image|size",{rid:this.rid})}};function transformImage(La){return La==null?null:typeof La=="string"?La:La instanceof Image$1?La.rid:La}var UserAttentionType;(function(La){La[La.Critical=1]="Critical",La[La.Informational=2]="Informational"})(UserAttentionType||(UserAttentionType={}));class CloseRequestedEvent{constructor(Na){this._preventDefault=!1,this.event=Na.event,this.id=Na.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var ProgressBarStatus;(function(La){La.None="none",La.Normal="normal",La.Indeterminate="indeterminate",La.Paused="paused",La.Error="error"})(ProgressBarStatus||(ProgressBarStatus={}));function getCurrentWindow(){return new Window(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function getAllWindows(){return invoke("plugin:window|get_all_windows").then(La=>La.map(Na=>new Window(Na,{skip:!0})))}const localTauriEvents$1=["tauri://created","tauri://error"];class Window{constructor(Na,ja={}){var Ba;this.label=Na,this.listeners=Object.create(null),ja?.skip||invoke("plugin:window|create",{options:{...ja,parent:typeof ja.parent=="string"?ja.parent:(Ba=ja.parent)===null||Ba===void 0?void 0:Ba.label,label:Na}}).then(async()=>this.emit("tauri://created")).catch(async za=>this.emit("tauri://error",za))}static async getByLabel(Na){var ja;return(ja=(await getAllWindows()).find(Ba=>Ba.label===Na))!==null&&ja!==void 0?ja:null}static getCurrent(){return getCurrentWindow()}static async getAll(){return getAllWindows()}static async getFocusedWindow(){for(const Na of await getAllWindows())if(await Na.isFocused())return Na;return null}async listen(Na,ja){return this._handleTauriEvent(Na,ja)?()=>{const Ba=this.listeners[Na];Ba.splice(Ba.indexOf(ja),1)}:listen(Na,ja,{target:{kind:"Window",label:this.label}})}async once(Na,ja){return this._handleTauriEvent(Na,ja)?()=>{const Ba=this.listeners[Na];Ba.splice(Ba.indexOf(ja),1)}:once(Na,ja,{target:{kind:"Window",label:this.label}})}async emit(Na,ja){if(localTauriEvents$1.includes(Na)){for(const Ba of this.listeners[Na]||[])Ba({event:Na,id:-1,payload:ja});return}return emit(Na,ja)}async emitTo(Na,ja,Ba){if(localTauriEvents$1.includes(ja)){for(const za of this.listeners[ja]||[])za({event:ja,id:-1,payload:Ba});return}return emitTo(Na,ja,Ba)}_handleTauriEvent(Na,ja){return localTauriEvents$1.includes(Na)?(Na in this.listeners?this.listeners[Na].push(ja):this.listeners[Na]=[ja],!0):!1}async scaleFactor(){return invoke("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return invoke("plugin:window|inner_position",{label:this.label}).then(Na=>new PhysicalPosition(Na))}async outerPosition(){return invoke("plugin:window|outer_position",{label:this.label}).then(Na=>new PhysicalPosition(Na))}async innerSize(){return invoke("plugin:window|inner_size",{label:this.label}).then(Na=>new PhysicalSize(Na))}async outerSize(){return invoke("plugin:window|outer_size",{label:this.label}).then(Na=>new PhysicalSize(Na))}async isFullscreen(){return invoke("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return invoke("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return invoke("plugin:window|is_maximized",{label:this.label})}async isFocused(){return invoke("plugin:window|is_focused",{label:this.label})}async isDecorated(){return invoke("plugin:window|is_decorated",{label:this.label})}async isResizable(){return invoke("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return invoke("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return invoke("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return invoke("plugin:window|is_closable",{label:this.label})}async isVisible(){return invoke("plugin:window|is_visible",{label:this.label})}async title(){return invoke("plugin:window|title",{label:this.label})}async theme(){return invoke("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return invoke("plugin:window|is_always_on_top",{label:this.label})}async center(){return invoke("plugin:window|center",{label:this.label})}async requestUserAttention(Na){let ja=null;return Na&&(Na===UserAttentionType.Critical?ja={type:"Critical"}:ja={type:"Informational"}),invoke("plugin:window|request_user_attention",{label:this.label,value:ja})}async setResizable(Na){return invoke("plugin:window|set_resizable",{label:this.label,value:Na})}async setEnabled(Na){return invoke("plugin:window|set_enabled",{label:this.label,value:Na})}async isEnabled(){return invoke("plugin:window|is_enabled",{label:this.label})}async setMaximizable(Na){return invoke("plugin:window|set_maximizable",{label:this.label,value:Na})}async setMinimizable(Na){return invoke("plugin:window|set_minimizable",{label:this.label,value:Na})}async setClosable(Na){return invoke("plugin:window|set_closable",{label:this.label,value:Na})}async setTitle(Na){return invoke("plugin:window|set_title",{label:this.label,value:Na})}async maximize(){return invoke("plugin:window|maximize",{label:this.label})}async unmaximize(){return invoke("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return invoke("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return invoke("plugin:window|minimize",{label:this.label})}async unminimize(){return invoke("plugin:window|unminimize",{label:this.label})}async show(){return invoke("plugin:window|show",{label:this.label})}async hide(){return invoke("plugin:window|hide",{label:this.label})}async close(){return invoke("plugin:window|close",{label:this.label})}async destroy(){return invoke("plugin:window|destroy",{label:this.label})}async setDecorations(Na){return invoke("plugin:window|set_decorations",{label:this.label,value:Na})}async setShadow(Na){return invoke("plugin:window|set_shadow",{label:this.label,value:Na})}async setEffects(Na){return invoke("plugin:window|set_effects",{label:this.label,value:Na})}async clearEffects(){return invoke("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(Na){return invoke("plugin:window|set_always_on_top",{label:this.label,value:Na})}async setAlwaysOnBottom(Na){return invoke("plugin:window|set_always_on_bottom",{label:this.label,value:Na})}async setContentProtected(Na){return invoke("plugin:window|set_content_protected",{label:this.label,value:Na})}async setSize(Na){return invoke("plugin:window|set_size",{label:this.label,value:Na instanceof Size?Na:new Size(Na)})}async setMinSize(Na){return invoke("plugin:window|set_min_size",{label:this.label,value:Na instanceof Size?Na:Na?new Size(Na):null})}async setMaxSize(Na){return invoke("plugin:window|set_max_size",{label:this.label,value:Na instanceof Size?Na:Na?new Size(Na):null})}async setSizeConstraints(Na){function ja(Ba){return Ba?{Logical:Ba}:null}return invoke("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:ja(Na?.minWidth),minHeight:ja(Na?.minHeight),maxWidth:ja(Na?.maxWidth),maxHeight:ja(Na?.maxHeight)}})}async setPosition(Na){return invoke("plugin:window|set_position",{label:this.label,value:Na instanceof Position?Na:new Position(Na)})}async setFullscreen(Na){return invoke("plugin:window|set_fullscreen",{label:this.label,value:Na})}async setSimpleFullscreen(Na){return invoke("plugin:window|set_simple_fullscreen",{label:this.label,value:Na})}async setFocus(){return invoke("plugin:window|set_focus",{label:this.label})}async setFocusable(Na){return invoke("plugin:window|set_focusable",{label:this.label,value:Na})}async setIcon(Na){return invoke("plugin:window|set_icon",{label:this.label,value:transformImage(Na)})}async setSkipTaskbar(Na){return invoke("plugin:window|set_skip_taskbar",{label:this.label,value:Na})}async setCursorGrab(Na){return invoke("plugin:window|set_cursor_grab",{label:this.label,value:Na})}async setCursorVisible(Na){return invoke("plugin:window|set_cursor_visible",{label:this.label,value:Na})}async setCursorIcon(Na){return invoke("plugin:window|set_cursor_icon",{label:this.label,value:Na})}async setBackgroundColor(Na){return invoke("plugin:window|set_background_color",{color:Na})}async setCursorPosition(Na){return invoke("plugin:window|set_cursor_position",{label:this.label,value:Na instanceof Position?Na:new Position(Na)})}async setIgnoreCursorEvents(Na){return invoke("plugin:window|set_ignore_cursor_events",{label:this.label,value:Na})}async startDragging(){return invoke("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(Na){return invoke("plugin:window|start_resize_dragging",{label:this.label,value:Na})}async setBadgeCount(Na){return invoke("plugin:window|set_badge_count",{label:this.label,value:Na})}async setBadgeLabel(Na){return invoke("plugin:window|set_badge_label",{label:this.label,value:Na})}async setOverlayIcon(Na){return invoke("plugin:window|set_overlay_icon",{label:this.label,value:Na?transformImage(Na):void 0})}async setProgressBar(Na){return invoke("plugin:window|set_progress_bar",{label:this.label,value:Na})}async setVisibleOnAllWorkspaces(Na){return invoke("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:Na})}async setTitleBarStyle(Na){return invoke("plugin:window|set_title_bar_style",{label:this.label,value:Na})}async setTheme(Na){return invoke("plugin:window|set_theme",{label:this.label,value:Na})}async onResized(Na){return this.listen(TauriEvent.WINDOW_RESIZED,ja=>{ja.payload=new PhysicalSize(ja.payload),Na(ja)})}async onMoved(Na){return this.listen(TauriEvent.WINDOW_MOVED,ja=>{ja.payload=new PhysicalPosition(ja.payload),Na(ja)})}async onCloseRequested(Na){return this.listen(TauriEvent.WINDOW_CLOSE_REQUESTED,async ja=>{const Ba=new CloseRequestedEvent(ja);await Na(Ba),Ba.isPreventDefault()||await this.destroy()})}async onDragDropEvent(Na){const ja=await this.listen(TauriEvent.DRAG_ENTER,Ha=>{Na({...Ha,payload:{type:"enter",paths:Ha.payload.paths,position:new PhysicalPosition(Ha.payload.position)}})}),Ba=await this.listen(TauriEvent.DRAG_OVER,Ha=>{Na({...Ha,payload:{type:"over",position:new PhysicalPosition(Ha.payload.position)}})}),za=await this.listen(TauriEvent.DRAG_DROP,Ha=>{Na({...Ha,payload:{type:"drop",paths:Ha.payload.paths,position:new PhysicalPosition(Ha.payload.position)}})}),Ga=await this.listen(TauriEvent.DRAG_LEAVE,Ha=>{Na({...Ha,payload:{type:"leave"}})});return()=>{ja(),za(),Ba(),Ga()}}async onFocusChanged(Na){const ja=await this.listen(TauriEvent.WINDOW_FOCUS,za=>{Na({...za,payload:!0})}),Ba=await this.listen(TauriEvent.WINDOW_BLUR,za=>{Na({...za,payload:!1})});return()=>{ja(),Ba()}}async onScaleChanged(Na){return this.listen(TauriEvent.WINDOW_SCALE_FACTOR_CHANGED,Na)}async onThemeChanged(Na){return this.listen(TauriEvent.WINDOW_THEME_CHANGED,Na)}}var BackgroundThrottlingPolicy;(function(La){La.Disabled="disabled",La.Throttle="throttle",La.Suspend="suspend"})(BackgroundThrottlingPolicy||(BackgroundThrottlingPolicy={}));var Effect;(function(La){La.AppearanceBased="appearanceBased",La.Light="light",La.Dark="dark",La.MediumLight="mediumLight",La.UltraDark="ultraDark",La.Titlebar="titlebar",La.Selection="selection",La.Menu="menu",La.Popover="popover",La.Sidebar="sidebar",La.HeaderView="headerView",La.Sheet="sheet",La.WindowBackground="windowBackground",La.HudWindow="hudWindow",La.FullScreenUI="fullScreenUI",La.Tooltip="tooltip",La.ContentBackground="contentBackground",La.UnderWindowBackground="underWindowBackground",La.UnderPageBackground="underPageBackground",La.Mica="mica",La.Blur="blur",La.Acrylic="acrylic",La.Tabbed="tabbed",La.TabbedDark="tabbedDark",La.TabbedLight="tabbedLight"})(Effect||(Effect={}));var EffectState;(function(La){La.FollowsWindowActiveState="followsWindowActiveState",La.Active="active",La.Inactive="inactive"})(EffectState||(EffectState={}));function getCurrentWebview(){return new Webview(getCurrentWindow(),window.__TAURI_INTERNALS__.metadata.currentWebview.label,{skip:!0})}async function getAllWebviews(){return invoke("plugin:webview|get_all_webviews").then(La=>La.map(Na=>new Webview(new Window(Na.windowLabel,{skip:!0}),Na.label,{skip:!0})))}const localTauriEvents=["tauri://created","tauri://error"];class Webview{constructor(Na,ja,Ba){this.window=Na,this.label=ja,this.listeners=Object.create(null),Ba?.skip||invoke("plugin:webview|create_webview",{windowLabel:Na.label,options:{...Ba,label:ja}}).then(async()=>this.emit("tauri://created")).catch(async za=>this.emit("tauri://error",za))}static async getByLabel(Na){var ja;return(ja=(await getAllWebviews()).find(Ba=>Ba.label===Na))!==null&&ja!==void 0?ja:null}static getCurrent(){return getCurrentWebview()}static async getAll(){return getAllWebviews()}async listen(Na,ja){return this._handleTauriEvent(Na,ja)?()=>{const Ba=this.listeners[Na];Ba.splice(Ba.indexOf(ja),1)}:listen(Na,ja,{target:{kind:"Webview",label:this.label}})}async once(Na,ja){return this._handleTauriEvent(Na,ja)?()=>{const Ba=this.listeners[Na];Ba.splice(Ba.indexOf(ja),1)}:once(Na,ja,{target:{kind:"Webview",label:this.label}})}async emit(Na,ja){if(localTauriEvents.includes(Na)){for(const Ba of this.listeners[Na]||[])Ba({event:Na,id:-1,payload:ja});return}return emit(Na,ja)}async emitTo(Na,ja,Ba){if(localTauriEvents.includes(ja)){for(const za of this.listeners[ja]||[])za({event:ja,id:-1,payload:Ba});return}return emitTo(Na,ja,Ba)}_handleTauriEvent(Na,ja){return localTauriEvents.includes(Na)?(Na in this.listeners?this.listeners[Na].push(ja):this.listeners[Na]=[ja],!0):!1}async position(){return invoke("plugin:webview|webview_position",{label:this.label}).then(Na=>new PhysicalPosition(Na))}async size(){return invoke("plugin:webview|webview_size",{label:this.label}).then(Na=>new PhysicalSize(Na))}async close(){return invoke("plugin:webview|webview_close",{label:this.label})}async setSize(Na){return invoke("plugin:webview|set_webview_size",{label:this.label,value:Na instanceof Size?Na:new Size(Na)})}async setPosition(Na){return invoke("plugin:webview|set_webview_position",{label:this.label,value:Na instanceof Position?Na:new Position(Na)})}async setFocus(){return invoke("plugin:webview|set_webview_focus",{label:this.label})}async setAutoResize(Na){return invoke("plugin:webview|set_webview_auto_resize",{label:this.label,value:Na})}async hide(){return invoke("plugin:webview|webview_hide",{label:this.label})}async show(){return invoke("plugin:webview|webview_show",{label:this.label})}async setZoom(Na){return invoke("plugin:webview|set_webview_zoom",{label:this.label,value:Na})}async reparent(Na){return invoke("plugin:webview|reparent",{label:this.label,window:typeof Na=="string"?Na:Na.label})}async clearAllBrowsingData(){return invoke("plugin:webview|clear_all_browsing_data")}async setBackgroundColor(Na){return invoke("plugin:webview|set_webview_background_color",{color:Na})}async onDragDropEvent(Na){const ja=await this.listen(TauriEvent.DRAG_ENTER,Ha=>{Na({...Ha,payload:{type:"enter",paths:Ha.payload.paths,position:new PhysicalPosition(Ha.payload.position)}})}),Ba=await this.listen(TauriEvent.DRAG_OVER,Ha=>{Na({...Ha,payload:{type:"over",position:new PhysicalPosition(Ha.payload.position)}})}),za=await this.listen(TauriEvent.DRAG_DROP,Ha=>{Na({...Ha,payload:{type:"drop",paths:Ha.payload.paths,position:new PhysicalPosition(Ha.payload.position)}})}),Ga=await this.listen(TauriEvent.DRAG_LEAVE,Ha=>{Na({...Ha,payload:{type:"leave"}})});return()=>{ja(),za(),Ba(),Ga()}}}function getCurrentWebviewWindow(){const La=getCurrentWebview();return new WebviewWindow(La.label,{skip:!0})}async function getAllWebviewWindows(){return invoke("plugin:window|get_all_windows").then(La=>La.map(Na=>new WebviewWindow(Na,{skip:!0})))}class WebviewWindow{constructor(Na,ja={}){var Ba;this.label=Na,this.listeners=Object.create(null),ja?.skip||invoke("plugin:webview|create_webview_window",{options:{...ja,parent:typeof ja.parent=="string"?ja.parent:(Ba=ja.parent)===null||Ba===void 0?void 0:Ba.label,label:Na}}).then(async()=>this.emit("tauri://created")).catch(async za=>this.emit("tauri://error",za))}static async getByLabel(Na){var ja;const Ba=(ja=(await getAllWebviewWindows()).find(za=>za.label===Na))!==null&&ja!==void 0?ja:null;return Ba?new WebviewWindow(Ba.label,{skip:!0}):null}static getCurrent(){return getCurrentWebviewWindow()}static async getAll(){return getAllWebviewWindows()}async listen(Na,ja){return this._handleTauriEvent(Na,ja)?()=>{const Ba=this.listeners[Na];Ba.splice(Ba.indexOf(ja),1)}:listen(Na,ja,{target:{kind:"WebviewWindow",label:this.label}})}async once(Na,ja){return this._handleTauriEvent(Na,ja)?()=>{const Ba=this.listeners[Na];Ba.splice(Ba.indexOf(ja),1)}:once(Na,ja,{target:{kind:"WebviewWindow",label:this.label}})}async setBackgroundColor(Na){return invoke("plugin:window|set_background_color",{color:Na}).then(()=>invoke("plugin:webview|set_webview_background_color",{color:Na}))}}applyMixins(WebviewWindow,[Window,Webview]);function applyMixins(La,Na){(Array.isArray(Na)?Na:[Na]).forEach(ja=>{Object.getOwnPropertyNames(ja.prototype).forEach(Ba=>{var za;typeof La.prototype=="object"&&La.prototype&&Ba in La.prototype||Object.defineProperty(La.prototype,Ba,(za=Object.getOwnPropertyDescriptor(ja.prototype,Ba))!==null&&za!==void 0?za:Object.create(null))})})}const isAnyPopoverOpen=()=>document.querySelectorAll("[data-radix-popper-content-wrapper]").length>0,useWindowResize=()=>{const La=reactExports.useCallback(async Na=>{try{const ja=getCurrentWebviewWindow();if(!Na&&isAnyPopoverOpen())return;await invoke("set_window_height",{window:ja,height:Na?600:54})}catch(ja){console.error("Failed to resize window:",ja)}},[]);return reactExports.useEffect(()=>{let Na=!1;const ja=Ga=>{Ga.target.closest('[data-tauri-drag-region="true"]')&&(Na=!0)},Ba=async()=>{Na&&(Na=!1,setTimeout(()=>{isAnyPopoverOpen()||La(!1)},100))},za=new MutationObserver(()=>{isAnyPopoverOpen()||La(!1)});return za.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-state"]}),document.addEventListener("mousedown",ja),document.addEventListener("mouseup",Ba),()=>{document.removeEventListener("mousedown",ja),document.removeEventListener("mouseup",Ba),za.disconnect()}},[La]),{resizeWindow:La}};async function enable(){await invoke("plugin:autostart|enable")}async function disable$1(){await invoke("plugin:autostart|disable")}const validateAndProcessCurlProviders=(La,Na)=>{try{const ja=JSON.parse(La);return Array.isArray(ja)?ja.filter(Ba=>{try{return curl2Json(Ba.curl),!0}catch{return!1}return!0}).map(Ba=>{const za={...Ba,isCustom:!0};return Na==="STT"&&za.curl&&(za.curl=za.curl.replace(/AUDIO_BASE64/g,"AUDIO")),za}):[]}catch(ja){return console.warn(`Failed to parse custom ${Na} providers`,ja),[]}},AppContext=reactExports.createContext(void 0),AppProvider=({children:La})=>{const[Na,ja]=reactExports.useState(safeLocalStorage.getItem(STORAGE_KEYS.SYSTEM_PROMPT)||DEFAULT_SYSTEM_PROMPT),[Ba,za]=reactExports.useState({input:safeLocalStorage.getItem(STORAGE_KEYS.SELECTED_AUDIO_INPUT_DEVICE)||"",output:safeLocalStorage.getItem(STORAGE_KEYS.SELECTED_AUDIO_OUTPUT_DEVICE)||""}),[Ga,Ha]=reactExports.useState([]),[Ya,Xa]=reactExports.useState({provider:"",variables:{}}),[Ka,Qa]=reactExports.useState([]),[Va,Ua]=reactExports.useState({provider:"",variables:{}}),[Wa,Ja]=reactExports.useState({mode:"manual",autoPrompt:"Analyze this screenshot and provide insights",enabled:!0}),[Oo,Do]=reactExports.useState(DEFAULT_CUSTOMIZABLE_STATE),[Mo,el]=reactExports.useState(!1),[tl,rl]=reactExports.useState(!1),[il,al]=reactExports.useState(safeLocalStorage.getItem(STORAGE_KEYS.GHOST_API_ENABLED)==="true"),ll=async()=>{const Rl=await invoke("validate_license_api");el(Rl.is_active);try{const jl=(await invoke("secure_storage_get"))?.license_key||"";!Rl.is_active&&jl.startsWith("TRIAL-")?rl(!0):rl(!1)}catch{}const Tl=localStorage.getItem("auto-configs-enabled");Rl.is_active&&!Tl&&(Ja({mode:"auto",autoPrompt:"Analyze the screenshot and provide insights",enabled:!1}),localStorage.setItem("auto-configs-enabled","true"))},ul=()=>{const Rl=safeLocalStorage.getItem(STORAGE_KEYS.SYSTEM_PROMPT);Rl&&ja(Rl||DEFAULT_SYSTEM_PROMPT);const Tl=safeLocalStorage.getItem(STORAGE_KEYS.SCREENSHOT_CONFIG);if(Tl)try{const Yl=JSON.parse(Tl);typeof Yl=="object"&&Yl!==null&&Ja({mode:Yl.mode||"manual",autoPrompt:Yl.autoPrompt||"Analyze this screenshot and provide insights",enabled:Yl.enabled!==void 0?Yl.enabled:!1})}catch{console.warn("Failed to parse screenshot configuration")}const pl=safeLocalStorage.getItem(STORAGE_KEYS.CUSTOM_AI_PROVIDERS);let jl=[];pl&&(jl=validateAndProcessCurlProviders(pl,"AI")),Ha(jl);const Ll=safeLocalStorage.getItem(STORAGE_KEYS.CUSTOM_SPEECH_PROVIDERS);let Dl=[];Ll&&(Dl=validateAndProcessCurlProviders(Ll,"STT")),Qa(Dl);const $l=safeLocalStorage.getItem(STORAGE_KEYS.SELECTED_AI_PROVIDER);$l&&Xa(JSON.parse($l));const eu=safeLocalStorage.getItem(STORAGE_KEYS.SELECTED_STT_PROVIDER);eu&&Ua(JSON.parse(eu));const uu=getCustomizableState();Do(uu),ol(uu.cursor.type||"invisible");const su=safeLocalStorage.getItem(STORAGE_KEYS.CUSTOMIZABLE);if(!su)setCustomizableState(uu);else try{JSON.parse(su).autostart||(setCustomizableState(uu),ol(uu.cursor.type||"invisible"))}catch(Yl){console.debug("Failed to check customizable state schema:",Yl)}const pu=safeLocalStorage.getItem(STORAGE_KEYS.GHOST_API_ENABLED);pu!==null&&al(pu==="true")},ol=Rl=>{try{const pl=Rl==="invisible"?"none":Rl||"invisible";document.documentElement.style.setProperty("--cursor-type",pl)}catch{document.documentElement.style.setProperty("--cursor-type","none")}};reactExports.useEffect(()=>{const Rl=async()=>{try{console.log(" Initializing app...");const Tl=await invoke("is_first_launch");if(console.log("First launch check:",Tl),Tl){console.log("First launch detected, creating trial license...");try{const pl=await invoke("create_trial_license");console.log("Trial license response:",pl),pl.activated?(console.log(" Trial license created successfully! 14 days trial activated."),el(!0),al(!0),safeLocalStorage.setItem(STORAGE_KEYS.GHOST_API_ENABLED,"true")):(console.error(" Failed to create trial license:",pl.error),console.error("Full response:",JSON.stringify(pl,null,2)))}catch(pl){console.error(" Error calling create_trial_license:",pl),console.error("Error details:",{message:pl?.message||pl,stack:pl?.stack,toString:pl?.toString()})}}else console.log("Not first launch, validating existing license..."),await ll();try{const pl=await invoke("get_app_version"),jl=await invoke("secure_storage_get");await trackAppStart(pl,jl.instance_id||"")}catch(pl){console.debug("Failed to track app start:",pl)}}catch(Tl){console.error(" Failed to initialize app:",Tl),console.error("Initialization error details:",{message:Tl?.message||Tl,stack:Tl?.stack,toString:Tl?.toString()}),await ll()}};ul(),Rl()},[]),reactExports.useEffect(()=>{(async()=>{try{await Promise.all([invoke("set_app_icon_visibility",{visible:Oo.appIcon.isVisible}),invoke("set_always_on_top",{enabled:Oo.alwaysOnTop.isEnabled})])}catch(Tl){console.error("Failed to apply customizable settings:",Tl)}})()},[Oo]),reactExports.useEffect(()=>{(async()=>{try{safeLocalStorage.getItem(STORAGE_KEYS.AUTOSTART_INITIALIZED)||(Oo?.autostart?.isEnabled??!0?await enable():await disable$1(),safeLocalStorage.setItem(STORAGE_KEYS.AUTOSTART_INITIALIZED,"true"))}catch(Tl){console.debug("Autostart initialization skipped:",Tl)}})()},[]),reactExports.useEffect(()=>{const Rl=async jl=>{try{await invoke("set_app_icon_visibility",{visible:jl})}catch(Ll){console.error("Failed to set app icon visibility:",Ll)}},Tl=listen("handle-app-icon-on-hide",async()=>{getCustomizableState().appIcon.isVisible||await Rl(!1)}),pl=listen("handle-app-icon-on-show",async()=>{await Rl(!0)});return()=>{Tl.then(jl=>jl()),pl.then(jl=>jl())}},[]),reactExports.useEffect(()=>{const Rl=Tl=>{(Tl.key===STORAGE_KEYS.CUSTOM_AI_PROVIDERS||Tl.key===STORAGE_KEYS.SELECTED_AI_PROVIDER||Tl.key===STORAGE_KEYS.CUSTOM_SPEECH_PROVIDERS||Tl.key===STORAGE_KEYS.SELECTED_STT_PROVIDER||Tl.key===STORAGE_KEYS.SYSTEM_PROMPT||Tl.key===STORAGE_KEYS.SCREENSHOT_CONFIG||Tl.key===STORAGE_KEYS.CUSTOMIZABLE)&&ul()};return window.addEventListener("storage",Rl),()=>window.removeEventListener("storage",Rl)},[]),reactExports.useEffect(()=>{Ya.provider&&safeLocalStorage.setItem(STORAGE_KEYS.SELECTED_AI_PROVIDER,JSON.stringify(Ya))},[Ya]),reactExports.useEffect(()=>{Va.provider&&safeLocalStorage.setItem(STORAGE_KEYS.SELECTED_STT_PROVIDER,JSON.stringify(Va))},[Va]);const cl=[...AI_PROVIDERS,...Ga],gl=[...SPEECH_TO_TEXT_PROVIDERS,...Ka],dl={systemPrompt:Na,setSystemPrompt:ja,allAiProviders:cl,customAiProviders:Ga,selectedAIProvider:Ya,onSetSelectedAIProvider:({provider:Rl,variables:Tl})=>{if(Rl&&!cl.some(pl=>pl.id===Rl)){console.warn(`Invalid AI provider ID: ${Rl}`);return}Xa(pl=>({...pl,provider:Rl,variables:Tl}))},allSttProviders:gl,customSttProviders:Ka,selectedSttProvider:Va,onSetSelectedSttProvider:({provider:Rl,variables:Tl})=>{if(Rl&&!gl.some(pl=>pl.id===Rl)){console.warn(`Invalid STT provider ID: ${Rl}`);return}Ua(pl=>({...pl,provider:Rl,variables:Tl}))},screenshotConfiguration:Wa,setScreenshotConfiguration:Ja,customizable:Oo,toggleAppIconVisibility:async Rl=>{const Tl=updateAppIconVisibility(Rl);Do(Tl);try{await invoke("set_app_icon_visibility",{visible:Rl}),ul()}catch(pl){console.error("Failed to toggle app icon visibility:",pl)}},toggleAlwaysOnTop:async Rl=>{const Tl=updateAlwaysOnTop(Rl);Do(Tl);try{await invoke("set_always_on_top",{enabled:Rl}),ul()}catch(pl){console.error("Failed to toggle always on top:",pl)}},toggleTitlesVisibility:Rl=>{const Tl=updateTitlesVisibility(Rl);Do(Tl),ul()},toggleAutostart:async Rl=>{const Tl=updateAutostart(Rl);Do(Tl);try{Rl?await enable():await disable$1(),ul()}catch(pl){console.error("Failed to toggle autostart:",pl);const jl=updateAutostart(!Rl);Do(jl)}},loadData:ul,ScribeApiEnabled:il,setScribeApiEnabled:Rl=>{al(Rl),safeLocalStorage.setItem(STORAGE_KEYS.GHOST_API_ENABLED,String(Rl)),ul()},hasActiveLicense:Mo,setHasActiveLicense:el,getActiveLicenseStatus:ll,selectedAudioDevices:Ba,setSelectedAudioDevices:za,setCursorType:Rl=>{Do(Tl=>({...Tl,cursor:{type:Rl}})),ol(Rl),updateCursorType(Rl),ul()},trialExpired:tl};return jsxRuntimeExports.jsx(AppContext.Provider,{value:dl,children:La})},useApp$1=()=>{const La=reactExports.useContext(AppContext);if(!La)throw new Error("useApp must be used within a AppProvider");return La},initialState={theme:"system",setTheme:()=>null,transparency:10,onSetTransparency:()=>null},ThemeProviderContext=reactExports.createContext(initialState);function ThemeProvider({children:La,defaultTheme:Na="dark",storageKey:ja=STORAGE_KEYS.THEME,...Ba}){const[za,Ga]=reactExports.useState(()=>localStorage.getItem(ja)||Na),[Ha,Ya]=reactExports.useState(()=>localStorage.getItem(STORAGE_KEYS.TRANSPARENCY)||10),Xa=window.matchMedia("(prefers-color-scheme: dark)"),Ka=Xa.matches;reactExports.useEffect(()=>{const Ua=window.document.documentElement,Wa=Oo=>{if(Ua.classList.remove("light","dark"),Oo==="system"){const Do=Xa.matches?"dark":"light";Ua.classList.add(Do)}else Ua.classList.add(Oo)},Ja=()=>{za==="system"&&Wa("system")};return Wa(za),za==="system"&&Xa.addEventListener("change",Ja),()=>{za==="system"&&Xa.removeEventListener("change",Ja)}},[za]),reactExports.useEffect(()=>{const Ua=window.document.documentElement,Wa=(100-Ha)/100;Ua.style.setProperty("--opacity",Wa.toString()),Ha>0?Ua.style.setProperty("--backdrop-blur","blur(12px)"):Ua.style.setProperty("--backdrop-blur","none")},[Ha]);const Va={theme:za,setTheme:Ua=>{localStorage.setItem(ja,Ua),Ga(Ua)},isSystemThemeDark:Ka,transparency:Ha,onSetTransparency:Ua=>{localStorage.setItem(STORAGE_KEYS.TRANSPARENCY,Ua.toString()),Ya(Ua)}};return jsxRuntimeExports.jsx(ThemeProviderContext.Provider,{...Ba,value:Va,children:La})}const useTheme=()=>{const La=reactExports.useContext(ThemeProviderContext);if(La===void 0)throw new Error("useTheme must be used within a ThemeProvider");return La},useCompletion=()=>{const{selectedAIProvider:La,allAiProviders:Na,systemPrompt:ja,screenshotConfiguration:Ba,setScreenshotConfiguration:za}=useApp$1(),Ga=useGlobalShortcuts(),[Ha,Ya]=reactExports.useState({input:"",response:"",isLoading:!1,error:null,attachedFiles:[],currentConversationId:null,conversationHistory:[]}),[Xa,Ka]=reactExports.useState(!1),[Qa,Va]=reactExports.useState(!1),[Ua,Wa]=reactExports.useState(!1),[Ja,Oo]=reactExports.useState(!1),[Do,Mo]=reactExports.useState(!1),[el,tl]=reactExports.useState(!1),rl=reactExports.useRef(null),il=reactExports.useRef(!1),al=reactExports.useRef(Ba),ll=reactExports.useRef(!1),{resizeWindow:ul}=useWindowResize();reactExports.useEffect(()=>{al.current=Ba},[Ba]);const ol=reactExports.useRef(null),cl=reactExports.useRef(null),gl=reactExports.useRef(null),bl=reactExports.useCallback(Yl=>{Ya(ru=>({...ru,input:Yl}))},[]),_l=reactExports.useCallback(Yl=>{Ya(ru=>({...ru,response:Yl}))},[]),xl=reactExports.useCallback(async Yl=>{try{const ru=await dl(Yl),lu={id:Date.now().toString(),name:Yl.name,type:Yl.type,base64:ru,size:Yl.size};Ya(fu=>({...fu,attachedFiles:[...fu.attachedFiles,lu]}))}catch(ru){console.error("Failed to process file:",ru)}},[]),Al=reactExports.useCallback(Yl=>{Ya(ru=>({...ru,attachedFiles:ru.attachedFiles.filter(lu=>lu.id!==Yl)}))},[]),ml=reactExports.useCallback(()=>{Ya(Yl=>({...Yl,attachedFiles:[]}))},[]),Sl=reactExports.useCallback(async Yl=>{const ru=Yl||Ha.input;if(!ru.trim())return;Yl&&Ya(bu=>({...bu,input:Yl}));const lu=generateRequestId();gl.current=lu,cl.current&&cl.current.abort(),cl.current=new AbortController;const fu=cl.current.signal;try{const bu=Ha.conversationHistory.map(gu=>({role:gu.role,content:gu.content})),xu=[];Ha.attachedFiles.length>0&&Ha.attachedFiles.forEach(gu=>{gu.type.startsWith("image/")&&xu.push(gu.base64)});let Du="";const Zu=detectIntent(ru);if(Zu.type==="action"&&Zu.confidence==="high"&&Zu.action)try{const gu=await invoke("execute_action",{actionType:Zu.action,params:Zu.params||{},skipConfirmation:!0});gu.success?Ya(Pu=>({...Pu,input:"",attachedFiles:[],response:gu.message,isLoading:!1})):Ya(Pu=>({...Pu,error:gu.message||"Action failed",isLoading:!1}));return}catch(gu){console.error("Action execution failed:",gu),Ya(Pu=>({...Pu,error:gu.message||"Failed to execute action",isLoading:!1}));return}if(shouldUseAIForIntent(Zu)){const gu=await shouldUseScribeAPI(),Pu=Na.find(hc=>hc.id===La.provider);if(Pu||gu){const hc=await extractIntentWithAI(ru,gu?void 0:Pu,La,fu);if(hc.type==="action"&&hc.action)try{const Au=await invoke("execute_action",{actionType:hc.action,params:hc.params||{},skipConfirmation:!0});Au.success?Ya(Ql=>({...Ql,input:"",attachedFiles:[],response:Au.message,isLoading:!1})):Ya(Ql=>({...Ql,error:Au.message||"Action failed",isLoading:!1}));return}catch(Au){console.error("AI-extracted action execution failed:",Au)}}}const ic=await shouldUseScribeAPI();if(!La.provider&&!ic){Ya(gu=>({...gu,error:"Please select an AI provider in settings"}));return}const Mu=Na.find(gu=>gu.id===La.provider);if(!Mu&&!ic){Ya(gu=>({...gu,error:"Invalid provider selected"}));return}Ya(gu=>({...gu,isLoading:!0,error:null,response:""}));try{for await(const gu of fetchAIResponse({provider:ic?void 0:Mu,selectedProvider:La,systemPrompt:ja||void 0,history:bu,userMessage:ru,imagesBase64:xu,signal:fu})){if(gl.current!==lu||fu.aborted)return;Du+=gu,Ya(Pu=>({...Pu,response:Pu.response+gu}))}}catch(gu){gl.current===lu&&!fu.aborted&&Ya(Pu=>({...Pu,isLoading:!1,error:gu.message||"An error occurred"}));return}if(gl.current!==lu||fu.aborted)return;Ya(gu=>({...gu,isLoading:!1})),setTimeout(()=>{rl.current?.focus()},100),Du&&(await pl(ru,Du,Ha.attachedFiles),Ya(gu=>({...gu,input:"",attachedFiles:[]})))}catch(bu){!fu?.aborted&&gl.current===lu&&Ya(xu=>({...xu,error:bu instanceof Error?bu.message:"An error occurred",isLoading:!1}))}},[Ha.input,Ha.attachedFiles,La,Na,ja,Ha.conversationHistory]),Cl=reactExports.useCallback(()=>{cl.current&&(cl.current.abort(),cl.current=null),gl.current=null,Ya(Yl=>({...Yl,isLoading:!1}))},[]),Nl=reactExports.useCallback(()=>{el||(Cl(),Ya(Yl=>({...Yl,input:"",response:"",error:null,attachedFiles:[]})))},[Cl,el]),dl=reactExports.useCallback(async Yl=>new Promise((ru,lu)=>{const fu=new FileReader;fu.readAsDataURL(Yl),fu.onload=()=>{const bu=fu.result?.split(",")[1]||"";ru(bu)},fu.onerror=lu}),[]),Rl=reactExports.useCallback(Yl=>{Ya(ru=>({...ru,currentConversationId:Yl.id,conversationHistory:Yl.messages,input:"",response:"",error:null,isLoading:!1}))},[]),Tl=reactExports.useCallback(()=>{Ya(Yl=>({...Yl,currentConversationId:null,conversationHistory:[],input:"",response:"",error:null,isLoading:!1,attachedFiles:[]}))},[]),pl=reactExports.useCallback(async(Yl,ru,lu)=>{if(!Yl||!ru){console.error("Cannot save conversation: missing message content");return}const fu=Ha.currentConversationId||generateConversationId("chat"),bu=Date.now(),xu={id:generateMessageId("user",bu),role:"user",content:Yl,timestamp:bu},Du={id:generateMessageId("assistant",bu+MESSAGE_ID_OFFSET),role:"assistant",content:ru,timestamp:bu+MESSAGE_ID_OFFSET},Zu=[...Ha.conversationHistory,xu,Du];let ic=null;if(Ha.currentConversationId)try{ic=await getConversationById(Ha.currentConversationId)}catch(Pu){console.error("Failed to get existing conversation:",Pu)}const Mu=Ha.conversationHistory.length===0?generateConversationTitle(Yl):ic?.title||generateConversationTitle(Yl),gu={id:fu,title:Mu,messages:Zu,createdAt:ic?.createdAt||bu,updatedAt:bu};try{await saveConversation(gu),Ya(Pu=>({...Pu,currentConversationId:fu,conversationHistory:Zu}))}catch(Pu){console.error("Failed to save conversation:",Pu),Ya(hc=>({...hc,error:"Failed to save conversation. Please try again."}))}},[Ha.currentConversationId,Ha.conversationHistory]);reactExports.useEffect(()=>{const Yl=async fu=>{const{id:bu}=fu.detail;if(!bu||typeof bu!="string"){console.error("No conversation ID provided"),Ya(xu=>({...xu,error:"Invalid conversation selected"}));return}try{const xu=await getConversationById(bu);xu?Rl(xu):(console.error(`Conversation ${bu} not found in database`),Ya(Du=>({...Du,error:"Conversation not found. It may have been deleted."})))}catch(xu){console.error("Failed to load conversation:",xu),Ya(Du=>({...Du,error:"Failed to load conversation. Please try again."}))}},ru=()=>{Tl()},lu=fu=>{const bu=fu.detail;Ha.currentConversationId===bu&&Tl()};return window.addEventListener("conversationSelected",Yl),window.addEventListener("newConversation",ru),window.addEventListener("conversationDeleted",lu),()=>{window.removeEventListener("conversationSelected",Yl),window.removeEventListener("newConversation",ru),window.removeEventListener("conversationDeleted",lu)}},[Rl,Tl,Ha.currentConversationId]);const jl=Yl=>{const ru=Array.from(Yl.target.files||[]),lu=6;ru.forEach(fu=>{fu.type.startsWith("image/")&&Ha.attachedFiles.length<lu&&xl(fu)}),Yl.target.value=""},Ll=reactExports.useCallback(async(Yl,ru)=>{if(Ha.attachedFiles.length>=MAX_FILES){Ya(lu=>({...lu,error:`You can only upload ${MAX_FILES} files`}));return}try{if(ru){const lu={id:Date.now().toString(),name:`screenshot_${Date.now()}.png`,type:"image/png",base64:Yl,size:Yl.length},fu=generateRequestId();gl.current=fu,cl.current&&cl.current.abort(),cl.current=new AbortController;const bu=cl.current.signal;try{const xu=Ha.conversationHistory.map(Mu=>({role:Mu.role,content:Mu.content}));let Du="";const Zu=await shouldUseScribeAPI();if(!La.provider&&!Zu){Ya(Mu=>({...Mu,error:"Please select an AI provider in settings"}));return}const ic=Na.find(Mu=>Mu.id===La.provider);if(!ic&&!Zu){Ya(Mu=>({...Mu,error:"Invalid provider selected"}));return}Ya(Mu=>({...Mu,input:ru,isLoading:!0,error:null,response:""}));for await(const Mu of fetchAIResponse({provider:Zu?void 0:ic,selectedProvider:La,systemPrompt:ja||void 0,history:xu,userMessage:ru,imagesBase64:[Yl],signal:bu})){if(gl.current!==fu||bu.aborted)return;Du+=Mu,Ya(gu=>({...gu,response:gu.response+Mu}))}if(gl.current!==fu||bu.aborted)return;Ya(Mu=>({...Mu,isLoading:!1})),setTimeout(()=>{rl.current?.focus()},100),Du&&(await pl(ru,Du,[lu]),Ya(Mu=>({...Mu,input:""})))}catch(xu){gl.current===fu&&!bu.aborted&&Ya(Du=>({...Du,error:xu.message||"An error occurred"}))}finally{gl.current===fu&&!bu.aborted&&Ya(xu=>({...xu,isLoading:!1}))}}else{const lu={id:Date.now().toString(),name:`screenshot_${Date.now()}.png`,type:"image/png",base64:Yl,size:Yl.length};Ya(fu=>({...fu,attachedFiles:[...fu.attachedFiles,lu]}))}}catch(lu){console.error("Failed to process screenshot:",lu),Ya(fu=>({...fu,error:lu instanceof Error?lu.message:"An error occurred processing screenshot",isLoading:!1}))}},[Ha.attachedFiles.length,Ha.conversationHistory,La,Na,ja,pl,rl]),Dl=()=>{ml(),Oo(!1)},$l=Yl=>{Yl.key==="Enter"&&!Yl.shiftKey&&(Yl.preventDefault(),!Ha.isLoading&&Ha.input.trim()&&Sl())},eu=reactExports.useCallback(async Yl=>{const ru=Yl.clipboardData?.items;if(!ru)return;if(Array.from(ru).some(fu=>fu.type.startsWith("image/"))){Yl.preventDefault();const fu=[];Array.from(ru).forEach(bu=>{if(bu.type.startsWith("image/")&&Ha.attachedFiles.length+fu.length<MAX_FILES){const xu=bu.getAsFile();xu&&fu.push(xu)}}),await Promise.all(fu.map(bu=>xl(bu)))}},[Ha.attachedFiles.length,xl]),uu=Ha.isLoading||Ha.response!==""||Ha.error!==null||el;reactExports.useEffect(()=>{ul(uu||Xa||Ua||Ja)},[uu,Xa,Ua,ul,Ja]),reactExports.useEffect(()=>{if(!el&&Ha.response&&ol.current){const Yl=ol.current.querySelector("[data-radix-scroll-area-viewport]");Yl&&Yl.scrollTo({top:Yl.scrollHeight,behavior:"smooth"})}},[Ha.response,el]),reactExports.useEffect(()=>{const Yl=ru=>{if(!uu)return;const fu=(ol.current||ol.current)?.querySelector("[data-radix-scroll-area-viewport]");if(!fu)return;const bu=100;ru.key==="ArrowDown"?(ru.preventDefault(),fu.scrollBy({top:bu,behavior:"smooth"})):ru.key==="ArrowUp"&&(ru.preventDefault(),fu.scrollBy({top:-bu,behavior:"smooth"}))};return window.addEventListener("keydown",Yl),()=>window.removeEventListener("keydown",Yl)},[uu,ol]),reactExports.useEffect(()=>{const Yl=ru=>{uu&&(ru.metaKey||ru.ctrlKey)&&ru.key==="k"&&(ru.preventDefault(),tl(lu=>!lu),setTimeout(()=>{rl.current?.focus()},100))};return window.addEventListener("keydown",Yl),()=>window.removeEventListener("keydown",Yl)},[uu]);const su=reactExports.useCallback(async()=>{if(!Ll)return;const Yl=al.current;Mo(!0);try{if(navigator.platform.toLowerCase().includes("mac")&&!ll.current){const{checkScreenRecordingPermission:lu,requestScreenRecordingPermission:fu}=await __vitePreload(async()=>{const{checkScreenRecordingPermission:xu,requestScreenRecordingPermission:Du}=await import("./index-CrCM_2f-.js");return{checkScreenRecordingPermission:xu,requestScreenRecordingPermission:Du}},[]);if(!await lu()&&(await fu(),await new Promise(Du=>setTimeout(Du,2e3)),!await lu())){Ya(Du=>({...Du,error:"Screen Recording permission required. Please enable it by going to System Settings > Privacy & Security > Screen & System Audio Recording. If you don't see Scribe in the list, click the '+' button to add it. If it's already listed, make sure it's enabled. Then restart the app."})),Mo(!1);return}ll.current=!0}if(Yl.enabled){const lu=await invoke("capture_to_base64");Yl.mode==="auto"?await Ll(lu,Yl.autoPrompt):Yl.mode==="manual"&&await Ll(lu)}else il.current=!1,await invoke("start_screen_capture")}catch{Ya(lu=>({...lu,error:"Failed to capture screenshot. Please try again."})),il.current=!1}finally{Yl.enabled&&Mo(!1)}},[Ll]);reactExports.useEffect(()=>{let Yl;return(async()=>{Yl=await listen("captured-selection",async lu=>{if(il.current)return;il.current=!0;const fu=lu.payload,bu=al.current;try{bu.mode==="auto"?await Ll(fu,bu.autoPrompt):bu.mode==="manual"&&await Ll(fu)}catch(xu){console.error("Error processing selection:",xu)}finally{Mo(!1),setTimeout(()=>{il.current=!1},100)}})})(),()=>{Yl&&Yl()}},[Ll]),reactExports.useEffect(()=>{const Yl=listen("capture-closed",()=>{Mo(!1),il.current=!1});return()=>{Yl.then(ru=>ru())}},[]);const pu=reactExports.useCallback(()=>{Va(!Qa),Ka(!Xa)},[Qa,Xa]);return reactExports.useEffect(()=>()=>{cl.current&&(cl.current.abort(),cl.current=null),gl.current=null},[]),reactExports.useEffect(()=>{Ga.registerAudioCallback(pu),Ga.registerInputRef(rl.current),Ga.registerScreenshotCallback(su)},[Ga.registerAudioCallback,Ga.registerInputRef,Ga.registerScreenshotCallback,pu,su,rl]),{input:Ha.input,setInput:bl,response:Ha.response,setResponse:_l,isLoading:Ha.isLoading,error:Ha.error,attachedFiles:Ha.attachedFiles,addFile:xl,removeFile:Al,clearFiles:ml,submit:Sl,cancel:Cl,reset:Nl,setState:Ya,enableVAD:Qa,setEnableVAD:Va,micOpen:Xa,setMicOpen:Ka,currentConversationId:Ha.currentConversationId,conversationHistory:Ha.conversationHistory,loadConversation:Rl,startNewConversation:Tl,messageHistoryOpen:Ua,setMessageHistoryOpen:Wa,screenshotConfiguration:Ba,setScreenshotConfiguration:za,handleScreenshotSubmit:Ll,handleFileSelect:jl,handleKeyPress:$l,handlePaste:eu,isPopoverOpen:uu,scrollAreaRef:ol,resizeWindow:ul,isFilesPopoverOpen:Ja,setIsFilesPopoverOpen:Oo,onRemoveAllFiles:Dl,inputRef:rl,captureScreenshot:su,isScreenshotLoading:Do,keepEngaged:el,setKeepEngaged:tl}};function useCustomAiProviders(){const{loadData:La}=useApp$1(),[Na,ja]=reactExports.useState(!1),[Ba,za]=reactExports.useState(null),[Ga,Ha]=reactExports.useState({id:"",streaming:!1,responseContentPath:"",isCustom:!0,curl:""}),[Ya,Xa]=reactExports.useState({}),[Ka,Qa]=reactExports.useState(null);return{errors:Ya,setErrors:Xa,showForm:Na,setShowForm:ja,editingProvider:Ba,setEditingProvider:za,deleteConfirm:Ka,formData:Ga,setFormData:Ha,handleSave:async()=>{const Mo={};if(!Ga.curl.trim())Mo.curl="Curl command is required";else{const el=validateCurl(Ga.curl,["TEXT"]);el.isValid||(Mo.curl=el.message||"")}if(Ga.responseContentPath?.trim()||(Mo.responseContentPath="Response content path is required"),Xa(Mo),!(Object.keys(Mo).length>0))try{if(Ba)updateCustomAiProvider(Ba,{curl:Ga.curl,streaming:Ga.streaming,responseContentPath:Ga.responseContentPath})&&(za(null),ja(!1),Ha({id:"",streaming:!1,responseContentPath:"",isCustom:!0,curl:""}),La());else{const el={curl:Ga.curl,streaming:Ga.streaming,responseContentPath:Ga.responseContentPath};addCustomAiProvider(el)&&(ja(!1),Ha({id:"",streaming:!1,responseContentPath:"",isCustom:!0,curl:""}),La())}}catch(el){console.error("Error saving custom provider:",el)}},handleAutoFill:Mo=>{const el=AI_PROVIDERS.find(tl=>tl.id===Mo);el&&(Ha({...el,curl:el.curl}),Xa({}))},handleEdit:Mo=>{const tl=getCustomAiProviders().find(rl=>rl.id===Mo);tl&&(Ha({...tl}),za(Mo),ja(!Na),Xa({}))},handleDelete:Mo=>{Qa(Mo)},confirmDelete:async()=>{if(Ka)try{removeCustomAiProvider(Ka)&&(Qa(null),La())}catch(Mo){console.error("Error deleting custom provider:",Mo)}},cancelDelete:()=>{Qa(null)}}}const useSettings=()=>{const{systemPrompt:La,setSystemPrompt:Na,screenshotConfiguration:ja,setScreenshotConfiguration:Ba,allAiProviders:za,allSttProviders:Ga,selectedAIProvider:Ha,selectedSttProvider:Ya,onSetSelectedAIProvider:Xa,onSetSelectedSttProvider:Ka,hasActiveLicense:Qa}=useApp$1(),{resizeWindow:Va}=useWindowResize(),[Ua,Wa]=reactExports.useState(!1),[Ja,Oo]=reactExports.useState([]),[Do,Mo]=reactExports.useState([]),[el,tl]=reactExports.useState(!1);reactExports.useEffect(()=>{Va(Ua)},[Ua,Va]);const rl=ul=>{const ol={...ja,mode:ul};Ba(ol),safeLocalStorage.setItem(STORAGE_KEYS.SCREENSHOT_CONFIG,JSON.stringify(ol))},il=ul=>{const ol={...ja,autoPrompt:ul};Ba(ol),safeLocalStorage.setItem(STORAGE_KEYS.SCREENSHOT_CONFIG,JSON.stringify(ol))},al=ul=>{if(!ul&&!Qa)return;const ol={...ja,enabled:ul};Ba(ol),safeLocalStorage.setItem(STORAGE_KEYS.SCREENSHOT_CONFIG,JSON.stringify(ol))};return reactExports.useEffect(()=>{if(Ha.provider){const ul=za.find(ol=>ol.id===Ha.provider);if(ul){const ol=extractVariables(ul?.curl);Oo(ol)}}},[Ha.provider]),reactExports.useEffect(()=>{if(Ya.provider){const ul=Ga.find(ol=>ol.id===Ya.provider);if(ul){const ol=extractVariables(ul?.curl);Mo(ol)}}},[Ya.provider]),{isPopoverOpen:Ua,setIsPopoverOpen:Wa,systemPrompt:La,setSystemPrompt:Na,screenshotConfiguration:ja,setScreenshotConfiguration:Ba,handleScreenshotModeChange:rl,handleScreenshotPromptChange:il,handleScreenshotEnabledChange:al,allAiProviders:za,allSttProviders:Ga,selectedAIProvider:Ha,selectedSttProvider:Ya,onSetSelectedAIProvider:Xa,onSetSelectedSttProvider:Ka,handleDeleteAllChatsConfirm:async()=>{try{await deleteAllConversations(),tl(!1)}catch(ul){console.error("Failed to delete all conversations:",ul)}},showDeleteConfirmDialog:el,setShowDeleteConfirmDialog:tl,variables:Ja,sttVariables:Do,hasActiveLicense:Qa}};let globalEventListeners={},lastScreenshotEventTime=0;const useGlobalShortcuts=()=>{const La=reactExports.useRef(null),Na=reactExports.useRef(null),ja=reactExports.useRef(null),Ba=reactExports.useRef(null),za=reactExports.useRef(new Map),Ga=reactExports.useCallback(async()=>{try{return await invoke("check_shortcuts_registered")}catch(Ja){return console.error("Failed to check shortcuts:",Ja),!1}},[]),Ha=reactExports.useCallback(async()=>{try{return await invoke("get_registered_shortcuts")}catch(Ja){return console.error("Failed to get shortcuts:",Ja),null}},[]),Ya=reactExports.useCallback(async()=>{try{const Ja=getShortcutsConfig();return await invoke("update_shortcuts",{config:Ja}),!0}catch(Ja){return console.error("Failed to update shortcuts:",Ja),!1}},[]),Xa=reactExports.useCallback(Ja=>{La.current=Ja},[]),Ka=reactExports.useCallback(Ja=>{Na.current=Ja},[]),Qa=reactExports.useCallback(Ja=>{ja.current=Ja},[]),Va=reactExports.useCallback(Ja=>{Ba.current=Ja},[]),Ua=reactExports.useCallback((Ja,Oo)=>{za.current.set(Ja,Oo)},[]),Wa=reactExports.useCallback(Ja=>{za.current.delete(Ja)},[]);return reactExports.useEffect(()=>{(async()=>{try{if(globalEventListeners.focus)try{globalEventListeners.focus()}catch(rl){console.warn("Error cleaning up focus listener:",rl)}if(globalEventListeners.audio)try{globalEventListeners.audio()}catch(rl){console.warn("Error cleaning up audio listener:",rl)}if(globalEventListeners.screenshot)try{globalEventListeners.screenshot()}catch(rl){console.warn("Error cleaning up screenshot listener:",rl)}if(globalEventListeners.systemAudio)try{globalEventListeners.systemAudio()}catch(rl){console.warn("Error cleaning up system audio listener:",rl)}if(globalEventListeners.customShortcut)try{globalEventListeners.customShortcut()}catch(rl){console.warn("Error cleaning up custom shortcut listener:",rl)}const Oo=await listen("focus-text-input",()=>{setTimeout(()=>{La.current&&La.current.focus()},100)});globalEventListeners.focus=Oo;const Do=await listen("start-audio-recording",()=>{Na.current&&Na.current()});globalEventListeners.audio=Do;const Mo=await listen("trigger-screenshot",()=>{const rl=Date.now();rl-lastScreenshotEventTime<300||(lastScreenshotEventTime=rl,ja.current&&ja.current())});globalEventListeners.screenshot=Mo;const el=await listen("toggle-system-audio",()=>{Ba.current&&Ba.current()});globalEventListeners.systemAudio=el;const tl=await listen("custom-shortcut-triggered",rl=>{const il=rl.payload.action,al=za.current.get(il);al?al():console.warn(`No callback registered for custom shortcut: ${il}`)});globalEventListeners.customShortcut=tl}catch(Oo){console.error("Failed to setup event listeners:",Oo)}})()},[]),{checkShortcutsRegistered:Ga,getShortcuts:Ha,updateShortcuts:Ya,registerInputRef:Xa,registerAudioCallback:Ka,registerScreenshotCallback:Qa,registerSystemAudioCallback:Va,registerCustomShortcutCallback:Ua,unregisterCustomShortcutCallback:Wa}},DEFAULT_VAD_CONFIG={enabled:!0,hop_size:1024,sensitivity_rms:.012,peak_threshold:.035,silence_chunks:18,min_speech_chunks:7,pre_speech_chunks:12,noise_gate_threshold:.003,max_recording_duration_secs:180};function useSystemAudio(){const{resizeWindow:La}=useWindowResize(),Na=useGlobalShortcuts(),[ja,Ba]=reactExports.useState(!1),[za,Ga]=reactExports.useState(!1),[Ha,Ya]=reactExports.useState(!1),[Xa,Ka]=reactExports.useState(!1),[Qa,Va]=reactExports.useState(""),[Ua,Wa]=reactExports.useState(""),[Ja,Oo]=reactExports.useState(""),[Do,Mo]=reactExports.useState(!1),[el,tl]=reactExports.useState([]),[rl,il]=reactExports.useState(!1),[al,ll]=reactExports.useState(!0),[ul,ol]=reactExports.useState(DEFAULT_VAD_CONFIG),[cl,gl]=reactExports.useState(0),[bl,_l]=reactExports.useState(!1),[xl,Al]=reactExports.useState(!1),[ml,Sl]=reactExports.useState(null),Cl=reactExports.useRef(null),[Nl,dl]=reactExports.useState({id:"",title:"",messages:[],createdAt:0,updatedAt:0}),[Rl,Tl]=reactExports.useState(!0),[pl,jl]=reactExports.useState(""),{selectedSttProvider:Ll,allSttProviders:Dl,selectedAIProvider:$l,allAiProviders:eu,systemPrompt:uu,selectedAudioDevices:su}=useApp$1(),pu=reactExports.useRef(null),Yl=reactExports.useRef(null),ru=reactExports.useRef(!1),lu=reactExports.useRef(null);reactExports.useEffect(()=>{const au=safeLocalStorage.getItem(STORAGE_KEYS.SYSTEM_AUDIO_CONTEXT);if(au)try{const wu=JSON.parse(au);Tl(wu.useSystemPrompt??!0),jl(wu.contextContent??"")}catch(wu){console.error("Failed to load system audio context:",wu)}const cu=safeLocalStorage.getItem("vad_config");if(cu)try{const wu=JSON.parse(cu);ol(wu)}catch(wu){console.error("Failed to load VAD config:",wu)}},[]),reactExports.useEffect(()=>{const au=safeLocalStorage.getItem(STORAGE_KEYS.SYSTEM_AUDIO_QUICK_ACTIONS);if(au)try{const cu=JSON.parse(au);tl(cu)}catch(cu){console.error("Failed to load quick actions:",cu),tl(DEFAULT_QUICK_ACTIONS)}else tl(DEFAULT_QUICK_ACTIONS)},[]),reactExports.useEffect(()=>{let au,cu,wu,hu,ec;return(async()=>{try{au=await listen("recording-progress",Lu=>{const Ku=Lu.payload;gl(Ku)}),cu=await listen("continuous-recording-start",()=>{gl(0),Al(!0)}),wu=await listen("continuous-recording-stopped",()=>{gl(0),Al(!1),bl&&(Ya(!0),setTimeout(()=>{Ya(Lu=>Lu&&!1)},15e3))}),hu=await listen("audio-encoding-error",Lu=>{const Ku=Lu.payload;console.error("Audio encoding error:",Ku),Oo(`Failed to process audio: ${Ku}`),Ya(!1),Ka(!1),Al(!1)}),ec=await listen("speech-discarded",Lu=>{const Ku=Lu.payload;console.log("Speech discarded:",Ku)})}catch(Lu){console.error("Failed to setup continuous recording listeners:",Lu)}})(),()=>{au&&au(),cu&&cu(),wu&&wu(),hu&&hu(),ec&&ec()}},[]),reactExports.useEffect(()=>{let au;return(async()=>{try{au=await listen("speech-detected",async wu=>{try{if(!za)return;const hu=wu.payload,ec=atob(hu),sc=new Uint8Array(ec.length);for(let uc=0;uc<ec.length;uc++)sc[uc]=ec.charCodeAt(uc);const Lu=new Blob([sc],{type:"audio/wav"}),Ku=await shouldUseScribeAPI();if(!Ll.provider&&!Ku){Oo("No speech provider selected.");return}const Yu=Dl.find(uc=>uc.id===Ll.provider);if(!Yu&&!Ku){Oo("Speech provider config not found.");return}Ya(!0);const sd=fetchSTT({provider:Yu,selectedProvider:Ll,audio:Lu}),bd=new Promise((uc,Ou)=>{setTimeout(()=>Ou(new Error("Speech transcription timed out (30s)")),3e4)});try{const uc=await Promise.race([sd,bd]);if(uc.trim()){Va(uc),Oo("");const Ou=Rl?uu||DEFAULT_SYSTEM_PROMPT:pl||DEFAULT_SYSTEM_PROMPT,Cu=Nl.messages.map(Ru=>({role:Ru.role,content:Ru.content}));await hc(uc,Ou,Cu)}else Oo("Received empty transcription")}catch(uc){console.error("STT Error:",uc),Oo(uc.message||"Failed to transcribe audio"),Ba(!0)}}catch{Oo("Failed to process speech")}finally{Ya(!1)}})}catch{Oo("Failed to setup speech listener")}})(),()=>{au&&au()}},[za,Ll,Dl,Nl.messages.length]);const fu=reactExports.useCallback((au,cu)=>{try{const wu={useSystemPrompt:au,contextContent:cu};safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_AUDIO_CONTEXT,JSON.stringify(wu))}catch(wu){console.error("Failed to save context settings:",wu)}},[]),bu=reactExports.useCallback(au=>{Tl(au),fu(au,pl)},[pl,fu]),xu=reactExports.useCallback(au=>{jl(au),fu(Rl,au)},[Rl,fu]),Du=reactExports.useCallback(au=>{try{safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_AUDIO_QUICK_ACTIONS,JSON.stringify(au))}catch(cu){console.error("Failed to save quick actions:",cu)}},[]),Zu=reactExports.useCallback(au=>{if(au&&!el.includes(au)){const cu=[...el,au];tl(cu),Du(cu)}},[el,Du]),ic=reactExports.useCallback(au=>{const cu=el.filter(wu=>wu!==au);tl(cu),Du(cu)},[el,Du]),Mu=async au=>{Va(au),Oo("");const cu=Rl?uu||DEFAULT_SYSTEM_PROMPT:pl||DEFAULT_SYSTEM_PROMPT,wu=Nl.messages.map(hu=>({role:hu.role,content:hu.content}));await hc(au,cu,wu)},gu=reactExports.useCallback(async()=>{try{gl(0),Oo("");const au=su.output!=="default"?su.output:null;await invoke("start_system_audio_capture",{vadConfig:ul,deviceId:au})}catch(au){console.error("Failed to start continuous recording:",au),Oo(`Failed to start recording: ${au}`)}},[ul,su.output]),Pu=reactExports.useCallback(async()=>{try{if(!bl||!xl)return;await invoke("stop_system_audio_capture"),gl(0),Ya(!1),Al(!1)}catch(au){console.error("Failed to ignore recording:",au),Oo(`Failed to ignore recording: ${au}`)}},[bl,xl]),hc=reactExports.useCallback(async(au,cu,wu)=>{pu.current&&pu.current.abort(),pu.current=new AbortController;try{Ka(!0),Wa(""),Oo("");let hu="";const ec=await shouldUseScribeAPI();if(!$l.provider&&!ec){Oo("No AI provider selected.");return}const sc=eu.find(Lu=>Lu.id===$l.provider);if(!sc&&!ec){Oo("AI provider config not found.");return}try{for await(const Lu of fetchAIResponse({provider:ec?void 0:sc,selectedProvider:$l,systemPrompt:cu,history:wu,userMessage:au,imagesBase64:[]}))hu+=Lu,Wa(Ku=>Ku+Lu)}catch(Lu){Oo(Lu.message||"Failed to get AI response")}if(hu){const Lu=Date.now();dl(Ku=>({...Ku,messages:[{id:generateMessageId("user",Lu),role:"user",content:au,timestamp:Lu},{id:generateMessageId("assistant",Lu+1),role:"assistant",content:hu,timestamp:Lu+1},...Ku.messages],updatedAt:Lu,title:Ku.title||generateConversationTitle(au)}))}}catch{Oo("Failed to get AI response")}finally{Ka(!1)}},[$l,eu,Nl.messages]),Au=reactExports.useCallback(async()=>{try{if(Oo(""),!await invoke("check_system_audio_access")){Mo(!0),Ba(!0);return}const cu=!ul.enabled,wu=generateConversationId("sysaudio");if(dl({id:wu,title:"",messages:[],createdAt:0,updatedAt:0}),Ga(!0),Ba(!0),_l(cu),gl(0),cu){Al(!1);return}await invoke("stop_system_audio_capture");const hu=su.output!=="default"?su.output:null;await invoke("start_system_audio_capture",{vadConfig:ul,deviceId:hu})}catch(au){const cu=au instanceof Error?au.message:String(au);Oo(cu),Ba(!0)}},[ul,su.output]),Ql=reactExports.useCallback(async()=>{try{pu.current&&(pu.current.abort(),pu.current=null),await invoke("stop_system_audio_capture"),Ga(!1),Ya(!1),Ka(!1),_l(!1),Al(!1),gl(0),Va(""),Wa(""),Oo(""),Ba(!1)}catch(au){const cu=au instanceof Error?au.message:String(au);Oo(`Failed to stop capture: ${cu}`),console.error("Stop capture error:",au)}},[]),iu=reactExports.useCallback(async()=>{try{if(!bl){console.warn("Not in continuous mode");return}Ya(!0),await invoke("manual_stop_continuous")}catch(au){const cu=au instanceof Error?au.message:String(au);Oo(`Failed to manually stop: ${cu}`),Ya(!1),console.error("Manual stop error:",au)}},[bl]),Su=reactExports.useCallback(async()=>{try{const au=navigator.platform.toLowerCase();(au.includes("mac")||au.includes("win"))&&await invoke("request_system_audio_access"),await new Promise(wu=>setTimeout(wu,3e3)),await invoke("check_system_audio_access")?(Mo(!1),await Au()):(Mo(!0),Oo("Permission not granted. Please try the manual steps."))}catch{Oo("Failed to request access. Please try the manual steps below."),Mo(!0)}},[Au]);reactExports.useEffect(()=>{const au=za||Do||Xa||!!Ua||!!Ja;Ba(au),La(au)},[za,Do,Xa,Ua,Ja,La]),reactExports.useEffect(()=>{Na.registerSystemAudioCallback(async()=>{za?await Ql():await Au()})},[Au,Ql]),reactExports.useEffect(()=>{(async()=>{if(za)try{const cu=await navigator.mediaDevices.getUserMedia({audio:!0});Cl.current=cu,Sl(cu)}catch(cu){console.error("Failed to get microphone stream:",cu)}else Cl.current&&(Cl.current.getTracks().forEach(cu=>cu.stop()),Cl.current=null),Sl(null)})()},[za]),reactExports.useEffect(()=>()=>{pu.current&&pu.current.abort(),Cl.current&&Cl.current.getTracks().forEach(au=>au.stop()),invoke("stop_system_audio_capture").catch(()=>{})},[]),reactExports.useEffect(()=>{if(Yl.current&&clearTimeout(Yl.current),!(!Nl.id||Nl.updatedAt===0||Nl.messages.length===0))return Yl.current=setTimeout(async()=>{if(!ru.current)try{ru.current=!0,await saveConversation(Nl)}catch(au){console.error("Failed to save system audio conversation:",au)}finally{ru.current=!1}},CONVERSATION_SAVE_DEBOUNCE_MS),()=>{Yl.current&&clearTimeout(Yl.current)}},[Nl.messages.length,Nl.title,Nl.id,Nl.updatedAt]);const _u=reactExports.useCallback(()=>{dl({id:generateConversationId("sysaudio"),title:"",messages:[],createdAt:0,updatedAt:0}),Va(""),Wa(""),Oo(""),Mo(!1),Ya(!1),Ka(!1),Ba(!1),Tl(!0)},[]),qu=reactExports.useCallback(async au=>{try{ol(au),safeLocalStorage.setItem("vad_config",JSON.stringify(au)),await invoke("update_vad_config",{config:au})}catch(cu){console.error("Failed to update VAD config:",cu)}},[]);return reactExports.useEffect(()=>{za&&(_l(!ul.enabled),ul.enabled||Al(!1))},[ul.enabled,za]),reactExports.useEffect(()=>{const au=cu=>{if(!ja)return;const wu=lu.current?.querySelector("[data-radix-scroll-area-viewport]");if(!wu)return;const hu=100;cu.key==="ArrowDown"?(cu.preventDefault(),wu.scrollBy({top:hu,behavior:"smooth"})):cu.key==="ArrowUp"&&(cu.preventDefault(),wu.scrollBy({top:-hu,behavior:"smooth"}))};return window.addEventListener("keydown",au),()=>window.removeEventListener("keydown",au)},[ja]),reactExports.useEffect(()=>{const au=cu=>{!ja||!bl||Ha||Xa||(cu.key==="Enter"&&!cu.shiftKey&&!cu.metaKey&&!cu.ctrlKey&&(cu.preventDefault(),xl?iu():gu()),cu.key==="Escape"&&xl&&(cu.preventDefault(),Pu()),cu.key===" "&&!xl&&!cu.metaKey&&!cu.ctrlKey&&!(cu.target instanceof HTMLInputElement)&&!(cu.target instanceof HTMLTextAreaElement)&&(cu.preventDefault(),gu()))};return window.addEventListener("keydown",au),()=>window.removeEventListener("keydown",au)},[ja,bl,xl,Ha,Xa,gu,iu,Pu]),{capturing:za,isProcessing:Ha,isAIProcessing:Xa,lastTranscription:Qa,lastAIResponse:Ua,error:Ja,setupRequired:Do,startCapture:Au,stopCapture:Ql,handleSetup:Su,isPopoverOpen:ja,setIsPopoverOpen:Ba,conversation:Nl,setConversation:dl,processWithAI:hc,useSystemPrompt:Rl,setUseSystemPrompt:bu,contextContent:pl,setContextContent:xu,startNewConversation:_u,resizeWindow:La,quickActions:el,addQuickAction:Zu,removeQuickAction:ic,isManagingQuickActions:rl,setIsManagingQuickActions:il,showQuickActions:al,setShowQuickActions:ll,handleQuickActionClick:Mu,vadConfig:ul,updateVadConfiguration:qu,isContinuousMode:bl,isRecordingInContinuousMode:xl,recordingProgress:cl,manualStopAndSend:iu,startContinuousRecording:gu,ignoreContinuousRecording:Pu,scrollAreaRef:lu,stream:ml}}function useHistory(){const[La,Na]=reactExports.useState(!1),[ja,Ba]=reactExports.useState([]),[za,Ga]=reactExports.useState(null),[Ha,Ya]=reactExports.useState(null),[Xa,Ka]=reactExports.useState(new Set),[Qa,Va]=reactExports.useState(null),{resizeWindow:Ua}=useWindowResize(),Wa=reactExports.useCallback(async()=>{try{const al=await getAllConversations();Ba(al)}catch(al){console.error("Failed to load conversations:",al),Ba([])}},[]);reactExports.useEffect(()=>{La?Wa():Ya(null)},[La,Wa]),reactExports.useEffect(()=>{Ua(La)},[La,Ua]);const Ja=al=>{Ya(al)},Oo=(al,ll)=>{ll.stopPropagation(),Ka(ul=>new Set(ul).add(al.id));try{const ul=rl(al),ol=new Blob([ul],{type:"text/markdown"}),cl=URL.createObjectURL(ol),gl=document.createElement("a");gl.href=cl,gl.download=il(al.title),document.body.appendChild(gl),gl.click(),document.body.removeChild(gl),URL.revokeObjectURL(cl)}catch(ul){console.error("Failed to download conversation:",ul),Ka(ol=>{const cl=new Set(ol);return cl.delete(al.id),cl});return}setTimeout(()=>{Ka(ul=>{const ol=new Set(ul);return ol.delete(al.id),ol})},DOWNLOAD_SUCCESS_DISPLAY_MS)},Do=al=>{Va(al)},Mo=async()=>{if(Qa)try{Ga(null),Ya(null),await deleteConversation(Qa),Ba(al=>al.filter(ll=>ll.id!==Qa)),window.dispatchEvent(new CustomEvent("conversationDeleted",{detail:Qa}))}catch(al){console.error("Failed to delete conversation:",al)}finally{Va(null)}},el=()=>{Va(null)},tl=al=>{const ll=new Date(al),ol=(new Date().getTime()-ll.getTime())/(1e3*60*60);return ol<24?ll.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):ol<168?ll.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):ll.toLocaleDateString([],{month:"short",day:"numeric"})},rl=al=>{let ll=`# ${al.title}

`;return ll+=`**Created:** ${new Date(al.createdAt).toLocaleString()}
`,ll+=`**Updated:** ${new Date(al.updatedAt).toLocaleString()}
`,ll+=`**Messages:** ${al.messages.length}

---

`,al.messages.forEach((ul,ol)=>{const cl=ul.role.toUpperCase();ll+=`## ${cl}: ${ul.content}
`,ol<al.messages.length-1&&(ll+=`
`)}),ll},il=al=>`${al.replace(/[^a-z0-9]/gi,"_").toLowerCase().substring(0,16)}.md`;return{conversations:ja,isOpen:La,selectedConversationId:za,viewingConversation:Ha,downloadedConversations:Xa,deleteConfirm:Qa,setIsOpen:Na,handleViewConversation:Ja,handleDownloadConversation:Oo,handleDeleteConfirm:Do,confirmDelete:Mo,cancelDelete:el,formatDate:tl,refreshConversations:Wa}}function useCopyToClipboard({text:La,copyMessage:Na="Copied to clipboard!"}){const[ja,Ba]=reactExports.useState(!1),za=reactExports.useRef(null),Ga=reactExports.useCallback(()=>{navigator.clipboard.writeText(La).then(()=>{Ba(!0),za.current&&(clearTimeout(za.current),za.current=null),za.current=setTimeout(()=>{Ba(!1)},2e3)}).catch(()=>{console.error("Failed to copy to clipboard.")})},[La,Na]);return{isCopied:ja,handleCopy:Ga}}const useTitles=()=>{const{customizable:La}=useApp$1(),Na=ja=>La?.titles?.isEnabled?ja:"";return reactExports.useEffect(()=>{const Ba=setTimeout(()=>{const Ga=document.documentElement,Ha=document.querySelectorAll("[title]");La?.titles?.isEnabled?(Ga?.removeAttribute("data-titles-disabled"),Ga?.setAttribute("data-titles-enabled","true"),Ha.forEach(Ya=>{const Xa=Ya.getAttribute("data-original-title");Xa&&Ya.setAttribute("title",Xa)})):(Ga?.setAttribute("data-titles-disabled","true"),Ga?.removeAttribute("data-titles-enabled"),Ha.forEach(Ya=>{const Xa=Ya.getAttribute("title");Xa&&!Ya.hasAttribute("data-original-title")&&Ya.setAttribute("data-original-title",Xa),Ya.removeAttribute("title")}))},100),za=new MutationObserver(Ga=>{let Ha=!1;Ga.forEach(Ya=>{Ya.addedNodes.forEach(Xa=>{if(Xa.nodeType===Node.ELEMENT_NODE){const Ka=Xa;(Ka.hasAttribute("title")||Ka.querySelector("[title]"))&&(Ha=!0)}})}),Ha&&!La?.titles?.isEnabled&&setTimeout(()=>{document.querySelectorAll("[title]:not([data-original-title])").forEach(Xa=>{const Ka=Xa.getAttribute("title");Ka&&(Xa.setAttribute("data-original-title",Ka),Xa.removeAttribute("title"))})},0)});return za.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["title"]}),()=>{clearTimeout(Ba),za.disconnect()}},[La?.titles?.isEnabled]),{getTitle:Na,isTitlesEnabled:La?.titles?.isEnabled}},useSystemPrompts=()=>{const[La,Na]=reactExports.useState([]),[ja,Ba]=reactExports.useState(!1),[za,Ga]=reactExports.useState(null),Ha=reactExports.useCallback(async()=>{try{Ba(!0),Ga(null);const Ua=await getAllSystemPrompts();Na(Ua)}catch(Ua){const Wa=Ua instanceof Error?Ua.message:"Failed to fetch system prompts";Ga(Wa),console.error("Error fetching system prompts:",Ua)}finally{Ba(!1)}},[]),Ya=reactExports.useCallback(async Ua=>{try{Ga(null);const Wa=await createSystemPrompt(Ua);return await Ha(),Wa}catch(Wa){const Ja=Wa instanceof Error?Wa.message:"Failed to create system prompt";throw Ga(Ja),console.error("Error creating system prompt:",Wa),Wa}},[Ha]),Xa=reactExports.useCallback(async(Ua,Wa)=>{try{Ga(null);const Ja=await updateSystemPrompt(Ua,Wa);return await Ha(),Ja}catch(Ja){const Oo=Ja instanceof Error?Ja.message:"Failed to update system prompt";throw Ga(Oo),console.error("Error updating system prompt:",Ja),Ja}},[Ha]),Ka=reactExports.useCallback(async Ua=>{try{Ga(null),await deleteSystemPrompt(Ua),await Ha()}catch(Wa){const Ja=Wa instanceof Error?Wa.message:"Failed to delete system prompt";throw Ga(Ja),console.error("Error deleting system prompt:",Wa),Wa}},[Ha]),Qa=reactExports.useCallback(async()=>{await Ha()},[Ha]),Va=reactExports.useCallback(()=>{Ga(null)},[]);return reactExports.useEffect(()=>{Ha()},[Ha]),{prompts:La,isLoading:ja,error:za,createPrompt:Ya,updatePrompt:Xa,deletePrompt:Ka,refreshPrompts:Qa,clearError:Va}},useApp=()=>{const La=useSystemAudio(),[Na,ja]=reactExports.useState(!1);useTitles(),reactExports.useEffect(()=>{(async()=>{try{const Ha=getShortcutsConfig();await invoke("update_shortcuts",{config:Ha})}catch(Ha){console.error("Failed to initialize shortcuts:",Ha)}})()},[]),reactExports.useEffect(()=>{(async()=>{try{if(safeLocalStorage.getItem("chat_history_migrated_to_sqlite")==="true")return;const Xa=await migrateLocalStorageToSQLite();Xa.success?Xa.migratedCount>0&&console.log(`Successfully migrated ${Xa.migratedCount} conversations to SQLite`):Xa.error&&console.error("Migration error:",Xa.error)}catch(Ha){console.error("Critical migration failure:",Ha)}})()},[]);const Ba=Ga=>{window.dispatchEvent(new CustomEvent("conversationSelected",{detail:{id:Ga.id}}))},za=()=>{window.dispatchEvent(new CustomEvent("newConversation"))};return reactExports.useEffect(()=>{const Ga=listen("toggle-window-visibility",Ha=>{const Ya=navigator.platform.toLowerCase();if(typeof Ha.payload=="boolean"&&Ya.includes("win")){ja(!Ha.payload);const Xa=document.getElementById("popover-content");Xa&&(Xa.style.setProperty("display","none","important"),Xa.setAttribute("data-state","closed"),document.querySelectorAll('[data-slot="popover-trigger"]').forEach(Qa=>{Qa.setAttribute("data-state","closed")}))}});return()=>{Ga.then(Ha=>Ha())}},[]),{isHidden:Na,setIsHidden:ja,handleSelectConversation:Ba,handleNewConversation:za,systemAudio:La}};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=La=>La.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=La=>La.replace(/^([A-Z])|[\s-_]+(\w)/g,(Na,ja,Ba)=>Ba?Ba.toUpperCase():ja.toLowerCase()),toPascalCase=La=>{const Na=toCamelCase(La);return Na.charAt(0).toUpperCase()+Na.slice(1)},mergeClasses=(...La)=>La.filter((Na,ja,Ba)=>!!Na&&Na.trim()!==""&&Ba.indexOf(Na)===ja).join(" ").trim(),hasA11yProp=La=>{for(const Na in La)if(Na.startsWith("aria-")||Na==="role"||Na==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:La="currentColor",size:Na=24,strokeWidth:ja=2,absoluteStrokeWidth:Ba,className:za="",children:Ga,iconNode:Ha,...Ya},Xa)=>reactExports.createElement("svg",{ref:Xa,...defaultAttributes,width:Na,height:Na,stroke:La,strokeWidth:Ba?Number(ja)*24/Number(Na):ja,className:mergeClasses("lucide",za),...!Ga&&!hasA11yProp(Ya)&&{"aria-hidden":"true"},...Ya},[...Ha.map(([Ka,Qa])=>reactExports.createElement(Ka,Qa)),...Array.isArray(Ga)?Ga:[Ga]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(La,Na)=>{const ja=reactExports.forwardRef(({className:Ba,...za},Ga)=>reactExports.createElement(Icon$1,{ref:Ga,iconNode:Na,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(La))}`,`lucide-${La}`,Ba),...za}));return ja.displayName=toPascalCase(La),ja};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ArrowDown=createLucideIcon("arrow-down",__iconNode$V);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ArrowUp=createLucideIcon("arrow-up",__iconNode$T);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],AudioLines=createLucideIcon("audio-lines",__iconNode$S);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Bot=createLucideIcon("bot",__iconNode$R);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$Q);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$O);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$N);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$L);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$K);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$J);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$I);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Crop=createLucideIcon("crop",__iconNode$H);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$G);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$E);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],GripVertical=createLucideIcon("grip-vertical",__iconNode$C);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Headphones=createLucideIcon("headphones",__iconNode$B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],History=createLucideIcon("history",__iconNode$A);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ImageUp=createLucideIcon("image-up",__iconNode$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info$2=createLucideIcon("info",__iconNode$y);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Key=createLucideIcon("key",__iconNode$x);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Keyboard=createLucideIcon("keyboard",__iconNode$w);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$v);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Loader=createLucideIcon("loader",__iconNode$u);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$t);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}],["path",{d:"M7 12h8a2 2 0 0 1 2 2v1",key:"89sh1g"}]],MessageCircleReply=createLucideIcon("message-circle-reply",__iconNode$s);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],MessageSquareText=createLucideIcon("message-square-text",__iconNode$r);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MessageSquare=createLucideIcon("message-square",__iconNode$q);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Mic=createLucideIcon("mic",__iconNode$p);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],MicOff=createLucideIcon("mic-off",__iconNode$o);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Monitor=createLucideIcon("monitor",__iconNode$n);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$m);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],MousePointer2=createLucideIcon("mouse-pointer-2",__iconNode$l);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],MousePointer=createLucideIcon("mouse-pointer",__iconNode$k);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$j);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]],Pointer=createLucideIcon("pointer",__iconNode$i);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Power=createLucideIcon("power",__iconNode$h);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$g);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$f);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$d);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Settings2=createLucideIcon("settings-2",__iconNode$c);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings$2=createLucideIcon("settings",__iconNode$b);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ShieldAlert=createLucideIcon("shield-alert",__iconNode$a);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$9);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$7);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M17 22h-1a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h1",key:"uvaxm9"}],["path",{d:"M7 22h1a4 4 0 0 0 4-4v-1",key:"11xy8d"}],["path",{d:"M7 2h1a4 4 0 0 1 4 4v1",key:"1uw06m"}]],TextCursor=createLucideIcon("text-cursor",__iconNode$6);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash=createLucideIcon("trash",__iconNode$4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]],Wand=createLucideIcon("wand",__iconNode$2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$1=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode),ChatHistory=({onSelectConversation:La,onNewConversation:Na,currentConversationId:ja})=>{const Ba=useHistory(),za=()=>{Ba.handleViewConversation(null)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Popover,{open:Ba.isOpen,onOpenChange:Ba.setIsOpen,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{size:"icon","aria-label":"View All Chat History",className:"cursor-pointer",title:"View All Chat History",children:jsxRuntimeExports.jsx(History,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(PopoverContent,{align:"end",side:"bottom",className:"select-none w-screen p-0 border overflow-hidden border-input/50",sideOffset:8,children:[Ba.viewingConversation?jsxRuntimeExports.jsx(MessageHistoryView,{...Ba,viewingConversation:Ba.viewingConversation,onBackToConversations:za,onSelectConversation:La,downloadedConversations:Ba.downloadedConversations}):jsxRuntimeExports.jsx(ConversationListView,{...Ba,currentConversationId:ja,onNewConversation:Na,onClosePopover:()=>Ba.setIsOpen(!1),onSelectConversation:La}),jsxRuntimeExports.jsx(DeleteConfirmationDialog,{...Ba})]})]})})},MessageHistory=({conversationHistory:La,onStartNewConversation:Na,messageHistoryOpen:ja,setMessageHistoryOpen:Ba})=>jsxRuntimeExports.jsxs(Popover,{open:ja,onOpenChange:Ba,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"icon",variant:"outline","aria-label":"View Current Conversation",className:"relative cursor-pointer w-12 h-7 px-2 flex gap-1 items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center text-xs font-medium",children:La.length}),jsxRuntimeExports.jsx(MessageSquareText,{className:"h-5 w-5"})]})}),jsxRuntimeExports.jsxs(PopoverContent,{align:"end",side:"bottom",className:"select-none w-screen p-0 mt-3 border overflow-hidden border-input/50",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-input/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-col",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Current Conversation"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[La.length," messages in this conversation"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>{Na(),Ba(!1)},className:"text-xs",children:"New Chat"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:()=>Ba(!1),className:"text-xs",children:ja?jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})})]})]})}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100vh-10rem)]",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-4",children:La.sort((za,Ga)=>Ga?.timestamp-za?.timestamp).map(za=>jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg ${za.role==="user"?"bg-primary/10 border-l-4 border-primary":"bg-muted/50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:za.role==="user"?"You":"AI"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(za.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsx(Markdown,{children:za.content})]},za.id))})})]})]}),ConversationItem=({conversation:La,currentConversationId:Na,selectedConversationId:ja,downloadedConversations:Ba,handleViewConversation:za,onSelectConversation:Ga,handleDownloadConversation:Ha,handleDeleteConfirm:Ya,formatDate:Xa,setIsOpen:Ka})=>{const Qa=()=>{za(La)},Va=Ja=>{Ja.stopPropagation(),Ga(La),Ka(!1)},Ua=Ja=>{Ha(La,Ja)},Wa=Ja=>{Ja.stopPropagation(),Ya(La.id)};return jsxRuntimeExports.jsxs("div",{className:`group flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all hover:bg-muted/50 ${La.id===Na?"bg-muted border-primary/20":"border-transparent hover:border-input/50"}`,onClick:Qa,children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-row items-start gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium truncate leading-5 line-clamp-1",children:La?.title?.length>70?La?.title?.slice(0,70)+"...":La?.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:Xa(La.updatedAt)}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",La.messages.length," messages"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[ja===La.id&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Loading..."})]}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost",className:"cursor-pointer h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",onClick:Va,title:"Reuse this conversation",children:jsxRuntimeExports.jsx(MessageCircleReply,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:Ba.has(La.id)?"outline":"ghost",className:"cursor-pointer h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",onClick:Ua,title:"Download conversation as markdown",disabled:Ba.has(La.id),children:Ba.has(La.id)?jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 text-green-600"}):jsxRuntimeExports.jsx(Download,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost",className:"cursor-pointer h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",onClick:Wa,title:"Delete conversation",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})]})]})},ConversationListView=({conversations:La,currentConversationId:Na,selectedConversationId:ja,downloadedConversations:Ba,handleViewConversation:za,onSelectConversation:Ga,handleDownloadConversation:Ha,handleDeleteConfirm:Ya,formatDate:Xa,onNewConversation:Ka,onClosePopover:Qa,setIsOpen:Va})=>{const Ua=()=>{Ka(),Qa()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-input/50 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"All Conversations"}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:Ua,className:"text-xs",title:"Start new chat",children:"New Chat"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Your conversation history"})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100vh-8.75rem)]",children:jsxRuntimeExports.jsx("div",{className:"p-2",children:La.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"Start chatting to see your history here"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-1 pr-2",children:La.map(Wa=>jsxRuntimeExports.jsx(ConversationItem,{...Wa,conversation:Wa,currentConversationId:Na,conversations:La,selectedConversationId:ja,downloadedConversations:Ba,handleViewConversation:za,onSelectConversation:Ga,handleDownloadConversation:Ha,handleDeleteConfirm:Ya,formatDate:Xa,isOpen:!1,viewingConversation:null,deleteConfirm:null,setIsOpen:Va,confirmDelete:()=>{},cancelDelete:()=>{},refreshConversations:()=>{}}))})})})]})},MessageHistoryView=({viewingConversation:La,onBackToConversations:Na,onSelectConversation:ja,handleDownloadConversation:Ba,handleDeleteConfirm:za,setIsOpen:Ga,downloadedConversations:Ha})=>{const Ya=()=>{ja(La),Na(),Ga(!1)},Xa=Qa=>{Ba(La,Qa)},Ka=()=>{za(La.id)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"border-b border-input/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost",onClick:Na,title:"Back to conversations",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text line-clamp-1 text-transparent",children:La.title}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[La.messages.length," messages in this conversation"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:Ya,className:"text-xs",title:"Use this conversation",children:[jsxRuntimeExports.jsx(MessageCircleReply,{className:"h-3 w-3"}),"Use Chat"]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:Xa,className:"text-xs",title:"Download conversation",disabled:Ha.has(La.id),children:Ha.has(La.id)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 text-green-600"}),"Downloaded"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Download,{className:"h-3 w-3"}),"Download"]})}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"destructive",onClick:Ka,className:"text-xs",title:"Delete conversation",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100vh-10rem)]",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-4",children:La.messages.sort((Qa,Va)=>Qa.timestamp-Va.timestamp).map(Qa=>jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg ${Qa.role==="user"?"bg-primary/10 border-l-4 border-primary":"bg-muted/50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:Qa.role==="user"?"You":"AI"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Qa.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsx(Markdown,{children:Qa.content})]},Qa.id))})})]})},DeleteConfirmationDialog=({deleteConfirm:La,cancelDelete:Na,confirmDelete:ja})=>La?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-background border rounded-lg p-6 max-w-md mx-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Conversation"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Are you sure you want to delete this conversation? This action cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Na,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:ja,children:"Delete"})]})]})}):null;function r(La){var Na,ja,Ba="";if(typeof La=="string"||typeof La=="number")Ba+=La;else if(typeof La=="object")if(Array.isArray(La)){var za=La.length;for(Na=0;Na<za;Na++)La[Na]&&(ja=r(La[Na]))&&(Ba&&(Ba+=" "),Ba+=ja)}else for(ja in La)La[ja]&&(Ba&&(Ba+=" "),Ba+=ja);return Ba}function clsx(){for(var La,Na,ja=0,Ba="",za=arguments.length;ja<za;ja++)(La=arguments[ja])&&(Na=r(La))&&(Ba&&(Ba+=" "),Ba+=Na);return Ba}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=La=>{const Na=createClassMap(La),{conflictingClassGroups:ja,conflictingClassGroupModifiers:Ba}=La;return{getClassGroupId:Ha=>{const Ya=Ha.split(CLASS_PART_SEPARATOR);return Ya[0]===""&&Ya.length!==1&&Ya.shift(),getGroupRecursive(Ya,Na)||getGroupIdForArbitraryProperty(Ha)},getConflictingClassGroupIds:(Ha,Ya)=>{const Xa=ja[Ha]||[];return Ya&&Ba[Ha]?[...Xa,...Ba[Ha]]:Xa}}},getGroupRecursive=(La,Na)=>{if(La.length===0)return Na.classGroupId;const ja=La[0],Ba=Na.nextPart.get(ja),za=Ba?getGroupRecursive(La.slice(1),Ba):void 0;if(za)return za;if(Na.validators.length===0)return;const Ga=La.join(CLASS_PART_SEPARATOR);return Na.validators.find(({validator:Ha})=>Ha(Ga))?.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=La=>{if(arbitraryPropertyRegex.test(La)){const Na=arbitraryPropertyRegex.exec(La)[1],ja=Na?.substring(0,Na.indexOf(":"));if(ja)return"arbitrary.."+ja}},createClassMap=La=>{const{theme:Na,classGroups:ja}=La,Ba={nextPart:new Map,validators:[]};for(const za in ja)processClassesRecursively(ja[za],Ba,za,Na);return Ba},processClassesRecursively=(La,Na,ja,Ba)=>{La.forEach(za=>{if(typeof za=="string"){const Ga=za===""?Na:getPart(Na,za);Ga.classGroupId=ja;return}if(typeof za=="function"){if(isThemeGetter(za)){processClassesRecursively(za(Ba),Na,ja,Ba);return}Na.validators.push({validator:za,classGroupId:ja});return}Object.entries(za).forEach(([Ga,Ha])=>{processClassesRecursively(Ha,getPart(Na,Ga),ja,Ba)})})},getPart=(La,Na)=>{let ja=La;return Na.split(CLASS_PART_SEPARATOR).forEach(Ba=>{ja.nextPart.has(Ba)||ja.nextPart.set(Ba,{nextPart:new Map,validators:[]}),ja=ja.nextPart.get(Ba)}),ja},isThemeGetter=La=>La.isThemeGetter,createLruCache=La=>{if(La<1)return{get:()=>{},set:()=>{}};let Na=0,ja=new Map,Ba=new Map;const za=(Ga,Ha)=>{ja.set(Ga,Ha),Na++,Na>La&&(Na=0,Ba=ja,ja=new Map)};return{get(Ga){let Ha=ja.get(Ga);if(Ha!==void 0)return Ha;if((Ha=Ba.get(Ga))!==void 0)return za(Ga,Ha),Ha},set(Ga,Ha){ja.has(Ga)?ja.set(Ga,Ha):za(Ga,Ha)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=La=>{const{prefix:Na,experimentalParseClassName:ja}=La;let Ba=za=>{const Ga=[];let Ha=0,Ya=0,Xa=0,Ka;for(let Ja=0;Ja<za.length;Ja++){let Oo=za[Ja];if(Ha===0&&Ya===0){if(Oo===MODIFIER_SEPARATOR){Ga.push(za.slice(Xa,Ja)),Xa=Ja+MODIFIER_SEPARATOR_LENGTH;continue}if(Oo==="/"){Ka=Ja;continue}}Oo==="["?Ha++:Oo==="]"?Ha--:Oo==="("?Ya++:Oo===")"&&Ya--}const Qa=Ga.length===0?za:za.substring(Xa),Va=stripImportantModifier(Qa),Ua=Va!==Qa,Wa=Ka&&Ka>Xa?Ka-Xa:void 0;return{modifiers:Ga,hasImportantModifier:Ua,baseClassName:Va,maybePostfixModifierPosition:Wa}};if(Na){const za=Na+MODIFIER_SEPARATOR,Ga=Ba;Ba=Ha=>Ha.startsWith(za)?Ga(Ha.substring(za.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:Ha,maybePostfixModifierPosition:void 0}}if(ja){const za=Ba;Ba=Ga=>ja({className:Ga,parseClassName:za})}return Ba},stripImportantModifier=La=>La.endsWith(IMPORTANT_MODIFIER)?La.substring(0,La.length-1):La.startsWith(IMPORTANT_MODIFIER)?La.substring(1):La,createSortModifiers=La=>{const Na=Object.fromEntries(La.orderSensitiveModifiers.map(Ba=>[Ba,!0]));return Ba=>{if(Ba.length<=1)return Ba;const za=[];let Ga=[];return Ba.forEach(Ha=>{Ha[0]==="["||Na[Ha]?(za.push(...Ga.sort(),Ha),Ga=[]):Ga.push(Ha)}),za.push(...Ga.sort()),za}},createConfigUtils=La=>({cache:createLruCache(La.cacheSize),parseClassName:createParseClassName(La),sortModifiers:createSortModifiers(La),...createClassGroupUtils(La)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(La,Na)=>{const{parseClassName:ja,getClassGroupId:Ba,getConflictingClassGroupIds:za,sortModifiers:Ga}=Na,Ha=[],Ya=La.trim().split(SPLIT_CLASSES_REGEX);let Xa="";for(let Ka=Ya.length-1;Ka>=0;Ka-=1){const Qa=Ya[Ka],{isExternal:Va,modifiers:Ua,hasImportantModifier:Wa,baseClassName:Ja,maybePostfixModifierPosition:Oo}=ja(Qa);if(Va){Xa=Qa+(Xa.length>0?" "+Xa:Xa);continue}let Do=!!Oo,Mo=Ba(Do?Ja.substring(0,Oo):Ja);if(!Mo){if(!Do){Xa=Qa+(Xa.length>0?" "+Xa:Xa);continue}if(Mo=Ba(Ja),!Mo){Xa=Qa+(Xa.length>0?" "+Xa:Xa);continue}Do=!1}const el=Ga(Ua).join(":"),tl=Wa?el+IMPORTANT_MODIFIER:el,rl=tl+Mo;if(Ha.includes(rl))continue;Ha.push(rl);const il=za(Mo,Do);for(let al=0;al<il.length;++al){const ll=il[al];Ha.push(tl+ll)}Xa=Qa+(Xa.length>0?" "+Xa:Xa)}return Xa};function twJoin(){let La=0,Na,ja,Ba="";for(;La<arguments.length;)(Na=arguments[La++])&&(ja=toValue(Na))&&(Ba&&(Ba+=" "),Ba+=ja);return Ba}const toValue=La=>{if(typeof La=="string")return La;let Na,ja="";for(let Ba=0;Ba<La.length;Ba++)La[Ba]&&(Na=toValue(La[Ba]))&&(ja&&(ja+=" "),ja+=Na);return ja};function createTailwindMerge(La,...Na){let ja,Ba,za,Ga=Ha;function Ha(Xa){const Ka=Na.reduce((Qa,Va)=>Va(Qa),La());return ja=createConfigUtils(Ka),Ba=ja.cache.get,za=ja.cache.set,Ga=Ya,Ya(Xa)}function Ya(Xa){const Ka=Ba(Xa);if(Ka)return Ka;const Qa=mergeClassList(Xa,ja);return za(Xa,Qa),Qa}return function(){return Ga(twJoin.apply(null,arguments))}}const fromTheme=La=>{const Na=ja=>ja[La]||[];return Na.isThemeGetter=!0,Na},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=La=>fractionRegex.test(La),isNumber$1=La=>!!La&&!Number.isNaN(Number(La)),isInteger=La=>!!La&&Number.isInteger(Number(La)),isPercent=La=>La.endsWith("%")&&isNumber$1(La.slice(0,-1)),isTshirtSize=La=>tshirtUnitRegex.test(La),isAny=()=>!0,isLengthOnly=La=>lengthUnitRegex.test(La)&&!colorFunctionRegex.test(La),isNever=()=>!1,isShadow=La=>shadowRegex.test(La),isImage=La=>imageRegex.test(La),isAnyNonArbitrary=La=>!isArbitraryValue(La)&&!isArbitraryVariable(La),isArbitrarySize=La=>getIsArbitraryValue(La,isLabelSize,isNever),isArbitraryValue=La=>arbitraryValueRegex.test(La),isArbitraryLength=La=>getIsArbitraryValue(La,isLabelLength,isLengthOnly),isArbitraryNumber=La=>getIsArbitraryValue(La,isLabelNumber,isNumber$1),isArbitraryPosition=La=>getIsArbitraryValue(La,isLabelPosition,isNever),isArbitraryImage=La=>getIsArbitraryValue(La,isLabelImage,isImage),isArbitraryShadow=La=>getIsArbitraryValue(La,isLabelShadow,isShadow),isArbitraryVariable=La=>arbitraryVariableRegex.test(La),isArbitraryVariableLength=La=>getIsArbitraryVariable(La,isLabelLength),isArbitraryVariableFamilyName=La=>getIsArbitraryVariable(La,isLabelFamilyName),isArbitraryVariablePosition=La=>getIsArbitraryVariable(La,isLabelPosition),isArbitraryVariableSize=La=>getIsArbitraryVariable(La,isLabelSize),isArbitraryVariableImage=La=>getIsArbitraryVariable(La,isLabelImage),isArbitraryVariableShadow=La=>getIsArbitraryVariable(La,isLabelShadow,!0),getIsArbitraryValue=(La,Na,ja)=>{const Ba=arbitraryValueRegex.exec(La);return Ba?Ba[1]?Na(Ba[1]):ja(Ba[2]):!1},getIsArbitraryVariable=(La,Na,ja=!1)=>{const Ba=arbitraryVariableRegex.exec(La);return Ba?Ba[1]?Na(Ba[1]):ja:!1},isLabelPosition=La=>La==="position"||La==="percentage",isLabelImage=La=>La==="image"||La==="url",isLabelSize=La=>La==="length"||La==="size"||La==="bg-size",isLabelLength=La=>La==="length",isLabelNumber=La=>La==="number",isLabelFamilyName=La=>La==="family-name",isLabelShadow=La=>La==="shadow",getDefaultConfig=()=>{const La=fromTheme("color"),Na=fromTheme("font"),ja=fromTheme("text"),Ba=fromTheme("font-weight"),za=fromTheme("tracking"),Ga=fromTheme("leading"),Ha=fromTheme("breakpoint"),Ya=fromTheme("container"),Xa=fromTheme("spacing"),Ka=fromTheme("radius"),Qa=fromTheme("shadow"),Va=fromTheme("inset-shadow"),Ua=fromTheme("text-shadow"),Wa=fromTheme("drop-shadow"),Ja=fromTheme("blur"),Oo=fromTheme("perspective"),Do=fromTheme("aspect"),Mo=fromTheme("ease"),el=fromTheme("animate"),tl=()=>["auto","avoid","all","avoid-page","page","left","right","column"],rl=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],il=()=>[...rl(),isArbitraryVariable,isArbitraryValue],al=()=>["auto","hidden","clip","visible","scroll"],ll=()=>["auto","contain","none"],ul=()=>[isArbitraryVariable,isArbitraryValue,Xa],ol=()=>[isFraction,"full","auto",...ul()],cl=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],gl=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],bl=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],_l=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],xl=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Al=()=>["start","end","center","stretch","center-safe","end-safe"],ml=()=>["auto",...ul()],Sl=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ul()],Cl=()=>[La,isArbitraryVariable,isArbitraryValue],Nl=()=>[...rl(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],dl=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Rl=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Tl=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],pl=()=>["","none","full",Ka,isArbitraryVariable,isArbitraryValue],jl=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],Ll=()=>["solid","dashed","dotted","double"],Dl=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$l=()=>[isNumber$1,isPercent,isArbitraryVariablePosition,isArbitraryPosition],eu=()=>["","none",Ja,isArbitraryVariable,isArbitraryValue],uu=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],su=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],pu=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],Yl=()=>[isFraction,"full",...ul()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,Do]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,Ya]}],"break-after":[{"break-after":tl()}],"break-before":[{"break-before":tl()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:il()}],overflow:[{overflow:al()}],"overflow-x":[{"overflow-x":al()}],"overflow-y":[{"overflow-y":al()}],overscroll:[{overscroll:ll()}],"overscroll-x":[{"overscroll-x":ll()}],"overscroll-y":[{"overscroll-y":ll()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ol()}],"inset-x":[{"inset-x":ol()}],"inset-y":[{"inset-y":ol()}],start:[{start:ol()}],end:[{end:ol()}],top:[{top:ol()}],right:[{right:ol()}],bottom:[{bottom:ol()}],left:[{left:ol()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",Ya,...ul()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":cl()}],"col-start-end":[{col:gl()}],"col-start":[{"col-start":bl()}],"col-end":[{"col-end":bl()}],"grid-rows":[{"grid-rows":cl()}],"row-start-end":[{row:gl()}],"row-start":[{"row-start":bl()}],"row-end":[{"row-end":bl()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_l()}],"auto-rows":[{"auto-rows":_l()}],gap:[{gap:ul()}],"gap-x":[{"gap-x":ul()}],"gap-y":[{"gap-y":ul()}],"justify-content":[{justify:[...xl(),"normal"]}],"justify-items":[{"justify-items":[...Al(),"normal"]}],"justify-self":[{"justify-self":["auto",...Al()]}],"align-content":[{content:["normal",...xl()]}],"align-items":[{items:[...Al(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Al(),{baseline:["","last"]}]}],"place-content":[{"place-content":xl()}],"place-items":[{"place-items":[...Al(),"baseline"]}],"place-self":[{"place-self":["auto",...Al()]}],p:[{p:ul()}],px:[{px:ul()}],py:[{py:ul()}],ps:[{ps:ul()}],pe:[{pe:ul()}],pt:[{pt:ul()}],pr:[{pr:ul()}],pb:[{pb:ul()}],pl:[{pl:ul()}],m:[{m:ml()}],mx:[{mx:ml()}],my:[{my:ml()}],ms:[{ms:ml()}],me:[{me:ml()}],mt:[{mt:ml()}],mr:[{mr:ml()}],mb:[{mb:ml()}],ml:[{ml:ml()}],"space-x":[{"space-x":ul()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ul()}],"space-y-reverse":["space-y-reverse"],size:[{size:Sl()}],w:[{w:[Ya,"screen",...Sl()]}],"min-w":[{"min-w":[Ya,"screen","none",...Sl()]}],"max-w":[{"max-w":[Ya,"screen","none","prose",{screen:[Ha]},...Sl()]}],h:[{h:["screen","lh",...Sl()]}],"min-h":[{"min-h":["screen","lh","none",...Sl()]}],"max-h":[{"max-h":["screen","lh",...Sl()]}],"font-size":[{text:["base",ja,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[Ba,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,Na]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[za,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[Ga,...ul()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Cl()}],"text-color":[{text:Cl()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ll(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Cl()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ul()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Nl()}],"bg-repeat":[{bg:dl()}],"bg-size":[{bg:Rl()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Cl()}],"gradient-from-pos":[{from:Tl()}],"gradient-via-pos":[{via:Tl()}],"gradient-to-pos":[{to:Tl()}],"gradient-from":[{from:Cl()}],"gradient-via":[{via:Cl()}],"gradient-to":[{to:Cl()}],rounded:[{rounded:pl()}],"rounded-s":[{"rounded-s":pl()}],"rounded-e":[{"rounded-e":pl()}],"rounded-t":[{"rounded-t":pl()}],"rounded-r":[{"rounded-r":pl()}],"rounded-b":[{"rounded-b":pl()}],"rounded-l":[{"rounded-l":pl()}],"rounded-ss":[{"rounded-ss":pl()}],"rounded-se":[{"rounded-se":pl()}],"rounded-ee":[{"rounded-ee":pl()}],"rounded-es":[{"rounded-es":pl()}],"rounded-tl":[{"rounded-tl":pl()}],"rounded-tr":[{"rounded-tr":pl()}],"rounded-br":[{"rounded-br":pl()}],"rounded-bl":[{"rounded-bl":pl()}],"border-w":[{border:jl()}],"border-w-x":[{"border-x":jl()}],"border-w-y":[{"border-y":jl()}],"border-w-s":[{"border-s":jl()}],"border-w-e":[{"border-e":jl()}],"border-w-t":[{"border-t":jl()}],"border-w-r":[{"border-r":jl()}],"border-w-b":[{"border-b":jl()}],"border-w-l":[{"border-l":jl()}],"divide-x":[{"divide-x":jl()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":jl()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ll(),"hidden","none"]}],"divide-style":[{divide:[...Ll(),"hidden","none"]}],"border-color":[{border:Cl()}],"border-color-x":[{"border-x":Cl()}],"border-color-y":[{"border-y":Cl()}],"border-color-s":[{"border-s":Cl()}],"border-color-e":[{"border-e":Cl()}],"border-color-t":[{"border-t":Cl()}],"border-color-r":[{"border-r":Cl()}],"border-color-b":[{"border-b":Cl()}],"border-color-l":[{"border-l":Cl()}],"divide-color":[{divide:Cl()}],"outline-style":[{outline:[...Ll(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Cl()}],shadow:[{shadow:["","none",Qa,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Cl()}],"inset-shadow":[{"inset-shadow":["none",Va,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Cl()}],"ring-w":[{ring:jl()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Cl()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Cl()}],"inset-ring-w":[{"inset-ring":jl()}],"inset-ring-color":[{"inset-ring":Cl()}],"text-shadow":[{"text-shadow":["none",Ua,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Cl()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Dl(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Dl()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":$l()}],"mask-image-linear-to-pos":[{"mask-linear-to":$l()}],"mask-image-linear-from-color":[{"mask-linear-from":Cl()}],"mask-image-linear-to-color":[{"mask-linear-to":Cl()}],"mask-image-t-from-pos":[{"mask-t-from":$l()}],"mask-image-t-to-pos":[{"mask-t-to":$l()}],"mask-image-t-from-color":[{"mask-t-from":Cl()}],"mask-image-t-to-color":[{"mask-t-to":Cl()}],"mask-image-r-from-pos":[{"mask-r-from":$l()}],"mask-image-r-to-pos":[{"mask-r-to":$l()}],"mask-image-r-from-color":[{"mask-r-from":Cl()}],"mask-image-r-to-color":[{"mask-r-to":Cl()}],"mask-image-b-from-pos":[{"mask-b-from":$l()}],"mask-image-b-to-pos":[{"mask-b-to":$l()}],"mask-image-b-from-color":[{"mask-b-from":Cl()}],"mask-image-b-to-color":[{"mask-b-to":Cl()}],"mask-image-l-from-pos":[{"mask-l-from":$l()}],"mask-image-l-to-pos":[{"mask-l-to":$l()}],"mask-image-l-from-color":[{"mask-l-from":Cl()}],"mask-image-l-to-color":[{"mask-l-to":Cl()}],"mask-image-x-from-pos":[{"mask-x-from":$l()}],"mask-image-x-to-pos":[{"mask-x-to":$l()}],"mask-image-x-from-color":[{"mask-x-from":Cl()}],"mask-image-x-to-color":[{"mask-x-to":Cl()}],"mask-image-y-from-pos":[{"mask-y-from":$l()}],"mask-image-y-to-pos":[{"mask-y-to":$l()}],"mask-image-y-from-color":[{"mask-y-from":Cl()}],"mask-image-y-to-color":[{"mask-y-to":Cl()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":$l()}],"mask-image-radial-to-pos":[{"mask-radial-to":$l()}],"mask-image-radial-from-color":[{"mask-radial-from":Cl()}],"mask-image-radial-to-color":[{"mask-radial-to":Cl()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":rl()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":$l()}],"mask-image-conic-to-pos":[{"mask-conic-to":$l()}],"mask-image-conic-from-color":[{"mask-conic-from":Cl()}],"mask-image-conic-to-color":[{"mask-conic-to":Cl()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Nl()}],"mask-repeat":[{mask:dl()}],"mask-size":[{mask:Rl()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:eu()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",Wa,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Cl()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":eu()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ul()}],"border-spacing-x":[{"border-spacing-x":ul()}],"border-spacing-y":[{"border-spacing-y":ul()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",Mo,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",el,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[Oo,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":il()}],rotate:[{rotate:uu()}],"rotate-x":[{"rotate-x":uu()}],"rotate-y":[{"rotate-y":uu()}],"rotate-z":[{"rotate-z":uu()}],scale:[{scale:su()}],"scale-x":[{"scale-x":su()}],"scale-y":[{"scale-y":su()}],"scale-z":[{"scale-z":su()}],"scale-3d":["scale-3d"],skew:[{skew:pu()}],"skew-x":[{"skew-x":pu()}],"skew-y":[{"skew-y":pu()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:il()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Yl()}],"translate-x":[{"translate-x":Yl()}],"translate-y":[{"translate-y":Yl()}],"translate-z":[{"translate-z":Yl()}],"translate-none":["translate-none"],accent:[{accent:Cl()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Cl()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ul()}],"scroll-mx":[{"scroll-mx":ul()}],"scroll-my":[{"scroll-my":ul()}],"scroll-ms":[{"scroll-ms":ul()}],"scroll-me":[{"scroll-me":ul()}],"scroll-mt":[{"scroll-mt":ul()}],"scroll-mr":[{"scroll-mr":ul()}],"scroll-mb":[{"scroll-mb":ul()}],"scroll-ml":[{"scroll-ml":ul()}],"scroll-p":[{"scroll-p":ul()}],"scroll-px":[{"scroll-px":ul()}],"scroll-py":[{"scroll-py":ul()}],"scroll-ps":[{"scroll-ps":ul()}],"scroll-pe":[{"scroll-pe":ul()}],"scroll-pt":[{"scroll-pt":ul()}],"scroll-pr":[{"scroll-pr":ul()}],"scroll-pb":[{"scroll-pb":ul()}],"scroll-pl":[{"scroll-pl":ul()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Cl()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Cl()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...La){return twMerge(clsx(La))}const floatArrayToWav=(La,Na=16e3,ja="wav")=>{const Ba=new ArrayBuffer(44+La.length*2),za=new DataView(Ba),Ga=(Xa,Ka)=>{for(let Qa=0;Qa<Ka.length;Qa++)za.setUint8(Xa+Qa,Ka.charCodeAt(Qa))};Ga(0,"RIFF");const Ha=ja==="wav"?36+La.length*2:44+La.length*2;za.setUint32(4,Ha,!0),Ga(8,ja==="wav"?"WAVE":"FORM"),Ga(12,"fmt "),za.setUint32(16,16,!0),za.setUint16(20,1,!0),za.setUint16(22,1,!0),za.setUint32(24,Na,!0),za.setUint32(28,Na*2,!0),za.setUint16(32,2,!0),za.setUint16(34,16,!0),Ga(36,"data"),za.setUint32(40,La.length*2,!0);let Ya=44;for(let Xa=0;Xa<La.length;Xa++){const Ka=Math.max(-1,Math.min(1,La[Xa]));za.setInt16(Ya,Ka<0?Ka*32768:Ka*32767,!0),Ya+=2}return new Blob([Ba],{type:`audio/${ja}`})};function setRef(La,Na){if(typeof La=="function")return La(Na);La!=null&&(La.current=Na)}function composeRefs(...La){return Na=>{let ja=!1;const Ba=La.map(za=>{const Ga=setRef(za,Na);return!ja&&typeof Ga=="function"&&(ja=!0),Ga});if(ja)return()=>{for(let za=0;za<Ba.length;za++){const Ga=Ba[za];typeof Ga=="function"?Ga():setRef(La[za],null)}}}}function useComposedRefs(...La){return reactExports.useCallback(composeRefs(...La),La)}function createSlot(La){const Na=createSlotClone(La),ja=reactExports.forwardRef((Ba,za)=>{const{children:Ga,...Ha}=Ba,Ya=reactExports.Children.toArray(Ga),Xa=Ya.find(isSlottable);if(Xa){const Ka=Xa.props.children,Qa=Ya.map(Va=>Va===Xa?reactExports.Children.count(Ka)>1?reactExports.Children.only(null):reactExports.isValidElement(Ka)?Ka.props.children:null:Va);return jsxRuntimeExports.jsx(Na,{...Ha,ref:za,children:reactExports.isValidElement(Ka)?reactExports.cloneElement(Ka,void 0,Qa):null})}return jsxRuntimeExports.jsx(Na,{...Ha,ref:za,children:Ga})});return ja.displayName=`${La}.Slot`,ja}var Slot$4=createSlot("Slot");function createSlotClone(La){const Na=reactExports.forwardRef((ja,Ba)=>{const{children:za,...Ga}=ja;if(reactExports.isValidElement(za)){const Ha=getElementRef$1(za),Ya=mergeProps(Ga,za.props);return za.type!==reactExports.Fragment&&(Ya.ref=Ba?composeRefs(Ba,Ha):Ha),reactExports.cloneElement(za,Ya)}return reactExports.Children.count(za)>1?reactExports.Children.only(null):null});return Na.displayName=`${La}.SlotClone`,Na}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(La){return reactExports.isValidElement(La)&&typeof La.type=="function"&&"__radixId"in La.type&&La.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(La,Na){const ja={...Na};for(const Ba in Na){const za=La[Ba],Ga=Na[Ba];/^on[A-Z]/.test(Ba)?za&&Ga?ja[Ba]=(...Ya)=>{const Xa=Ga(...Ya);return za(...Ya),Xa}:za&&(ja[Ba]=za):Ba==="style"?ja[Ba]={...za,...Ga}:Ba==="className"&&(ja[Ba]=[za,Ga].filter(Boolean).join(" "))}return{...La,...ja}}function getElementRef$1(La){let Na=Object.getOwnPropertyDescriptor(La.props,"ref")?.get,ja=Na&&"isReactWarning"in Na&&Na.isReactWarning;return ja?La.ref:(Na=Object.getOwnPropertyDescriptor(La,"ref")?.get,ja=Na&&"isReactWarning"in Na&&Na.isReactWarning,ja?La.props.ref:La.props.ref||La.ref)}const falsyToString=La=>typeof La=="boolean"?`${La}`:La===0?"0":La,cx=clsx,cva=(La,Na)=>ja=>{var Ba;if(Na?.variants==null)return cx(La,ja?.class,ja?.className);const{variants:za,defaultVariants:Ga}=Na,Ha=Object.keys(za).map(Ka=>{const Qa=ja?.[Ka],Va=Ga?.[Ka];if(Qa===null)return null;const Ua=falsyToString(Qa)||falsyToString(Va);return za[Ka][Ua]}),Ya=ja&&Object.entries(ja).reduce((Ka,Qa)=>{let[Va,Ua]=Qa;return Ua===void 0||(Ka[Va]=Ua),Ka},{}),Xa=Na==null||(Ba=Na.compoundVariants)===null||Ba===void 0?void 0:Ba.reduce((Ka,Qa)=>{let{class:Va,className:Ua,...Wa}=Qa;return Object.entries(Wa).every(Ja=>{let[Oo,Do]=Ja;return Array.isArray(Do)?Do.includes({...Ga,...Ya}[Oo]):{...Ga,...Ya}[Oo]===Do})?[...Ka,Va,Ua]:Ka},[]);return cx(La,Ha,Xa,ja?.class,ja?.className)},buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring/80 focus-visible:ring-ring/60 focus-visible:ring-[4px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 dark:bg-black dark:text-white dark:hover:bg-neutral-900",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-black/70 dark:border-black/60 dark:hover:bg-black/80",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80 dark:bg-black dark:text-white dark:hover:bg-neutral-900",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-black/60",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-xl gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-xl px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Button({className:La,variant:Na,size:ja,asChild:Ba=!1,...za}){const Ga=Ba?Slot$4:"button";return jsxRuntimeExports.jsx(Ga,{"data-slot":"button",className:cn(buttonVariants({variant:Na,size:ja,className:La})),...za})}function CopyButton({content:La,copyMessage:Na}){const{isCopied:ja,handleCopy:Ba}=useCopyToClipboard({text:La,copyMessage:Na});return jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",className:"relative h-6 w-6","aria-label":"Copy to clipboard",onClick:Ba,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Check,{className:cn("h-4 w-4 transition-transform ease-in-out",ja?"scale-100":"scale-0")})}),jsxRuntimeExports.jsx(Copy,{className:cn("h-4 w-4 transition-transform ease-in-out",ja?"scale-0":"scale-100")})]})}const Input$1=({isPopoverOpen:La,isLoading:Na,reset:ja,input:Ba,setInput:za,handleKeyPress:Ga,handlePaste:Ha,currentConversationId:Ya,conversationHistory:Xa,startNewConversation:Ka,messageHistoryOpen:Qa,setMessageHistoryOpen:Va,error:Ua,response:Wa,cancel:Ja,scrollAreaRef:Oo,inputRef:Do,isHidden:Mo,keepEngaged:el,setKeepEngaged:tl})=>jsxRuntimeExports.jsx("div",{className:"relative flex-1",children:jsxRuntimeExports.jsxs(Popover,{open:La,onOpenChange:rl=>{!rl&&!Na&&!el&&ja()},children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,className:"!border-none !bg-transparent",children:jsxRuntimeExports.jsxs("div",{className:"relative select-none",children:[jsxRuntimeExports.jsx(Input,{ref:Do,placeholder:"Ask me anything...",value:Ba,onChange:rl=>za(rl.target.value),onKeyPress:Ga,onPaste:Ha,disabled:Na||Mo,className:`${Ya&&Xa.length>0?"pr-14":"pr-2"}`}),Ya&&Xa.length>0&&!Na&&jsxRuntimeExports.jsx("div",{className:"absolute select-none right-1 top-1/2 -translate-y-1/2 flex items-center gap-1",children:jsxRuntimeExports.jsx(MessageHistory,{conversationHistory:Xa,currentConversationId:Ya,onStartNewConversation:Ka,messageHistoryOpen:Qa,setMessageHistoryOpen:Va})}),Na&&jsxRuntimeExports.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 animate-pulse",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]})}),jsxRuntimeExports.jsxs(PopoverContent,{align:"end",side:"bottom",className:"w-screen p-0 border shadow-lg overflow-hidden",sideOffset:8,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-muted/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm select-none",children:el?"Conversation Mode":"AI Response"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground/70",children:"(Use arrow keys to scroll)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 select-none",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center gap-2 mr-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:`Toggle ${el?"AI response":"conversation mode"}`}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground/60 bg-muted/30 px-1 py-0 rounded border border-input/50",children:[navigator.platform.toLowerCase().includes("mac")?"":"Ctrl"," ","+ K"]}),jsxRuntimeExports.jsx(Switch,{checked:el,onCheckedChange:rl=>{tl(rl),setTimeout(()=>{Do?.current?.focus()},100)}})]}),jsxRuntimeExports.jsx(CopyButton,{content:Wa}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost",onClick:()=>{Na?Ja():el?(tl(!1),Ka()):ja()},className:"cursor-pointer",title:Na?"Cancel loading":el?"Close and start new conversation":"Clear conversation",children:jsxRuntimeExports.jsx(X$1,{})})]})]}),jsxRuntimeExports.jsx(ScrollArea,{ref:Oo,className:"h-[calc(100vh-7rem)]",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[Ua&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded text-sm text-destructive",children:[jsxRuntimeExports.jsx("strong",{children:"Error:"})," ",Ua]}),Na&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 my-4 text-muted-foreground animate-pulse select-none",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Generating response..."})]}),Wa&&jsxRuntimeExports.jsx(Markdown,{children:Wa}),el&&Xa.length>1&&jsxRuntimeExports.jsx("div",{className:"space-y-3 pt-3",children:Xa.sort((rl,il)=>il?.timestamp-rl?.timestamp).map((rl,il)=>!Na&&il===0?null:jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg text-sm ${rl.role==="user"?"bg-primary/10 border-l-4 border-primary":"bg-muted/50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:rl.role==="user"?"You":"AI"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(rl.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsx(Markdown,{children:rl.content})]},rl.id))})]})})]})]})}),alertVariants=cva("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:La,variant:Na,...ja},Ba)=>jsxRuntimeExports.jsx("div",{ref:Ba,role:"alert",className:cn(alertVariants({variant:Na}),La),...ja}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:La,...Na},ja)=>jsxRuntimeExports.jsx("h5",{ref:ja,className:cn("mb-1 font-medium leading-none tracking-tight",La),...Na}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:La,...Na},ja)=>jsxRuntimeExports.jsx("div",{ref:ja,className:cn("text-sm [&_p]:leading-relaxed",La),...Na}));AlertDescription.displayName="AlertDescription";function Card({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card/80 text-card-foreground flex flex-col gap-6 rounded-xl border border-secondary/30 py-6 shadow-sm",La),...Na})}function CardHeader({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-header",className:cn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",La),...Na})}function CardTitle({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-title",className:cn("leading-none font-semibold",La),...Na})}function CardDescription({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-description",className:cn("text-muted-foreground text-sm",La),...Na})}function CardContent({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6",La),...Na})}function composeEventHandlers(La,Na,{checkForDefaultPrevented:ja=!0}={}){return function(za){if(La?.(za),ja===!1||!za.defaultPrevented)return Na?.(za)}}function createContext2(La,Na){const ja=reactExports.createContext(Na),Ba=Ga=>{const{children:Ha,...Ya}=Ga,Xa=reactExports.useMemo(()=>Ya,Object.values(Ya));return jsxRuntimeExports.jsx(ja.Provider,{value:Xa,children:Ha})};Ba.displayName=La+"Provider";function za(Ga){const Ha=reactExports.useContext(ja);if(Ha)return Ha;if(Na!==void 0)return Na;throw new Error(`\`${Ga}\` must be used within \`${La}\``)}return[Ba,za]}function createContextScope(La,Na=[]){let ja=[];function Ba(Ga,Ha){const Ya=reactExports.createContext(Ha),Xa=ja.length;ja=[...ja,Ha];const Ka=Va=>{const{scope:Ua,children:Wa,...Ja}=Va,Oo=Ua?.[La]?.[Xa]||Ya,Do=reactExports.useMemo(()=>Ja,Object.values(Ja));return jsxRuntimeExports.jsx(Oo.Provider,{value:Do,children:Wa})};Ka.displayName=Ga+"Provider";function Qa(Va,Ua){const Wa=Ua?.[La]?.[Xa]||Ya,Ja=reactExports.useContext(Wa);if(Ja)return Ja;if(Ha!==void 0)return Ha;throw new Error(`\`${Va}\` must be used within \`${Ga}\``)}return[Ka,Qa]}const za=()=>{const Ga=ja.map(Ha=>reactExports.createContext(Ha));return function(Ya){const Xa=Ya?.[La]||Ga;return reactExports.useMemo(()=>({[`__scope${La}`]:{...Ya,[La]:Xa}}),[Ya,Xa])}};return za.scopeName=La,[Ba,composeContextScopes(za,...Na)]}function composeContextScopes(...La){const Na=La[0];if(La.length===1)return Na;const ja=()=>{const Ba=La.map(za=>({useScope:za(),scopeName:za.scopeName}));return function(Ga){const Ha=Ba.reduce((Ya,{useScope:Xa,scopeName:Ka})=>{const Va=Xa(Ga)[`__scope${Ka}`];return{...Ya,...Va}},{});return reactExports.useMemo(()=>({[`__scope${Na.scopeName}`]:Ha}),[Ha])}};return ja.scopeName=Na.scopeName,ja}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId(La){const[Na,ja]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{ja(Ba=>Ba??String(count$1++))},[La]),La||(Na?`radix-${Na}`:"")}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:La,defaultProp:Na,onChange:ja=()=>{},caller:Ba}){const[za,Ga,Ha]=useUncontrolledState({defaultProp:Na,onChange:ja}),Ya=La!==void 0,Xa=Ya?La:za;{const Qa=reactExports.useRef(La!==void 0);reactExports.useEffect(()=>{const Va=Qa.current;Va!==Ya&&console.warn(`${Ba} is changing from ${Va?"controlled":"uncontrolled"} to ${Ya?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),Qa.current=Ya},[Ya,Ba])}const Ka=reactExports.useCallback(Qa=>{if(Ya){const Va=isFunction(Qa)?Qa(La):Qa;Va!==La&&Ha.current?.(Va)}else Ga(Qa)},[Ya,La,Ga,Ha]);return[Xa,Ka]}function useUncontrolledState({defaultProp:La,onChange:Na}){const[ja,Ba]=reactExports.useState(La),za=reactExports.useRef(ja),Ga=reactExports.useRef(Na);return useInsertionEffect(()=>{Ga.current=Na},[Na]),reactExports.useEffect(()=>{za.current!==ja&&(Ga.current?.(ja),za.current=ja)},[ja,za]),[ja,Ba,Ga]}function isFunction(La){return typeof La=="function"}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((La,Na)=>{const ja=createSlot(`Primitive.${Na}`),Ba=reactExports.forwardRef((za,Ga)=>{const{asChild:Ha,...Ya}=za,Xa=Ha?ja:Na;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(Xa,{...Ya,ref:Ga})});return Ba.displayName=`Primitive.${Na}`,{...La,[Na]:Ba}},{});function dispatchDiscreteCustomEvent(La,Na){La&&reactDomExports.flushSync(()=>La.dispatchEvent(Na))}function useCallbackRef$1(La){const Na=reactExports.useRef(La);return reactExports.useEffect(()=>{Na.current=La}),reactExports.useMemo(()=>(...ja)=>Na.current?.(...ja),[])}function useEscapeKeydown(La,Na=globalThis?.document){const ja=useCallbackRef$1(La);reactExports.useEffect(()=>{const Ba=za=>{za.key==="Escape"&&ja(za)};return Na.addEventListener("keydown",Ba,{capture:!0}),()=>Na.removeEventListener("keydown",Ba,{capture:!0})},[ja,Na])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((La,Na)=>{const{disableOutsidePointerEvents:ja=!1,onEscapeKeyDown:Ba,onPointerDownOutside:za,onFocusOutside:Ga,onInteractOutside:Ha,onDismiss:Ya,...Xa}=La,Ka=reactExports.useContext(DismissableLayerContext),[Qa,Va]=reactExports.useState(null),Ua=Qa?.ownerDocument??globalThis?.document,[,Wa]=reactExports.useState({}),Ja=useComposedRefs(Na,ll=>Va(ll)),Oo=Array.from(Ka.layers),[Do]=[...Ka.layersWithOutsidePointerEventsDisabled].slice(-1),Mo=Oo.indexOf(Do),el=Qa?Oo.indexOf(Qa):-1,tl=Ka.layersWithOutsidePointerEventsDisabled.size>0,rl=el>=Mo,il=usePointerDownOutside(ll=>{const ul=ll.target,ol=[...Ka.branches].some(cl=>cl.contains(ul));!rl||ol||(za?.(ll),Ha?.(ll),ll.defaultPrevented||Ya?.())},Ua),al=useFocusOutside(ll=>{const ul=ll.target;[...Ka.branches].some(cl=>cl.contains(ul))||(Ga?.(ll),Ha?.(ll),ll.defaultPrevented||Ya?.())},Ua);return useEscapeKeydown(ll=>{el===Ka.layers.size-1&&(Ba?.(ll),!ll.defaultPrevented&&Ya&&(ll.preventDefault(),Ya()))},Ua),reactExports.useEffect(()=>{if(Qa)return ja&&(Ka.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Ua.body.style.pointerEvents,Ua.body.style.pointerEvents="none"),Ka.layersWithOutsidePointerEventsDisabled.add(Qa)),Ka.layers.add(Qa),dispatchUpdate(),()=>{ja&&Ka.layersWithOutsidePointerEventsDisabled.size===1&&(Ua.body.style.pointerEvents=originalBodyPointerEvents)}},[Qa,Ua,ja,Ka]),reactExports.useEffect(()=>()=>{Qa&&(Ka.layers.delete(Qa),Ka.layersWithOutsidePointerEventsDisabled.delete(Qa),dispatchUpdate())},[Qa,Ka]),reactExports.useEffect(()=>{const ll=()=>Wa({});return document.addEventListener(CONTEXT_UPDATE,ll),()=>document.removeEventListener(CONTEXT_UPDATE,ll)},[]),jsxRuntimeExports.jsx(Primitive.div,{...Xa,ref:Ja,style:{pointerEvents:tl?rl?"auto":"none":void 0,...La.style},onFocusCapture:composeEventHandlers(La.onFocusCapture,al.onFocusCapture),onBlurCapture:composeEventHandlers(La.onBlurCapture,al.onBlurCapture),onPointerDownCapture:composeEventHandlers(La.onPointerDownCapture,il.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((La,Na)=>{const ja=reactExports.useContext(DismissableLayerContext),Ba=reactExports.useRef(null),za=useComposedRefs(Na,Ba);return reactExports.useEffect(()=>{const Ga=Ba.current;if(Ga)return ja.branches.add(Ga),()=>{ja.branches.delete(Ga)}},[ja.branches]),jsxRuntimeExports.jsx(Primitive.div,{...La,ref:za})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(La,Na=globalThis?.document){const ja=useCallbackRef$1(La),Ba=reactExports.useRef(!1),za=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const Ga=Ya=>{if(Ya.target&&!Ba.current){let Xa=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,ja,Ka,{discrete:!0})};const Ka={originalEvent:Ya};Ya.pointerType==="touch"?(Na.removeEventListener("click",za.current),za.current=Xa,Na.addEventListener("click",za.current,{once:!0})):Xa()}else Na.removeEventListener("click",za.current);Ba.current=!1},Ha=window.setTimeout(()=>{Na.addEventListener("pointerdown",Ga)},0);return()=>{window.clearTimeout(Ha),Na.removeEventListener("pointerdown",Ga),Na.removeEventListener("click",za.current)}},[Na,ja]),{onPointerDownCapture:()=>Ba.current=!0}}function useFocusOutside(La,Na=globalThis?.document){const ja=useCallbackRef$1(La),Ba=reactExports.useRef(!1);return reactExports.useEffect(()=>{const za=Ga=>{Ga.target&&!Ba.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,ja,{originalEvent:Ga},{discrete:!1})};return Na.addEventListener("focusin",za),()=>Na.removeEventListener("focusin",za)},[Na,ja]),{onFocusCapture:()=>Ba.current=!0,onBlurCapture:()=>Ba.current=!1}}function dispatchUpdate(){const La=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(La)}function handleAndDispatchCustomEvent(La,Na,ja,{discrete:Ba}){const za=ja.originalEvent.target,Ga=new CustomEvent(La,{bubbles:!1,cancelable:!0,detail:ja});Na&&za.addEventListener(La,Na,{once:!0}),Ba?dispatchDiscreteCustomEvent(za,Ga):za.dispatchEvent(Ga)}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((La,Na)=>{const{loop:ja=!1,trapped:Ba=!1,onMountAutoFocus:za,onUnmountAutoFocus:Ga,...Ha}=La,[Ya,Xa]=reactExports.useState(null),Ka=useCallbackRef$1(za),Qa=useCallbackRef$1(Ga),Va=reactExports.useRef(null),Ua=useComposedRefs(Na,Oo=>Xa(Oo)),Wa=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(Ba){let Oo=function(tl){if(Wa.paused||!Ya)return;const rl=tl.target;Ya.contains(rl)?Va.current=rl:focus(Va.current,{select:!0})},Do=function(tl){if(Wa.paused||!Ya)return;const rl=tl.relatedTarget;rl!==null&&(Ya.contains(rl)||focus(Va.current,{select:!0}))},Mo=function(tl){if(document.activeElement===document.body)for(const il of tl)il.removedNodes.length>0&&focus(Ya)};document.addEventListener("focusin",Oo),document.addEventListener("focusout",Do);const el=new MutationObserver(Mo);return Ya&&el.observe(Ya,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Oo),document.removeEventListener("focusout",Do),el.disconnect()}}},[Ba,Ya,Wa.paused]),reactExports.useEffect(()=>{if(Ya){focusScopesStack.add(Wa);const Oo=document.activeElement;if(!Ya.contains(Oo)){const Mo=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);Ya.addEventListener(AUTOFOCUS_ON_MOUNT,Ka),Ya.dispatchEvent(Mo),Mo.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(Ya)),{select:!0}),document.activeElement===Oo&&focus(Ya))}return()=>{Ya.removeEventListener(AUTOFOCUS_ON_MOUNT,Ka),setTimeout(()=>{const Mo=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);Ya.addEventListener(AUTOFOCUS_ON_UNMOUNT,Qa),Ya.dispatchEvent(Mo),Mo.defaultPrevented||focus(Oo??document.body,{select:!0}),Ya.removeEventListener(AUTOFOCUS_ON_UNMOUNT,Qa),focusScopesStack.remove(Wa)},0)}}},[Ya,Ka,Qa,Wa]);const Ja=reactExports.useCallback(Oo=>{if(!ja&&!Ba||Wa.paused)return;const Do=Oo.key==="Tab"&&!Oo.altKey&&!Oo.ctrlKey&&!Oo.metaKey,Mo=document.activeElement;if(Do&&Mo){const el=Oo.currentTarget,[tl,rl]=getTabbableEdges(el);tl&&rl?!Oo.shiftKey&&Mo===rl?(Oo.preventDefault(),ja&&focus(tl,{select:!0})):Oo.shiftKey&&Mo===tl&&(Oo.preventDefault(),ja&&focus(rl,{select:!0})):Mo===el&&Oo.preventDefault()}},[ja,Ba,Wa.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...Ha,ref:Ua,onKeyDown:Ja})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(La,{select:Na=!1}={}){const ja=document.activeElement;for(const Ba of La)if(focus(Ba,{select:Na}),document.activeElement!==ja)return}function getTabbableEdges(La){const Na=getTabbableCandidates(La),ja=findVisible(Na,La),Ba=findVisible(Na.reverse(),La);return[ja,Ba]}function getTabbableCandidates(La){const Na=[],ja=document.createTreeWalker(La,NodeFilter.SHOW_ELEMENT,{acceptNode:Ba=>{const za=Ba.tagName==="INPUT"&&Ba.type==="hidden";return Ba.disabled||Ba.hidden||za?NodeFilter.FILTER_SKIP:Ba.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;ja.nextNode();)Na.push(ja.currentNode);return Na}function findVisible(La,Na){for(const ja of La)if(!isHidden(ja,{upTo:Na}))return ja}function isHidden(La,{upTo:Na}){if(getComputedStyle(La).visibility==="hidden")return!0;for(;La;){if(Na!==void 0&&La===Na)return!1;if(getComputedStyle(La).display==="none")return!0;La=La.parentElement}return!1}function isSelectableInput(La){return La instanceof HTMLInputElement&&"select"in La}function focus(La,{select:Na=!1}={}){if(La&&La.focus){const ja=document.activeElement;La.focus({preventScroll:!0}),La!==ja&&isSelectableInput(La)&&Na&&La.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let La=[];return{add(Na){const ja=La[0];Na!==ja&&ja?.pause(),La=arrayRemove(La,Na),La.unshift(Na)},remove(Na){La=arrayRemove(La,Na),La[0]?.resume()}}}function arrayRemove(La,Na){const ja=[...La],Ba=ja.indexOf(Na);return Ba!==-1&&ja.splice(Ba,1),ja}function removeLinks(La){return La.filter(Na=>Na.tagName!=="A")}var PORTAL_NAME$5="Portal",Portal$4=reactExports.forwardRef((La,Na)=>{const{container:ja,...Ba}=La,[za,Ga]=reactExports.useState(!1);useLayoutEffect2(()=>Ga(!0),[]);const Ha=ja||za&&globalThis?.document?.body;return Ha?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...Ba,ref:Na}),Ha):null});Portal$4.displayName=PORTAL_NAME$5;function useStateMachine$1(La,Na){return reactExports.useReducer((ja,Ba)=>Na[ja][Ba]??ja,La)}var Presence=La=>{const{present:Na,children:ja}=La,Ba=usePresence(Na),za=typeof ja=="function"?ja({present:Ba.isPresent}):reactExports.Children.only(ja),Ga=useComposedRefs(Ba.ref,getElementRef(za));return typeof ja=="function"||Ba.isPresent?reactExports.cloneElement(za,{ref:Ga}):null};Presence.displayName="Presence";function usePresence(La){const[Na,ja]=reactExports.useState(),Ba=reactExports.useRef(null),za=reactExports.useRef(La),Ga=reactExports.useRef("none"),Ha=La?"mounted":"unmounted",[Ya,Xa]=useStateMachine$1(Ha,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const Ka=getAnimationName(Ba.current);Ga.current=Ya==="mounted"?Ka:"none"},[Ya]),useLayoutEffect2(()=>{const Ka=Ba.current,Qa=za.current;if(Qa!==La){const Ua=Ga.current,Wa=getAnimationName(Ka);La?Xa("MOUNT"):Wa==="none"||Ka?.display==="none"?Xa("UNMOUNT"):Xa(Qa&&Ua!==Wa?"ANIMATION_OUT":"UNMOUNT"),za.current=La}},[La,Xa]),useLayoutEffect2(()=>{if(Na){let Ka;const Qa=Na.ownerDocument.defaultView??window,Va=Wa=>{const Oo=getAnimationName(Ba.current).includes(CSS.escape(Wa.animationName));if(Wa.target===Na&&Oo&&(Xa("ANIMATION_END"),!za.current)){const Do=Na.style.animationFillMode;Na.style.animationFillMode="forwards",Ka=Qa.setTimeout(()=>{Na.style.animationFillMode==="forwards"&&(Na.style.animationFillMode=Do)})}},Ua=Wa=>{Wa.target===Na&&(Ga.current=getAnimationName(Ba.current))};return Na.addEventListener("animationstart",Ua),Na.addEventListener("animationcancel",Va),Na.addEventListener("animationend",Va),()=>{Qa.clearTimeout(Ka),Na.removeEventListener("animationstart",Ua),Na.removeEventListener("animationcancel",Va),Na.removeEventListener("animationend",Va)}}else Xa("ANIMATION_END")},[Na,Xa]),{isPresent:["mounted","unmountSuspended"].includes(Ya),ref:reactExports.useCallback(Ka=>{Ba.current=Ka?getComputedStyle(Ka):null,ja(Ka)},[])}}function getAnimationName(La){return La?.animationName||"none"}function getElementRef(La){let Na=Object.getOwnPropertyDescriptor(La.props,"ref")?.get,ja=Na&&"isReactWarning"in Na&&Na.isReactWarning;return ja?La.ref:(Na=Object.getOwnPropertyDescriptor(La,"ref")?.get,ja=Na&&"isReactWarning"in Na&&Na.isReactWarning,ja?La.props.ref:La.props.ref||La.ref)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const La=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",La[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",La[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Na=>Na.remove()),count--}},[])}function createFocusGuard(){const La=document.createElement("span");return La.setAttribute("data-radix-focus-guard",""),La.tabIndex=0,La.style.outline="none",La.style.opacity="0",La.style.position="fixed",La.style.pointerEvents="none",La}var __assign=function(){return __assign=Object.assign||function(Na){for(var ja,Ba=1,za=arguments.length;Ba<za;Ba++){ja=arguments[Ba];for(var Ga in ja)Object.prototype.hasOwnProperty.call(ja,Ga)&&(Na[Ga]=ja[Ga])}return Na},__assign.apply(this,arguments)};function __rest(La,Na){var ja={};for(var Ba in La)Object.prototype.hasOwnProperty.call(La,Ba)&&Na.indexOf(Ba)<0&&(ja[Ba]=La[Ba]);if(La!=null&&typeof Object.getOwnPropertySymbols=="function")for(var za=0,Ba=Object.getOwnPropertySymbols(La);za<Ba.length;za++)Na.indexOf(Ba[za])<0&&Object.prototype.propertyIsEnumerable.call(La,Ba[za])&&(ja[Ba[za]]=La[Ba[za]]);return ja}function __spreadArray(La,Na,ja){if(ja||arguments.length===2)for(var Ba=0,za=Na.length,Ga;Ba<za;Ba++)(Ga||!(Ba in Na))&&(Ga||(Ga=Array.prototype.slice.call(Na,0,Ba)),Ga[Ba]=Na[Ba]);return La.concat(Ga||Array.prototype.slice.call(Na))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(La,Na){return typeof La=="function"?La(Na):La&&(La.current=Na),La}function useCallbackRef(La,Na){var ja=reactExports.useState(function(){return{value:La,callback:Na,facade:{get current(){return ja.value},set current(Ba){var za=ja.value;za!==Ba&&(ja.value=Ba,ja.callback(Ba,za))}}}})[0];return ja.callback=Na,ja.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(La,Na){var ja=useCallbackRef(null,function(Ba){return La.forEach(function(za){return assignRef(za,Ba)})});return useIsomorphicLayoutEffect(function(){var Ba=currentValues.get(ja);if(Ba){var za=new Set(Ba),Ga=new Set(La),Ha=ja.current;za.forEach(function(Ya){Ga.has(Ya)||assignRef(Ya,null)}),Ga.forEach(function(Ya){za.has(Ya)||assignRef(Ya,Ha)})}currentValues.set(ja,La)},[La]),ja}function ItoI(La){return La}function innerCreateMedium(La,Na){Na===void 0&&(Na=ItoI);var ja=[],Ba=!1,za={read:function(){if(Ba)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return ja.length?ja[ja.length-1]:La},useMedium:function(Ga){var Ha=Na(Ga,Ba);return ja.push(Ha),function(){ja=ja.filter(function(Ya){return Ya!==Ha})}},assignSyncMedium:function(Ga){for(Ba=!0;ja.length;){var Ha=ja;ja=[],Ha.forEach(Ga)}ja={push:function(Ya){return Ga(Ya)},filter:function(){return ja}}},assignMedium:function(Ga){Ba=!0;var Ha=[];if(ja.length){var Ya=ja;ja=[],Ya.forEach(Ga),Ha=ja}var Xa=function(){var Qa=Ha;Ha=[],Qa.forEach(Ga)},Ka=function(){return Promise.resolve().then(Xa)};Ka(),ja={push:function(Qa){Ha.push(Qa),Ka()},filter:function(Qa){return Ha=Ha.filter(Qa),ja}}}};return za}function createSidecarMedium(La){La===void 0&&(La={});var Na=innerCreateMedium(null);return Na.options=__assign({async:!0,ssr:!1},La),Na}var SideCar$1=function(La){var Na=La.sideCar,ja=__rest(La,["sideCar"]);if(!Na)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Ba=Na.read();if(!Ba)throw new Error("Sidecar medium not found");return reactExports.createElement(Ba,__assign({},ja))};SideCar$1.isSideCarExport=!0;function exportSidecar(La,Na){return La.useMedium(Na),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(La,Na){var ja=reactExports.useRef(null),Ba=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),za=Ba[0],Ga=Ba[1],Ha=La.forwardProps,Ya=La.children,Xa=La.className,Ka=La.removeScrollBar,Qa=La.enabled,Va=La.shards,Ua=La.sideCar,Wa=La.noRelative,Ja=La.noIsolation,Oo=La.inert,Do=La.allowPinchZoom,Mo=La.as,el=Mo===void 0?"div":Mo,tl=La.gapMode,rl=__rest(La,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),il=Ua,al=useMergeRefs([ja,Na]),ll=__assign(__assign({},rl),za);return reactExports.createElement(reactExports.Fragment,null,Qa&&reactExports.createElement(il,{sideCar:effectCar,removeScrollBar:Ka,shards:Va,noRelative:Wa,noIsolation:Ja,inert:Oo,setCallbacks:Ga,allowPinchZoom:!!Do,lockRef:ja,gapMode:tl}),Ha?reactExports.cloneElement(reactExports.Children.only(Ya),__assign(__assign({},ll),{ref:al})):reactExports.createElement(el,__assign({},ll,{className:Xa,ref:al}),Ya))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var La=document.createElement("style");La.type="text/css";var Na=getNonce();return Na&&La.setAttribute("nonce",Na),La}function injectStyles(La,Na){La.styleSheet?La.styleSheet.cssText=Na:La.appendChild(document.createTextNode(Na))}function insertStyleTag(La){var Na=document.head||document.getElementsByTagName("head")[0];Na.appendChild(La)}var stylesheetSingleton=function(){var La=0,Na=null;return{add:function(ja){La==0&&(Na=makeStyleTag())&&(injectStyles(Na,ja),insertStyleTag(Na)),La++},remove:function(){La--,!La&&Na&&(Na.parentNode&&Na.parentNode.removeChild(Na),Na=null)}}},styleHookSingleton=function(){var La=stylesheetSingleton();return function(Na,ja){reactExports.useEffect(function(){return La.add(Na),function(){La.remove()}},[Na&&ja])}},styleSingleton=function(){var La=styleHookSingleton(),Na=function(ja){var Ba=ja.styles,za=ja.dynamic;return La(Ba,za),null};return Na},zeroGap={left:0,top:0,right:0,gap:0},parse$3=function(La){return parseInt(La||"",10)||0},getOffset=function(La){var Na=window.getComputedStyle(document.body),ja=Na[La==="padding"?"paddingLeft":"marginLeft"],Ba=Na[La==="padding"?"paddingTop":"marginTop"],za=Na[La==="padding"?"paddingRight":"marginRight"];return[parse$3(ja),parse$3(Ba),parse$3(za)]},getGapWidth=function(La){if(La===void 0&&(La="margin"),typeof window>"u")return zeroGap;var Na=getOffset(La),ja=document.documentElement.clientWidth,Ba=window.innerWidth;return{left:Na[0],top:Na[1],right:Na[2],gap:Math.max(0,Ba-ja+Na[2]-Na[0])}},Style$2=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(La,Na,ja,Ba){var za=La.left,Ga=La.top,Ha=La.right,Ya=La.gap;return ja===void 0&&(ja="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(Ba,`;
   padding-right: `).concat(Ya,"px ").concat(Ba,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(Ba,`;
    overscroll-behavior: contain;
    `).concat([Na&&"position: relative ".concat(Ba,";"),ja==="margin"&&`
    padding-left: `.concat(za,`px;
    padding-top: `).concat(Ga,`px;
    padding-right: `).concat(Ha,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(Ya,"px ").concat(Ba,`;
    `),ja==="padding"&&"padding-right: ".concat(Ya,"px ").concat(Ba,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(Ya,"px ").concat(Ba,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(Ya,"px ").concat(Ba,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(Ba,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(Ba,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(Ya,`px;
  }
`)},getCurrentUseCounter=function(){var La=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(La)?La:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var La=getCurrentUseCounter()-1;La<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,La.toString())}},[])},RemoveScrollBar=function(La){var Na=La.noRelative,ja=La.noImportant,Ba=La.gapMode,za=Ba===void 0?"margin":Ba;useLockAttribute();var Ga=reactExports.useMemo(function(){return getGapWidth(za)},[za]);return reactExports.createElement(Style$2,{styles:getStyles(Ga,!Na,za,ja?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(La){return La.tagName==="TEXTAREA"},elementCanBeScrolled=function(La,Na){if(!(La instanceof Element))return!1;var ja=window.getComputedStyle(La);return ja[Na]!=="hidden"&&!(ja.overflowY===ja.overflowX&&!alwaysContainsScroll(La)&&ja[Na]==="visible")},elementCouldBeVScrolled=function(La){return elementCanBeScrolled(La,"overflowY")},elementCouldBeHScrolled=function(La){return elementCanBeScrolled(La,"overflowX")},locationCouldBeScrolled=function(La,Na){var ja=Na.ownerDocument,Ba=Na;do{typeof ShadowRoot<"u"&&Ba instanceof ShadowRoot&&(Ba=Ba.host);var za=elementCouldBeScrolled(La,Ba);if(za){var Ga=getScrollVariables(La,Ba),Ha=Ga[1],Ya=Ga[2];if(Ha>Ya)return!0}Ba=Ba.parentNode}while(Ba&&Ba!==ja.body);return!1},getVScrollVariables=function(La){var Na=La.scrollTop,ja=La.scrollHeight,Ba=La.clientHeight;return[Na,ja,Ba]},getHScrollVariables=function(La){var Na=La.scrollLeft,ja=La.scrollWidth,Ba=La.clientWidth;return[Na,ja,Ba]},elementCouldBeScrolled=function(La,Na){return La==="v"?elementCouldBeVScrolled(Na):elementCouldBeHScrolled(Na)},getScrollVariables=function(La,Na){return La==="v"?getVScrollVariables(Na):getHScrollVariables(Na)},getDirectionFactor=function(La,Na){return La==="h"&&Na==="rtl"?-1:1},handleScroll=function(La,Na,ja,Ba,za){var Ga=getDirectionFactor(La,window.getComputedStyle(Na).direction),Ha=Ga*Ba,Ya=ja.target,Xa=Na.contains(Ya),Ka=!1,Qa=Ha>0,Va=0,Ua=0;do{if(!Ya)break;var Wa=getScrollVariables(La,Ya),Ja=Wa[0],Oo=Wa[1],Do=Wa[2],Mo=Oo-Do-Ga*Ja;(Ja||Mo)&&elementCouldBeScrolled(La,Ya)&&(Va+=Mo,Ua+=Ja);var el=Ya.parentNode;Ya=el&&el.nodeType===Node.DOCUMENT_FRAGMENT_NODE?el.host:el}while(!Xa&&Ya!==document.body||Xa&&(Na.contains(Ya)||Na===Ya));return(Qa&&Math.abs(Va)<1||!Qa&&Math.abs(Ua)<1)&&(Ka=!0),Ka},getTouchXY=function(La){return"changedTouches"in La?[La.changedTouches[0].clientX,La.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(La){return[La.deltaX,La.deltaY]},extractRef=function(La){return La&&"current"in La?La.current:La},deltaCompare=function(La,Na){return La[0]===Na[0]&&La[1]===Na[1]},generateStyle=function(La){return`
  .block-interactivity-`.concat(La,` {pointer-events: none;}
  .allow-interactivity-`).concat(La,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(La){var Na=reactExports.useRef([]),ja=reactExports.useRef([0,0]),Ba=reactExports.useRef(),za=reactExports.useState(idCounter++)[0],Ga=reactExports.useState(styleSingleton)[0],Ha=reactExports.useRef(La);reactExports.useEffect(function(){Ha.current=La},[La]),reactExports.useEffect(function(){if(La.inert){document.body.classList.add("block-interactivity-".concat(za));var Oo=__spreadArray([La.lockRef.current],(La.shards||[]).map(extractRef),!0).filter(Boolean);return Oo.forEach(function(Do){return Do.classList.add("allow-interactivity-".concat(za))}),function(){document.body.classList.remove("block-interactivity-".concat(za)),Oo.forEach(function(Do){return Do.classList.remove("allow-interactivity-".concat(za))})}}},[La.inert,La.lockRef.current,La.shards]);var Ya=reactExports.useCallback(function(Oo,Do){if("touches"in Oo&&Oo.touches.length===2||Oo.type==="wheel"&&Oo.ctrlKey)return!Ha.current.allowPinchZoom;var Mo=getTouchXY(Oo),el=ja.current,tl="deltaX"in Oo?Oo.deltaX:el[0]-Mo[0],rl="deltaY"in Oo?Oo.deltaY:el[1]-Mo[1],il,al=Oo.target,ll=Math.abs(tl)>Math.abs(rl)?"h":"v";if("touches"in Oo&&ll==="h"&&al.type==="range")return!1;var ul=locationCouldBeScrolled(ll,al);if(!ul)return!0;if(ul?il=ll:(il=ll==="v"?"h":"v",ul=locationCouldBeScrolled(ll,al)),!ul)return!1;if(!Ba.current&&"changedTouches"in Oo&&(tl||rl)&&(Ba.current=il),!il)return!0;var ol=Ba.current||il;return handleScroll(ol,Do,Oo,ol==="h"?tl:rl)},[]),Xa=reactExports.useCallback(function(Oo){var Do=Oo;if(!(!lockStack.length||lockStack[lockStack.length-1]!==Ga)){var Mo="deltaY"in Do?getDeltaXY(Do):getTouchXY(Do),el=Na.current.filter(function(il){return il.name===Do.type&&(il.target===Do.target||Do.target===il.shadowParent)&&deltaCompare(il.delta,Mo)})[0];if(el&&el.should){Do.cancelable&&Do.preventDefault();return}if(!el){var tl=(Ha.current.shards||[]).map(extractRef).filter(Boolean).filter(function(il){return il.contains(Do.target)}),rl=tl.length>0?Ya(Do,tl[0]):!Ha.current.noIsolation;rl&&Do.cancelable&&Do.preventDefault()}}},[]),Ka=reactExports.useCallback(function(Oo,Do,Mo,el){var tl={name:Oo,delta:Do,target:Mo,should:el,shadowParent:getOutermostShadowParent(Mo)};Na.current.push(tl),setTimeout(function(){Na.current=Na.current.filter(function(rl){return rl!==tl})},1)},[]),Qa=reactExports.useCallback(function(Oo){ja.current=getTouchXY(Oo),Ba.current=void 0},[]),Va=reactExports.useCallback(function(Oo){Ka(Oo.type,getDeltaXY(Oo),Oo.target,Ya(Oo,La.lockRef.current))},[]),Ua=reactExports.useCallback(function(Oo){Ka(Oo.type,getTouchXY(Oo),Oo.target,Ya(Oo,La.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(Ga),La.setCallbacks({onScrollCapture:Va,onWheelCapture:Va,onTouchMoveCapture:Ua}),document.addEventListener("wheel",Xa,nonPassive),document.addEventListener("touchmove",Xa,nonPassive),document.addEventListener("touchstart",Qa,nonPassive),function(){lockStack=lockStack.filter(function(Oo){return Oo!==Ga}),document.removeEventListener("wheel",Xa,nonPassive),document.removeEventListener("touchmove",Xa,nonPassive),document.removeEventListener("touchstart",Qa,nonPassive)}},[]);var Wa=La.removeScrollBar,Ja=La.inert;return reactExports.createElement(reactExports.Fragment,null,Ja?reactExports.createElement(Ga,{styles:generateStyle(za)}):null,Wa?reactExports.createElement(RemoveScrollBar,{noRelative:La.noRelative,gapMode:La.gapMode}):null)}function getOutermostShadowParent(La){for(var Na=null;La!==null;)La instanceof ShadowRoot&&(Na=La.host,La=La.host),La=La.parentNode;return Na}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(La,Na){return reactExports.createElement(RemoveScroll,__assign({},La,{ref:Na,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(La){if(typeof document>"u")return null;var Na=Array.isArray(La)?La[0]:La;return Na.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(La){return La&&(La.host||unwrapHost(La.parentNode))},correctTargets=function(La,Na){return Na.map(function(ja){if(La.contains(ja))return ja;var Ba=unwrapHost(ja);return Ba&&La.contains(Ba)?Ba:(console.error("aria-hidden",ja,"in not contained inside",La,". Doing nothing"),null)}).filter(function(ja){return!!ja})},applyAttributeToOthers=function(La,Na,ja,Ba){var za=correctTargets(Na,Array.isArray(La)?La:[La]);markerMap[ja]||(markerMap[ja]=new WeakMap);var Ga=markerMap[ja],Ha=[],Ya=new Set,Xa=new Set(za),Ka=function(Va){!Va||Ya.has(Va)||(Ya.add(Va),Ka(Va.parentNode))};za.forEach(Ka);var Qa=function(Va){!Va||Xa.has(Va)||Array.prototype.forEach.call(Va.children,function(Ua){if(Ya.has(Ua))Qa(Ua);else try{var Wa=Ua.getAttribute(Ba),Ja=Wa!==null&&Wa!=="false",Oo=(counterMap.get(Ua)||0)+1,Do=(Ga.get(Ua)||0)+1;counterMap.set(Ua,Oo),Ga.set(Ua,Do),Ha.push(Ua),Oo===1&&Ja&&uncontrolledNodes.set(Ua,!0),Do===1&&Ua.setAttribute(ja,"true"),Ja||Ua.setAttribute(Ba,"true")}catch(Mo){console.error("aria-hidden: cannot operate on ",Ua,Mo)}})};return Qa(Na),Ya.clear(),lockCount++,function(){Ha.forEach(function(Va){var Ua=counterMap.get(Va)-1,Wa=Ga.get(Va)-1;counterMap.set(Va,Ua),Ga.set(Va,Wa),Ua||(uncontrolledNodes.has(Va)||Va.removeAttribute(Ba),uncontrolledNodes.delete(Va)),Wa||Va.removeAttribute(ja)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(La,Na,ja){ja===void 0&&(ja="data-aria-hidden");var Ba=Array.from(Array.isArray(La)?La:[La]),za=getDefaultParent(La);return za?(Ba.push.apply(Ba,Array.from(za.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(Ba,za,ja,"aria-hidden")):function(){return null}},DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=La=>{const{__scopeDialog:Na,children:ja,open:Ba,defaultOpen:za,onOpenChange:Ga,modal:Ha=!0}=La,Ya=reactExports.useRef(null),Xa=reactExports.useRef(null),[Ka,Qa]=useControllableState({prop:Ba,defaultProp:za??!1,onChange:Ga,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:Na,triggerRef:Ya,contentRef:Xa,contentId:useId(),titleId:useId(),descriptionId:useId(),open:Ka,onOpenChange:Qa,onOpenToggle:reactExports.useCallback(()=>Qa(Va=>!Va),[Qa]),modal:Ha,children:ja})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$3="DialogTrigger",DialogTrigger=reactExports.forwardRef((La,Na)=>{const{__scopeDialog:ja,...Ba}=La,za=useDialogContext(TRIGGER_NAME$3,ja),Ga=useComposedRefs(Na,za.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":za.open,"aria-controls":za.contentId,"data-state":getState$2(za.open),...Ba,ref:Ga,onClick:composeEventHandlers(La.onClick,za.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME$4="DialogPortal",[PortalProvider$2,usePortalContext$2]=createDialogContext(PORTAL_NAME$4,{forceMount:void 0}),DialogPortal$1=La=>{const{__scopeDialog:Na,forceMount:ja,children:Ba,container:za}=La,Ga=useDialogContext(PORTAL_NAME$4,Na);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:Na,forceMount:ja,children:reactExports.Children.map(Ba,Ha=>jsxRuntimeExports.jsx(Presence,{present:ja||Ga.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:za,children:Ha})}))})};DialogPortal$1.displayName=PORTAL_NAME$4;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((La,Na)=>{const ja=usePortalContext$2(OVERLAY_NAME,La.__scopeDialog),{forceMount:Ba=ja.forceMount,...za}=La,Ga=useDialogContext(OVERLAY_NAME,La.__scopeDialog);return Ga.modal?jsxRuntimeExports.jsx(Presence,{present:Ba||Ga.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...za,ref:Na})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot$3=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((La,Na)=>{const{__scopeDialog:ja,...Ba}=La,za=useDialogContext(OVERLAY_NAME,ja);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$3,allowPinchZoom:!0,shards:[za.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$2(za.open),...Ba,ref:Na,style:{pointerEvents:"auto",...Ba.style}})})}),CONTENT_NAME$5="DialogContent",DialogContent$1=reactExports.forwardRef((La,Na)=>{const ja=usePortalContext$2(CONTENT_NAME$5,La.__scopeDialog),{forceMount:Ba=ja.forceMount,...za}=La,Ga=useDialogContext(CONTENT_NAME$5,La.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:Ba||Ga.open,children:Ga.modal?jsxRuntimeExports.jsx(DialogContentModal,{...za,ref:Na}):jsxRuntimeExports.jsx(DialogContentNonModal,{...za,ref:Na})})});DialogContent$1.displayName=CONTENT_NAME$5;var DialogContentModal=reactExports.forwardRef((La,Na)=>{const ja=useDialogContext(CONTENT_NAME$5,La.__scopeDialog),Ba=reactExports.useRef(null),za=useComposedRefs(Na,ja.contentRef,Ba);return reactExports.useEffect(()=>{const Ga=Ba.current;if(Ga)return hideOthers(Ga)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...La,ref:za,trapFocus:ja.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(La.onCloseAutoFocus,Ga=>{Ga.preventDefault(),ja.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(La.onPointerDownOutside,Ga=>{const Ha=Ga.detail.originalEvent,Ya=Ha.button===0&&Ha.ctrlKey===!0;(Ha.button===2||Ya)&&Ga.preventDefault()}),onFocusOutside:composeEventHandlers(La.onFocusOutside,Ga=>Ga.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((La,Na)=>{const ja=useDialogContext(CONTENT_NAME$5,La.__scopeDialog),Ba=reactExports.useRef(!1),za=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...La,ref:Na,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:Ga=>{La.onCloseAutoFocus?.(Ga),Ga.defaultPrevented||(Ba.current||ja.triggerRef.current?.focus(),Ga.preventDefault()),Ba.current=!1,za.current=!1},onInteractOutside:Ga=>{La.onInteractOutside?.(Ga),Ga.defaultPrevented||(Ba.current=!0,Ga.detail.originalEvent.type==="pointerdown"&&(za.current=!0));const Ha=Ga.target;ja.triggerRef.current?.contains(Ha)&&Ga.preventDefault(),Ga.detail.originalEvent.type==="focusin"&&za.current&&Ga.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((La,Na)=>{const{__scopeDialog:ja,trapFocus:Ba,onOpenAutoFocus:za,onCloseAutoFocus:Ga,...Ha}=La,Ya=useDialogContext(CONTENT_NAME$5,ja),Xa=reactExports.useRef(null),Ka=useComposedRefs(Na,Xa);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:Ba,onMountAutoFocus:za,onUnmountAutoFocus:Ga,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:Ya.contentId,"aria-describedby":Ya.descriptionId,"aria-labelledby":Ya.titleId,"data-state":getState$2(Ya.open),...Ha,ref:Ka,onDismiss:()=>Ya.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:Ya.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:Xa,descriptionId:Ya.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((La,Na)=>{const{__scopeDialog:ja,...Ba}=La,za=useDialogContext(TITLE_NAME,ja);return jsxRuntimeExports.jsx(Primitive.h2,{id:za.titleId,...Ba,ref:Na})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((La,Na)=>{const{__scopeDialog:ja,...Ba}=La,za=useDialogContext(DESCRIPTION_NAME,ja);return jsxRuntimeExports.jsx(Primitive.p,{id:za.descriptionId,...Ba,ref:Na})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME$1="DialogClose",DialogClose=reactExports.forwardRef((La,Na)=>{const{__scopeDialog:ja,...Ba}=La,za=useDialogContext(CLOSE_NAME$1,ja);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...Ba,ref:Na,onClick:composeEventHandlers(La.onClick,()=>za.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME$1;function getState$2(La){return La?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$5,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:La})=>{const Na=useWarningContext(TITLE_WARNING_NAME),ja=`\`${Na.contentName}\` requires a \`${Na.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${Na.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${Na.docsSlug}`;return reactExports.useEffect(()=>{La&&(document.getElementById(La)||console.error(ja))},[ja,La]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:La,descriptionId:Na})=>{const Ba=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{const za=La.current?.getAttribute("aria-describedby");Na&&za&&(document.getElementById(Na)||console.warn(Ba))},[Ba,La,Na]),null},Root$6=Dialog$1,Portal$3=DialogPortal$1,Overlay$1=DialogOverlay$1,Content$1=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;function Dialog({...La}){return jsxRuntimeExports.jsx(Root$6,{"data-slot":"dialog",...La})}function DialogPortal({...La}){return jsxRuntimeExports.jsx(Portal$3,{"data-slot":"dialog-portal",...La})}function DialogOverlay({className:La,...Na}){return jsxRuntimeExports.jsx(Overlay$1,{"data-slot":"dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",La),...Na})}function DialogContent({className:La,children:Na,showCloseButton:ja=!0,...Ba}){return jsxRuntimeExports.jsxs(DialogPortal,{"data-slot":"dialog-portal",children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{"data-slot":"dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border p-6 shadow-lg duration-200 sm:max-w-lg",La),...Ba,children:[Na,ja&&jsxRuntimeExports.jsxs(Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[jsxRuntimeExports.jsx(X$1,{}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function DialogHeader({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",La),...Na})}function DialogFooter({className:La,...Na}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",La),...Na})}function DialogTitle({className:La,...Na}){return jsxRuntimeExports.jsx(Title,{"data-slot":"dialog-title",className:cn("text-lg leading-none font-semibold",La),...Na})}function DialogDescription({className:La,...Na}){return jsxRuntimeExports.jsx(Description,{"data-slot":"dialog-description",className:cn("text-muted-foreground text-sm",La),...Na})}function Input({className:La,type:Na,...ja}){return jsxRuntimeExports.jsx("input",{type:Na,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-primary/50 dark:border-input/80 flex h-9 w-full min-w-0 rounded-xl border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring/60 focus-visible:ring-ring dark:focus-visible:ring-ring/60 focus-visible:ring-[2px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",La),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...ja})}var NAME$2="Label",Label$3=reactExports.forwardRef((La,Na)=>jsxRuntimeExports.jsx(Primitive.label,{...La,ref:Na,onMouseDown:ja=>{ja.target.closest("button, input, select, textarea")||(La.onMouseDown?.(ja),!ja.defaultPrevented&&ja.detail>1&&ja.preventDefault())}}));Label$3.displayName=NAME$2;var Root$5=Label$3;function Label$2({className:La,...Na}){return jsxRuntimeExports.jsx(Root$5,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",La),...Na})}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=La=>({x:La,y:La}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(La,Na,ja){return max(La,min(Na,ja))}function evaluate(La,Na){return typeof La=="function"?La(Na):La}function getSide(La){return La.split("-")[0]}function getAlignment(La){return La.split("-")[1]}function getOppositeAxis(La){return La==="x"?"y":"x"}function getAxisLength(La){return La==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(La){return yAxisSides.has(getSide(La))?"y":"x"}function getAlignmentAxis(La){return getOppositeAxis(getSideAxis(La))}function getAlignmentSides(La,Na,ja){ja===void 0&&(ja=!1);const Ba=getAlignment(La),za=getAlignmentAxis(La),Ga=getAxisLength(za);let Ha=za==="x"?Ba===(ja?"end":"start")?"right":"left":Ba==="start"?"bottom":"top";return Na.reference[Ga]>Na.floating[Ga]&&(Ha=getOppositePlacement(Ha)),[Ha,getOppositePlacement(Ha)]}function getExpandedPlacements(La){const Na=getOppositePlacement(La);return[getOppositeAlignmentPlacement(La),Na,getOppositeAlignmentPlacement(Na)]}function getOppositeAlignmentPlacement(La){return La.replace(/start|end/g,Na=>oppositeAlignmentMap[Na])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(La,Na,ja){switch(La){case"top":case"bottom":return ja?Na?rlPlacement:lrPlacement:Na?lrPlacement:rlPlacement;case"left":case"right":return Na?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(La,Na,ja,Ba){const za=getAlignment(La);let Ga=getSideList(getSide(La),ja==="start",Ba);return za&&(Ga=Ga.map(Ha=>Ha+"-"+za),Na&&(Ga=Ga.concat(Ga.map(getOppositeAlignmentPlacement)))),Ga}function getOppositePlacement(La){return La.replace(/left|right|bottom|top/g,Na=>oppositeSideMap[Na])}function expandPaddingObject(La){return{top:0,right:0,bottom:0,left:0,...La}}function getPaddingObject(La){return typeof La!="number"?expandPaddingObject(La):{top:La,right:La,bottom:La,left:La}}function rectToClientRect(La){const{x:Na,y:ja,width:Ba,height:za}=La;return{width:Ba,height:za,top:ja,left:Na,right:Na+Ba,bottom:ja+za,x:Na,y:ja}}function computeCoordsFromPlacement(La,Na,ja){let{reference:Ba,floating:za}=La;const Ga=getSideAxis(Na),Ha=getAlignmentAxis(Na),Ya=getAxisLength(Ha),Xa=getSide(Na),Ka=Ga==="y",Qa=Ba.x+Ba.width/2-za.width/2,Va=Ba.y+Ba.height/2-za.height/2,Ua=Ba[Ya]/2-za[Ya]/2;let Wa;switch(Xa){case"top":Wa={x:Qa,y:Ba.y-za.height};break;case"bottom":Wa={x:Qa,y:Ba.y+Ba.height};break;case"right":Wa={x:Ba.x+Ba.width,y:Va};break;case"left":Wa={x:Ba.x-za.width,y:Va};break;default:Wa={x:Ba.x,y:Ba.y}}switch(getAlignment(Na)){case"start":Wa[Ha]-=Ua*(ja&&Ka?-1:1);break;case"end":Wa[Ha]+=Ua*(ja&&Ka?-1:1);break}return Wa}const computePosition$1=async(La,Na,ja)=>{const{placement:Ba="bottom",strategy:za="absolute",middleware:Ga=[],platform:Ha}=ja,Ya=Ga.filter(Boolean),Xa=await(Ha.isRTL==null?void 0:Ha.isRTL(Na));let Ka=await Ha.getElementRects({reference:La,floating:Na,strategy:za}),{x:Qa,y:Va}=computeCoordsFromPlacement(Ka,Ba,Xa),Ua=Ba,Wa={},Ja=0;for(let Oo=0;Oo<Ya.length;Oo++){const{name:Do,fn:Mo}=Ya[Oo],{x:el,y:tl,data:rl,reset:il}=await Mo({x:Qa,y:Va,initialPlacement:Ba,placement:Ua,strategy:za,middlewareData:Wa,rects:Ka,platform:Ha,elements:{reference:La,floating:Na}});Qa=el??Qa,Va=tl??Va,Wa={...Wa,[Do]:{...Wa[Do],...rl}},il&&Ja<=50&&(Ja++,typeof il=="object"&&(il.placement&&(Ua=il.placement),il.rects&&(Ka=il.rects===!0?await Ha.getElementRects({reference:La,floating:Na,strategy:za}):il.rects),{x:Qa,y:Va}=computeCoordsFromPlacement(Ka,Ua,Xa)),Oo=-1)}return{x:Qa,y:Va,placement:Ua,strategy:za,middlewareData:Wa}};async function detectOverflow(La,Na){var ja;Na===void 0&&(Na={});const{x:Ba,y:za,platform:Ga,rects:Ha,elements:Ya,strategy:Xa}=La,{boundary:Ka="clippingAncestors",rootBoundary:Qa="viewport",elementContext:Va="floating",altBoundary:Ua=!1,padding:Wa=0}=evaluate(Na,La),Ja=getPaddingObject(Wa),Do=Ya[Ua?Va==="floating"?"reference":"floating":Va],Mo=rectToClientRect(await Ga.getClippingRect({element:(ja=await(Ga.isElement==null?void 0:Ga.isElement(Do)))==null||ja?Do:Do.contextElement||await(Ga.getDocumentElement==null?void 0:Ga.getDocumentElement(Ya.floating)),boundary:Ka,rootBoundary:Qa,strategy:Xa})),el=Va==="floating"?{x:Ba,y:za,width:Ha.floating.width,height:Ha.floating.height}:Ha.reference,tl=await(Ga.getOffsetParent==null?void 0:Ga.getOffsetParent(Ya.floating)),rl=await(Ga.isElement==null?void 0:Ga.isElement(tl))?await(Ga.getScale==null?void 0:Ga.getScale(tl))||{x:1,y:1}:{x:1,y:1},il=rectToClientRect(Ga.convertOffsetParentRelativeRectToViewportRelativeRect?await Ga.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Ya,rect:el,offsetParent:tl,strategy:Xa}):el);return{top:(Mo.top-il.top+Ja.top)/rl.y,bottom:(il.bottom-Mo.bottom+Ja.bottom)/rl.y,left:(Mo.left-il.left+Ja.left)/rl.x,right:(il.right-Mo.right+Ja.right)/rl.x}}const arrow$3=La=>({name:"arrow",options:La,async fn(Na){const{x:ja,y:Ba,placement:za,rects:Ga,platform:Ha,elements:Ya,middlewareData:Xa}=Na,{element:Ka,padding:Qa=0}=evaluate(La,Na)||{};if(Ka==null)return{};const Va=getPaddingObject(Qa),Ua={x:ja,y:Ba},Wa=getAlignmentAxis(za),Ja=getAxisLength(Wa),Oo=await Ha.getDimensions(Ka),Do=Wa==="y",Mo=Do?"top":"left",el=Do?"bottom":"right",tl=Do?"clientHeight":"clientWidth",rl=Ga.reference[Ja]+Ga.reference[Wa]-Ua[Wa]-Ga.floating[Ja],il=Ua[Wa]-Ga.reference[Wa],al=await(Ha.getOffsetParent==null?void 0:Ha.getOffsetParent(Ka));let ll=al?al[tl]:0;(!ll||!await(Ha.isElement==null?void 0:Ha.isElement(al)))&&(ll=Ya.floating[tl]||Ga.floating[Ja]);const ul=rl/2-il/2,ol=ll/2-Oo[Ja]/2-1,cl=min(Va[Mo],ol),gl=min(Va[el],ol),bl=cl,_l=ll-Oo[Ja]-gl,xl=ll/2-Oo[Ja]/2+ul,Al=clamp$1(bl,xl,_l),ml=!Xa.arrow&&getAlignment(za)!=null&&xl!==Al&&Ga.reference[Ja]/2-(xl<bl?cl:gl)-Oo[Ja]/2<0,Sl=ml?xl<bl?xl-bl:xl-_l:0;return{[Wa]:Ua[Wa]+Sl,data:{[Wa]:Al,centerOffset:xl-Al-Sl,...ml&&{alignmentOffset:Sl}},reset:ml}}}),flip$2=function(La){return La===void 0&&(La={}),{name:"flip",options:La,async fn(Na){var ja,Ba;const{placement:za,middlewareData:Ga,rects:Ha,initialPlacement:Ya,platform:Xa,elements:Ka}=Na,{mainAxis:Qa=!0,crossAxis:Va=!0,fallbackPlacements:Ua,fallbackStrategy:Wa="bestFit",fallbackAxisSideDirection:Ja="none",flipAlignment:Oo=!0,...Do}=evaluate(La,Na);if((ja=Ga.arrow)!=null&&ja.alignmentOffset)return{};const Mo=getSide(za),el=getSideAxis(Ya),tl=getSide(Ya)===Ya,rl=await(Xa.isRTL==null?void 0:Xa.isRTL(Ka.floating)),il=Ua||(tl||!Oo?[getOppositePlacement(Ya)]:getExpandedPlacements(Ya)),al=Ja!=="none";!Ua&&al&&il.push(...getOppositeAxisPlacements(Ya,Oo,Ja,rl));const ll=[Ya,...il],ul=await detectOverflow(Na,Do),ol=[];let cl=((Ba=Ga.flip)==null?void 0:Ba.overflows)||[];if(Qa&&ol.push(ul[Mo]),Va){const xl=getAlignmentSides(za,Ha,rl);ol.push(ul[xl[0]],ul[xl[1]])}if(cl=[...cl,{placement:za,overflows:ol}],!ol.every(xl=>xl<=0)){var gl,bl;const xl=(((gl=Ga.flip)==null?void 0:gl.index)||0)+1,Al=ll[xl];if(Al&&(!(Va==="alignment"?el!==getSideAxis(Al):!1)||cl.every(Cl=>getSideAxis(Cl.placement)===el?Cl.overflows[0]>0:!0)))return{data:{index:xl,overflows:cl},reset:{placement:Al}};let ml=(bl=cl.filter(Sl=>Sl.overflows[0]<=0).sort((Sl,Cl)=>Sl.overflows[1]-Cl.overflows[1])[0])==null?void 0:bl.placement;if(!ml)switch(Wa){case"bestFit":{var _l;const Sl=(_l=cl.filter(Cl=>{if(al){const Nl=getSideAxis(Cl.placement);return Nl===el||Nl==="y"}return!0}).map(Cl=>[Cl.placement,Cl.overflows.filter(Nl=>Nl>0).reduce((Nl,dl)=>Nl+dl,0)]).sort((Cl,Nl)=>Cl[1]-Nl[1])[0])==null?void 0:_l[0];Sl&&(ml=Sl);break}case"initialPlacement":ml=Ya;break}if(za!==ml)return{reset:{placement:ml}}}return{}}}};function getSideOffsets(La,Na){return{top:La.top-Na.height,right:La.right-Na.width,bottom:La.bottom-Na.height,left:La.left-Na.width}}function isAnySideFullyClipped(La){return sides.some(Na=>La[Na]>=0)}const hide$2=function(La){return La===void 0&&(La={}),{name:"hide",options:La,async fn(Na){const{rects:ja}=Na,{strategy:Ba="referenceHidden",...za}=evaluate(La,Na);switch(Ba){case"referenceHidden":{const Ga=await detectOverflow(Na,{...za,elementContext:"reference"}),Ha=getSideOffsets(Ga,ja.reference);return{data:{referenceHiddenOffsets:Ha,referenceHidden:isAnySideFullyClipped(Ha)}}}case"escaped":{const Ga=await detectOverflow(Na,{...za,altBoundary:!0}),Ha=getSideOffsets(Ga,ja.floating);return{data:{escapedOffsets:Ha,escaped:isAnySideFullyClipped(Ha)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(La,Na){const{placement:ja,platform:Ba,elements:za}=La,Ga=await(Ba.isRTL==null?void 0:Ba.isRTL(za.floating)),Ha=getSide(ja),Ya=getAlignment(ja),Xa=getSideAxis(ja)==="y",Ka=originSides.has(Ha)?-1:1,Qa=Ga&&Xa?-1:1,Va=evaluate(Na,La);let{mainAxis:Ua,crossAxis:Wa,alignmentAxis:Ja}=typeof Va=="number"?{mainAxis:Va,crossAxis:0,alignmentAxis:null}:{mainAxis:Va.mainAxis||0,crossAxis:Va.crossAxis||0,alignmentAxis:Va.alignmentAxis};return Ya&&typeof Ja=="number"&&(Wa=Ya==="end"?Ja*-1:Ja),Xa?{x:Wa*Qa,y:Ua*Ka}:{x:Ua*Ka,y:Wa*Qa}}const offset$2=function(La){return La===void 0&&(La=0),{name:"offset",options:La,async fn(Na){var ja,Ba;const{x:za,y:Ga,placement:Ha,middlewareData:Ya}=Na,Xa=await convertValueToCoords(Na,La);return Ha===((ja=Ya.offset)==null?void 0:ja.placement)&&(Ba=Ya.arrow)!=null&&Ba.alignmentOffset?{}:{x:za+Xa.x,y:Ga+Xa.y,data:{...Xa,placement:Ha}}}}},shift$2=function(La){return La===void 0&&(La={}),{name:"shift",options:La,async fn(Na){const{x:ja,y:Ba,placement:za}=Na,{mainAxis:Ga=!0,crossAxis:Ha=!1,limiter:Ya={fn:Do=>{let{x:Mo,y:el}=Do;return{x:Mo,y:el}}},...Xa}=evaluate(La,Na),Ka={x:ja,y:Ba},Qa=await detectOverflow(Na,Xa),Va=getSideAxis(getSide(za)),Ua=getOppositeAxis(Va);let Wa=Ka[Ua],Ja=Ka[Va];if(Ga){const Do=Ua==="y"?"top":"left",Mo=Ua==="y"?"bottom":"right",el=Wa+Qa[Do],tl=Wa-Qa[Mo];Wa=clamp$1(el,Wa,tl)}if(Ha){const Do=Va==="y"?"top":"left",Mo=Va==="y"?"bottom":"right",el=Ja+Qa[Do],tl=Ja-Qa[Mo];Ja=clamp$1(el,Ja,tl)}const Oo=Ya.fn({...Na,[Ua]:Wa,[Va]:Ja});return{...Oo,data:{x:Oo.x-ja,y:Oo.y-Ba,enabled:{[Ua]:Ga,[Va]:Ha}}}}}},limitShift$2=function(La){return La===void 0&&(La={}),{options:La,fn(Na){const{x:ja,y:Ba,placement:za,rects:Ga,middlewareData:Ha}=Na,{offset:Ya=0,mainAxis:Xa=!0,crossAxis:Ka=!0}=evaluate(La,Na),Qa={x:ja,y:Ba},Va=getSideAxis(za),Ua=getOppositeAxis(Va);let Wa=Qa[Ua],Ja=Qa[Va];const Oo=evaluate(Ya,Na),Do=typeof Oo=="number"?{mainAxis:Oo,crossAxis:0}:{mainAxis:0,crossAxis:0,...Oo};if(Xa){const tl=Ua==="y"?"height":"width",rl=Ga.reference[Ua]-Ga.floating[tl]+Do.mainAxis,il=Ga.reference[Ua]+Ga.reference[tl]-Do.mainAxis;Wa<rl?Wa=rl:Wa>il&&(Wa=il)}if(Ka){var Mo,el;const tl=Ua==="y"?"width":"height",rl=originSides.has(getSide(za)),il=Ga.reference[Va]-Ga.floating[tl]+(rl&&((Mo=Ha.offset)==null?void 0:Mo[Va])||0)+(rl?0:Do.crossAxis),al=Ga.reference[Va]+Ga.reference[tl]+(rl?0:((el=Ha.offset)==null?void 0:el[Va])||0)-(rl?Do.crossAxis:0);Ja<il?Ja=il:Ja>al&&(Ja=al)}return{[Ua]:Wa,[Va]:Ja}}}},size$2=function(La){return La===void 0&&(La={}),{name:"size",options:La,async fn(Na){var ja,Ba;const{placement:za,rects:Ga,platform:Ha,elements:Ya}=Na,{apply:Xa=()=>{},...Ka}=evaluate(La,Na),Qa=await detectOverflow(Na,Ka),Va=getSide(za),Ua=getAlignment(za),Wa=getSideAxis(za)==="y",{width:Ja,height:Oo}=Ga.floating;let Do,Mo;Va==="top"||Va==="bottom"?(Do=Va,Mo=Ua===(await(Ha.isRTL==null?void 0:Ha.isRTL(Ya.floating))?"start":"end")?"left":"right"):(Mo=Va,Do=Ua==="end"?"top":"bottom");const el=Oo-Qa.top-Qa.bottom,tl=Ja-Qa.left-Qa.right,rl=min(Oo-Qa[Do],el),il=min(Ja-Qa[Mo],tl),al=!Na.middlewareData.shift;let ll=rl,ul=il;if((ja=Na.middlewareData.shift)!=null&&ja.enabled.x&&(ul=tl),(Ba=Na.middlewareData.shift)!=null&&Ba.enabled.y&&(ll=el),al&&!Ua){const cl=max(Qa.left,0),gl=max(Qa.right,0),bl=max(Qa.top,0),_l=max(Qa.bottom,0);Wa?ul=Ja-2*(cl!==0||gl!==0?cl+gl:max(Qa.left,Qa.right)):ll=Oo-2*(bl!==0||_l!==0?bl+_l:max(Qa.top,Qa.bottom))}await Xa({...Na,availableWidth:ul,availableHeight:ll});const ol=await Ha.getDimensions(Ya.floating);return Ja!==ol.width||Oo!==ol.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(La){return isNode(La)?(La.nodeName||"").toLowerCase():"#document"}function getWindow(La){var Na;return(La==null||(Na=La.ownerDocument)==null?void 0:Na.defaultView)||window}function getDocumentElement(La){var Na;return(Na=(isNode(La)?La.ownerDocument:La.document)||window.document)==null?void 0:Na.documentElement}function isNode(La){return hasWindow()?La instanceof Node||La instanceof getWindow(La).Node:!1}function isElement(La){return hasWindow()?La instanceof Element||La instanceof getWindow(La).Element:!1}function isHTMLElement(La){return hasWindow()?La instanceof HTMLElement||La instanceof getWindow(La).HTMLElement:!1}function isShadowRoot(La){return!hasWindow()||typeof ShadowRoot>"u"?!1:La instanceof ShadowRoot||La instanceof getWindow(La).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(La){const{overflow:Na,overflowX:ja,overflowY:Ba,display:za}=getComputedStyle$1(La);return/auto|scroll|overlay|hidden|clip/.test(Na+Ba+ja)&&!invalidOverflowDisplayValues.has(za)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(La){return tableElements$1.has(getNodeName(La))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(La){return topLayerSelectors.some(Na=>{try{return La.matches(Na)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(La){const Na=isWebKit(),ja=isElement(La)?getComputedStyle$1(La):La;return transformProperties.some(Ba=>ja[Ba]?ja[Ba]!=="none":!1)||(ja.containerType?ja.containerType!=="normal":!1)||!Na&&(ja.backdropFilter?ja.backdropFilter!=="none":!1)||!Na&&(ja.filter?ja.filter!=="none":!1)||willChangeValues.some(Ba=>(ja.willChange||"").includes(Ba))||containValues.some(Ba=>(ja.contain||"").includes(Ba))}function getContainingBlock(La){let Na=getParentNode(La);for(;isHTMLElement(Na)&&!isLastTraversableNode(Na);){if(isContainingBlock(Na))return Na;if(isTopLayer(Na))return null;Na=getParentNode(Na)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(La){return lastTraversableNodeNames.has(getNodeName(La))}function getComputedStyle$1(La){return getWindow(La).getComputedStyle(La)}function getNodeScroll(La){return isElement(La)?{scrollLeft:La.scrollLeft,scrollTop:La.scrollTop}:{scrollLeft:La.scrollX,scrollTop:La.scrollY}}function getParentNode(La){if(getNodeName(La)==="html")return La;const Na=La.assignedSlot||La.parentNode||isShadowRoot(La)&&La.host||getDocumentElement(La);return isShadowRoot(Na)?Na.host:Na}function getNearestOverflowAncestor(La){const Na=getParentNode(La);return isLastTraversableNode(Na)?La.ownerDocument?La.ownerDocument.body:La.body:isHTMLElement(Na)&&isOverflowElement(Na)?Na:getNearestOverflowAncestor(Na)}function getOverflowAncestors(La,Na,ja){var Ba;Na===void 0&&(Na=[]),ja===void 0&&(ja=!0);const za=getNearestOverflowAncestor(La),Ga=za===((Ba=La.ownerDocument)==null?void 0:Ba.body),Ha=getWindow(za);if(Ga){const Ya=getFrameElement(Ha);return Na.concat(Ha,Ha.visualViewport||[],isOverflowElement(za)?za:[],Ya&&ja?getOverflowAncestors(Ya):[])}return Na.concat(za,getOverflowAncestors(za,[],ja))}function getFrameElement(La){return La.parent&&Object.getPrototypeOf(La.parent)?La.frameElement:null}function getCssDimensions(La){const Na=getComputedStyle$1(La);let ja=parseFloat(Na.width)||0,Ba=parseFloat(Na.height)||0;const za=isHTMLElement(La),Ga=za?La.offsetWidth:ja,Ha=za?La.offsetHeight:Ba,Ya=round(ja)!==Ga||round(Ba)!==Ha;return Ya&&(ja=Ga,Ba=Ha),{width:ja,height:Ba,$:Ya}}function unwrapElement(La){return isElement(La)?La:La.contextElement}function getScale(La){const Na=unwrapElement(La);if(!isHTMLElement(Na))return createCoords(1);const ja=Na.getBoundingClientRect(),{width:Ba,height:za,$:Ga}=getCssDimensions(Na);let Ha=(Ga?round(ja.width):ja.width)/Ba,Ya=(Ga?round(ja.height):ja.height)/za;return(!Ha||!Number.isFinite(Ha))&&(Ha=1),(!Ya||!Number.isFinite(Ya))&&(Ya=1),{x:Ha,y:Ya}}const noOffsets=createCoords(0);function getVisualOffsets(La){const Na=getWindow(La);return!isWebKit()||!Na.visualViewport?noOffsets:{x:Na.visualViewport.offsetLeft,y:Na.visualViewport.offsetTop}}function shouldAddVisualOffsets(La,Na,ja){return Na===void 0&&(Na=!1),!ja||Na&&ja!==getWindow(La)?!1:Na}function getBoundingClientRect(La,Na,ja,Ba){Na===void 0&&(Na=!1),ja===void 0&&(ja=!1);const za=La.getBoundingClientRect(),Ga=unwrapElement(La);let Ha=createCoords(1);Na&&(Ba?isElement(Ba)&&(Ha=getScale(Ba)):Ha=getScale(La));const Ya=shouldAddVisualOffsets(Ga,ja,Ba)?getVisualOffsets(Ga):createCoords(0);let Xa=(za.left+Ya.x)/Ha.x,Ka=(za.top+Ya.y)/Ha.y,Qa=za.width/Ha.x,Va=za.height/Ha.y;if(Ga){const Ua=getWindow(Ga),Wa=Ba&&isElement(Ba)?getWindow(Ba):Ba;let Ja=Ua,Oo=getFrameElement(Ja);for(;Oo&&Ba&&Wa!==Ja;){const Do=getScale(Oo),Mo=Oo.getBoundingClientRect(),el=getComputedStyle$1(Oo),tl=Mo.left+(Oo.clientLeft+parseFloat(el.paddingLeft))*Do.x,rl=Mo.top+(Oo.clientTop+parseFloat(el.paddingTop))*Do.y;Xa*=Do.x,Ka*=Do.y,Qa*=Do.x,Va*=Do.y,Xa+=tl,Ka+=rl,Ja=getWindow(Oo),Oo=getFrameElement(Ja)}}return rectToClientRect({width:Qa,height:Va,x:Xa,y:Ka})}function getWindowScrollBarX(La,Na){const ja=getNodeScroll(La).scrollLeft;return Na?Na.left+ja:getBoundingClientRect(getDocumentElement(La)).left+ja}function getHTMLOffset(La,Na,ja){ja===void 0&&(ja=!1);const Ba=La.getBoundingClientRect(),za=Ba.left+Na.scrollLeft-(ja?0:getWindowScrollBarX(La,Ba)),Ga=Ba.top+Na.scrollTop;return{x:za,y:Ga}}function convertOffsetParentRelativeRectToViewportRelativeRect(La){let{elements:Na,rect:ja,offsetParent:Ba,strategy:za}=La;const Ga=za==="fixed",Ha=getDocumentElement(Ba),Ya=Na?isTopLayer(Na.floating):!1;if(Ba===Ha||Ya&&Ga)return ja;let Xa={scrollLeft:0,scrollTop:0},Ka=createCoords(1);const Qa=createCoords(0),Va=isHTMLElement(Ba);if((Va||!Va&&!Ga)&&((getNodeName(Ba)!=="body"||isOverflowElement(Ha))&&(Xa=getNodeScroll(Ba)),isHTMLElement(Ba))){const Wa=getBoundingClientRect(Ba);Ka=getScale(Ba),Qa.x=Wa.x+Ba.clientLeft,Qa.y=Wa.y+Ba.clientTop}const Ua=Ha&&!Va&&!Ga?getHTMLOffset(Ha,Xa,!0):createCoords(0);return{width:ja.width*Ka.x,height:ja.height*Ka.y,x:ja.x*Ka.x-Xa.scrollLeft*Ka.x+Qa.x+Ua.x,y:ja.y*Ka.y-Xa.scrollTop*Ka.y+Qa.y+Ua.y}}function getClientRects(La){return Array.from(La.getClientRects())}function getDocumentRect(La){const Na=getDocumentElement(La),ja=getNodeScroll(La),Ba=La.ownerDocument.body,za=max(Na.scrollWidth,Na.clientWidth,Ba.scrollWidth,Ba.clientWidth),Ga=max(Na.scrollHeight,Na.clientHeight,Ba.scrollHeight,Ba.clientHeight);let Ha=-ja.scrollLeft+getWindowScrollBarX(La);const Ya=-ja.scrollTop;return getComputedStyle$1(Ba).direction==="rtl"&&(Ha+=max(Na.clientWidth,Ba.clientWidth)-za),{width:za,height:Ga,x:Ha,y:Ya}}function getViewportRect(La,Na){const ja=getWindow(La),Ba=getDocumentElement(La),za=ja.visualViewport;let Ga=Ba.clientWidth,Ha=Ba.clientHeight,Ya=0,Xa=0;if(za){Ga=za.width,Ha=za.height;const Ka=isWebKit();(!Ka||Ka&&Na==="fixed")&&(Ya=za.offsetLeft,Xa=za.offsetTop)}return{width:Ga,height:Ha,x:Ya,y:Xa}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(La,Na){const ja=getBoundingClientRect(La,!0,Na==="fixed"),Ba=ja.top+La.clientTop,za=ja.left+La.clientLeft,Ga=isHTMLElement(La)?getScale(La):createCoords(1),Ha=La.clientWidth*Ga.x,Ya=La.clientHeight*Ga.y,Xa=za*Ga.x,Ka=Ba*Ga.y;return{width:Ha,height:Ya,x:Xa,y:Ka}}function getClientRectFromClippingAncestor(La,Na,ja){let Ba;if(Na==="viewport")Ba=getViewportRect(La,ja);else if(Na==="document")Ba=getDocumentRect(getDocumentElement(La));else if(isElement(Na))Ba=getInnerBoundingClientRect(Na,ja);else{const za=getVisualOffsets(La);Ba={x:Na.x-za.x,y:Na.y-za.y,width:Na.width,height:Na.height}}return rectToClientRect(Ba)}function hasFixedPositionAncestor(La,Na){const ja=getParentNode(La);return ja===Na||!isElement(ja)||isLastTraversableNode(ja)?!1:getComputedStyle$1(ja).position==="fixed"||hasFixedPositionAncestor(ja,Na)}function getClippingElementAncestors(La,Na){const ja=Na.get(La);if(ja)return ja;let Ba=getOverflowAncestors(La,[],!1).filter(Ya=>isElement(Ya)&&getNodeName(Ya)!=="body"),za=null;const Ga=getComputedStyle$1(La).position==="fixed";let Ha=Ga?getParentNode(La):La;for(;isElement(Ha)&&!isLastTraversableNode(Ha);){const Ya=getComputedStyle$1(Ha),Xa=isContainingBlock(Ha);!Xa&&Ya.position==="fixed"&&(za=null),(Ga?!Xa&&!za:!Xa&&Ya.position==="static"&&!!za&&absoluteOrFixed.has(za.position)||isOverflowElement(Ha)&&!Xa&&hasFixedPositionAncestor(La,Ha))?Ba=Ba.filter(Qa=>Qa!==Ha):za=Ya,Ha=getParentNode(Ha)}return Na.set(La,Ba),Ba}function getClippingRect(La){let{element:Na,boundary:ja,rootBoundary:Ba,strategy:za}=La;const Ha=[...ja==="clippingAncestors"?isTopLayer(Na)?[]:getClippingElementAncestors(Na,this._c):[].concat(ja),Ba],Ya=Ha[0],Xa=Ha.reduce((Ka,Qa)=>{const Va=getClientRectFromClippingAncestor(Na,Qa,za);return Ka.top=max(Va.top,Ka.top),Ka.right=min(Va.right,Ka.right),Ka.bottom=min(Va.bottom,Ka.bottom),Ka.left=max(Va.left,Ka.left),Ka},getClientRectFromClippingAncestor(Na,Ya,za));return{width:Xa.right-Xa.left,height:Xa.bottom-Xa.top,x:Xa.left,y:Xa.top}}function getDimensions(La){const{width:Na,height:ja}=getCssDimensions(La);return{width:Na,height:ja}}function getRectRelativeToOffsetParent(La,Na,ja){const Ba=isHTMLElement(Na),za=getDocumentElement(Na),Ga=ja==="fixed",Ha=getBoundingClientRect(La,!0,Ga,Na);let Ya={scrollLeft:0,scrollTop:0};const Xa=createCoords(0);function Ka(){Xa.x=getWindowScrollBarX(za)}if(Ba||!Ba&&!Ga)if((getNodeName(Na)!=="body"||isOverflowElement(za))&&(Ya=getNodeScroll(Na)),Ba){const Wa=getBoundingClientRect(Na,!0,Ga,Na);Xa.x=Wa.x+Na.clientLeft,Xa.y=Wa.y+Na.clientTop}else za&&Ka();Ga&&!Ba&&za&&Ka();const Qa=za&&!Ba&&!Ga?getHTMLOffset(za,Ya):createCoords(0),Va=Ha.left+Ya.scrollLeft-Xa.x-Qa.x,Ua=Ha.top+Ya.scrollTop-Xa.y-Qa.y;return{x:Va,y:Ua,width:Ha.width,height:Ha.height}}function isStaticPositioned(La){return getComputedStyle$1(La).position==="static"}function getTrueOffsetParent(La,Na){if(!isHTMLElement(La)||getComputedStyle$1(La).position==="fixed")return null;if(Na)return Na(La);let ja=La.offsetParent;return getDocumentElement(La)===ja&&(ja=ja.ownerDocument.body),ja}function getOffsetParent(La,Na){const ja=getWindow(La);if(isTopLayer(La))return ja;if(!isHTMLElement(La)){let za=getParentNode(La);for(;za&&!isLastTraversableNode(za);){if(isElement(za)&&!isStaticPositioned(za))return za;za=getParentNode(za)}return ja}let Ba=getTrueOffsetParent(La,Na);for(;Ba&&isTableElement(Ba)&&isStaticPositioned(Ba);)Ba=getTrueOffsetParent(Ba,Na);return Ba&&isLastTraversableNode(Ba)&&isStaticPositioned(Ba)&&!isContainingBlock(Ba)?ja:Ba||getContainingBlock(La)||ja}const getElementRects=async function(La){const Na=this.getOffsetParent||getOffsetParent,ja=this.getDimensions,Ba=await ja(La.floating);return{reference:getRectRelativeToOffsetParent(La.reference,await Na(La.floating),La.strategy),floating:{x:0,y:0,width:Ba.width,height:Ba.height}}};function isRTL(La){return getComputedStyle$1(La).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(La,Na){return La.x===Na.x&&La.y===Na.y&&La.width===Na.width&&La.height===Na.height}function observeMove(La,Na){let ja=null,Ba;const za=getDocumentElement(La);function Ga(){var Ya;clearTimeout(Ba),(Ya=ja)==null||Ya.disconnect(),ja=null}function Ha(Ya,Xa){Ya===void 0&&(Ya=!1),Xa===void 0&&(Xa=1),Ga();const Ka=La.getBoundingClientRect(),{left:Qa,top:Va,width:Ua,height:Wa}=Ka;if(Ya||Na(),!Ua||!Wa)return;const Ja=floor(Va),Oo=floor(za.clientWidth-(Qa+Ua)),Do=floor(za.clientHeight-(Va+Wa)),Mo=floor(Qa),tl={rootMargin:-Ja+"px "+-Oo+"px "+-Do+"px "+-Mo+"px",threshold:max(0,min(1,Xa))||1};let rl=!0;function il(al){const ll=al[0].intersectionRatio;if(ll!==Xa){if(!rl)return Ha();ll?Ha(!1,ll):Ba=setTimeout(()=>{Ha(!1,1e-7)},1e3)}ll===1&&!rectsAreEqual(Ka,La.getBoundingClientRect())&&Ha(),rl=!1}try{ja=new IntersectionObserver(il,{...tl,root:za.ownerDocument})}catch{ja=new IntersectionObserver(il,tl)}ja.observe(La)}return Ha(!0),Ga}function autoUpdate(La,Na,ja,Ba){Ba===void 0&&(Ba={});const{ancestorScroll:za=!0,ancestorResize:Ga=!0,elementResize:Ha=typeof ResizeObserver=="function",layoutShift:Ya=typeof IntersectionObserver=="function",animationFrame:Xa=!1}=Ba,Ka=unwrapElement(La),Qa=za||Ga?[...Ka?getOverflowAncestors(Ka):[],...getOverflowAncestors(Na)]:[];Qa.forEach(Mo=>{za&&Mo.addEventListener("scroll",ja,{passive:!0}),Ga&&Mo.addEventListener("resize",ja)});const Va=Ka&&Ya?observeMove(Ka,ja):null;let Ua=-1,Wa=null;Ha&&(Wa=new ResizeObserver(Mo=>{let[el]=Mo;el&&el.target===Ka&&Wa&&(Wa.unobserve(Na),cancelAnimationFrame(Ua),Ua=requestAnimationFrame(()=>{var tl;(tl=Wa)==null||tl.observe(Na)})),ja()}),Ka&&!Xa&&Wa.observe(Ka),Wa.observe(Na));let Ja,Oo=Xa?getBoundingClientRect(La):null;Xa&&Do();function Do(){const Mo=getBoundingClientRect(La);Oo&&!rectsAreEqual(Oo,Mo)&&ja(),Oo=Mo,Ja=requestAnimationFrame(Do)}return ja(),()=>{var Mo;Qa.forEach(el=>{za&&el.removeEventListener("scroll",ja),Ga&&el.removeEventListener("resize",ja)}),Va?.(),(Mo=Wa)==null||Mo.disconnect(),Wa=null,Xa&&cancelAnimationFrame(Ja)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(La,Na,ja)=>{const Ba=new Map,za={platform,...ja},Ga={...za.platform,_c:Ba};return computePosition$1(La,Na,{...za,platform:Ga})};var isClient=typeof document<"u",noop=function(){},index$1=isClient?reactExports.useLayoutEffect:noop;function deepEqual(La,Na){if(La===Na)return!0;if(typeof La!=typeof Na)return!1;if(typeof La=="function"&&La.toString()===Na.toString())return!0;let ja,Ba,za;if(La&&Na&&typeof La=="object"){if(Array.isArray(La)){if(ja=La.length,ja!==Na.length)return!1;for(Ba=ja;Ba--!==0;)if(!deepEqual(La[Ba],Na[Ba]))return!1;return!0}if(za=Object.keys(La),ja=za.length,ja!==Object.keys(Na).length)return!1;for(Ba=ja;Ba--!==0;)if(!{}.hasOwnProperty.call(Na,za[Ba]))return!1;for(Ba=ja;Ba--!==0;){const Ga=za[Ba];if(!(Ga==="_owner"&&La.$$typeof)&&!deepEqual(La[Ga],Na[Ga]))return!1}return!0}return La!==La&&Na!==Na}function getDPR(La){return typeof window>"u"?1:(La.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(La,Na){const ja=getDPR(La);return Math.round(Na*ja)/ja}function useLatestRef(La){const Na=reactExports.useRef(La);return index$1(()=>{Na.current=La}),Na}function useFloating(La){La===void 0&&(La={});const{placement:Na="bottom",strategy:ja="absolute",middleware:Ba=[],platform:za,elements:{reference:Ga,floating:Ha}={},transform:Ya=!0,whileElementsMounted:Xa,open:Ka}=La,[Qa,Va]=reactExports.useState({x:0,y:0,strategy:ja,placement:Na,middlewareData:{},isPositioned:!1}),[Ua,Wa]=reactExports.useState(Ba);deepEqual(Ua,Ba)||Wa(Ba);const[Ja,Oo]=reactExports.useState(null),[Do,Mo]=reactExports.useState(null),el=reactExports.useCallback(Cl=>{Cl!==al.current&&(al.current=Cl,Oo(Cl))},[]),tl=reactExports.useCallback(Cl=>{Cl!==ll.current&&(ll.current=Cl,Mo(Cl))},[]),rl=Ga||Ja,il=Ha||Do,al=reactExports.useRef(null),ll=reactExports.useRef(null),ul=reactExports.useRef(Qa),ol=Xa!=null,cl=useLatestRef(Xa),gl=useLatestRef(za),bl=useLatestRef(Ka),_l=reactExports.useCallback(()=>{if(!al.current||!ll.current)return;const Cl={placement:Na,strategy:ja,middleware:Ua};gl.current&&(Cl.platform=gl.current),computePosition(al.current,ll.current,Cl).then(Nl=>{const dl={...Nl,isPositioned:bl.current!==!1};xl.current&&!deepEqual(ul.current,dl)&&(ul.current=dl,reactDomExports.flushSync(()=>{Va(dl)}))})},[Ua,Na,ja,gl,bl]);index$1(()=>{Ka===!1&&ul.current.isPositioned&&(ul.current.isPositioned=!1,Va(Cl=>({...Cl,isPositioned:!1})))},[Ka]);const xl=reactExports.useRef(!1);index$1(()=>(xl.current=!0,()=>{xl.current=!1}),[]),index$1(()=>{if(rl&&(al.current=rl),il&&(ll.current=il),rl&&il){if(cl.current)return cl.current(rl,il,_l);_l()}},[rl,il,_l,cl,ol]);const Al=reactExports.useMemo(()=>({reference:al,floating:ll,setReference:el,setFloating:tl}),[el,tl]),ml=reactExports.useMemo(()=>({reference:rl,floating:il}),[rl,il]),Sl=reactExports.useMemo(()=>{const Cl={position:ja,left:0,top:0};if(!ml.floating)return Cl;const Nl=roundByDPR(ml.floating,Qa.x),dl=roundByDPR(ml.floating,Qa.y);return Ya?{...Cl,transform:"translate("+Nl+"px, "+dl+"px)",...getDPR(ml.floating)>=1.5&&{willChange:"transform"}}:{position:ja,left:Nl,top:dl}},[ja,Ya,ml.floating,Qa.x,Qa.y]);return reactExports.useMemo(()=>({...Qa,update:_l,refs:Al,elements:ml,floatingStyles:Sl}),[Qa,_l,Al,ml,Sl])}const arrow$1=La=>{function Na(ja){return{}.hasOwnProperty.call(ja,"current")}return{name:"arrow",options:La,fn(ja){const{element:Ba,padding:za}=typeof La=="function"?La(ja):La;return Ba&&Na(Ba)?Ba.current!=null?arrow$2({element:Ba.current,padding:za}).fn(ja):{}:Ba?arrow$2({element:Ba,padding:za}).fn(ja):{}}}},offset=(La,Na)=>({...offset$1(La),options:[La,Na]}),shift=(La,Na)=>({...shift$1(La),options:[La,Na]}),limitShift=(La,Na)=>({...limitShift$1(La),options:[La,Na]}),flip=(La,Na)=>({...flip$1(La),options:[La,Na]}),size=(La,Na)=>({...size$1(La),options:[La,Na]}),hide=(La,Na)=>({...hide$1(La),options:[La,Na]}),arrow=(La,Na)=>({...arrow$1(La),options:[La,Na]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((La,Na)=>{const{children:ja,width:Ba=10,height:za=5,...Ga}=La;return jsxRuntimeExports.jsx(Primitive.svg,{...Ga,ref:Na,width:Ba,height:za,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:La.asChild?ja:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$4=Arrow$1;function useSize(La){const[Na,ja]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(La){ja({width:La.offsetWidth,height:La.offsetHeight});const Ba=new ResizeObserver(za=>{if(!Array.isArray(za)||!za.length)return;const Ga=za[0];let Ha,Ya;if("borderBoxSize"in Ga){const Xa=Ga.borderBoxSize,Ka=Array.isArray(Xa)?Xa[0]:Xa;Ha=Ka.inlineSize,Ya=Ka.blockSize}else Ha=La.offsetWidth,Ya=La.offsetHeight;ja({width:Ha,height:Ya})});return Ba.observe(La,{box:"border-box"}),()=>Ba.unobserve(La)}else ja(void 0)},[La]),Na}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=La=>{const{__scopePopper:Na,children:ja}=La,[Ba,za]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:Na,anchor:Ba,onAnchorChange:za,children:ja})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor=reactExports.forwardRef((La,Na)=>{const{__scopePopper:ja,virtualRef:Ba,...za}=La,Ga=usePopperContext(ANCHOR_NAME$2,ja),Ha=reactExports.useRef(null),Ya=useComposedRefs(Na,Ha),Xa=reactExports.useRef(null);return reactExports.useEffect(()=>{const Ka=Xa.current;Xa.current=Ba?.current||Ha.current,Ka!==Xa.current&&Ga.onAnchorChange(Xa.current)}),Ba?null:jsxRuntimeExports.jsx(Primitive.div,{...za,ref:Ya})});PopperAnchor.displayName=ANCHOR_NAME$2;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((La,Na)=>{const{__scopePopper:ja,side:Ba="bottom",sideOffset:za=0,align:Ga="center",alignOffset:Ha=0,arrowPadding:Ya=0,avoidCollisions:Xa=!0,collisionBoundary:Ka=[],collisionPadding:Qa=0,sticky:Va="partial",hideWhenDetached:Ua=!1,updatePositionStrategy:Wa="optimized",onPlaced:Ja,...Oo}=La,Do=usePopperContext(CONTENT_NAME$4,ja),[Mo,el]=reactExports.useState(null),tl=useComposedRefs(Na,$l=>el($l)),[rl,il]=reactExports.useState(null),al=useSize(rl),ll=al?.width??0,ul=al?.height??0,ol=Ba+(Ga!=="center"?"-"+Ga:""),cl=typeof Qa=="number"?Qa:{top:0,right:0,bottom:0,left:0,...Qa},gl=Array.isArray(Ka)?Ka:[Ka],bl=gl.length>0,_l={padding:cl,boundary:gl.filter(isNotNull),altBoundary:bl},{refs:xl,floatingStyles:Al,placement:ml,isPositioned:Sl,middlewareData:Cl}=useFloating({strategy:"fixed",placement:ol,whileElementsMounted:(...$l)=>autoUpdate(...$l,{animationFrame:Wa==="always"}),elements:{reference:Do.anchor},middleware:[offset({mainAxis:za+ul,alignmentAxis:Ha}),Xa&&shift({mainAxis:!0,crossAxis:!1,limiter:Va==="partial"?limitShift():void 0,..._l}),Xa&&flip({..._l}),size({..._l,apply:({elements:$l,rects:eu,availableWidth:uu,availableHeight:su})=>{const{width:pu,height:Yl}=eu.reference,ru=$l.floating.style;ru.setProperty("--radix-popper-available-width",`${uu}px`),ru.setProperty("--radix-popper-available-height",`${su}px`),ru.setProperty("--radix-popper-anchor-width",`${pu}px`),ru.setProperty("--radix-popper-anchor-height",`${Yl}px`)}}),rl&&arrow({element:rl,padding:Ya}),transformOrigin({arrowWidth:ll,arrowHeight:ul}),Ua&&hide({strategy:"referenceHidden",..._l})]}),[Nl,dl]=getSideAndAlignFromPlacement(ml),Rl=useCallbackRef$1(Ja);useLayoutEffect2(()=>{Sl&&Rl?.()},[Sl,Rl]);const Tl=Cl.arrow?.x,pl=Cl.arrow?.y,jl=Cl.arrow?.centerOffset!==0,[Ll,Dl]=reactExports.useState();return useLayoutEffect2(()=>{Mo&&Dl(window.getComputedStyle(Mo).zIndex)},[Mo]),jsxRuntimeExports.jsx("div",{ref:xl.setFloating,"data-radix-popper-content-wrapper":"",style:{...Al,transform:Sl?Al.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ll,"--radix-popper-transform-origin":[Cl.transformOrigin?.x,Cl.transformOrigin?.y].join(" "),...Cl.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:La.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:ja,placedSide:Nl,onArrowChange:il,arrowX:Tl,arrowY:pl,shouldHideArrow:jl,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Nl,"data-align":dl,...Oo,ref:tl,style:{...Oo.style,animation:Sl?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(Na,ja){const{__scopePopper:Ba,...za}=Na,Ga=useContentContext(ARROW_NAME$4,Ba),Ha=OPPOSITE_SIDE[Ga.placedSide];return jsxRuntimeExports.jsx("span",{ref:Ga.onArrowChange,style:{position:"absolute",left:Ga.arrowX,top:Ga.arrowY,[Ha]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[Ga.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[Ga.placedSide],visibility:Ga.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$4,{...za,ref:ja,style:{...za.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull(La){return La!==null}var transformOrigin=La=>({name:"transformOrigin",options:La,fn(Na){const{placement:ja,rects:Ba,middlewareData:za}=Na,Ha=za.arrow?.centerOffset!==0,Ya=Ha?0:La.arrowWidth,Xa=Ha?0:La.arrowHeight,[Ka,Qa]=getSideAndAlignFromPlacement(ja),Va={start:"0%",center:"50%",end:"100%"}[Qa],Ua=(za.arrow?.x??0)+Ya/2,Wa=(za.arrow?.y??0)+Xa/2;let Ja="",Oo="";return Ka==="bottom"?(Ja=Ha?Va:`${Ua}px`,Oo=`${-Xa}px`):Ka==="top"?(Ja=Ha?Va:`${Ua}px`,Oo=`${Ba.floating.height+Xa}px`):Ka==="right"?(Ja=`${-Xa}px`,Oo=Ha?Va:`${Wa}px`):Ka==="left"&&(Ja=`${Ba.floating.width+Xa}px`,Oo=Ha?Va:`${Wa}px`),{data:{x:Ja,y:Oo}}}});function getSideAndAlignFromPlacement(La){const[Na,ja="center"]=La.split("-");return[Na,ja]}var Root2$3=Popper,Anchor$1=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,POPOVER_NAME="Popover",[createPopoverContext,createPopoverScope]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope$2=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=La=>{const{__scopePopover:Na,children:ja,open:Ba,defaultOpen:za,onOpenChange:Ga,modal:Ha=!1}=La,Ya=usePopperScope$2(Na),Xa=reactExports.useRef(null),[Ka,Qa]=reactExports.useState(!1),[Va,Ua]=useControllableState({prop:Ba,defaultProp:za??!1,onChange:Ga,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$3,{...Ya,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:Na,contentId:useId(),triggerRef:Xa,open:Va,onOpenChange:Ua,onOpenToggle:reactExports.useCallback(()=>Ua(Wa=>!Wa),[Ua]),hasCustomAnchor:Ka,onCustomAnchorAdd:reactExports.useCallback(()=>Qa(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>Qa(!1),[]),modal:Ha,children:ja})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME$1="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((La,Na)=>{const{__scopePopover:ja,...Ba}=La,za=usePopoverContext(ANCHOR_NAME$1,ja),Ga=usePopperScope$2(ja),{onCustomAnchorAdd:Ha,onCustomAnchorRemove:Ya}=za;return reactExports.useEffect(()=>(Ha(),()=>Ya()),[Ha,Ya]),jsxRuntimeExports.jsx(Anchor$1,{...Ga,...Ba,ref:Na})});PopoverAnchor.displayName=ANCHOR_NAME$1;var TRIGGER_NAME$2="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((La,Na)=>{const{__scopePopover:ja,...Ba}=La,za=usePopoverContext(TRIGGER_NAME$2,ja),Ga=usePopperScope$2(ja),Ha=useComposedRefs(Na,za.triggerRef),Ya=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":za.open,"aria-controls":za.contentId,"data-state":getState$1(za.open),...Ba,ref:Ha,onClick:composeEventHandlers(La.onClick,za.onOpenToggle)});return za.hasCustomAnchor?Ya:jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...Ga,children:Ya})});PopoverTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$3="PopoverPortal",[PortalProvider$1,usePortalContext$1]=createPopoverContext(PORTAL_NAME$3,{forceMount:void 0}),PopoverPortal=La=>{const{__scopePopover:Na,forceMount:ja,children:Ba,container:za}=La,Ga=usePopoverContext(PORTAL_NAME$3,Na);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:Na,forceMount:ja,children:jsxRuntimeExports.jsx(Presence,{present:ja||Ga.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:za,children:Ba})})})};PopoverPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="PopoverContent",PopoverContent$1=reactExports.forwardRef((La,Na)=>{const ja=usePortalContext$1(CONTENT_NAME$3,La.__scopePopover),{forceMount:Ba=ja.forceMount,...za}=La,Ga=usePopoverContext(CONTENT_NAME$3,La.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:Ba||Ga.open,children:Ga.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...za,ref:Na}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...za,ref:Na})})});PopoverContent$1.displayName=CONTENT_NAME$3;var Slot$2=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((La,Na)=>{const ja=usePopoverContext(CONTENT_NAME$3,La.__scopePopover),Ba=reactExports.useRef(null),za=useComposedRefs(Na,Ba),Ga=reactExports.useRef(!1);return reactExports.useEffect(()=>{const Ha=Ba.current;if(Ha)return hideOthers(Ha)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$2,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...La,ref:za,trapFocus:ja.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(La.onCloseAutoFocus,Ha=>{Ha.preventDefault(),Ga.current||ja.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(La.onPointerDownOutside,Ha=>{const Ya=Ha.detail.originalEvent,Xa=Ya.button===0&&Ya.ctrlKey===!0,Ka=Ya.button===2||Xa;Ga.current=Ka},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(La.onFocusOutside,Ha=>Ha.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((La,Na)=>{const ja=usePopoverContext(CONTENT_NAME$3,La.__scopePopover),Ba=reactExports.useRef(!1),za=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...La,ref:Na,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:Ga=>{La.onCloseAutoFocus?.(Ga),Ga.defaultPrevented||(Ba.current||ja.triggerRef.current?.focus(),Ga.preventDefault()),Ba.current=!1,za.current=!1},onInteractOutside:Ga=>{La.onInteractOutside?.(Ga),Ga.defaultPrevented||(Ba.current=!0,Ga.detail.originalEvent.type==="pointerdown"&&(za.current=!0));const Ha=Ga.target;ja.triggerRef.current?.contains(Ha)&&Ga.preventDefault(),Ga.detail.originalEvent.type==="focusin"&&za.current&&Ga.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((La,Na)=>{const{__scopePopover:ja,trapFocus:Ba,onOpenAutoFocus:za,onCloseAutoFocus:Ga,disableOutsidePointerEvents:Ha,onEscapeKeyDown:Ya,onPointerDownOutside:Xa,onFocusOutside:Ka,onInteractOutside:Qa,...Va}=La,Ua=usePopoverContext(CONTENT_NAME$3,ja),Wa=usePopperScope$2(ja);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:Ba,onMountAutoFocus:za,onUnmountAutoFocus:Ga,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:Ha,onInteractOutside:Qa,onEscapeKeyDown:Ya,onPointerDownOutside:Xa,onFocusOutside:Ka,onDismiss:()=>Ua.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content,{"data-state":getState$1(Ua.open),role:"dialog",id:Ua.contentId,...Wa,...Va,ref:Na,style:{...Va.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME="PopoverClose",PopoverClose=reactExports.forwardRef((La,Na)=>{const{__scopePopover:ja,...Ba}=La,za=usePopoverContext(CLOSE_NAME,ja);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...Ba,ref:Na,onClick:composeEventHandlers(La.onClick,()=>za.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME;var ARROW_NAME$3="PopoverArrow",PopoverArrow=reactExports.forwardRef((La,Na)=>{const{__scopePopover:ja,...Ba}=La,za=usePopperScope$2(ja);return jsxRuntimeExports.jsx(Arrow,{...za,...Ba,ref:Na})});PopoverArrow.displayName=ARROW_NAME$3;function getState$1(La){return La?"open":"closed"}var Root2$2=Popover$1,Trigger$2=PopoverTrigger$1,Portal$2=PopoverPortal,Content2$3=PopoverContent$1;function Popover({...La}){return jsxRuntimeExports.jsx(Root2$2,{"data-slot":"popover",...La})}function PopoverTrigger({...La}){return jsxRuntimeExports.jsx(Trigger$2,{"data-slot":"popover-trigger",...La,className:cn(La.className,"data-[state=open]:bg-primary-foreground data-[state=open]:text-primary data-[state=open]:border-primary/20 data-[state=open]:border-1 transition-all duration-300")})}function PopoverContent({className:La,align:Na="center",sideOffset:ja=4,...Ba}){return jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsx(Content2$3,{"data-slot":"popover-content",align:Na,sideOffset:ja,id:"popover-content",className:cn("mt-1 shadow-none bg-popover/90 backdrop-blur-3xl text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-xl border p-4 outline-hidden",La),...Ba})})}var DirectionContext=reactExports.createContext(void 0);function useDirection(La){const Na=reactExports.useContext(DirectionContext);return La||Na||"ltr"}function clamp(La,[Na,ja]){return Math.min(ja,Math.max(Na,La))}function useStateMachine(La,Na){return reactExports.useReducer((ja,Ba)=>Na[ja][Ba]??ja,La)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((La,Na)=>{const{__scopeScrollArea:ja,type:Ba="hover",dir:za,scrollHideDelay:Ga=600,...Ha}=La,[Ya,Xa]=reactExports.useState(null),[Ka,Qa]=reactExports.useState(null),[Va,Ua]=reactExports.useState(null),[Wa,Ja]=reactExports.useState(null),[Oo,Do]=reactExports.useState(null),[Mo,el]=reactExports.useState(0),[tl,rl]=reactExports.useState(0),[il,al]=reactExports.useState(!1),[ll,ul]=reactExports.useState(!1),ol=useComposedRefs(Na,gl=>Xa(gl)),cl=useDirection(za);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:ja,type:Ba,dir:cl,scrollHideDelay:Ga,scrollArea:Ya,viewport:Ka,onViewportChange:Qa,content:Va,onContentChange:Ua,scrollbarX:Wa,onScrollbarXChange:Ja,scrollbarXEnabled:il,onScrollbarXEnabledChange:al,scrollbarY:Oo,onScrollbarYChange:Do,scrollbarYEnabled:ll,onScrollbarYEnabledChange:ul,onCornerWidthChange:el,onCornerHeightChange:rl,children:jsxRuntimeExports.jsx(Primitive.div,{dir:cl,...Ha,ref:ol,style:{position:"relative","--radix-scroll-area-corner-width":Mo+"px","--radix-scroll-area-corner-height":tl+"px",...La.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME$1="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((La,Na)=>{const{__scopeScrollArea:ja,children:Ba,nonce:za,...Ga}=La,Ha=useScrollAreaContext(VIEWPORT_NAME$1,ja),Ya=reactExports.useRef(null),Xa=useComposedRefs(Na,Ya,Ha.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:za}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...Ga,ref:Xa,style:{overflowX:Ha.scrollbarXEnabled?"scroll":"hidden",overflowY:Ha.scrollbarYEnabled?"scroll":"hidden",...La.style},children:jsxRuntimeExports.jsx("div",{ref:Ha.onContentChange,style:{minWidth:"100%",display:"table"},children:Ba})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME$1;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((La,Na)=>{const{forceMount:ja,...Ba}=La,za=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),{onScrollbarXEnabledChange:Ga,onScrollbarYEnabledChange:Ha}=za,Ya=La.orientation==="horizontal";return reactExports.useEffect(()=>(Ya?Ga(!0):Ha(!0),()=>{Ya?Ga(!1):Ha(!1)}),[Ya,Ga,Ha]),za.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...Ba,ref:Na,forceMount:ja}):za.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...Ba,ref:Na,forceMount:ja}):za.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...Ba,ref:Na,forceMount:ja}):za.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...Ba,ref:Na}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((La,Na)=>{const{forceMount:ja,...Ba}=La,za=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),[Ga,Ha]=reactExports.useState(!1);return reactExports.useEffect(()=>{const Ya=za.scrollArea;let Xa=0;if(Ya){const Ka=()=>{window.clearTimeout(Xa),Ha(!0)},Qa=()=>{Xa=window.setTimeout(()=>Ha(!1),za.scrollHideDelay)};return Ya.addEventListener("pointerenter",Ka),Ya.addEventListener("pointerleave",Qa),()=>{window.clearTimeout(Xa),Ya.removeEventListener("pointerenter",Ka),Ya.removeEventListener("pointerleave",Qa)}}},[za.scrollArea,za.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:ja||Ga,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":Ga?"visible":"hidden",...Ba,ref:Na})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((La,Na)=>{const{forceMount:ja,...Ba}=La,za=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),Ga=La.orientation==="horizontal",Ha=useDebounceCallback(()=>Xa("SCROLL_END"),100),[Ya,Xa]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(Ya==="idle"){const Ka=window.setTimeout(()=>Xa("HIDE"),za.scrollHideDelay);return()=>window.clearTimeout(Ka)}},[Ya,za.scrollHideDelay,Xa]),reactExports.useEffect(()=>{const Ka=za.viewport,Qa=Ga?"scrollLeft":"scrollTop";if(Ka){let Va=Ka[Qa];const Ua=()=>{const Wa=Ka[Qa];Va!==Wa&&(Xa("SCROLL"),Ha()),Va=Wa};return Ka.addEventListener("scroll",Ua),()=>Ka.removeEventListener("scroll",Ua)}},[za.viewport,Ga,Xa,Ha]),jsxRuntimeExports.jsx(Presence,{present:ja||Ya!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":Ya==="hidden"?"hidden":"visible",...Ba,ref:Na,onPointerEnter:composeEventHandlers(La.onPointerEnter,()=>Xa("POINTER_ENTER")),onPointerLeave:composeEventHandlers(La.onPointerLeave,()=>Xa("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((La,Na)=>{const ja=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),{forceMount:Ba,...za}=La,[Ga,Ha]=reactExports.useState(!1),Ya=La.orientation==="horizontal",Xa=useDebounceCallback(()=>{if(ja.viewport){const Ka=ja.viewport.offsetWidth<ja.viewport.scrollWidth,Qa=ja.viewport.offsetHeight<ja.viewport.scrollHeight;Ha(Ya?Ka:Qa)}},10);return useResizeObserver(ja.viewport,Xa),useResizeObserver(ja.content,Xa),jsxRuntimeExports.jsx(Presence,{present:Ba||Ga,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":Ga?"visible":"hidden",...za,ref:Na})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((La,Na)=>{const{orientation:ja="vertical",...Ba}=La,za=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),Ga=reactExports.useRef(null),Ha=reactExports.useRef(0),[Ya,Xa]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),Ka=getThumbRatio(Ya.viewport,Ya.content),Qa={...Ba,sizes:Ya,onSizesChange:Xa,hasThumb:Ka>0&&Ka<1,onThumbChange:Ua=>Ga.current=Ua,onThumbPointerUp:()=>Ha.current=0,onThumbPointerDown:Ua=>Ha.current=Ua};function Va(Ua,Wa){return getScrollPositionFromPointer(Ua,Ha.current,Ya,Wa)}return ja==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...Qa,ref:Na,onThumbPositionChange:()=>{if(za.viewport&&Ga.current){const Ua=za.viewport.scrollLeft,Wa=getThumbOffsetFromScroll(Ua,Ya,za.dir);Ga.current.style.transform=`translate3d(${Wa}px, 0, 0)`}},onWheelScroll:Ua=>{za.viewport&&(za.viewport.scrollLeft=Ua)},onDragScroll:Ua=>{za.viewport&&(za.viewport.scrollLeft=Va(Ua,za.dir))}}):ja==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...Qa,ref:Na,onThumbPositionChange:()=>{if(za.viewport&&Ga.current){const Ua=za.viewport.scrollTop,Wa=getThumbOffsetFromScroll(Ua,Ya);Ga.current.style.transform=`translate3d(0, ${Wa}px, 0)`}},onWheelScroll:Ua=>{za.viewport&&(za.viewport.scrollTop=Ua)},onDragScroll:Ua=>{za.viewport&&(za.viewport.scrollTop=Va(Ua))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((La,Na)=>{const{sizes:ja,onSizesChange:Ba,...za}=La,Ga=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),[Ha,Ya]=reactExports.useState(),Xa=reactExports.useRef(null),Ka=useComposedRefs(Na,Xa,Ga.onScrollbarXChange);return reactExports.useEffect(()=>{Xa.current&&Ya(getComputedStyle(Xa.current))},[Xa]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...za,ref:Ka,sizes:ja,style:{bottom:0,left:Ga.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:Ga.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(ja)+"px",...La.style},onThumbPointerDown:Qa=>La.onThumbPointerDown(Qa.x),onDragScroll:Qa=>La.onDragScroll(Qa.x),onWheelScroll:(Qa,Va)=>{if(Ga.viewport){const Ua=Ga.viewport.scrollLeft+Qa.deltaX;La.onWheelScroll(Ua),isScrollingWithinScrollbarBounds(Ua,Va)&&Qa.preventDefault()}},onResize:()=>{Xa.current&&Ga.viewport&&Ha&&Ba({content:Ga.viewport.scrollWidth,viewport:Ga.viewport.offsetWidth,scrollbar:{size:Xa.current.clientWidth,paddingStart:toInt(Ha.paddingLeft),paddingEnd:toInt(Ha.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((La,Na)=>{const{sizes:ja,onSizesChange:Ba,...za}=La,Ga=useScrollAreaContext(SCROLLBAR_NAME,La.__scopeScrollArea),[Ha,Ya]=reactExports.useState(),Xa=reactExports.useRef(null),Ka=useComposedRefs(Na,Xa,Ga.onScrollbarYChange);return reactExports.useEffect(()=>{Xa.current&&Ya(getComputedStyle(Xa.current))},[Xa]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...za,ref:Ka,sizes:ja,style:{top:0,right:Ga.dir==="ltr"?0:void 0,left:Ga.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(ja)+"px",...La.style},onThumbPointerDown:Qa=>La.onThumbPointerDown(Qa.y),onDragScroll:Qa=>La.onDragScroll(Qa.y),onWheelScroll:(Qa,Va)=>{if(Ga.viewport){const Ua=Ga.viewport.scrollTop+Qa.deltaY;La.onWheelScroll(Ua),isScrollingWithinScrollbarBounds(Ua,Va)&&Qa.preventDefault()}},onResize:()=>{Xa.current&&Ga.viewport&&Ha&&Ba({content:Ga.viewport.scrollHeight,viewport:Ga.viewport.offsetHeight,scrollbar:{size:Xa.current.clientHeight,paddingStart:toInt(Ha.paddingTop),paddingEnd:toInt(Ha.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((La,Na)=>{const{__scopeScrollArea:ja,sizes:Ba,hasThumb:za,onThumbChange:Ga,onThumbPointerUp:Ha,onThumbPointerDown:Ya,onThumbPositionChange:Xa,onDragScroll:Ka,onWheelScroll:Qa,onResize:Va,...Ua}=La,Wa=useScrollAreaContext(SCROLLBAR_NAME,ja),[Ja,Oo]=reactExports.useState(null),Do=useComposedRefs(Na,ol=>Oo(ol)),Mo=reactExports.useRef(null),el=reactExports.useRef(""),tl=Wa.viewport,rl=Ba.content-Ba.viewport,il=useCallbackRef$1(Qa),al=useCallbackRef$1(Xa),ll=useDebounceCallback(Va,10);function ul(ol){if(Mo.current){const cl=ol.clientX-Mo.current.left,gl=ol.clientY-Mo.current.top;Ka({x:cl,y:gl})}}return reactExports.useEffect(()=>{const ol=cl=>{const gl=cl.target;Ja?.contains(gl)&&il(cl,rl)};return document.addEventListener("wheel",ol,{passive:!1}),()=>document.removeEventListener("wheel",ol,{passive:!1})},[tl,Ja,rl,il]),reactExports.useEffect(al,[Ba,al]),useResizeObserver(Ja,ll),useResizeObserver(Wa.content,ll),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:ja,scrollbar:Ja,hasThumb:za,onThumbChange:useCallbackRef$1(Ga),onThumbPointerUp:useCallbackRef$1(Ha),onThumbPositionChange:al,onThumbPointerDown:useCallbackRef$1(Ya),children:jsxRuntimeExports.jsx(Primitive.div,{...Ua,ref:Do,style:{position:"absolute",...Ua.style},onPointerDown:composeEventHandlers(La.onPointerDown,ol=>{ol.button===0&&(ol.target.setPointerCapture(ol.pointerId),Mo.current=Ja.getBoundingClientRect(),el.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",Wa.viewport&&(Wa.viewport.style.scrollBehavior="auto"),ul(ol))}),onPointerMove:composeEventHandlers(La.onPointerMove,ul),onPointerUp:composeEventHandlers(La.onPointerUp,ol=>{const cl=ol.target;cl.hasPointerCapture(ol.pointerId)&&cl.releasePointerCapture(ol.pointerId),document.body.style.webkitUserSelect=el.current,Wa.viewport&&(Wa.viewport.style.scrollBehavior=""),Mo.current=null})})})}),THUMB_NAME$2="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((La,Na)=>{const{forceMount:ja,...Ba}=La,za=useScrollbarContext(THUMB_NAME$2,La.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:ja||za.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:Na,...Ba})})}),ScrollAreaThumbImpl=reactExports.forwardRef((La,Na)=>{const{__scopeScrollArea:ja,style:Ba,...za}=La,Ga=useScrollAreaContext(THUMB_NAME$2,ja),Ha=useScrollbarContext(THUMB_NAME$2,ja),{onThumbPositionChange:Ya}=Ha,Xa=useComposedRefs(Na,Va=>Ha.onThumbChange(Va)),Ka=reactExports.useRef(void 0),Qa=useDebounceCallback(()=>{Ka.current&&(Ka.current(),Ka.current=void 0)},100);return reactExports.useEffect(()=>{const Va=Ga.viewport;if(Va){const Ua=()=>{if(Qa(),!Ka.current){const Wa=addUnlinkedScrollListener(Va,Ya);Ka.current=Wa,Ya()}};return Ya(),Va.addEventListener("scroll",Ua),()=>Va.removeEventListener("scroll",Ua)}},[Ga.viewport,Qa,Ya]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":Ha.hasThumb?"visible":"hidden",...za,ref:Xa,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...Ba},onPointerDownCapture:composeEventHandlers(La.onPointerDownCapture,Va=>{const Wa=Va.target.getBoundingClientRect(),Ja=Va.clientX-Wa.left,Oo=Va.clientY-Wa.top;Ha.onThumbPointerDown({x:Ja,y:Oo})}),onPointerUp:composeEventHandlers(La.onPointerUp,Ha.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$2;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((La,Na)=>{const ja=useScrollAreaContext(CORNER_NAME,La.__scopeScrollArea),Ba=!!(ja.scrollbarX&&ja.scrollbarY);return ja.type!=="scroll"&&Ba?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...La,ref:Na}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((La,Na)=>{const{__scopeScrollArea:ja,...Ba}=La,za=useScrollAreaContext(CORNER_NAME,ja),[Ga,Ha]=reactExports.useState(0),[Ya,Xa]=reactExports.useState(0),Ka=!!(Ga&&Ya);return useResizeObserver(za.scrollbarX,()=>{const Qa=za.scrollbarX?.offsetHeight||0;za.onCornerHeightChange(Qa),Xa(Qa)}),useResizeObserver(za.scrollbarY,()=>{const Qa=za.scrollbarY?.offsetWidth||0;za.onCornerWidthChange(Qa),Ha(Qa)}),Ka?jsxRuntimeExports.jsx(Primitive.div,{...Ba,ref:Na,style:{width:Ga,height:Ya,position:"absolute",right:za.dir==="ltr"?0:void 0,left:za.dir==="rtl"?0:void 0,bottom:0,...La.style}}):null});function toInt(La){return La?parseInt(La,10):0}function getThumbRatio(La,Na){const ja=La/Na;return isNaN(ja)?0:ja}function getThumbSize(La){const Na=getThumbRatio(La.viewport,La.content),ja=La.scrollbar.paddingStart+La.scrollbar.paddingEnd,Ba=(La.scrollbar.size-ja)*Na;return Math.max(Ba,18)}function getScrollPositionFromPointer(La,Na,ja,Ba="ltr"){const za=getThumbSize(ja),Ga=za/2,Ha=Na||Ga,Ya=za-Ha,Xa=ja.scrollbar.paddingStart+Ha,Ka=ja.scrollbar.size-ja.scrollbar.paddingEnd-Ya,Qa=ja.content-ja.viewport,Va=Ba==="ltr"?[0,Qa]:[Qa*-1,0];return linearScale$1([Xa,Ka],Va)(La)}function getThumbOffsetFromScroll(La,Na,ja="ltr"){const Ba=getThumbSize(Na),za=Na.scrollbar.paddingStart+Na.scrollbar.paddingEnd,Ga=Na.scrollbar.size-za,Ha=Na.content-Na.viewport,Ya=Ga-Ba,Xa=ja==="ltr"?[0,Ha]:[Ha*-1,0],Ka=clamp(La,Xa);return linearScale$1([0,Ha],[0,Ya])(Ka)}function linearScale$1(La,Na){return ja=>{if(La[0]===La[1]||Na[0]===Na[1])return Na[0];const Ba=(Na[1]-Na[0])/(La[1]-La[0]);return Na[0]+Ba*(ja-La[0])}}function isScrollingWithinScrollbarBounds(La,Na){return La>0&&La<Na}var addUnlinkedScrollListener=(La,Na=()=>{})=>{let ja={left:La.scrollLeft,top:La.scrollTop},Ba=0;return(function za(){const Ga={left:La.scrollLeft,top:La.scrollTop},Ha=ja.left!==Ga.left,Ya=ja.top!==Ga.top;(Ha||Ya)&&Na(),ja=Ga,Ba=window.requestAnimationFrame(za)})(),()=>window.cancelAnimationFrame(Ba)};function useDebounceCallback(La,Na){const ja=useCallbackRef$1(La),Ba=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(Ba.current),[]),reactExports.useCallback(()=>{window.clearTimeout(Ba.current),Ba.current=window.setTimeout(ja,Na)},[ja,Na])}function useResizeObserver(La,Na){const ja=useCallbackRef$1(Na);useLayoutEffect2(()=>{let Ba=0;if(La){const za=new ResizeObserver(()=>{cancelAnimationFrame(Ba),Ba=window.requestAnimationFrame(ja)});return za.observe(La),()=>{window.cancelAnimationFrame(Ba),za.unobserve(La)}}},[La,ja])}var Root$3=ScrollArea$1,Viewport$1=ScrollAreaViewport,Corner=ScrollAreaCorner;function ScrollArea({className:La,children:Na,...ja}){return jsxRuntimeExports.jsxs(Root$3,{"data-slot":"scroll-area",className:cn("relative",La),...ja,children:[jsxRuntimeExports.jsx(Viewport$1,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:Na}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]})}function ScrollBar({className:La,orientation:Na="vertical",...ja}){return jsxRuntimeExports.jsx(ScrollAreaScrollbar,{"data-slot":"scroll-area-scrollbar",orientation:Na,className:cn("flex touch-none p-px transition-colors select-none",Na==="vertical"&&"h-full w-2.5 border-l border-l-transparent",Na==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",La),...ja,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function createCollection(La){const Na=La+"CollectionProvider",[ja,Ba]=createContextScope(Na),[za,Ga]=ja(Na,{collectionRef:{current:null},itemMap:new Map}),Ha=Oo=>{const{scope:Do,children:Mo}=Oo,el=React.useRef(null),tl=React.useRef(new Map).current;return jsxRuntimeExports.jsx(za,{scope:Do,itemMap:tl,collectionRef:el,children:Mo})};Ha.displayName=Na;const Ya=La+"CollectionSlot",Xa=createSlot(Ya),Ka=React.forwardRef((Oo,Do)=>{const{scope:Mo,children:el}=Oo,tl=Ga(Ya,Mo),rl=useComposedRefs(Do,tl.collectionRef);return jsxRuntimeExports.jsx(Xa,{ref:rl,children:el})});Ka.displayName=Ya;const Qa=La+"CollectionItemSlot",Va="data-radix-collection-item",Ua=createSlot(Qa),Wa=React.forwardRef((Oo,Do)=>{const{scope:Mo,children:el,...tl}=Oo,rl=React.useRef(null),il=useComposedRefs(Do,rl),al=Ga(Qa,Mo);return React.useEffect(()=>(al.itemMap.set(rl,{ref:rl,...tl}),()=>void al.itemMap.delete(rl))),jsxRuntimeExports.jsx(Ua,{[Va]:"",ref:il,children:el})});Wa.displayName=Qa;function Ja(Oo){const Do=Ga(La+"CollectionConsumer",Oo);return React.useCallback(()=>{const el=Do.collectionRef.current;if(!el)return[];const tl=Array.from(el.querySelectorAll(`[${Va}]`));return Array.from(Do.itemMap.values()).sort((al,ll)=>tl.indexOf(al.ref.current)-tl.indexOf(ll.ref.current))},[Do.collectionRef,Do.itemMap])}return[{Provider:Ha,Slot:Ka,ItemSlot:Wa},Ja,Ba]}function usePrevious(La){const Na=reactExports.useRef({value:La,previous:La});return reactExports.useMemo(()=>(Na.current.value!==La&&(Na.current.previous=Na.current.value,Na.current.value=La),Na.current.previous),[La])}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((La,Na)=>jsxRuntimeExports.jsx(Primitive.span,{...La,ref:Na,style:{...VISUALLY_HIDDEN_STYLES,...La.style}}));VisuallyHidden.displayName=NAME;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS$1=[" ","Enter"],SELECT_NAME="Select",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$3,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=La=>{const{__scopeSelect:Na,children:ja,open:Ba,defaultOpen:za,onOpenChange:Ga,value:Ha,defaultValue:Ya,onValueChange:Xa,dir:Ka,name:Qa,autoComplete:Va,disabled:Ua,required:Wa,form:Ja}=La,Oo=usePopperScope$1(Na),[Do,Mo]=reactExports.useState(null),[el,tl]=reactExports.useState(null),[rl,il]=reactExports.useState(!1),al=useDirection(Ka),[ll,ul]=useControllableState({prop:Ba,defaultProp:za??!1,onChange:Ga,caller:SELECT_NAME}),[ol,cl]=useControllableState({prop:Ha,defaultProp:Ya,onChange:Xa,caller:SELECT_NAME}),gl=reactExports.useRef(null),bl=Do?Ja||!!Do.closest("form"):!0,[_l,xl]=reactExports.useState(new Set),Al=Array.from(_l).map(ml=>ml.props.value).join(";");return jsxRuntimeExports.jsx(Root2$3,{...Oo,children:jsxRuntimeExports.jsxs(SelectProvider,{required:Wa,scope:Na,trigger:Do,onTriggerChange:Mo,valueNode:el,onValueNodeChange:tl,valueNodeHasChildren:rl,onValueNodeHasChildrenChange:il,contentId:useId(),value:ol,onValueChange:cl,open:ll,onOpenChange:ul,dir:al,triggerPointerDownPosRef:gl,disabled:Ua,children:[jsxRuntimeExports.jsx(Collection$3.Provider,{scope:Na,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:La.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(ml=>{xl(Sl=>new Set(Sl).add(ml))},[]),onNativeOptionRemove:reactExports.useCallback(ml=>{xl(Sl=>{const Cl=new Set(Sl);return Cl.delete(ml),Cl})},[]),children:ja})}),bl?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:Wa,tabIndex:-1,name:Qa,autoComplete:Va,value:ol,onChange:ml=>cl(ml.target.value),disabled:Ua,form:Ja,children:[ol===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(_l)]},Al):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,disabled:Ba=!1,...za}=La,Ga=usePopperScope$1(ja),Ha=useSelectContext(TRIGGER_NAME$1,ja),Ya=Ha.disabled||Ba,Xa=useComposedRefs(Na,Ha.onTriggerChange),Ka=useCollection$3(ja),Qa=reactExports.useRef("touch"),[Va,Ua,Wa]=useTypeaheadSearch(Oo=>{const Do=Ka().filter(tl=>!tl.disabled),Mo=Do.find(tl=>tl.value===Ha.value),el=findNextItem(Do,Oo,Mo);el!==void 0&&Ha.onValueChange(el.value)}),Ja=Oo=>{Ya||(Ha.onOpenChange(!0),Wa()),Oo&&(Ha.triggerPointerDownPosRef.current={x:Math.round(Oo.pageX),y:Math.round(Oo.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...Ga,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":Ha.contentId,"aria-expanded":Ha.open,"aria-required":Ha.required,"aria-autocomplete":"none",dir:Ha.dir,"data-state":Ha.open?"open":"closed",disabled:Ya,"data-disabled":Ya?"":void 0,"data-placeholder":shouldShowPlaceholder(Ha.value)?"":void 0,...za,ref:Xa,onClick:composeEventHandlers(za.onClick,Oo=>{Oo.currentTarget.focus(),Qa.current!=="mouse"&&Ja(Oo)}),onPointerDown:composeEventHandlers(za.onPointerDown,Oo=>{Qa.current=Oo.pointerType;const Do=Oo.target;Do.hasPointerCapture(Oo.pointerId)&&Do.releasePointerCapture(Oo.pointerId),Oo.button===0&&Oo.ctrlKey===!1&&Oo.pointerType==="mouse"&&(Ja(Oo),Oo.preventDefault())}),onKeyDown:composeEventHandlers(za.onKeyDown,Oo=>{const Do=Va.current!=="";!(Oo.ctrlKey||Oo.altKey||Oo.metaKey)&&Oo.key.length===1&&Ua(Oo.key),!(Do&&Oo.key===" ")&&OPEN_KEYS.includes(Oo.key)&&(Ja(),Oo.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,className:Ba,style:za,children:Ga,placeholder:Ha="",...Ya}=La,Xa=useSelectContext(VALUE_NAME,ja),{onValueNodeHasChildrenChange:Ka}=Xa,Qa=Ga!==void 0,Va=useComposedRefs(Na,Xa.onValueNodeChange);return useLayoutEffect2(()=>{Ka(Qa)},[Ka,Qa]),jsxRuntimeExports.jsx(Primitive.span,{...Ya,ref:Va,style:{pointerEvents:"none"},children:shouldShowPlaceholder(Xa.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ha}):Ga})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,children:Ba,...za}=La;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...za,ref:Na,children:Ba||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$2="SelectPortal",SelectPortal=La=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...La});SelectPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="SelectContent",SelectContent$1=reactExports.forwardRef((La,Na)=>{const ja=useSelectContext(CONTENT_NAME$2,La.__scopeSelect),[Ba,za]=reactExports.useState();if(useLayoutEffect2(()=>{za(new DocumentFragment)},[]),!ja.open){const Ga=Ba;return Ga?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:La.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:La.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:La.children})})}),Ga):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...La,ref:Na})});SelectContent$1.displayName=CONTENT_NAME$2;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$2),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,position:Ba="item-aligned",onCloseAutoFocus:za,onEscapeKeyDown:Ga,onPointerDownOutside:Ha,side:Ya,sideOffset:Xa,align:Ka,alignOffset:Qa,arrowPadding:Va,collisionBoundary:Ua,collisionPadding:Wa,sticky:Ja,hideWhenDetached:Oo,avoidCollisions:Do,...Mo}=La,el=useSelectContext(CONTENT_NAME$2,ja),[tl,rl]=reactExports.useState(null),[il,al]=reactExports.useState(null),ll=useComposedRefs(Na,$l=>rl($l)),[ul,ol]=reactExports.useState(null),[cl,gl]=reactExports.useState(null),bl=useCollection$3(ja),[_l,xl]=reactExports.useState(!1),Al=reactExports.useRef(!1);reactExports.useEffect(()=>{if(tl)return hideOthers(tl)},[tl]),useFocusGuards();const ml=reactExports.useCallback($l=>{const[eu,...uu]=bl().map(Yl=>Yl.ref.current),[su]=uu.slice(-1),pu=document.activeElement;for(const Yl of $l)if(Yl===pu||(Yl?.scrollIntoView({block:"nearest"}),Yl===eu&&il&&(il.scrollTop=0),Yl===su&&il&&(il.scrollTop=il.scrollHeight),Yl?.focus(),document.activeElement!==pu))return},[bl,il]),Sl=reactExports.useCallback(()=>ml([ul,tl]),[ml,ul,tl]);reactExports.useEffect(()=>{_l&&Sl()},[_l,Sl]);const{onOpenChange:Cl,triggerPointerDownPosRef:Nl}=el;reactExports.useEffect(()=>{if(tl){let $l={x:0,y:0};const eu=su=>{$l={x:Math.abs(Math.round(su.pageX)-(Nl.current?.x??0)),y:Math.abs(Math.round(su.pageY)-(Nl.current?.y??0))}},uu=su=>{$l.x<=10&&$l.y<=10?su.preventDefault():tl.contains(su.target)||Cl(!1),document.removeEventListener("pointermove",eu),Nl.current=null};return Nl.current!==null&&(document.addEventListener("pointermove",eu),document.addEventListener("pointerup",uu,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",eu),document.removeEventListener("pointerup",uu,{capture:!0})}}},[tl,Cl,Nl]),reactExports.useEffect(()=>{const $l=()=>Cl(!1);return window.addEventListener("blur",$l),window.addEventListener("resize",$l),()=>{window.removeEventListener("blur",$l),window.removeEventListener("resize",$l)}},[Cl]);const[dl,Rl]=useTypeaheadSearch($l=>{const eu=bl().filter(pu=>!pu.disabled),uu=eu.find(pu=>pu.ref.current===document.activeElement),su=findNextItem(eu,$l,uu);su&&setTimeout(()=>su.ref.current.focus())}),Tl=reactExports.useCallback(($l,eu,uu)=>{const su=!Al.current&&!uu;(el.value!==void 0&&el.value===eu||su)&&(ol($l),su&&(Al.current=!0))},[el.value]),pl=reactExports.useCallback(()=>tl?.focus(),[tl]),jl=reactExports.useCallback(($l,eu,uu)=>{const su=!Al.current&&!uu;(el.value!==void 0&&el.value===eu||su)&&gl($l)},[el.value]),Ll=Ba==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Dl=Ll===SelectPopperPosition?{side:Ya,sideOffset:Xa,align:Ka,alignOffset:Qa,arrowPadding:Va,collisionBoundary:Ua,collisionPadding:Wa,sticky:Ja,hideWhenDetached:Oo,avoidCollisions:Do}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:ja,content:tl,viewport:il,onViewportChange:al,itemRefCallback:Tl,selectedItem:ul,onItemLeave:pl,itemTextRefCallback:jl,focusSelectedItem:Sl,selectedItemText:cl,position:Ba,isPositioned:_l,searchRef:dl,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:el.open,onMountAutoFocus:$l=>{$l.preventDefault()},onUnmountAutoFocus:composeEventHandlers(za,$l=>{el.trigger?.focus({preventScroll:!0}),$l.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:Ga,onPointerDownOutside:Ha,onFocusOutside:$l=>$l.preventDefault(),onDismiss:()=>el.onOpenChange(!1),children:jsxRuntimeExports.jsx(Ll,{role:"listbox",id:el.contentId,"data-state":el.open?"open":"closed",dir:el.dir,onContextMenu:$l=>$l.preventDefault(),...Mo,...Dl,onPlaced:()=>xl(!0),ref:ll,style:{display:"flex",flexDirection:"column",outline:"none",...Mo.style},onKeyDown:composeEventHandlers(Mo.onKeyDown,$l=>{const eu=$l.ctrlKey||$l.altKey||$l.metaKey;if($l.key==="Tab"&&$l.preventDefault(),!eu&&$l.key.length===1&&Rl($l.key),["ArrowUp","ArrowDown","Home","End"].includes($l.key)){let su=bl().filter(pu=>!pu.disabled).map(pu=>pu.ref.current);if(["ArrowUp","End"].includes($l.key)&&(su=su.slice().reverse()),["ArrowUp","ArrowDown"].includes($l.key)){const pu=$l.target,Yl=su.indexOf(pu);su=su.slice(Yl+1)}setTimeout(()=>ml(su)),$l.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,onPlaced:Ba,...za}=La,Ga=useSelectContext(CONTENT_NAME$2,ja),Ha=useSelectContentContext(CONTENT_NAME$2,ja),[Ya,Xa]=reactExports.useState(null),[Ka,Qa]=reactExports.useState(null),Va=useComposedRefs(Na,ll=>Qa(ll)),Ua=useCollection$3(ja),Wa=reactExports.useRef(!1),Ja=reactExports.useRef(!0),{viewport:Oo,selectedItem:Do,selectedItemText:Mo,focusSelectedItem:el}=Ha,tl=reactExports.useCallback(()=>{if(Ga.trigger&&Ga.valueNode&&Ya&&Ka&&Oo&&Do&&Mo){const ll=Ga.trigger.getBoundingClientRect(),ul=Ka.getBoundingClientRect(),ol=Ga.valueNode.getBoundingClientRect(),cl=Mo.getBoundingClientRect();if(Ga.dir!=="rtl"){const pu=cl.left-ul.left,Yl=ol.left-pu,ru=ll.left-Yl,lu=ll.width+ru,fu=Math.max(lu,ul.width),bu=window.innerWidth-CONTENT_MARGIN,xu=clamp(Yl,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,bu-fu)]);Ya.style.minWidth=lu+"px",Ya.style.left=xu+"px"}else{const pu=ul.right-cl.right,Yl=window.innerWidth-ol.right-pu,ru=window.innerWidth-ll.right-Yl,lu=ll.width+ru,fu=Math.max(lu,ul.width),bu=window.innerWidth-CONTENT_MARGIN,xu=clamp(Yl,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,bu-fu)]);Ya.style.minWidth=lu+"px",Ya.style.right=xu+"px"}const gl=Ua(),bl=window.innerHeight-CONTENT_MARGIN*2,_l=Oo.scrollHeight,xl=window.getComputedStyle(Ka),Al=parseInt(xl.borderTopWidth,10),ml=parseInt(xl.paddingTop,10),Sl=parseInt(xl.borderBottomWidth,10),Cl=parseInt(xl.paddingBottom,10),Nl=Al+ml+_l+Cl+Sl,dl=Math.min(Do.offsetHeight*5,Nl),Rl=window.getComputedStyle(Oo),Tl=parseInt(Rl.paddingTop,10),pl=parseInt(Rl.paddingBottom,10),jl=ll.top+ll.height/2-CONTENT_MARGIN,Ll=bl-jl,Dl=Do.offsetHeight/2,$l=Do.offsetTop+Dl,eu=Al+ml+$l,uu=Nl-eu;if(eu<=jl){const pu=gl.length>0&&Do===gl[gl.length-1].ref.current;Ya.style.bottom="0px";const Yl=Ka.clientHeight-Oo.offsetTop-Oo.offsetHeight,ru=Math.max(Ll,Dl+(pu?pl:0)+Yl+Sl),lu=eu+ru;Ya.style.height=lu+"px"}else{const pu=gl.length>0&&Do===gl[0].ref.current;Ya.style.top="0px";const ru=Math.max(jl,Al+Oo.offsetTop+(pu?Tl:0)+Dl)+uu;Ya.style.height=ru+"px",Oo.scrollTop=eu-jl+Oo.offsetTop}Ya.style.margin=`${CONTENT_MARGIN}px 0`,Ya.style.minHeight=dl+"px",Ya.style.maxHeight=bl+"px",Ba?.(),requestAnimationFrame(()=>Wa.current=!0)}},[Ua,Ga.trigger,Ga.valueNode,Ya,Ka,Oo,Do,Mo,Ga.dir,Ba]);useLayoutEffect2(()=>tl(),[tl]);const[rl,il]=reactExports.useState();useLayoutEffect2(()=>{Ka&&il(window.getComputedStyle(Ka).zIndex)},[Ka]);const al=reactExports.useCallback(ll=>{ll&&Ja.current===!0&&(tl(),el?.(),Ja.current=!1)},[tl,el]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:ja,contentWrapper:Ya,shouldExpandOnScrollRef:Wa,onScrollButtonChange:al,children:jsxRuntimeExports.jsx("div",{ref:Xa,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:rl},children:jsxRuntimeExports.jsx(Primitive.div,{...za,ref:Va,style:{boxSizing:"border-box",maxHeight:"100%",...za.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,align:Ba="start",collisionPadding:za=CONTENT_MARGIN,...Ga}=La,Ha=usePopperScope$1(ja);return jsxRuntimeExports.jsx(Content,{...Ha,...Ga,ref:Na,align:Ba,collisionPadding:za,style:{boxSizing:"border-box",...Ga.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$2,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,nonce:Ba,...za}=La,Ga=useSelectContentContext(VIEWPORT_NAME,ja),Ha=useSelectViewportContext(VIEWPORT_NAME,ja),Ya=useComposedRefs(Na,Ga.onViewportChange),Xa=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:Ba}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:ja,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...za,ref:Ya,style:{position:"relative",flex:1,overflow:"hidden auto",...za.style},onScroll:composeEventHandlers(za.onScroll,Ka=>{const Qa=Ka.currentTarget,{contentWrapper:Va,shouldExpandOnScrollRef:Ua}=Ha;if(Ua?.current&&Va){const Wa=Math.abs(Xa.current-Qa.scrollTop);if(Wa>0){const Ja=window.innerHeight-CONTENT_MARGIN*2,Oo=parseFloat(Va.style.minHeight),Do=parseFloat(Va.style.height),Mo=Math.max(Oo,Do);if(Mo<Ja){const el=Mo+Wa,tl=Math.min(Ja,el),rl=el-tl;Va.style.height=tl+"px",Va.style.bottom==="0px"&&(Qa.scrollTop=rl>0?rl:0,Va.style.justifyContent="flex-end")}}}Xa.current=Qa.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME$3="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$3),SelectGroup$1=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,...Ba}=La,za=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:ja,id:za,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":za,...Ba,ref:Na})})});SelectGroup$1.displayName=GROUP_NAME$3;var LABEL_NAME$2="SelectLabel",SelectLabel$1=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,...Ba}=La,za=useSelectGroupContext(LABEL_NAME$2,ja);return jsxRuntimeExports.jsx(Primitive.div,{id:za.id,...Ba,ref:Na})});SelectLabel$1.displayName=LABEL_NAME$2;var ITEM_NAME$3="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$3),SelectItem$1=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,value:Ba,disabled:za=!1,textValue:Ga,...Ha}=La,Ya=useSelectContext(ITEM_NAME$3,ja),Xa=useSelectContentContext(ITEM_NAME$3,ja),Ka=Ya.value===Ba,[Qa,Va]=reactExports.useState(Ga??""),[Ua,Wa]=reactExports.useState(!1),Ja=useComposedRefs(Na,el=>Xa.itemRefCallback?.(el,Ba,za)),Oo=useId(),Do=reactExports.useRef("touch"),Mo=()=>{za||(Ya.onValueChange(Ba),Ya.onOpenChange(!1))};if(Ba==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:ja,value:Ba,disabled:za,textId:Oo,isSelected:Ka,onItemTextChange:reactExports.useCallback(el=>{Va(tl=>tl||(el?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:ja,value:Ba,disabled:za,textValue:Qa,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":Oo,"data-highlighted":Ua?"":void 0,"aria-selected":Ka&&Ua,"data-state":Ka?"checked":"unchecked","aria-disabled":za||void 0,"data-disabled":za?"":void 0,tabIndex:za?void 0:-1,...Ha,ref:Ja,onFocus:composeEventHandlers(Ha.onFocus,()=>Wa(!0)),onBlur:composeEventHandlers(Ha.onBlur,()=>Wa(!1)),onClick:composeEventHandlers(Ha.onClick,()=>{Do.current!=="mouse"&&Mo()}),onPointerUp:composeEventHandlers(Ha.onPointerUp,()=>{Do.current==="mouse"&&Mo()}),onPointerDown:composeEventHandlers(Ha.onPointerDown,el=>{Do.current=el.pointerType}),onPointerMove:composeEventHandlers(Ha.onPointerMove,el=>{Do.current=el.pointerType,za?Xa.onItemLeave?.():Do.current==="mouse"&&el.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(Ha.onPointerLeave,el=>{el.currentTarget===document.activeElement&&Xa.onItemLeave?.()}),onKeyDown:composeEventHandlers(Ha.onKeyDown,el=>{Xa.searchRef?.current!==""&&el.key===" "||(SELECTION_KEYS$1.includes(el.key)&&Mo(),el.key===" "&&el.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$3;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,className:Ba,style:za,...Ga}=La,Ha=useSelectContext(ITEM_TEXT_NAME,ja),Ya=useSelectContentContext(ITEM_TEXT_NAME,ja),Xa=useSelectItemContext(ITEM_TEXT_NAME,ja),Ka=useSelectNativeOptionsContext(ITEM_TEXT_NAME,ja),[Qa,Va]=reactExports.useState(null),Ua=useComposedRefs(Na,Mo=>Va(Mo),Xa.onItemTextChange,Mo=>Ya.itemTextRefCallback?.(Mo,Xa.value,Xa.disabled)),Wa=Qa?.textContent,Ja=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:Xa.value,disabled:Xa.disabled,children:Wa},Xa.value),[Xa.disabled,Xa.value,Wa]),{onNativeOptionAdd:Oo,onNativeOptionRemove:Do}=Ka;return useLayoutEffect2(()=>(Oo(Ja),()=>Do(Ja)),[Oo,Do,Ja]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:Xa.textId,...Ga,ref:Ua}),Xa.isSelected&&Ha.valueNode&&!Ha.valueNodeHasChildren?reactDomExports.createPortal(Ga.children,Ha.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME$1="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,...Ba}=La;return useSelectItemContext(ITEM_INDICATOR_NAME$1,ja).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...Ba,ref:Na}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((La,Na)=>{const ja=useSelectContentContext(SCROLL_UP_BUTTON_NAME,La.__scopeSelect),Ba=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,La.__scopeSelect),[za,Ga]=reactExports.useState(!1),Ha=useComposedRefs(Na,Ba.onScrollButtonChange);return useLayoutEffect2(()=>{if(ja.viewport&&ja.isPositioned){let Ya=function(){const Ka=Xa.scrollTop>0;Ga(Ka)};const Xa=ja.viewport;return Ya(),Xa.addEventListener("scroll",Ya),()=>Xa.removeEventListener("scroll",Ya)}},[ja.viewport,ja.isPositioned]),za?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...La,ref:Ha,onAutoScroll:()=>{const{viewport:Ya,selectedItem:Xa}=ja;Ya&&Xa&&(Ya.scrollTop=Ya.scrollTop-Xa.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((La,Na)=>{const ja=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,La.__scopeSelect),Ba=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,La.__scopeSelect),[za,Ga]=reactExports.useState(!1),Ha=useComposedRefs(Na,Ba.onScrollButtonChange);return useLayoutEffect2(()=>{if(ja.viewport&&ja.isPositioned){let Ya=function(){const Ka=Xa.scrollHeight-Xa.clientHeight,Qa=Math.ceil(Xa.scrollTop)<Ka;Ga(Qa)};const Xa=ja.viewport;return Ya(),Xa.addEventListener("scroll",Ya),()=>Xa.removeEventListener("scroll",Ya)}},[ja.viewport,ja.isPositioned]),za?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...La,ref:Ha,onAutoScroll:()=>{const{viewport:Ya,selectedItem:Xa}=ja;Ya&&Xa&&(Ya.scrollTop=Ya.scrollTop+Xa.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,onAutoScroll:Ba,...za}=La,Ga=useSelectContentContext("SelectScrollButton",ja),Ha=reactExports.useRef(null),Ya=useCollection$3(ja),Xa=reactExports.useCallback(()=>{Ha.current!==null&&(window.clearInterval(Ha.current),Ha.current=null)},[]);return reactExports.useEffect(()=>()=>Xa(),[Xa]),useLayoutEffect2(()=>{Ya().find(Qa=>Qa.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[Ya]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...za,ref:Na,style:{flexShrink:0,...za.style},onPointerDown:composeEventHandlers(za.onPointerDown,()=>{Ha.current===null&&(Ha.current=window.setInterval(Ba,50))}),onPointerMove:composeEventHandlers(za.onPointerMove,()=>{Ga.onItemLeave?.(),Ha.current===null&&(Ha.current=window.setInterval(Ba,50))}),onPointerLeave:composeEventHandlers(za.onPointerLeave,()=>{Xa()})})}),SEPARATOR_NAME$2="SelectSeparator",SelectSeparator=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,...Ba}=La;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...Ba,ref:Na})});SelectSeparator.displayName=SEPARATOR_NAME$2;var ARROW_NAME$2="SelectArrow",SelectArrow=reactExports.forwardRef((La,Na)=>{const{__scopeSelect:ja,...Ba}=La,za=usePopperScope$1(ja),Ga=useSelectContext(ARROW_NAME$2,ja),Ha=useSelectContentContext(ARROW_NAME$2,ja);return Ga.open&&Ha.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...za,...Ba,ref:Na}):null});SelectArrow.displayName=ARROW_NAME$2;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:La,value:Na,...ja},Ba)=>{const za=reactExports.useRef(null),Ga=useComposedRefs(Ba,za),Ha=usePrevious(Na);return reactExports.useEffect(()=>{const Ya=za.current;if(!Ya)return;const Xa=window.HTMLSelectElement.prototype,Qa=Object.getOwnPropertyDescriptor(Xa,"value").set;if(Ha!==Na&&Qa){const Va=new Event("change",{bubbles:!0});Qa.call(Ya,Na),Ya.dispatchEvent(Va)}},[Ha,Na]),jsxRuntimeExports.jsx(Primitive.select,{...ja,style:{...VISUALLY_HIDDEN_STYLES,...ja.style},ref:Ga,defaultValue:Na})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(La){return La===""||La===void 0}function useTypeaheadSearch(La){const Na=useCallbackRef$1(La),ja=reactExports.useRef(""),Ba=reactExports.useRef(0),za=reactExports.useCallback(Ha=>{const Ya=ja.current+Ha;Na(Ya),(function Xa(Ka){ja.current=Ka,window.clearTimeout(Ba.current),Ka!==""&&(Ba.current=window.setTimeout(()=>Xa(""),1e3))})(Ya)},[Na]),Ga=reactExports.useCallback(()=>{ja.current="",window.clearTimeout(Ba.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(Ba.current),[]),[ja,za,Ga]}function findNextItem(La,Na,ja){const za=Na.length>1&&Array.from(Na).every(Ka=>Ka===Na[0])?Na[0]:Na,Ga=ja?La.indexOf(ja):-1;let Ha=wrapArray$2(La,Math.max(Ga,0));za.length===1&&(Ha=Ha.filter(Ka=>Ka!==ja));const Xa=Ha.find(Ka=>Ka.textValue.toLowerCase().startsWith(za.toLowerCase()));return Xa!==ja?Xa:void 0}function wrapArray$2(La,Na){return La.map((ja,Ba)=>La[(Na+Ba)%La.length])}var Root2$1=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2$2=SelectContent$1,Viewport=SelectViewport,Group$1=SelectGroup$1,Label$1=SelectLabel$1,Item$1=SelectItem$1,ItemText=SelectItemText,ItemIndicator$1=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1;function Select({...La}){return jsxRuntimeExports.jsx(Root2$1,{"data-slot":"select",...La})}function SelectGroup({...La}){return jsxRuntimeExports.jsx(Group$1,{"data-slot":"select-group",...La})}function SelectValue({...La}){return jsxRuntimeExports.jsx(Value,{"data-slot":"select-value",...La})}function SelectTrigger({className:La,size:Na="default",children:ja,...Ba}){return jsxRuntimeExports.jsxs(Trigger$1,{"data-slot":"select-trigger","data-size":Na,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-xl border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-11 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",La),...Ba,children:[ja,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4 opacity-50"})})]})}function SelectContent({className:La,children:Na,position:ja="popper",...Ba}){return jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$2,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border shadow-md",ja==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",La),position:ja,...Ba,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn("p-1",ja==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:Na}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})})}function SelectLabel({className:La,...Na}){return jsxRuntimeExports.jsx(Label$1,{"data-slot":"select-label",className:cn("text-muted-foreground px-2 py-1.5 text-xs",La),...Na})}function SelectItem({className:La,children:Na,...ja}){return jsxRuntimeExports.jsxs(Item$1,{"data-slot":"select-item",className:cn("h-11 focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-xl py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",La),...ja,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator$1,{children:jsxRuntimeExports.jsx(Check,{className:"size-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:Na})]})}function SelectScrollUpButton({className:La,...Na}){return jsxRuntimeExports.jsx(ScrollUpButton,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",La),...Na,children:jsxRuntimeExports.jsx(ChevronUp,{className:"size-4"})})}function SelectScrollDownButton({className:La,...Na}){return jsxRuntimeExports.jsx(ScrollDownButton,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",La),...Na,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4"})})}var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((La,Na)=>{const{__scopeSwitch:ja,name:Ba,checked:za,defaultChecked:Ga,required:Ha,disabled:Ya,value:Xa="on",onCheckedChange:Ka,form:Qa,...Va}=La,[Ua,Wa]=reactExports.useState(null),Ja=useComposedRefs(Na,tl=>Wa(tl)),Oo=reactExports.useRef(!1),Do=Ua?Qa||!!Ua.closest("form"):!0,[Mo,el]=useControllableState({prop:za,defaultProp:Ga??!1,onChange:Ka,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:ja,checked:Mo,disabled:Ya,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":Mo,"aria-required":Ha,"data-state":getState(Mo),"data-disabled":Ya?"":void 0,disabled:Ya,value:Xa,...Va,ref:Ja,onClick:composeEventHandlers(La.onClick,tl=>{el(rl=>!rl),Do&&(Oo.current=tl.isPropagationStopped(),Oo.current||tl.stopPropagation())})}),Do&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:Ua,bubbles:!Oo.current,name:Ba,value:Xa,checked:Mo,required:Ha,disabled:Ya,form:Qa,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME$1="SwitchThumb",SwitchThumb=reactExports.forwardRef((La,Na)=>{const{__scopeSwitch:ja,...Ba}=La,za=useSwitchContext(THUMB_NAME$1,ja);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(za.checked),"data-disabled":za.disabled?"":void 0,...Ba,ref:Na})});SwitchThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME$1="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:La,control:Na,checked:ja,bubbles:Ba=!0,...za},Ga)=>{const Ha=reactExports.useRef(null),Ya=useComposedRefs(Ha,Ga),Xa=usePrevious(ja),Ka=useSize(Na);return reactExports.useEffect(()=>{const Qa=Ha.current;if(!Qa)return;const Va=window.HTMLInputElement.prototype,Wa=Object.getOwnPropertyDescriptor(Va,"checked").set;if(Xa!==ja&&Wa){const Ja=new Event("click",{bubbles:Ba});Wa.call(Qa,ja),Qa.dispatchEvent(Ja)}},[Xa,ja,Ba]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:ja,...za,tabIndex:-1,ref:Ya,style:{...za.style,...Ka,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function getState(La){return La?"checked":"unchecked"}var Root$2=Switch$1,Thumb$1=SwitchThumb;function Switch({className:La,...Na}){return jsxRuntimeExports.jsx(Root$2,{"data-slot":"switch",className:cn("peer cursor-pointer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",La),...Na,children:jsxRuntimeExports.jsx(Thumb$1,{"data-slot":"switch-thumb",className:cn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$2]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((La,Na)=>jsxRuntimeExports.jsx(Collection$2.Provider,{scope:La.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:La.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...La,ref:Na})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((La,Na)=>{const{__scopeRovingFocusGroup:ja,orientation:Ba,loop:za=!1,dir:Ga,currentTabStopId:Ha,defaultCurrentTabStopId:Ya,onCurrentTabStopIdChange:Xa,onEntryFocus:Ka,preventScrollOnEntryFocus:Qa=!1,...Va}=La,Ua=reactExports.useRef(null),Wa=useComposedRefs(Na,Ua),Ja=useDirection(Ga),[Oo,Do]=useControllableState({prop:Ha,defaultProp:Ya??null,onChange:Xa,caller:GROUP_NAME$2}),[Mo,el]=reactExports.useState(!1),tl=useCallbackRef$1(Ka),rl=useCollection$2(ja),il=reactExports.useRef(!1),[al,ll]=reactExports.useState(0);return reactExports.useEffect(()=>{const ul=Ua.current;if(ul)return ul.addEventListener(ENTRY_FOCUS,tl),()=>ul.removeEventListener(ENTRY_FOCUS,tl)},[tl]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:ja,orientation:Ba,dir:Ja,loop:za,currentTabStopId:Oo,onItemFocus:reactExports.useCallback(ul=>Do(ul),[Do]),onItemShiftTab:reactExports.useCallback(()=>el(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>ll(ul=>ul+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>ll(ul=>ul-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:Mo||al===0?-1:0,"data-orientation":Ba,...Va,ref:Wa,style:{outline:"none",...La.style},onMouseDown:composeEventHandlers(La.onMouseDown,()=>{il.current=!0}),onFocus:composeEventHandlers(La.onFocus,ul=>{const ol=!il.current;if(ul.target===ul.currentTarget&&ol&&!Mo){const cl=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(ul.currentTarget.dispatchEvent(cl),!cl.defaultPrevented){const gl=rl().filter(ml=>ml.focusable),bl=gl.find(ml=>ml.active),_l=gl.find(ml=>ml.id===Oo),Al=[bl,_l,...gl].filter(Boolean).map(ml=>ml.ref.current);focusFirst$1(Al,Qa)}}il.current=!1}),onBlur:composeEventHandlers(La.onBlur,()=>el(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((La,Na)=>{const{__scopeRovingFocusGroup:ja,focusable:Ba=!0,active:za=!1,tabStopId:Ga,children:Ha,...Ya}=La,Xa=useId(),Ka=Ga||Xa,Qa=useRovingFocusContext(ITEM_NAME$2,ja),Va=Qa.currentTabStopId===Ka,Ua=useCollection$2(ja),{onFocusableItemAdd:Wa,onFocusableItemRemove:Ja,currentTabStopId:Oo}=Qa;return reactExports.useEffect(()=>{if(Ba)return Wa(),()=>Ja()},[Ba,Wa,Ja]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:ja,id:Ka,focusable:Ba,active:za,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:Va?0:-1,"data-orientation":Qa.orientation,...Ya,ref:Na,onMouseDown:composeEventHandlers(La.onMouseDown,Do=>{Ba?Qa.onItemFocus(Ka):Do.preventDefault()}),onFocus:composeEventHandlers(La.onFocus,()=>Qa.onItemFocus(Ka)),onKeyDown:composeEventHandlers(La.onKeyDown,Do=>{if(Do.key==="Tab"&&Do.shiftKey){Qa.onItemShiftTab();return}if(Do.target!==Do.currentTarget)return;const Mo=getFocusIntent(Do,Qa.orientation,Qa.dir);if(Mo!==void 0){if(Do.metaKey||Do.ctrlKey||Do.altKey||Do.shiftKey)return;Do.preventDefault();let tl=Ua().filter(rl=>rl.focusable).map(rl=>rl.ref.current);if(Mo==="last")tl.reverse();else if(Mo==="prev"||Mo==="next"){Mo==="prev"&&tl.reverse();const rl=tl.indexOf(Do.currentTarget);tl=Qa.loop?wrapArray$1(tl,rl+1):tl.slice(rl+1)}setTimeout(()=>focusFirst$1(tl))}}),children:typeof Ha=="function"?Ha({isCurrentTabStop:Va,hasTabStop:Oo!=null}):Ha})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(La,Na){return Na!=="rtl"?La:La==="ArrowLeft"?"ArrowRight":La==="ArrowRight"?"ArrowLeft":La}function getFocusIntent(La,Na,ja){const Ba=getDirectionAwareKey(La.key,ja);if(!(Na==="vertical"&&["ArrowLeft","ArrowRight"].includes(Ba))&&!(Na==="horizontal"&&["ArrowUp","ArrowDown"].includes(Ba)))return MAP_KEY_TO_FOCUS_INTENT[Ba]}function focusFirst$1(La,Na=!1){const ja=document.activeElement;for(const Ba of La)if(Ba===ja||(Ba.focus({preventScroll:Na}),document.activeElement!==ja))return}function wrapArray$1(La,Na){return La.map((ja,Ba)=>La[(Na+Ba)%La.length])}var Root$1=RovingFocusGroup,Item=RovingFocusGroupItem;function Textarea({className:La,...Na}){return jsxRuntimeExports.jsx("textarea",{"data-slot":"textarea",className:cn("border-input/80 placeholder:text-muted-foreground focus-visible:border-ring/80 focus-visible:ring-ring/10 focus-visible:ring-[2px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-xl border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",La),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...Na})}var U=1,Y$1=.9,H=.8,J=.17,p$1=.1,u=.999,$$1=.9999,k$1=.99,m=/[\\\/_+.#"@\[\(\{&]/,B$1=/[\\\/_+.#"@\[\(\{&]/g,K$1=/[\s-]/,X=/[\s-]/g;function G(La,Na,ja,Ba,za,Ga,Ha){if(Ga===Na.length)return za===La.length?U:k$1;var Ya=`${za},${Ga}`;if(Ha[Ya]!==void 0)return Ha[Ya];for(var Xa=Ba.charAt(Ga),Ka=ja.indexOf(Xa,za),Qa=0,Va,Ua,Wa,Ja;Ka>=0;)Va=G(La,Na,ja,Ba,Ka+1,Ga+1,Ha),Va>Qa&&(Ka===za?Va*=U:m.test(La.charAt(Ka-1))?(Va*=H,Wa=La.slice(za,Ka-1).match(B$1),Wa&&za>0&&(Va*=Math.pow(u,Wa.length))):K$1.test(La.charAt(Ka-1))?(Va*=Y$1,Ja=La.slice(za,Ka-1).match(X),Ja&&za>0&&(Va*=Math.pow(u,Ja.length))):(Va*=J,za>0&&(Va*=Math.pow(u,Ka-za))),La.charAt(Ka)!==Na.charAt(Ga)&&(Va*=$$1)),(Va<p$1&&ja.charAt(Ka-1)===Ba.charAt(Ga+1)||Ba.charAt(Ga+1)===Ba.charAt(Ga)&&ja.charAt(Ka-1)!==Ba.charAt(Ga))&&(Ua=G(La,Na,ja,Ba,Ka+1,Ga+2,Ha),Ua*p$1>Va&&(Va=Ua*p$1)),Va>Qa&&(Qa=Va),Ka=ja.indexOf(Xa,Ka+1);return Ha[Ya]=Qa,Qa}function D$1(La){return La.toLowerCase().replace(X," ")}function W(La,Na,ja){return La=ja&&ja.length>0?`${La+" "+ja.join(" ")}`:La,G(La,Na,D$1(La),D$1(Na),0,0,{})}var N='[cmdk-group=""]',Y='[cmdk-group-items=""]',be='[cmdk-group-heading=""]',le='[cmdk-item=""]',ce=`${le}:not([aria-disabled="true"])`,Z="cmdk-item-select",T$1="data-value",Re=(La,Na,ja)=>W(La,Na,ja),ue=reactExports.createContext(void 0),K=()=>reactExports.useContext(ue),de=reactExports.createContext(void 0),ee=()=>reactExports.useContext(de),fe=reactExports.createContext(void 0),me=reactExports.forwardRef((La,Na)=>{let ja=L(()=>{var Tl,pl;return{search:"",value:(pl=(Tl=La.value)!=null?Tl:La.defaultValue)!=null?pl:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),Ba=L(()=>new Set),za=L(()=>new Map),Ga=L(()=>new Map),Ha=L(()=>new Set),Ya=pe(La),{label:Xa,children:Ka,value:Qa,onValueChange:Va,filter:Ua,shouldFilter:Wa,loop:Ja,disablePointerSelection:Oo=!1,vimBindings:Do=!0,...Mo}=La,el=useId(),tl=useId(),rl=useId(),il=reactExports.useRef(null),al=ke();k(()=>{if(Qa!==void 0){let Tl=Qa.trim();ja.current.value=Tl,ll.emit()}},[Qa]),k(()=>{al(6,_l)},[]);let ll=reactExports.useMemo(()=>({subscribe:Tl=>(Ha.current.add(Tl),()=>Ha.current.delete(Tl)),snapshot:()=>ja.current,setState:(Tl,pl,jl)=>{var Ll,Dl,$l,eu;if(!Object.is(ja.current[Tl],pl)){if(ja.current[Tl]=pl,Tl==="search")bl(),cl(),al(1,gl);else if(Tl==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let uu=document.getElementById(rl);uu?uu.focus():(Ll=document.getElementById(el))==null||Ll.focus()}if(al(7,()=>{var uu;ja.current.selectedItemId=(uu=xl())==null?void 0:uu.id,ll.emit()}),jl||al(5,_l),((Dl=Ya.current)==null?void 0:Dl.value)!==void 0){let uu=pl??"";(eu=($l=Ya.current).onValueChange)==null||eu.call($l,uu);return}}ll.emit()}},emit:()=>{Ha.current.forEach(Tl=>Tl())}}),[]),ul=reactExports.useMemo(()=>({value:(Tl,pl,jl)=>{var Ll;pl!==((Ll=Ga.current.get(Tl))==null?void 0:Ll.value)&&(Ga.current.set(Tl,{value:pl,keywords:jl}),ja.current.filtered.items.set(Tl,ol(pl,jl)),al(2,()=>{cl(),ll.emit()}))},item:(Tl,pl)=>(Ba.current.add(Tl),pl&&(za.current.has(pl)?za.current.get(pl).add(Tl):za.current.set(pl,new Set([Tl]))),al(3,()=>{bl(),cl(),ja.current.value||gl(),ll.emit()}),()=>{Ga.current.delete(Tl),Ba.current.delete(Tl),ja.current.filtered.items.delete(Tl);let jl=xl();al(4,()=>{bl(),jl?.getAttribute("id")===Tl&&gl(),ll.emit()})}),group:Tl=>(za.current.has(Tl)||za.current.set(Tl,new Set),()=>{Ga.current.delete(Tl),za.current.delete(Tl)}),filter:()=>Ya.current.shouldFilter,label:Xa||La["aria-label"],getDisablePointerSelection:()=>Ya.current.disablePointerSelection,listId:el,inputId:rl,labelId:tl,listInnerRef:il}),[]);function ol(Tl,pl){var jl,Ll;let Dl=(Ll=(jl=Ya.current)==null?void 0:jl.filter)!=null?Ll:Re;return Tl?Dl(Tl,ja.current.search,pl):0}function cl(){if(!ja.current.search||Ya.current.shouldFilter===!1)return;let Tl=ja.current.filtered.items,pl=[];ja.current.filtered.groups.forEach(Ll=>{let Dl=za.current.get(Ll),$l=0;Dl.forEach(eu=>{let uu=Tl.get(eu);$l=Math.max(uu,$l)}),pl.push([Ll,$l])});let jl=il.current;Al().sort((Ll,Dl)=>{var $l,eu;let uu=Ll.getAttribute("id"),su=Dl.getAttribute("id");return(($l=Tl.get(su))!=null?$l:0)-((eu=Tl.get(uu))!=null?eu:0)}).forEach(Ll=>{let Dl=Ll.closest(Y);Dl?Dl.appendChild(Ll.parentElement===Dl?Ll:Ll.closest(`${Y} > *`)):jl.appendChild(Ll.parentElement===jl?Ll:Ll.closest(`${Y} > *`))}),pl.sort((Ll,Dl)=>Dl[1]-Ll[1]).forEach(Ll=>{var Dl;let $l=(Dl=il.current)==null?void 0:Dl.querySelector(`${N}[${T$1}="${encodeURIComponent(Ll[0])}"]`);$l?.parentElement.appendChild($l)})}function gl(){let Tl=Al().find(jl=>jl.getAttribute("aria-disabled")!=="true"),pl=Tl?.getAttribute(T$1);ll.setState("value",pl||void 0)}function bl(){var Tl,pl,jl,Ll;if(!ja.current.search||Ya.current.shouldFilter===!1){ja.current.filtered.count=Ba.current.size;return}ja.current.filtered.groups=new Set;let Dl=0;for(let $l of Ba.current){let eu=(pl=(Tl=Ga.current.get($l))==null?void 0:Tl.value)!=null?pl:"",uu=(Ll=(jl=Ga.current.get($l))==null?void 0:jl.keywords)!=null?Ll:[],su=ol(eu,uu);ja.current.filtered.items.set($l,su),su>0&&Dl++}for(let[$l,eu]of za.current)for(let uu of eu)if(ja.current.filtered.items.get(uu)>0){ja.current.filtered.groups.add($l);break}ja.current.filtered.count=Dl}function _l(){var Tl,pl,jl;let Ll=xl();Ll&&(((Tl=Ll.parentElement)==null?void 0:Tl.firstChild)===Ll&&((jl=(pl=Ll.closest(N))==null?void 0:pl.querySelector(be))==null||jl.scrollIntoView({block:"nearest"})),Ll.scrollIntoView({block:"nearest"}))}function xl(){var Tl;return(Tl=il.current)==null?void 0:Tl.querySelector(`${le}[aria-selected="true"]`)}function Al(){var Tl;return Array.from(((Tl=il.current)==null?void 0:Tl.querySelectorAll(ce))||[])}function ml(Tl){let pl=Al()[Tl];pl&&ll.setState("value",pl.getAttribute(T$1))}function Sl(Tl){var pl;let jl=xl(),Ll=Al(),Dl=Ll.findIndex(eu=>eu===jl),$l=Ll[Dl+Tl];(pl=Ya.current)!=null&&pl.loop&&($l=Dl+Tl<0?Ll[Ll.length-1]:Dl+Tl===Ll.length?Ll[0]:Ll[Dl+Tl]),$l&&ll.setState("value",$l.getAttribute(T$1))}function Cl(Tl){let pl=xl(),jl=pl?.closest(N),Ll;for(;jl&&!Ll;)jl=Tl>0?we(jl,N):De(jl,N),Ll=jl?.querySelector(ce);Ll?ll.setState("value",Ll.getAttribute(T$1)):Sl(Tl)}let Nl=()=>ml(Al().length-1),dl=Tl=>{Tl.preventDefault(),Tl.metaKey?Nl():Tl.altKey?Cl(1):Sl(1)},Rl=Tl=>{Tl.preventDefault(),Tl.metaKey?ml(0):Tl.altKey?Cl(-1):Sl(-1)};return reactExports.createElement(Primitive.div,{ref:Na,tabIndex:-1,...Mo,"cmdk-root":"",onKeyDown:Tl=>{var pl;(pl=Mo.onKeyDown)==null||pl.call(Mo,Tl);let jl=Tl.nativeEvent.isComposing||Tl.keyCode===229;if(!(Tl.defaultPrevented||jl))switch(Tl.key){case"n":case"j":{Do&&Tl.ctrlKey&&dl(Tl);break}case"ArrowDown":{dl(Tl);break}case"p":case"k":{Do&&Tl.ctrlKey&&Rl(Tl);break}case"ArrowUp":{Rl(Tl);break}case"Home":{Tl.preventDefault(),ml(0);break}case"End":{Tl.preventDefault(),Nl();break}case"Enter":{Tl.preventDefault();let Ll=xl();if(Ll){let Dl=new Event(Z);Ll.dispatchEvent(Dl)}}}}},reactExports.createElement("label",{"cmdk-label":"",htmlFor:ul.inputId,id:ul.labelId,style:Te},Xa),B(La,Tl=>reactExports.createElement(de.Provider,{value:ll},reactExports.createElement(ue.Provider,{value:ul},Tl))))}),he=reactExports.forwardRef((La,Na)=>{var ja,Ba;let za=useId(),Ga=reactExports.useRef(null),Ha=reactExports.useContext(fe),Ya=K(),Xa=pe(La),Ka=(Ba=(ja=Xa.current)==null?void 0:ja.forceMount)!=null?Ba:Ha?.forceMount;k(()=>{if(!Ka)return Ya.item(za,Ha?.id)},[Ka]);let Qa=ve(za,Ga,[La.value,La.children,Ga],La.keywords),Va=ee(),Ua=P(al=>al.value&&al.value===Qa.current),Wa=P(al=>Ka||Ya.filter()===!1?!0:al.search?al.filtered.items.get(za)>0:!0);reactExports.useEffect(()=>{let al=Ga.current;if(!(!al||La.disabled))return al.addEventListener(Z,Ja),()=>al.removeEventListener(Z,Ja)},[Wa,La.onSelect,La.disabled]);function Ja(){var al,ll;Oo(),(ll=(al=Xa.current).onSelect)==null||ll.call(al,Qa.current)}function Oo(){Va.setState("value",Qa.current,!0)}if(!Wa)return null;let{disabled:Do,value:Mo,onSelect:el,forceMount:tl,keywords:rl,...il}=La;return reactExports.createElement(Primitive.div,{ref:composeRefs(Ga,Na),...il,id:za,"cmdk-item":"",role:"option","aria-disabled":!!Do,"aria-selected":!!Ua,"data-disabled":!!Do,"data-selected":!!Ua,onPointerMove:Do||Ya.getDisablePointerSelection()?void 0:Oo,onClick:Do?void 0:Ja},La.children)}),Ee=reactExports.forwardRef((La,Na)=>{let{heading:ja,children:Ba,forceMount:za,...Ga}=La,Ha=useId(),Ya=reactExports.useRef(null),Xa=reactExports.useRef(null),Ka=useId(),Qa=K(),Va=P(Wa=>za||Qa.filter()===!1?!0:Wa.search?Wa.filtered.groups.has(Ha):!0);k(()=>Qa.group(Ha),[]),ve(Ha,Ya,[La.value,La.heading,Xa]);let Ua=reactExports.useMemo(()=>({id:Ha,forceMount:za}),[za]);return reactExports.createElement(Primitive.div,{ref:composeRefs(Ya,Na),...Ga,"cmdk-group":"",role:"presentation",hidden:Va?void 0:!0},ja&&reactExports.createElement("div",{ref:Xa,"cmdk-group-heading":"","aria-hidden":!0,id:Ka},ja),B(La,Wa=>reactExports.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":ja?Ka:void 0},reactExports.createElement(fe.Provider,{value:Ua},Wa))))}),ye=reactExports.forwardRef((La,Na)=>{let{alwaysRender:ja,...Ba}=La,za=reactExports.useRef(null),Ga=P(Ha=>!Ha.search);return!ja&&!Ga?null:reactExports.createElement(Primitive.div,{ref:composeRefs(za,Na),...Ba,"cmdk-separator":"",role:"separator"})}),Se=reactExports.forwardRef((La,Na)=>{let{onValueChange:ja,...Ba}=La,za=La.value!=null,Ga=ee(),Ha=P(Ka=>Ka.search),Ya=P(Ka=>Ka.selectedItemId),Xa=K();return reactExports.useEffect(()=>{La.value!=null&&Ga.setState("search",La.value)},[La.value]),reactExports.createElement(Primitive.input,{ref:Na,...Ba,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":Xa.listId,"aria-labelledby":Xa.labelId,"aria-activedescendant":Ya,id:Xa.inputId,type:"text",value:za?La.value:Ha,onChange:Ka=>{za||Ga.setState("search",Ka.target.value),ja?.(Ka.target.value)}})}),Ce=reactExports.forwardRef((La,Na)=>{let{children:ja,label:Ba="Suggestions",...za}=La,Ga=reactExports.useRef(null),Ha=reactExports.useRef(null),Ya=P(Ka=>Ka.selectedItemId),Xa=K();return reactExports.useEffect(()=>{if(Ha.current&&Ga.current){let Ka=Ha.current,Qa=Ga.current,Va,Ua=new ResizeObserver(()=>{Va=requestAnimationFrame(()=>{let Wa=Ka.offsetHeight;Qa.style.setProperty("--cmdk-list-height",Wa.toFixed(1)+"px")})});return Ua.observe(Ka),()=>{cancelAnimationFrame(Va),Ua.unobserve(Ka)}}},[]),reactExports.createElement(Primitive.div,{ref:composeRefs(Ga,Na),...za,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":Ya,"aria-label":Ba,id:Xa.listId},B(La,Ka=>reactExports.createElement("div",{ref:composeRefs(Ha,Xa.listInnerRef),"cmdk-list-sizer":""},Ka)))}),xe=reactExports.forwardRef((La,Na)=>{let{open:ja,onOpenChange:Ba,overlayClassName:za,contentClassName:Ga,container:Ha,...Ya}=La;return reactExports.createElement(Root$6,{open:ja,onOpenChange:Ba},reactExports.createElement(Portal$3,{container:Ha},reactExports.createElement(Overlay$1,{"cmdk-overlay":"",className:za}),reactExports.createElement(Content$1,{"aria-label":La.label,"cmdk-dialog":"",className:Ga},reactExports.createElement(me,{ref:Na,...Ya}))))}),Ie=reactExports.forwardRef((La,Na)=>P(ja=>ja.filtered.count===0)?reactExports.createElement(Primitive.div,{ref:Na,...La,"cmdk-empty":"",role:"presentation"}):null),Pe=reactExports.forwardRef((La,Na)=>{let{progress:ja,children:Ba,label:za="Loading...",...Ga}=La;return reactExports.createElement(Primitive.div,{ref:Na,...Ga,"cmdk-loading":"",role:"progressbar","aria-valuenow":ja,"aria-valuemin":0,"aria-valuemax":100,"aria-label":za},B(La,Ha=>reactExports.createElement("div",{"aria-hidden":!0},Ha)))}),_e=Object.assign(me,{List:Ce,Item:he,Input:Se,Group:Ee,Separator:ye,Dialog:xe,Empty:Ie,Loading:Pe});function we(La,Na){let ja=La.nextElementSibling;for(;ja;){if(ja.matches(Na))return ja;ja=ja.nextElementSibling}}function De(La,Na){let ja=La.previousElementSibling;for(;ja;){if(ja.matches(Na))return ja;ja=ja.previousElementSibling}}function pe(La){let Na=reactExports.useRef(La);return k(()=>{Na.current=La}),Na}var k=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function L(La){let Na=reactExports.useRef();return Na.current===void 0&&(Na.current=La()),Na}function P(La){let Na=ee(),ja=()=>La(Na.snapshot());return reactExports.useSyncExternalStore(Na.subscribe,ja,ja)}function ve(La,Na,ja,Ba=[]){let za=reactExports.useRef(),Ga=K();return k(()=>{var Ha;let Ya=(()=>{var Ka;for(let Qa of ja){if(typeof Qa=="string")return Qa.trim();if(typeof Qa=="object"&&"current"in Qa)return Qa.current?(Ka=Qa.current.textContent)==null?void 0:Ka.trim():za.current}})(),Xa=Ba.map(Ka=>Ka.trim());Ga.value(La,Ya,Xa),(Ha=Na.current)==null||Ha.setAttribute(T$1,Ya),za.current=Ya}),za}var ke=()=>{let[La,Na]=reactExports.useState(),ja=L(()=>new Map);return k(()=>{ja.current.forEach(Ba=>Ba()),ja.current=new Map},[La]),(Ba,za)=>{ja.current.set(Ba,za),Na({})}};function Me(La){let Na=La.type;return typeof Na=="function"?Na(La.props):"render"in Na?Na.render(La.props):La}function B({asChild:La,children:Na},ja){return La&&reactExports.isValidElement(Na)?reactExports.cloneElement(Me(Na),{ref:Na.ref},ja(Na.props.children)):ja(Na)}var Te={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Command({className:La,...Na}){return jsxRuntimeExports.jsx(_e,{"data-slot":"command",className:cn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",La),...Na})}function CommandInput({className:La,...Na}){return jsxRuntimeExports.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[jsxRuntimeExports.jsx(Search,{className:"size-4 shrink-0 opacity-50"}),jsxRuntimeExports.jsx(_e.Input,{"data-slot":"command-input",className:cn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",La),...Na})]})}function CommandList({className:La,...Na}){return jsxRuntimeExports.jsx(_e.List,{"data-slot":"command-list",className:cn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",La),...Na})}function CommandEmpty({...La}){return jsxRuntimeExports.jsx(_e.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...La})}function CommandGroup({className:La,...Na}){return jsxRuntimeExports.jsx(_e.Group,{"data-slot":"command-group",className:cn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",La),...Na})}function CommandItem({className:La,...Na}){return jsxRuntimeExports.jsx(_e.Item,{"data-slot":"command-item",className:cn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",La),...Na})}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope$1]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((La,Na)=>{const{name:ja,min:Ba=0,max:za=100,step:Ga=1,orientation:Ha="horizontal",disabled:Ya=!1,minStepsBetweenThumbs:Xa=0,defaultValue:Ka=[Ba],value:Qa,onValueChange:Va=()=>{},onValueCommit:Ua=()=>{},inverted:Wa=!1,form:Ja,...Oo}=La,Do=reactExports.useRef(new Set),Mo=reactExports.useRef(0),tl=Ha==="horizontal"?SliderHorizontal:SliderVertical,[rl=[],il]=useControllableState({prop:Qa,defaultProp:Ka,onChange:gl=>{[...Do.current][Mo.current]?.focus(),Va(gl)}}),al=reactExports.useRef(rl);function ll(gl){const bl=getClosestValueIndex(rl,gl);cl(gl,bl)}function ul(gl){cl(gl,Mo.current)}function ol(){const gl=al.current[Mo.current];rl[Mo.current]!==gl&&Ua(rl)}function cl(gl,bl,{commit:_l}={commit:!1}){const xl=getDecimalCount(Ga),Al=roundValue(Math.round((gl-Ba)/Ga)*Ga+Ba,xl),ml=clamp(Al,[Ba,za]);il((Sl=[])=>{const Cl=getNextSortedValues(Sl,ml,bl);if(hasMinStepsBetweenValues(Cl,Xa*Ga)){Mo.current=Cl.indexOf(ml);const Nl=String(Cl)!==String(Sl);return Nl&&_l&&Ua(Cl),Nl?Cl:Sl}else return Sl})}return jsxRuntimeExports.jsx(SliderProvider,{scope:La.__scopeSlider,name:ja,disabled:Ya,min:Ba,max:za,valueIndexToChangeRef:Mo,thumbs:Do.current,values:rl,orientation:Ha,form:Ja,children:jsxRuntimeExports.jsx(Collection$1.Provider,{scope:La.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:La.__scopeSlider,children:jsxRuntimeExports.jsx(tl,{"aria-disabled":Ya,"data-disabled":Ya?"":void 0,...Oo,ref:Na,onPointerDown:composeEventHandlers(Oo.onPointerDown,()=>{Ya||(al.current=rl)}),min:Ba,max:za,inverted:Wa,onSlideStart:Ya?void 0:ll,onSlideMove:Ya?void 0:ul,onSlideEnd:Ya?void 0:ol,onHomeKeyDown:()=>!Ya&&cl(Ba,0,{commit:!0}),onEndKeyDown:()=>!Ya&&cl(za,rl.length-1,{commit:!0}),onStepKeyDown:({event:gl,direction:bl})=>{if(!Ya){const Al=PAGE_KEYS.includes(gl.key)||gl.shiftKey&&ARROW_KEYS.includes(gl.key)?10:1,ml=Mo.current,Sl=rl[ml],Cl=Ga*Al*bl;cl(Sl+Cl,ml,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((La,Na)=>{const{min:ja,max:Ba,dir:za,inverted:Ga,onSlideStart:Ha,onSlideMove:Ya,onSlideEnd:Xa,onStepKeyDown:Ka,...Qa}=La,[Va,Ua]=reactExports.useState(null),Wa=useComposedRefs(Na,tl=>Ua(tl)),Ja=reactExports.useRef(void 0),Oo=useDirection(za),Do=Oo==="ltr",Mo=Do&&!Ga||!Do&&Ga;function el(tl){const rl=Ja.current||Va.getBoundingClientRect(),il=[0,rl.width],ll=linearScale(il,Mo?[ja,Ba]:[Ba,ja]);return Ja.current=rl,ll(tl-rl.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:La.__scopeSlider,startEdge:Mo?"left":"right",endEdge:Mo?"right":"left",direction:Mo?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:Oo,"data-orientation":"horizontal",...Qa,ref:Wa,style:{...Qa.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:tl=>{const rl=el(tl.clientX);Ha?.(rl)},onSlideMove:tl=>{const rl=el(tl.clientX);Ya?.(rl)},onSlideEnd:()=>{Ja.current=void 0,Xa?.()},onStepKeyDown:tl=>{const il=BACK_KEYS[Mo?"from-left":"from-right"].includes(tl.key);Ka?.({event:tl,direction:il?-1:1})}})})}),SliderVertical=reactExports.forwardRef((La,Na)=>{const{min:ja,max:Ba,inverted:za,onSlideStart:Ga,onSlideMove:Ha,onSlideEnd:Ya,onStepKeyDown:Xa,...Ka}=La,Qa=reactExports.useRef(null),Va=useComposedRefs(Na,Qa),Ua=reactExports.useRef(void 0),Wa=!za;function Ja(Oo){const Do=Ua.current||Qa.current.getBoundingClientRect(),Mo=[0,Do.height],tl=linearScale(Mo,Wa?[Ba,ja]:[ja,Ba]);return Ua.current=Do,tl(Oo-Do.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:La.__scopeSlider,startEdge:Wa?"bottom":"top",endEdge:Wa?"top":"bottom",size:"height",direction:Wa?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...Ka,ref:Va,style:{...Ka.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:Oo=>{const Do=Ja(Oo.clientY);Ga?.(Do)},onSlideMove:Oo=>{const Do=Ja(Oo.clientY);Ha?.(Do)},onSlideEnd:()=>{Ua.current=void 0,Ya?.()},onStepKeyDown:Oo=>{const Mo=BACK_KEYS[Wa?"from-bottom":"from-top"].includes(Oo.key);Xa?.({event:Oo,direction:Mo?-1:1})}})})}),SliderImpl=reactExports.forwardRef((La,Na)=>{const{__scopeSlider:ja,onSlideStart:Ba,onSlideMove:za,onSlideEnd:Ga,onHomeKeyDown:Ha,onEndKeyDown:Ya,onStepKeyDown:Xa,...Ka}=La,Qa=useSliderContext(SLIDER_NAME,ja);return jsxRuntimeExports.jsx(Primitive.span,{...Ka,ref:Na,onKeyDown:composeEventHandlers(La.onKeyDown,Va=>{Va.key==="Home"?(Ha(Va),Va.preventDefault()):Va.key==="End"?(Ya(Va),Va.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(Va.key)&&(Xa(Va),Va.preventDefault())}),onPointerDown:composeEventHandlers(La.onPointerDown,Va=>{const Ua=Va.target;Ua.setPointerCapture(Va.pointerId),Va.preventDefault(),Qa.thumbs.has(Ua)?Ua.focus():Ba(Va)}),onPointerMove:composeEventHandlers(La.onPointerMove,Va=>{Va.target.hasPointerCapture(Va.pointerId)&&za(Va)}),onPointerUp:composeEventHandlers(La.onPointerUp,Va=>{const Ua=Va.target;Ua.hasPointerCapture(Va.pointerId)&&(Ua.releasePointerCapture(Va.pointerId),Ga(Va))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((La,Na)=>{const{__scopeSlider:ja,...Ba}=La,za=useSliderContext(TRACK_NAME,ja);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":za.disabled?"":void 0,"data-orientation":za.orientation,...Ba,ref:Na})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((La,Na)=>{const{__scopeSlider:ja,...Ba}=La,za=useSliderContext(RANGE_NAME,ja),Ga=useSliderOrientationContext(RANGE_NAME,ja),Ha=reactExports.useRef(null),Ya=useComposedRefs(Na,Ha),Xa=za.values.length,Ka=za.values.map(Ua=>convertValueToPercentage(Ua,za.min,za.max)),Qa=Xa>1?Math.min(...Ka):0,Va=100-Math.max(...Ka);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":za.orientation,"data-disabled":za.disabled?"":void 0,...Ba,ref:Ya,style:{...La.style,[Ga.startEdge]:Qa+"%",[Ga.endEdge]:Va+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef((La,Na)=>{const ja=useCollection$1(La.__scopeSlider),[Ba,za]=reactExports.useState(null),Ga=useComposedRefs(Na,Ya=>za(Ya)),Ha=reactExports.useMemo(()=>Ba?ja().findIndex(Ya=>Ya.ref.current===Ba):-1,[ja,Ba]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...La,ref:Ga,index:Ha})}),SliderThumbImpl=reactExports.forwardRef((La,Na)=>{const{__scopeSlider:ja,index:Ba,name:za,...Ga}=La,Ha=useSliderContext(THUMB_NAME,ja),Ya=useSliderOrientationContext(THUMB_NAME,ja),[Xa,Ka]=reactExports.useState(null),Qa=useComposedRefs(Na,el=>Ka(el)),Va=Xa?Ha.form||!!Xa.closest("form"):!0,Ua=useSize(Xa),Wa=Ha.values[Ba],Ja=Wa===void 0?0:convertValueToPercentage(Wa,Ha.min,Ha.max),Oo=getLabel(Ba,Ha.values.length),Do=Ua?.[Ya.size],Mo=Do?getThumbInBoundsOffset(Do,Ja,Ya.direction):0;return reactExports.useEffect(()=>{if(Xa)return Ha.thumbs.add(Xa),()=>{Ha.thumbs.delete(Xa)}},[Xa,Ha.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[Ya.startEdge]:`calc(${Ja}% + ${Mo}px)`},children:[jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:La.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":La["aria-label"]||Oo,"aria-valuemin":Ha.min,"aria-valuenow":Wa,"aria-valuemax":Ha.max,"aria-orientation":Ha.orientation,"data-orientation":Ha.orientation,"data-disabled":Ha.disabled?"":void 0,tabIndex:Ha.disabled?void 0:0,...Ga,ref:Qa,style:Wa===void 0?{display:"none"}:La.style,onFocus:composeEventHandlers(La.onFocus,()=>{Ha.valueIndexToChangeRef.current=Ba})})}),Va&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:za??(Ha.name?Ha.name+(Ha.values.length>1?"[]":""):void 0),form:Ha.form,value:Wa},Ba)]})});SliderThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:La,value:Na,...ja},Ba)=>{const za=reactExports.useRef(null),Ga=useComposedRefs(za,Ba),Ha=usePrevious(Na);return reactExports.useEffect(()=>{const Ya=za.current;if(!Ya)return;const Xa=window.HTMLInputElement.prototype,Qa=Object.getOwnPropertyDescriptor(Xa,"value").set;if(Ha!==Na&&Qa){const Va=new Event("input",{bubbles:!0});Qa.call(Ya,Na),Ya.dispatchEvent(Va)}},[Ha,Na]),jsxRuntimeExports.jsx(Primitive.input,{style:{display:"none"},...ja,ref:Ga,defaultValue:Na})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME;function getNextSortedValues(La=[],Na,ja){const Ba=[...La];return Ba[ja]=Na,Ba.sort((za,Ga)=>za-Ga)}function convertValueToPercentage(La,Na,ja){const Ga=100/(ja-Na)*(La-Na);return clamp(Ga,[0,100])}function getLabel(La,Na){return Na>2?`Value ${La+1} of ${Na}`:Na===2?["Minimum","Maximum"][La]:void 0}function getClosestValueIndex(La,Na){if(La.length===1)return 0;const ja=La.map(za=>Math.abs(za-Na)),Ba=Math.min(...ja);return ja.indexOf(Ba)}function getThumbInBoundsOffset(La,Na,ja){const Ba=La/2,Ga=linearScale([0,50],[0,Ba]);return(Ba-Ga(Na)*ja)*ja}function getStepsBetweenValues(La){return La.slice(0,-1).map((Na,ja)=>La[ja+1]-Na)}function hasMinStepsBetweenValues(La,Na){if(Na>0){const ja=getStepsBetweenValues(La);return Math.min(...ja)>=Na}return!0}function linearScale(La,Na){return ja=>{if(La[0]===La[1]||Na[0]===Na[1])return Na[0];const Ba=(Na[1]-Na[0])/(La[1]-La[0]);return Na[0]+Ba*(ja-La[0])}}function getDecimalCount(La){return(String(La).split(".")[1]||"").length}function roundValue(La,Na){const ja=Math.pow(10,Na);return Math.round(La*ja)/ja}var Root=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;function Slider({className:La,defaultValue:Na,value:ja,min:Ba=0,max:za=100,...Ga}){const Ha=reactExports.useMemo(()=>Array.isArray(ja)?ja:Array.isArray(Na)?Na:[Ba,za],[ja,Na,Ba,za]);return jsxRuntimeExports.jsxs(Root,{"data-slot":"slider",defaultValue:Na,value:ja,min:Ba,max:za,className:cn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",La),...Ga,children:[jsxRuntimeExports.jsx(Track,{"data-slot":"slider-track",className:cn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:jsxRuntimeExports.jsx(Range,{"data-slot":"slider-range",className:cn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:Ha.length},(Ya,Xa)=>jsxRuntimeExports.jsx(Thumb,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},Xa))]})}var SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=La=>{const{__scopeMenu:Na,open:ja=!1,children:Ba,dir:za,onOpenChange:Ga,modal:Ha=!0}=La,Ya=usePopperScope(Na),[Xa,Ka]=reactExports.useState(null),Qa=reactExports.useRef(!1),Va=useCallbackRef$1(Ga),Ua=useDirection(za);return reactExports.useEffect(()=>{const Wa=()=>{Qa.current=!0,document.addEventListener("pointerdown",Ja,{capture:!0,once:!0}),document.addEventListener("pointermove",Ja,{capture:!0,once:!0})},Ja=()=>Qa.current=!1;return document.addEventListener("keydown",Wa,{capture:!0}),()=>{document.removeEventListener("keydown",Wa,{capture:!0}),document.removeEventListener("pointerdown",Ja,{capture:!0}),document.removeEventListener("pointermove",Ja,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$3,{...Ya,children:jsxRuntimeExports.jsx(MenuProvider,{scope:Na,open:ja,onOpenChange:Va,content:Xa,onContentChange:Ka,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:Na,onClose:reactExports.useCallback(()=>Va(!1),[Va]),isUsingKeyboardRef:Qa,dir:Ua,modal:Ha,children:Ba})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,...Ba}=La,za=usePopperScope(ja);return jsxRuntimeExports.jsx(Anchor$1,{...za,...Ba,ref:Na})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$1="MenuPortal",[PortalProvider,usePortalContext]=createMenuContext(PORTAL_NAME$1,{forceMount:void 0}),MenuPortal=La=>{const{__scopeMenu:Na,forceMount:ja,children:Ba,container:za}=La,Ga=useMenuContext(PORTAL_NAME$1,Na);return jsxRuntimeExports.jsx(PortalProvider,{scope:Na,forceMount:ja,children:jsxRuntimeExports.jsx(Presence,{present:ja||Ga.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:za,children:Ba})})})};MenuPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$1),MenuContent=reactExports.forwardRef((La,Na)=>{const ja=usePortalContext(CONTENT_NAME$1,La.__scopeMenu),{forceMount:Ba=ja.forceMount,...za}=La,Ga=useMenuContext(CONTENT_NAME$1,La.__scopeMenu),Ha=useMenuRootContext(CONTENT_NAME$1,La.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:La.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:Ba||Ga.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:La.__scopeMenu,children:Ha.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...za,ref:Na}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...za,ref:Na})})})})}),MenuRootContentModal=reactExports.forwardRef((La,Na)=>{const ja=useMenuContext(CONTENT_NAME$1,La.__scopeMenu),Ba=reactExports.useRef(null),za=useComposedRefs(Na,Ba);return reactExports.useEffect(()=>{const Ga=Ba.current;if(Ga)return hideOthers(Ga)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...La,ref:za,trapFocus:ja.open,disableOutsidePointerEvents:ja.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(La.onFocusOutside,Ga=>Ga.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>ja.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((La,Na)=>{const ja=useMenuContext(CONTENT_NAME$1,La.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...La,ref:Na,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>ja.onOpenChange(!1)})}),Slot=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,loop:Ba=!1,trapFocus:za,onOpenAutoFocus:Ga,onCloseAutoFocus:Ha,disableOutsidePointerEvents:Ya,onEntryFocus:Xa,onEscapeKeyDown:Ka,onPointerDownOutside:Qa,onFocusOutside:Va,onInteractOutside:Ua,onDismiss:Wa,disableOutsideScroll:Ja,...Oo}=La,Do=useMenuContext(CONTENT_NAME$1,ja),Mo=useMenuRootContext(CONTENT_NAME$1,ja),el=usePopperScope(ja),tl=useRovingFocusGroupScope(ja),rl=useCollection(ja),[il,al]=reactExports.useState(null),ll=reactExports.useRef(null),ul=useComposedRefs(Na,ll,Do.onContentChange),ol=reactExports.useRef(0),cl=reactExports.useRef(""),gl=reactExports.useRef(0),bl=reactExports.useRef(null),_l=reactExports.useRef("right"),xl=reactExports.useRef(0),Al=Ja?ReactRemoveScroll:reactExports.Fragment,ml=Ja?{as:Slot,allowPinchZoom:!0}:void 0,Sl=Nl=>{const dl=cl.current+Nl,Rl=rl().filter($l=>!$l.disabled),Tl=document.activeElement,pl=Rl.find($l=>$l.ref.current===Tl)?.textValue,jl=Rl.map($l=>$l.textValue),Ll=getNextMatch(jl,dl,pl),Dl=Rl.find($l=>$l.textValue===Ll)?.ref.current;(function $l(eu){cl.current=eu,window.clearTimeout(ol.current),eu!==""&&(ol.current=window.setTimeout(()=>$l(""),1e3))})(dl),Dl&&setTimeout(()=>Dl.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(ol.current),[]),useFocusGuards();const Cl=reactExports.useCallback(Nl=>_l.current===bl.current?.side&&isPointerInGraceArea(Nl,bl.current?.area),[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:ja,searchRef:cl,onItemEnter:reactExports.useCallback(Nl=>{Cl(Nl)&&Nl.preventDefault()},[Cl]),onItemLeave:reactExports.useCallback(Nl=>{Cl(Nl)||(ll.current?.focus(),al(null))},[Cl]),onTriggerLeave:reactExports.useCallback(Nl=>{Cl(Nl)&&Nl.preventDefault()},[Cl]),pointerGraceTimerRef:gl,onPointerGraceIntentChange:reactExports.useCallback(Nl=>{bl.current=Nl},[]),children:jsxRuntimeExports.jsx(Al,{...ml,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:za,onMountAutoFocus:composeEventHandlers(Ga,Nl=>{Nl.preventDefault(),ll.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:Ha,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:Ya,onEscapeKeyDown:Ka,onPointerDownOutside:Qa,onFocusOutside:Va,onInteractOutside:Ua,onDismiss:Wa,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,...tl,dir:Mo.dir,orientation:"vertical",loop:Ba,currentTabStopId:il,onCurrentTabStopIdChange:al,onEntryFocus:composeEventHandlers(Xa,Nl=>{Mo.isUsingKeyboardRef.current||Nl.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(Do.open),"data-radix-menu-content":"",dir:Mo.dir,...el,...Oo,ref:ul,style:{outline:"none",...Oo.style},onKeyDown:composeEventHandlers(Oo.onKeyDown,Nl=>{const Rl=Nl.target.closest("[data-radix-menu-content]")===Nl.currentTarget,Tl=Nl.ctrlKey||Nl.altKey||Nl.metaKey,pl=Nl.key.length===1;Rl&&(Nl.key==="Tab"&&Nl.preventDefault(),!Tl&&pl&&Sl(Nl.key));const jl=ll.current;if(Nl.target!==jl||!FIRST_LAST_KEYS.includes(Nl.key))return;Nl.preventDefault();const Dl=rl().filter($l=>!$l.disabled).map($l=>$l.ref.current);LAST_KEYS.includes(Nl.key)&&Dl.reverse(),focusFirst(Dl)}),onBlur:composeEventHandlers(La.onBlur,Nl=>{Nl.currentTarget.contains(Nl.target)||(window.clearTimeout(ol.current),cl.current="")}),onPointerMove:composeEventHandlers(La.onPointerMove,whenMouse(Nl=>{const dl=Nl.target,Rl=xl.current!==Nl.clientX;if(Nl.currentTarget.contains(dl)&&Rl){const Tl=Nl.clientX>xl.current?"right":"left";_l.current=Tl,xl.current=Nl.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$1;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,...Ba}=La;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...Ba,ref:Na})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,...Ba}=La;return jsxRuntimeExports.jsx(Primitive.div,{...Ba,ref:Na})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((La,Na)=>{const{disabled:ja=!1,onSelect:Ba,...za}=La,Ga=reactExports.useRef(null),Ha=useMenuRootContext(ITEM_NAME$1,La.__scopeMenu),Ya=useMenuContentContext(ITEM_NAME$1,La.__scopeMenu),Xa=useComposedRefs(Na,Ga),Ka=reactExports.useRef(!1),Qa=()=>{const Va=Ga.current;if(!ja&&Va){const Ua=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});Va.addEventListener(ITEM_SELECT,Wa=>Ba?.(Wa),{once:!0}),dispatchDiscreteCustomEvent(Va,Ua),Ua.defaultPrevented?Ka.current=!1:Ha.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...za,ref:Xa,disabled:ja,onClick:composeEventHandlers(La.onClick,Qa),onPointerDown:Va=>{La.onPointerDown?.(Va),Ka.current=!0},onPointerUp:composeEventHandlers(La.onPointerUp,Va=>{Ka.current||Va.currentTarget?.click()}),onKeyDown:composeEventHandlers(La.onKeyDown,Va=>{const Ua=Ya.searchRef.current!=="";ja||Ua&&Va.key===" "||SELECTION_KEYS.includes(Va.key)&&(Va.currentTarget.click(),Va.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,disabled:Ba=!1,textValue:za,...Ga}=La,Ha=useMenuContentContext(ITEM_NAME$1,ja),Ya=useRovingFocusGroupScope(ja),Xa=reactExports.useRef(null),Ka=useComposedRefs(Na,Xa),[Qa,Va]=reactExports.useState(!1),[Ua,Wa]=reactExports.useState("");return reactExports.useEffect(()=>{const Ja=Xa.current;Ja&&Wa((Ja.textContent??"").trim())},[Ga.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:ja,disabled:Ba,textValue:za??Ua,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...Ya,focusable:!Ba,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":Qa?"":void 0,"aria-disabled":Ba||void 0,"data-disabled":Ba?"":void 0,...Ga,ref:Ka,onPointerMove:composeEventHandlers(La.onPointerMove,whenMouse(Ja=>{Ba?Ha.onItemLeave(Ja):(Ha.onItemEnter(Ja),Ja.defaultPrevented||Ja.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(La.onPointerLeave,whenMouse(Ja=>Ha.onItemLeave(Ja))),onFocus:composeEventHandlers(La.onFocus,()=>Va(!0)),onBlur:composeEventHandlers(La.onBlur,()=>Va(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((La,Na)=>{const{checked:ja=!1,onCheckedChange:Ba,...za}=La;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:La.__scopeMenu,checked:ja,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(ja)?"mixed":ja,...za,ref:Na,"data-state":getCheckedState(ja),onSelect:composeEventHandlers(za.onSelect,()=>Ba?.(isIndeterminate(ja)?!0:!ja),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((La,Na)=>{const{value:ja,onValueChange:Ba,...za}=La,Ga=useCallbackRef$1(Ba);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:La.__scopeMenu,value:ja,onValueChange:Ga,children:jsxRuntimeExports.jsx(MenuGroup,{...za,ref:Na})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((La,Na)=>{const{value:ja,...Ba}=La,za=useRadioGroupContext(RADIO_ITEM_NAME$1,La.__scopeMenu),Ga=ja===za.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:La.__scopeMenu,checked:Ga,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":Ga,...Ba,ref:Na,"data-state":getCheckedState(Ga),onSelect:composeEventHandlers(Ba.onSelect,()=>za.onValueChange?.(ja),{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,forceMount:Ba,...za}=La,Ga=useItemIndicatorContext(ITEM_INDICATOR_NAME,ja);return jsxRuntimeExports.jsx(Presence,{present:Ba||isIndeterminate(Ga.checked)||Ga.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...za,ref:Na,"data-state":getCheckedState(Ga.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,...Ba}=La;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...Ba,ref:Na})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenuArrow",MenuArrow=reactExports.forwardRef((La,Na)=>{const{__scopeMenu:ja,...Ba}=La,za=usePopperScope(ja);return jsxRuntimeExports.jsx(Arrow,{...za,...Ba,ref:Na})});MenuArrow.displayName=ARROW_NAME$1;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((La,Na)=>{const ja=useMenuContext(SUB_TRIGGER_NAME$1,La.__scopeMenu),Ba=useMenuRootContext(SUB_TRIGGER_NAME$1,La.__scopeMenu),za=useMenuSubContext(SUB_TRIGGER_NAME$1,La.__scopeMenu),Ga=useMenuContentContext(SUB_TRIGGER_NAME$1,La.__scopeMenu),Ha=reactExports.useRef(null),{pointerGraceTimerRef:Ya,onPointerGraceIntentChange:Xa}=Ga,Ka={__scopeMenu:La.__scopeMenu},Qa=reactExports.useCallback(()=>{Ha.current&&window.clearTimeout(Ha.current),Ha.current=null},[]);return reactExports.useEffect(()=>Qa,[Qa]),reactExports.useEffect(()=>{const Va=Ya.current;return()=>{window.clearTimeout(Va),Xa(null)}},[Ya,Xa]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...Ka,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:za.triggerId,"aria-haspopup":"menu","aria-expanded":ja.open,"aria-controls":za.contentId,"data-state":getOpenState(ja.open),...La,ref:composeRefs(Na,za.onTriggerChange),onClick:Va=>{La.onClick?.(Va),!(La.disabled||Va.defaultPrevented)&&(Va.currentTarget.focus(),ja.open||ja.onOpenChange(!0))},onPointerMove:composeEventHandlers(La.onPointerMove,whenMouse(Va=>{Ga.onItemEnter(Va),!Va.defaultPrevented&&!La.disabled&&!ja.open&&!Ha.current&&(Ga.onPointerGraceIntentChange(null),Ha.current=window.setTimeout(()=>{ja.onOpenChange(!0),Qa()},100))})),onPointerLeave:composeEventHandlers(La.onPointerLeave,whenMouse(Va=>{Qa();const Ua=ja.content?.getBoundingClientRect();if(Ua){const Wa=ja.content?.dataset.side,Ja=Wa==="right",Oo=Ja?-5:5,Do=Ua[Ja?"left":"right"],Mo=Ua[Ja?"right":"left"];Ga.onPointerGraceIntentChange({area:[{x:Va.clientX+Oo,y:Va.clientY},{x:Do,y:Ua.top},{x:Mo,y:Ua.top},{x:Mo,y:Ua.bottom},{x:Do,y:Ua.bottom}],side:Wa}),window.clearTimeout(Ya.current),Ya.current=window.setTimeout(()=>Ga.onPointerGraceIntentChange(null),300)}else{if(Ga.onTriggerLeave(Va),Va.defaultPrevented)return;Ga.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(La.onKeyDown,Va=>{const Ua=Ga.searchRef.current!=="";La.disabled||Ua&&Va.key===" "||SUB_OPEN_KEYS[Ba.dir].includes(Va.key)&&(ja.onOpenChange(!0),ja.content?.focus(),Va.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((La,Na)=>{const ja=usePortalContext(CONTENT_NAME$1,La.__scopeMenu),{forceMount:Ba=ja.forceMount,...za}=La,Ga=useMenuContext(CONTENT_NAME$1,La.__scopeMenu),Ha=useMenuRootContext(CONTENT_NAME$1,La.__scopeMenu),Ya=useMenuSubContext(SUB_CONTENT_NAME$1,La.__scopeMenu),Xa=reactExports.useRef(null),Ka=useComposedRefs(Na,Xa);return jsxRuntimeExports.jsx(Collection.Provider,{scope:La.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:Ba||Ga.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:La.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:Ya.contentId,"aria-labelledby":Ya.triggerId,...za,ref:Ka,align:"start",side:Ha.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:Qa=>{Ha.isUsingKeyboardRef.current&&Xa.current?.focus(),Qa.preventDefault()},onCloseAutoFocus:Qa=>Qa.preventDefault(),onFocusOutside:composeEventHandlers(La.onFocusOutside,Qa=>{Qa.target!==Ya.trigger&&Ga.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(La.onEscapeKeyDown,Qa=>{Ha.onClose(),Qa.preventDefault()}),onKeyDown:composeEventHandlers(La.onKeyDown,Qa=>{const Va=Qa.currentTarget.contains(Qa.target),Ua=SUB_CLOSE_KEYS[Ha.dir].includes(Qa.key);Va&&Ua&&(Ga.onOpenChange(!1),Ya.trigger?.focus(),Qa.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(La){return La?"open":"closed"}function isIndeterminate(La){return La==="indeterminate"}function getCheckedState(La){return isIndeterminate(La)?"indeterminate":La?"checked":"unchecked"}function focusFirst(La){const Na=document.activeElement;for(const ja of La)if(ja===Na||(ja.focus(),document.activeElement!==Na))return}function wrapArray(La,Na){return La.map((ja,Ba)=>La[(Na+Ba)%La.length])}function getNextMatch(La,Na,ja){const za=Na.length>1&&Array.from(Na).every(Ka=>Ka===Na[0])?Na[0]:Na,Ga=ja?La.indexOf(ja):-1;let Ha=wrapArray(La,Math.max(Ga,0));za.length===1&&(Ha=Ha.filter(Ka=>Ka!==ja));const Xa=Ha.find(Ka=>Ka.toLowerCase().startsWith(za.toLowerCase()));return Xa!==ja?Xa:void 0}function isPointInPolygon(La,Na){const{x:ja,y:Ba}=La;let za=!1;for(let Ga=0,Ha=Na.length-1;Ga<Na.length;Ha=Ga++){const Ya=Na[Ga],Xa=Na[Ha],Ka=Ya.x,Qa=Ya.y,Va=Xa.x,Ua=Xa.y;Qa>Ba!=Ua>Ba&&ja<(Va-Ka)*(Ba-Qa)/(Ua-Qa)+Ka&&(za=!za)}return za}function isPointerInGraceArea(La,Na){if(!Na)return!1;const ja={x:La.clientX,y:La.clientY};return isPointInPolygon(ja,Na)}function whenMouse(La){return Na=>Na.pointerType==="mouse"?La(Na):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal=MenuPortal,Content2$1=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=La=>{const{__scopeDropdownMenu:Na,children:ja,dir:Ba,open:za,defaultOpen:Ga,onOpenChange:Ha,modal:Ya=!0}=La,Xa=useMenuScope(Na),Ka=reactExports.useRef(null),[Qa,Va]=useControllableState({prop:za,defaultProp:Ga??!1,onChange:Ha,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:Na,triggerId:useId(),triggerRef:Ka,contentId:useId(),open:Qa,onOpenChange:Va,onOpenToggle:reactExports.useCallback(()=>Va(Ua=>!Ua),[Va]),modal:Ya,children:jsxRuntimeExports.jsx(Root3,{...Xa,open:Qa,onOpenChange:Va,dir:Ba,modal:Ya,children:ja})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,disabled:Ba=!1,...za}=La,Ga=useDropdownMenuContext(TRIGGER_NAME,ja),Ha=useMenuScope(ja);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...Ha,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:Ga.triggerId,"aria-haspopup":"menu","aria-expanded":Ga.open,"aria-controls":Ga.open?Ga.contentId:void 0,"data-state":Ga.open?"open":"closed","data-disabled":Ba?"":void 0,disabled:Ba,...za,ref:composeRefs(Na,Ga.triggerRef),onPointerDown:composeEventHandlers(La.onPointerDown,Ya=>{!Ba&&Ya.button===0&&Ya.ctrlKey===!1&&(Ga.onOpenToggle(),Ga.open||Ya.preventDefault())}),onKeyDown:composeEventHandlers(La.onKeyDown,Ya=>{Ba||(["Enter"," "].includes(Ya.key)&&Ga.onOpenToggle(),Ya.key==="ArrowDown"&&Ga.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(Ya.key)&&Ya.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="DropdownMenuPortal",DropdownMenuPortal=La=>{const{__scopeDropdownMenu:Na,...ja}=La,Ba=useMenuScope(Na);return jsxRuntimeExports.jsx(Portal,{...Ba,...ja})};DropdownMenuPortal.displayName=PORTAL_NAME;var CONTENT_NAME="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useDropdownMenuContext(CONTENT_NAME,ja),Ga=useMenuScope(ja),Ha=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$1,{id:za.contentId,"aria-labelledby":za.triggerId,...Ga,...Ba,ref:Na,onCloseAutoFocus:composeEventHandlers(La.onCloseAutoFocus,Ya=>{Ha.current||za.triggerRef.current?.focus(),Ha.current=!1,Ya.preventDefault()}),onInteractOutside:composeEventHandlers(La.onInteractOutside,Ya=>{const Xa=Ya.detail.originalEvent,Ka=Xa.button===0&&Xa.ctrlKey===!0,Qa=Xa.button===2||Ka;(!za.modal||Qa)&&(Ha.current=!0)}),style:{...La.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(Group,{...za,...Ba,ref:Na})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(Label,{...za,...Ba,ref:Na})});DropdownMenuLabel.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(Item2$1,{...za,...Ba,ref:Na})});DropdownMenuItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(CheckboxItem,{...za,...Ba,ref:Na})});DropdownMenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(RadioGroup,{...za,...Ba,ref:Na})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(RadioItem,{...za,...Ba,ref:Na})});DropdownMenuRadioItem.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(ItemIndicator,{...za,...Ba,ref:Na})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(Separator,{...za,...Ba,ref:Na})});DropdownMenuSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(Arrow2,{...za,...Ba,ref:Na})});DropdownMenuArrow.displayName=ARROW_NAME;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(SubTrigger,{...za,...Ba,ref:Na})});DropdownMenuSubTrigger.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent=reactExports.forwardRef((La,Na)=>{const{__scopeDropdownMenu:ja,...Ba}=La,za=useMenuScope(ja);return jsxRuntimeExports.jsx(SubContent,{...za,...Ba,ref:Na,style:{...La.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent.displayName=SUB_CONTENT_NAME;var Root2=DropdownMenu$1,Trigger=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2=DropdownMenuContent$1,Item2=DropdownMenuItem$1;function DropdownMenu({...La}){return jsxRuntimeExports.jsx(Root2,{"data-slot":"dropdown-menu",...La})}function DropdownMenuTrigger({...La}){return jsxRuntimeExports.jsx(Trigger,{"data-slot":"dropdown-menu-trigger",...La})}function DropdownMenuContent({className:La,sideOffset:Na=4,...ja}){return jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2,{"data-slot":"dropdown-menu-content",sideOffset:Na,className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",La),...ja})})}function DropdownMenuItem({className:La,inset:Na,variant:ja="default",...Ba}){return jsxRuntimeExports.jsx(Item2,{"data-slot":"dropdown-menu-item","data-inset":Na,"data-variant":ja,className:cn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",La),...Ba})}const Warning=()=>jsxRuntimeExports.jsx("div",{className:"border-t border-input/50 pt-3 space-y-3",children:jsxRuntimeExports.jsx(Card,{className:"p-3 border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Keyboard,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-xs mb-2",children:"Keyboard Shortcuts"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1.5",children:"Navigation"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Scroll Down"}),jsxRuntimeExports.jsx("kbd",{className:"px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono text-[10px]",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Scroll Up"}),jsxRuntimeExports.jsx("kbd",{className:"px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono text-[10px]",children:""})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2 border-t border-border/50",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1.5",children:"Continuous Mode"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Start Recording"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("kbd",{className:"px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono text-[10px]",children:"Space"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"or"}),jsxRuntimeExports.jsx("kbd",{className:"px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono text-[10px]",children:"Enter"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Stop & Send"}),jsxRuntimeExports.jsx("kbd",{className:"px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono text-[10px]",children:"Enter"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Ignore Recording"}),jsxRuntimeExports.jsx("kbd",{className:"px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono text-[10px]",children:"Esc"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-3 border-t border-border/50",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-[11px] text-muted-foreground leading-relaxed",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:"VAD Mode:"})," ","Automatically detects and captures speech using Voice Activity Detection. Recording starts/stops automatically based on speech detection."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:"Continuous Mode:"})," ",'Manual recording mode where you control when to start and stop. Record up to 3 minutes, then click "Stop & Send" for transcription or "Ignore" to discard.']}),jsxRuntimeExports.jsxs("p",{className:"pt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:"Switch Modes:"})," ",'Toggle between VAD and Continuous Mode in the "Audio Detection Settings" section below.']})]})})]})]})]})})}),Header$1=({setupRequired:La,setIsPopoverOpen:Na,resizeWindow:ja,capturing:Ba})=>jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3",children:jsxRuntimeExports.jsxs("div",{className:"border-b border-input/50 pb-3 flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"font-semibold text-sm",children:"System Audio Capture"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:La?"Setup required to capture system audio":"Until and unless sound is detected from your speakers no api calls will be made"})]}),Ba?null:jsxRuntimeExports.jsx("div",{className:"",children:jsxRuntimeExports.jsx(Button,{size:"icon",title:"Close Settings",onClick:()=>{Na(!1),ja(!1)},children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})})]})}),osInstructions={macos:{title:"System Audio Permission Required",description:"Scribe needs permission to capture your screen's audio. Clicking the button will open System Settings.",buttonText:"Open System Settings",manualTitle:"If permission is not granted automatically:",manualSteps:`1. Go to System Settings > Privacy & Security > Screen & System Audio Recording.
2. Find Scribe in the list and enable it, if not found then click on + and add Scribe.`,note:"A restart of Scribe may be required after granting permission."},windows:{title:"System Audio Access",description:"Scribe needs to access your system audio. The button below will open the Sound settings panel for troubleshooting.",buttonText:"Open Sound Settings",manualTitle:"To ensure Scribe can capture audio:",manualSteps:`1. In Sound settings, ensure the correct speakers are set as the default device.
2. Check your device properties and disable any 'Exclusive Mode' settings.`,note:"Windows does not require a specific permission prompt for audio capture."},linux:{title:"System Audio Setup",description:"Scribe captures audio using PulseAudio. Please ensure it is configured correctly.",buttonText:"Setup Instructions",manualTitle:"Troubleshooting Steps:",manualSteps:`1. Make sure you are running a PulseAudio server.
2. Check your system's sound settings and ensure the correct output device is set as default.`,note:"There is no automatic setup for Linux. Access depends on your system's audio configuration."},undetermined:{title:"System Audio Permission",description:"Scribe needs permission to capture system audio.",buttonText:"Grant Permission",manualTitle:"Manual Setup:",manualSteps:"Please check your system's privacy or sound settings to allow Scribe to capture audio."}},getInstructionsForPlatform=La=>La.includes("mac")?osInstructions.macos:La.includes("win")?osInstructions.windows:La.includes("linux")?osInstructions.linux:osInstructions.undetermined,SetupInstructions=({setupRequired:La,handleSetup:Na})=>{const[ja,Ba]=reactExports.useState(!1),za=navigator.platform.toLowerCase(),Ga=getInstructionsForPlatform(za);return La?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 p-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:Ga.title}),jsxRuntimeExports.jsx("p",{className:"text-md text-muted-foreground",children:Ga.description})]}),jsxRuntimeExports.jsx(Button,{onClick:Na,className:"w-full",children:Ga.buttonText})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row justify-between items-center cursor-pointer",onClick:()=>Ba(!ja),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:"Status:"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-1.5 justify-center items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:()=>Ba(!ja),className:"p-0",children:["Troubleshoot"," ",ja?jsxRuntimeExports.jsx(ArrowUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ArrowDown,{className:"w-4 h-4"})]})]}),ja?jsxRuntimeExports.jsxs("div",{className:"mt-2 flex flex-col gap-2 border-t border-input/50 pt-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-orange-600",children:Ga.manualTitle}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-1",children:Ga.manualSteps}),Ga.note&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Note: ",Ga.note]}),jsxRuntimeExports.jsx(Button,{className:"w-full",variant:"outline",onClick:Na,children:"Troubleshoot"})]}):null]})};function ok$1(){}function unreachable(){}function parse$2(La){const Na=[],ja=String(La||"");let Ba=ja.indexOf(","),za=0,Ga=!1;for(;!Ga;){Ba===-1&&(Ba=ja.length,Ga=!0);const Ha=ja.slice(za,Ba).trim();(Ha||!Ga)&&Na.push(Ha),za=Ba+1,Ba=ja.indexOf(",",za)}return Na}function stringify$1(La,Na){const ja=Na||{};return(La[La.length-1]===""?[...La,""]:La).join((ja.padRight?" ":"")+","+(ja.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$6={};function name$1(La,Na){return(emptyOptions$6.jsx?nameReJsx:nameRe).test(La)}const re=/[ \t\n\f\r]/g;function whitespace(La){return typeof La=="object"?La.type==="text"?empty$1(La.value):!1:empty$1(La)}function empty$1(La){return La.replace(re,"")===""}let Schema$1=class{constructor(Na,ja,Ba){this.normal=ja,this.property=Na,Ba&&(this.space=Ba)}};Schema$1.prototype.normal={};Schema$1.prototype.property={};Schema$1.prototype.space=void 0;function merge$1(La,Na){const ja={},Ba={};for(const za of La)Object.assign(ja,za.property),Object.assign(Ba,za.normal);return new Schema$1(ja,Ba,Na)}function normalize$2(La){return La.toLowerCase()}let Info$1=class{constructor(Na,ja){this.attribute=ja,this.property=Na}};Info$1.prototype.attribute="";Info$1.prototype.booleanish=!1;Info$1.prototype.boolean=!1;Info$1.prototype.commaOrSpaceSeparated=!1;Info$1.prototype.commaSeparated=!1;Info$1.prototype.defined=!1;Info$1.prototype.mustUseProperty=!1;Info$1.prototype.number=!1;Info$1.prototype.overloadedBoolean=!1;Info$1.prototype.property="";Info$1.prototype.spaceSeparated=!1;Info$1.prototype.space=void 0;let powers$1=0;const boolean$1=increment$1(),booleanish$1=increment$1(),overloadedBoolean$1=increment$1(),number$1=increment$1(),spaceSeparated$1=increment$1(),commaSeparated$1=increment$1(),commaOrSpaceSeparated$1=increment$1();function increment$1(){return 2**++powers$1}const types$1=Object.freeze(Object.defineProperty({__proto__:null,boolean:boolean$1,booleanish:booleanish$1,commaOrSpaceSeparated:commaOrSpaceSeparated$1,commaSeparated:commaSeparated$1,number:number$1,overloadedBoolean:overloadedBoolean$1,spaceSeparated:spaceSeparated$1},Symbol.toStringTag,{value:"Module"})),checks$1=Object.keys(types$1);let DefinedInfo$1=class extends Info$1{constructor(Na,ja,Ba,za){let Ga=-1;if(super(Na,ja),mark$1(this,"space",za),typeof Ba=="number")for(;++Ga<checks$1.length;){const Ha=checks$1[Ga];mark$1(this,checks$1[Ga],(Ba&types$1[Ha])===types$1[Ha])}}};DefinedInfo$1.prototype.defined=!0;function mark$1(La,Na,ja){ja&&(La[Na]=ja)}function create$1(La){const Na={},ja={};for(const[Ba,za]of Object.entries(La.properties)){const Ga=new DefinedInfo$1(Ba,La.transform(La.attributes||{},Ba),za,La.space);La.mustUseProperty&&La.mustUseProperty.includes(Ba)&&(Ga.mustUseProperty=!0),Na[Ba]=Ga,ja[normalize$2(Ba)]=Ba,ja[normalize$2(Ga.attribute)]=Ba}return new Schema$1(Na,ja,La.space)}const aria$2=create$1({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish$1,ariaAutoComplete:null,ariaBusy:booleanish$1,ariaChecked:booleanish$1,ariaColCount:number$1,ariaColIndex:number$1,ariaColSpan:number$1,ariaControls:spaceSeparated$1,ariaCurrent:null,ariaDescribedBy:spaceSeparated$1,ariaDetails:null,ariaDisabled:booleanish$1,ariaDropEffect:spaceSeparated$1,ariaErrorMessage:null,ariaExpanded:booleanish$1,ariaFlowTo:spaceSeparated$1,ariaGrabbed:booleanish$1,ariaHasPopup:null,ariaHidden:booleanish$1,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated$1,ariaLevel:number$1,ariaLive:null,ariaModal:booleanish$1,ariaMultiLine:booleanish$1,ariaMultiSelectable:booleanish$1,ariaOrientation:null,ariaOwns:spaceSeparated$1,ariaPlaceholder:null,ariaPosInSet:number$1,ariaPressed:booleanish$1,ariaReadOnly:booleanish$1,ariaRelevant:null,ariaRequired:booleanish$1,ariaRoleDescription:spaceSeparated$1,ariaRowCount:number$1,ariaRowIndex:number$1,ariaRowSpan:number$1,ariaSelected:booleanish$1,ariaSetSize:number$1,ariaSort:null,ariaValueMax:number$1,ariaValueMin:number$1,ariaValueNow:number$1,ariaValueText:null,role:null},transform(La,Na){return Na==="role"?Na:"aria-"+Na.slice(4).toLowerCase()}});function caseSensitiveTransform$1(La,Na){return Na in La?La[Na]:Na}function caseInsensitiveTransform$1(La,Na){return caseSensitiveTransform$1(La,Na.toLowerCase())}const html$5=create$1({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated$1,acceptCharset:spaceSeparated$1,accessKey:spaceSeparated$1,action:null,allow:null,allowFullScreen:boolean$1,allowPaymentRequest:boolean$1,allowUserMedia:boolean$1,alt:null,as:null,async:boolean$1,autoCapitalize:null,autoComplete:spaceSeparated$1,autoFocus:boolean$1,autoPlay:boolean$1,blocking:spaceSeparated$1,capture:null,charSet:null,checked:boolean$1,cite:null,className:spaceSeparated$1,cols:number$1,colSpan:null,content:null,contentEditable:booleanish$1,controls:boolean$1,controlsList:spaceSeparated$1,coords:number$1|commaSeparated$1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean$1,defer:boolean$1,dir:null,dirName:null,disabled:boolean$1,download:overloadedBoolean$1,draggable:booleanish$1,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean$1,formTarget:null,headers:spaceSeparated$1,height:number$1,hidden:overloadedBoolean$1,high:number$1,href:null,hrefLang:null,htmlFor:spaceSeparated$1,httpEquiv:spaceSeparated$1,id:null,imageSizes:null,imageSrcSet:null,inert:boolean$1,inputMode:null,integrity:null,is:null,isMap:boolean$1,itemId:null,itemProp:spaceSeparated$1,itemRef:spaceSeparated$1,itemScope:boolean$1,itemType:spaceSeparated$1,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean$1,low:number$1,manifest:null,max:null,maxLength:number$1,media:null,method:null,min:null,minLength:number$1,multiple:boolean$1,muted:boolean$1,name:null,nonce:null,noModule:boolean$1,noValidate:boolean$1,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean$1,optimum:number$1,pattern:null,ping:spaceSeparated$1,placeholder:null,playsInline:boolean$1,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean$1,referrerPolicy:null,rel:spaceSeparated$1,required:boolean$1,reversed:boolean$1,rows:number$1,rowSpan:number$1,sandbox:spaceSeparated$1,scope:null,scoped:boolean$1,seamless:boolean$1,selected:boolean$1,shadowRootClonable:boolean$1,shadowRootDelegatesFocus:boolean$1,shadowRootMode:null,shape:null,size:number$1,sizes:null,slot:null,span:number$1,spellCheck:booleanish$1,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$1,step:null,style:null,tabIndex:number$1,target:null,title:null,translate:null,type:null,typeMustMatch:boolean$1,useMap:null,value:booleanish$1,width:number$1,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated$1,axis:null,background:null,bgColor:null,border:number$1,borderColor:null,bottomMargin:number$1,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean$1,declare:boolean$1,event:null,face:null,frame:null,frameBorder:null,hSpace:number$1,leftMargin:number$1,link:null,longDesc:null,lowSrc:null,marginHeight:number$1,marginWidth:number$1,noResize:boolean$1,noHref:boolean$1,noShade:boolean$1,noWrap:boolean$1,object:null,profile:null,prompt:null,rev:null,rightMargin:number$1,rules:null,scheme:null,scrolling:booleanish$1,standby:null,summary:null,text:null,topMargin:number$1,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$1,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean$1,disableRemotePlayback:boolean$1,prefix:null,property:null,results:number$1,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform$1}),svg$3=create$1({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated$1,accentHeight:number$1,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$1,amplitude:number$1,arabicForm:null,ascent:number$1,attributeName:null,attributeType:null,azimuth:number$1,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$1,by:null,calcMode:null,capHeight:number$1,className:spaceSeparated$1,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$1,diffuseConstant:number$1,direction:null,display:null,dur:null,divisor:number$1,dominantBaseline:null,download:boolean$1,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$1,enableBackground:null,end:null,event:null,exponent:number$1,externalResourcesRequired:null,fill:null,fillOpacity:number$1,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated$1,g2:commaSeparated$1,glyphName:commaSeparated$1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$1,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$1,horizOriginX:number$1,horizOriginY:number$1,id:null,ideographic:number$1,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$1,k:number$1,k1:number$1,k2:number$1,k3:number$1,k4:number$1,kernelMatrix:commaOrSpaceSeparated$1,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$1,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$1,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$1,overlineThickness:number$1,paintOrder:null,panose1:null,path:null,pathLength:number$1,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated$1,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$1,pointsAtY:number$1,pointsAtZ:number$1,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated$1,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated$1,rev:commaOrSpaceSeparated$1,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated$1,requiredFeatures:commaOrSpaceSeparated$1,requiredFonts:commaOrSpaceSeparated$1,requiredFormats:commaOrSpaceSeparated$1,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$1,specularExponent:number$1,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$1,strikethroughThickness:number$1,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated$1,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$1,strokeOpacity:number$1,strokeWidth:null,style:null,surfaceScale:number$1,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated$1,tabIndex:number$1,tableValues:null,target:null,targetX:number$1,targetY:number$1,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated$1,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$1,underlineThickness:number$1,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$1,values:null,vAlphabetic:number$1,vMathematical:number$1,vectorEffect:null,vHanging:number$1,vIdeographic:number$1,version:null,vertAdvY:number$1,vertOriginX:number$1,vertOriginY:number$1,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$1,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform$1}),xlink$1=create$1({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(La,Na){return"xlink:"+Na.slice(5).toLowerCase()}}),xmlns$1=create$1({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform$1}),xml$1=create$1({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(La,Na){return"xml:"+Na.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$2=/[A-Z]/g,dash$1=/-[a-z]/g,valid$1=/^data[-\w.:]+$/i;function find$1(La,Na){const ja=normalize$2(Na);let Ba=Na,za=Info$1;if(ja in La.normal)return La.property[La.normal[ja]];if(ja.length>4&&ja.slice(0,4)==="data"&&valid$1.test(Na)){if(Na.charAt(4)==="-"){const Ga=Na.slice(5).replace(dash$1,camelcase$1);Ba="data"+Ga.charAt(0).toUpperCase()+Ga.slice(1)}else{const Ga=Na.slice(4);if(!dash$1.test(Ga)){let Ha=Ga.replace(cap$2,kebab$1);Ha.charAt(0)!=="-"&&(Ha="-"+Ha),Na="data"+Ha}}za=DefinedInfo$1}return new za(Ba,Na)}function kebab$1(La){return"-"+La.toLowerCase()}function camelcase$1(La){return La.charAt(1).toUpperCase()}const html$4=merge$1([aria$2,html$5,xlink$1,xmlns$1,xml$1],"html"),svg$2=merge$1([aria$2,svg$3,xlink$1,xmlns$1,xml$1],"svg");function parse$1(La){const Na=String(La||"").trim();return Na?Na.split(/[ \t\n\r\f]+/g):[]}function stringify(La){return La.join(" ").trim()}var cjs$1={},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var La=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Na=/\n/g,ja=/^\s*/,Ba=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,za=/^:\s*/,Ga=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ha=/^[;\s]*/,Ya=/^\s+|\s+$/g,Xa=`
`,Ka="/",Qa="*",Va="",Ua="comment",Wa="declaration";inlineStyleParser=function(Oo,Do){if(typeof Oo!="string")throw new TypeError("First argument must be a string");if(!Oo)return[];Do=Do||{};var Mo=1,el=1;function tl(_l){var xl=_l.match(Na);xl&&(Mo+=xl.length);var Al=_l.lastIndexOf(Xa);el=~Al?_l.length-Al:el+_l.length}function rl(){var _l={line:Mo,column:el};return function(xl){return xl.position=new il(_l),ul(),xl}}function il(_l){this.start=_l,this.end={line:Mo,column:el},this.source=Do.source}il.prototype.content=Oo;function al(_l){var xl=new Error(Do.source+":"+Mo+":"+el+": "+_l);if(xl.reason=_l,xl.filename=Do.source,xl.line=Mo,xl.column=el,xl.source=Oo,!Do.silent)throw xl}function ll(_l){var xl=_l.exec(Oo);if(xl){var Al=xl[0];return tl(Al),Oo=Oo.slice(Al.length),xl}}function ul(){ll(ja)}function ol(_l){var xl;for(_l=_l||[];xl=cl();)xl!==!1&&_l.push(xl);return _l}function cl(){var _l=rl();if(!(Ka!=Oo.charAt(0)||Qa!=Oo.charAt(1))){for(var xl=2;Va!=Oo.charAt(xl)&&(Qa!=Oo.charAt(xl)||Ka!=Oo.charAt(xl+1));)++xl;if(xl+=2,Va===Oo.charAt(xl-1))return al("End of comment missing");var Al=Oo.slice(2,xl-2);return el+=2,tl(Al),Oo=Oo.slice(xl),el+=2,_l({type:Ua,comment:Al})}}function gl(){var _l=rl(),xl=ll(Ba);if(xl){if(cl(),!ll(za))return al("property missing ':'");var Al=ll(Ga),ml=_l({type:Wa,property:Ja(xl[0].replace(La,Va)),value:Al?Ja(Al[0].replace(La,Va)):Va});return ll(Ha),ml}}function bl(){var _l=[];ol(_l);for(var xl;xl=gl();)xl!==!1&&(_l.push(xl),ol(_l));return _l}return ul(),bl()};function Ja(Oo){return Oo?Oo.replace(Ya,Va):Va}return inlineStyleParser}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1;var La=cjs$1&&cjs$1.__importDefault||function(Ba){return Ba&&Ba.__esModule?Ba:{default:Ba}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=ja;var Na=La(requireInlineStyleParser());function ja(Ba,za){var Ga=null;if(!Ba||typeof Ba!="string")return Ga;var Ha=(0,Na.default)(Ba),Ya=typeof za=="function";return Ha.forEach(function(Xa){if(Xa.type==="declaration"){var Ka=Xa.property,Qa=Xa.value;Ya?za(Ka,Qa,Xa):Qa&&(Ga=Ga||{},Ga[Ka]=Qa)}}),Ga}return cjs$1}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var La=/^--[a-zA-Z0-9_-]+$/,Na=/-([a-z])/g,ja=/^[^-]+$/,Ba=/^-(webkit|moz|ms|o|khtml)-/,za=/^-(ms)-/,Ga=function(Ka){return!Ka||ja.test(Ka)||La.test(Ka)},Ha=function(Ka,Qa){return Qa.toUpperCase()},Ya=function(Ka,Qa){return"".concat(Qa,"-")},Xa=function(Ka,Qa){return Qa===void 0&&(Qa={}),Ga(Ka)?Ka:(Ka=Ka.toLowerCase(),Qa.reactCompat?Ka=Ka.replace(za,Ya):Ka=Ka.replace(Ba,Ya),Ka.replace(Na,Ha))};return utilities.camelCase=Xa,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var La=cjs&&cjs.__importDefault||function(za){return za&&za.__esModule?za:{default:za}},Na=La(requireCjs$1()),ja=requireUtilities();function Ba(za,Ga){var Ha={};return!za||typeof za!="string"||(0,Na.default)(za,function(Ya,Xa){Ya&&Xa&&(Ha[(0,ja.camelCase)(Ya,Ga)]=Xa)}),Ha}return Ba.default=Ba,cjs=Ba,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$3("end"),pointStart=point$3("start");function point$3(La){return Na;function Na(ja){const Ba=ja&&ja.position&&ja.position[La]||{};if(typeof Ba.line=="number"&&Ba.line>0&&typeof Ba.column=="number"&&Ba.column>0)return{line:Ba.line,column:Ba.column,offset:typeof Ba.offset=="number"&&Ba.offset>-1?Ba.offset:void 0}}}function position$2(La){const Na=pointStart(La),ja=pointEnd(La);if(Na&&ja)return{start:Na,end:ja}}function stringifyPosition(La){return!La||typeof La!="object"?"":"position"in La||"type"in La?position$1(La.position):"start"in La||"end"in La?position$1(La):"line"in La||"column"in La?point$2(La):""}function point$2(La){return index(La&&La.line)+":"+index(La&&La.column)}function position$1(La){return point$2(La&&La.start)+"-"+point$2(La&&La.end)}function index(La){return La&&typeof La=="number"?La:1}class VFileMessage extends Error{constructor(Na,ja,Ba){super(),typeof ja=="string"&&(Ba=ja,ja=void 0);let za="",Ga={},Ha=!1;if(ja&&("line"in ja&&"column"in ja?Ga={place:ja}:"start"in ja&&"end"in ja?Ga={place:ja}:"type"in ja?Ga={ancestors:[ja],place:ja.position}:Ga={...ja}),typeof Na=="string"?za=Na:!Ga.cause&&Na&&(Ha=!0,za=Na.message,Ga.cause=Na),!Ga.ruleId&&!Ga.source&&typeof Ba=="string"){const Xa=Ba.indexOf(":");Xa===-1?Ga.ruleId=Ba:(Ga.source=Ba.slice(0,Xa),Ga.ruleId=Ba.slice(Xa+1))}if(!Ga.place&&Ga.ancestors&&Ga.ancestors){const Xa=Ga.ancestors[Ga.ancestors.length-1];Xa&&(Ga.place=Xa.position)}const Ya=Ga.place&&"start"in Ga.place?Ga.place.start:Ga.place;this.ancestors=Ga.ancestors||void 0,this.cause=Ga.cause||void 0,this.column=Ya?Ya.column:void 0,this.fatal=void 0,this.file="",this.message=za,this.line=Ya?Ya.line:void 0,this.name=stringifyPosition(Ga.place)||"1:1",this.place=Ga.place||void 0,this.reason=this.message,this.ruleId=Ga.ruleId||void 0,this.source=Ga.source||void 0,this.stack=Ha&&Ga.cause&&typeof Ga.cause.stack=="string"?Ga.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$8={}.hasOwnProperty,emptyMap=new Map,cap$1=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(La,Na){if(!Na||Na.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const ja=Na.filePath||void 0;let Ba;if(Na.development){if(typeof Na.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");Ba=developmentCreate(ja,Na.jsxDEV)}else{if(typeof Na.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof Na.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");Ba=productionCreate(ja,Na.jsx,Na.jsxs)}const za={Fragment:Na.Fragment,ancestors:[],components:Na.components||{},create:Ba,elementAttributeNameCase:Na.elementAttributeNameCase||"react",evaluater:Na.createEvaluater?Na.createEvaluater():void 0,filePath:ja,ignoreInvalidStyle:Na.ignoreInvalidStyle||!1,passKeys:Na.passKeys!==!1,passNode:Na.passNode||!1,schema:Na.space==="svg"?svg$2:html$4,stylePropertyNameCase:Na.stylePropertyNameCase||"dom",tableCellAlignToStyle:Na.tableCellAlignToStyle!==!1},Ga=one$4(za,La,void 0);return Ga&&typeof Ga!="string"?Ga:za.create(La,za.Fragment,{children:Ga||void 0},void 0)}function one$4(La,Na,ja){if(Na.type==="element")return element$7(La,Na,ja);if(Na.type==="mdxFlowExpression"||Na.type==="mdxTextExpression")return mdxExpression(La,Na);if(Na.type==="mdxJsxFlowElement"||Na.type==="mdxJsxTextElement")return mdxJsxElement(La,Na,ja);if(Na.type==="mdxjsEsm")return mdxEsm(La,Na);if(Na.type==="root")return root$6(La,Na,ja);if(Na.type==="text")return text$b(La,Na)}function element$7(La,Na,ja){const Ba=La.schema;let za=Ba;Na.tagName.toLowerCase()==="svg"&&Ba.space==="html"&&(za=svg$2,La.schema=za),La.ancestors.push(Na);const Ga=findComponentFromName(La,Na.tagName,!1),Ha=createElementProps(La,Na);let Ya=createChildren(La,Na);return tableElements.has(Na.tagName)&&(Ya=Ya.filter(function(Xa){return typeof Xa=="string"?!whitespace(Xa):!0})),addNode(La,Ha,Ga,Na),addChildren(Ha,Ya),La.ancestors.pop(),La.schema=Ba,La.create(Na,Ga,Ha,ja)}function mdxExpression(La,Na){if(Na.data&&Na.data.estree&&La.evaluater){const Ba=Na.data.estree.body[0];return Ba.type,La.evaluater.evaluateExpression(Ba.expression)}crashEstree(La,Na.position)}function mdxEsm(La,Na){if(Na.data&&Na.data.estree&&La.evaluater)return La.evaluater.evaluateProgram(Na.data.estree);crashEstree(La,Na.position)}function mdxJsxElement(La,Na,ja){const Ba=La.schema;let za=Ba;Na.name==="svg"&&Ba.space==="html"&&(za=svg$2,La.schema=za),La.ancestors.push(Na);const Ga=Na.name===null?La.Fragment:findComponentFromName(La,Na.name,!0),Ha=createJsxElementProps(La,Na),Ya=createChildren(La,Na);return addNode(La,Ha,Ga,Na),addChildren(Ha,Ya),La.ancestors.pop(),La.schema=Ba,La.create(Na,Ga,Ha,ja)}function root$6(La,Na,ja){const Ba={};return addChildren(Ba,createChildren(La,Na)),La.create(Na,La.Fragment,Ba,ja)}function text$b(La,Na){return Na.value}function addNode(La,Na,ja,Ba){typeof ja!="string"&&ja!==La.Fragment&&La.passNode&&(Na.node=Ba)}function addChildren(La,Na){if(Na.length>0){const ja=Na.length>1?Na:Na[0];ja&&(La.children=ja)}}function productionCreate(La,Na,ja){return Ba;function Ba(za,Ga,Ha,Ya){const Ka=Array.isArray(Ha.children)?ja:Na;return Ya?Ka(Ga,Ha,Ya):Ka(Ga,Ha)}}function developmentCreate(La,Na){return ja;function ja(Ba,za,Ga,Ha){const Ya=Array.isArray(Ga.children),Xa=pointStart(Ba);return Na(za,Ga,Ha,Ya,{columnNumber:Xa?Xa.column-1:void 0,fileName:La,lineNumber:Xa?Xa.line:void 0},void 0)}}function createElementProps(La,Na){const ja={};let Ba,za;for(za in Na.properties)if(za!=="children"&&own$8.call(Na.properties,za)){const Ga=createProperty$1(La,za,Na.properties[za]);if(Ga){const[Ha,Ya]=Ga;La.tableCellAlignToStyle&&Ha==="align"&&typeof Ya=="string"&&tableCellElement.has(Na.tagName)?Ba=Ya:ja[Ha]=Ya}}if(Ba){const Ga=ja.style||(ja.style={});Ga[La.stylePropertyNameCase==="css"?"text-align":"textAlign"]=Ba}return ja}function createJsxElementProps(La,Na){const ja={};for(const Ba of Na.attributes)if(Ba.type==="mdxJsxExpressionAttribute")if(Ba.data&&Ba.data.estree&&La.evaluater){const Ga=Ba.data.estree.body[0];Ga.type;const Ha=Ga.expression;Ha.type;const Ya=Ha.properties[0];Ya.type,Object.assign(ja,La.evaluater.evaluateExpression(Ya.argument))}else crashEstree(La,Na.position);else{const za=Ba.name;let Ga;if(Ba.value&&typeof Ba.value=="object")if(Ba.value.data&&Ba.value.data.estree&&La.evaluater){const Ya=Ba.value.data.estree.body[0];Ya.type,Ga=La.evaluater.evaluateExpression(Ya.expression)}else crashEstree(La,Na.position);else Ga=Ba.value===null?!0:Ba.value;ja[za]=Ga}return ja}function createChildren(La,Na){const ja=[];let Ba=-1;const za=La.passKeys?new Map:emptyMap;for(;++Ba<Na.children.length;){const Ga=Na.children[Ba];let Ha;if(La.passKeys){const Xa=Ga.type==="element"?Ga.tagName:Ga.type==="mdxJsxFlowElement"||Ga.type==="mdxJsxTextElement"?Ga.name:void 0;if(Xa){const Ka=za.get(Xa)||0;Ha=Xa+"-"+Ka,za.set(Xa,Ka+1)}}const Ya=one$4(La,Ga,Ha);Ya!==void 0&&ja.push(Ya)}return ja}function createProperty$1(La,Na,ja){const Ba=find$1(La.schema,Na);if(!(ja==null||typeof ja=="number"&&Number.isNaN(ja))){if(Array.isArray(ja)&&(ja=Ba.commaSeparated?stringify$1(ja):stringify(ja)),Ba.property==="style"){let za=typeof ja=="object"?ja:parseStyle(La,String(ja));return La.stylePropertyNameCase==="css"&&(za=transformStylesToCssCasing(za)),["style",za]}return[La.elementAttributeNameCase==="react"&&Ba.space?hastToReact[Ba.property]||Ba.property:Ba.attribute,ja]}}function parseStyle(La,Na){try{return styleToJs(Na,{reactCompat:!0})}catch(ja){if(La.ignoreInvalidStyle)return{};const Ba=ja,za=new VFileMessage("Cannot parse `style` attribute",{ancestors:La.ancestors,cause:Ba,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw za.file=La.filePath||void 0,za.url=docs+"#cannot-parse-style-attribute",za}}function findComponentFromName(La,Na,ja){let Ba;if(!ja)Ba={type:"Literal",value:Na};else if(Na.includes(".")){const za=Na.split(".");let Ga=-1,Ha;for(;++Ga<za.length;){const Ya=name$1(za[Ga])?{type:"Identifier",name:za[Ga]}:{type:"Literal",value:za[Ga]};Ha=Ha?{type:"MemberExpression",object:Ha,property:Ya,computed:!!(Ga&&Ya.type==="Literal"),optional:!1}:Ya}Ba=Ha}else Ba=name$1(Na)&&!/^[a-z]/.test(Na)?{type:"Identifier",name:Na}:{type:"Literal",value:Na};if(Ba.type==="Literal"){const za=Ba.value;return own$8.call(La.components,za)?La.components[za]:za}if(La.evaluater)return La.evaluater.evaluateExpression(Ba);crashEstree(La)}function crashEstree(La,Na){const ja=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:La.ancestors,place:Na,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw ja.file=La.filePath||void 0,ja.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",ja}function transformStylesToCssCasing(La){const Na={};let ja;for(ja in La)own$8.call(La,ja)&&(Na[transformStyleToCssCasing(ja)]=La[ja]);return Na}function transformStyleToCssCasing(La){let Na=La.replace(cap$1,toDash);return Na.slice(0,3)==="ms-"&&(Na="-"+Na),Na}function toDash(La){return"-"+La.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$5={};function toString$1(La,Na){const ja=emptyOptions$5,Ba=typeof ja.includeImageAlt=="boolean"?ja.includeImageAlt:!0,za=typeof ja.includeHtml=="boolean"?ja.includeHtml:!0;return one$3(La,Ba,za)}function one$3(La,Na,ja){if(node(La)){if("value"in La)return La.type==="html"&&!ja?"":La.value;if(Na&&"alt"in La&&La.alt)return La.alt;if("children"in La)return all$4(La.children,Na,ja)}return Array.isArray(La)?all$4(La,Na,ja):""}function all$4(La,Na,ja){const Ba=[];let za=-1;for(;++za<La.length;)Ba[za]=one$3(La[za],Na,ja);return Ba.join("")}function node(La){return!!(La&&typeof La=="object")}const element$6=document.createElement("i");function decodeNamedCharacterReference(La){const Na="&"+La+";";element$6.innerHTML=Na;const ja=element$6.textContent;return ja.charCodeAt(ja.length-1)===59&&La!=="semi"||ja===Na?!1:ja}function splice(La,Na,ja,Ba){const za=La.length;let Ga=0,Ha;if(Na<0?Na=-Na>za?0:za+Na:Na=Na>za?za:Na,ja=ja>0?ja:0,Ba.length<1e4)Ha=Array.from(Ba),Ha.unshift(Na,ja),La.splice(...Ha);else for(ja&&La.splice(Na,ja);Ga<Ba.length;)Ha=Ba.slice(Ga,Ga+1e4),Ha.unshift(Na,0),La.splice(...Ha),Ga+=1e4,Na+=1e4}function push(La,Na){return La.length>0?(splice(La,La.length,0,Na),La):Na}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(La){const Na={};let ja=-1;for(;++ja<La.length;)syntaxExtension(Na,La[ja]);return Na}function syntaxExtension(La,Na){let ja;for(ja in Na){const za=(hasOwnProperty.call(La,ja)?La[ja]:void 0)||(La[ja]={}),Ga=Na[ja];let Ha;if(Ga)for(Ha in Ga){hasOwnProperty.call(za,Ha)||(za[Ha]=[]);const Ya=Ga[Ha];constructs(za[Ha],Array.isArray(Ya)?Ya:Ya?[Ya]:[])}}}function constructs(La,Na){let ja=-1;const Ba=[];for(;++ja<Na.length;)(Na[ja].add==="after"?La:Ba).push(Na[ja]);splice(La,0,0,Ba)}function decodeNumericCharacterReference(La,Na){const ja=Number.parseInt(La,Na);return ja<9||ja===11||ja>13&&ja<32||ja>126&&ja<160||ja>55295&&ja<57344||ja>64975&&ja<65008||(ja&65535)===65535||(ja&65535)===65534||ja>1114111?"":String.fromCodePoint(ja)}function normalizeIdentifier(La){return La.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(La){return La!==null&&(La<32||La===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(La){return La!==null&&La<-2}function markdownLineEndingOrSpace(La){return La!==null&&(La<0||La===32)}function markdownSpace(La){return La===-2||La===-1||La===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(La){return Na;function Na(ja){return ja!==null&&ja>-1&&La.test(String.fromCharCode(ja))}}function normalizeUri(La){const Na=[];let ja=-1,Ba=0,za=0;for(;++ja<La.length;){const Ga=La.charCodeAt(ja);let Ha="";if(Ga===37&&asciiAlphanumeric(La.charCodeAt(ja+1))&&asciiAlphanumeric(La.charCodeAt(ja+2)))za=2;else if(Ga<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(Ga))||(Ha=String.fromCharCode(Ga));else if(Ga>55295&&Ga<57344){const Ya=La.charCodeAt(ja+1);Ga<56320&&Ya>56319&&Ya<57344?(Ha=String.fromCharCode(Ga,Ya),za=1):Ha=""}else Ha=String.fromCharCode(Ga);Ha&&(Na.push(La.slice(Ba,ja),encodeURIComponent(Ha)),Ba=ja+za+1,Ha=""),za&&(ja+=za,za=0)}return Na.join("")+La.slice(Ba)}function factorySpace(La,Na,ja,Ba){const za=Ba?Ba-1:Number.POSITIVE_INFINITY;let Ga=0;return Ha;function Ha(Xa){return markdownSpace(Xa)?(La.enter(ja),Ya(Xa)):Na(Xa)}function Ya(Xa){return markdownSpace(Xa)&&Ga++<za?(La.consume(Xa),Ya):(La.exit(ja),Na(Xa))}}const content$1={tokenize:initializeContent};function initializeContent(La){const Na=La.attempt(this.parser.constructs.contentInitial,Ba,za);let ja;return Na;function Ba(Ya){if(Ya===null){La.consume(Ya);return}return La.enter("lineEnding"),La.consume(Ya),La.exit("lineEnding"),factorySpace(La,Na,"linePrefix")}function za(Ya){return La.enter("paragraph"),Ga(Ya)}function Ga(Ya){const Xa=La.enter("chunkText",{contentType:"text",previous:ja});return ja&&(ja.next=Xa),ja=Xa,Ha(Ya)}function Ha(Ya){if(Ya===null){La.exit("chunkText"),La.exit("paragraph"),La.consume(Ya);return}return markdownLineEnding(Ya)?(La.consume(Ya),La.exit("chunkText"),Ga):(La.consume(Ya),Ha)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(La){const Na=this,ja=[];let Ba=0,za,Ga,Ha;return Ya;function Ya(tl){if(Ba<ja.length){const rl=ja[Ba];return Na.containerState=rl[1],La.attempt(rl[0].continuation,Xa,Ka)(tl)}return Ka(tl)}function Xa(tl){if(Ba++,Na.containerState._closeFlow){Na.containerState._closeFlow=void 0,za&&el();const rl=Na.events.length;let il=rl,al;for(;il--;)if(Na.events[il][0]==="exit"&&Na.events[il][1].type==="chunkFlow"){al=Na.events[il][1].end;break}Mo(Ba);let ll=rl;for(;ll<Na.events.length;)Na.events[ll][1].end={...al},ll++;return splice(Na.events,il+1,0,Na.events.slice(rl)),Na.events.length=ll,Ka(tl)}return Ya(tl)}function Ka(tl){if(Ba===ja.length){if(!za)return Ua(tl);if(za.currentConstruct&&za.currentConstruct.concrete)return Ja(tl);Na.interrupt=!!(za.currentConstruct&&!za._gfmTableDynamicInterruptHack)}return Na.containerState={},La.check(containerConstruct,Qa,Va)(tl)}function Qa(tl){return za&&el(),Mo(Ba),Ua(tl)}function Va(tl){return Na.parser.lazy[Na.now().line]=Ba!==ja.length,Ha=Na.now().offset,Ja(tl)}function Ua(tl){return Na.containerState={},La.attempt(containerConstruct,Wa,Ja)(tl)}function Wa(tl){return Ba++,ja.push([Na.currentConstruct,Na.containerState]),Ua(tl)}function Ja(tl){if(tl===null){za&&el(),Mo(0),La.consume(tl);return}return za=za||Na.parser.flow(Na.now()),La.enter("chunkFlow",{_tokenizer:za,contentType:"flow",previous:Ga}),Oo(tl)}function Oo(tl){if(tl===null){Do(La.exit("chunkFlow"),!0),Mo(0),La.consume(tl);return}return markdownLineEnding(tl)?(La.consume(tl),Do(La.exit("chunkFlow")),Ba=0,Na.interrupt=void 0,Ya):(La.consume(tl),Oo)}function Do(tl,rl){const il=Na.sliceStream(tl);if(rl&&il.push(null),tl.previous=Ga,Ga&&(Ga.next=tl),Ga=tl,za.defineSkip(tl.start),za.write(il),Na.parser.lazy[tl.start.line]){let al=za.events.length;for(;al--;)if(za.events[al][1].start.offset<Ha&&(!za.events[al][1].end||za.events[al][1].end.offset>Ha))return;const ll=Na.events.length;let ul=ll,ol,cl;for(;ul--;)if(Na.events[ul][0]==="exit"&&Na.events[ul][1].type==="chunkFlow"){if(ol){cl=Na.events[ul][1].end;break}ol=!0}for(Mo(Ba),al=ll;al<Na.events.length;)Na.events[al][1].end={...cl},al++;splice(Na.events,ul+1,0,Na.events.slice(ll)),Na.events.length=al}}function Mo(tl){let rl=ja.length;for(;rl-- >tl;){const il=ja[rl];Na.containerState=il[1],il[0].exit.call(Na,La)}ja.length=tl}function el(){za.write([null]),Ga=void 0,za=void 0,Na.containerState._closeFlow=void 0}}function tokenizeContainer(La,Na,ja){return factorySpace(La,La.attempt(this.parser.constructs.document,Na,ja),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(La){if(La===null||markdownLineEndingOrSpace(La)||unicodeWhitespace(La))return 1;if(unicodePunctuation(La))return 2}function resolveAll(La,Na,ja){const Ba=[];let za=-1;for(;++za<La.length;){const Ga=La[za].resolveAll;Ga&&!Ba.includes(Ga)&&(Na=Ga(Na,ja),Ba.push(Ga))}return Na}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(La,Na){let ja=-1,Ba,za,Ga,Ha,Ya,Xa,Ka,Qa;for(;++ja<La.length;)if(La[ja][0]==="enter"&&La[ja][1].type==="attentionSequence"&&La[ja][1]._close){for(Ba=ja;Ba--;)if(La[Ba][0]==="exit"&&La[Ba][1].type==="attentionSequence"&&La[Ba][1]._open&&Na.sliceSerialize(La[Ba][1]).charCodeAt(0)===Na.sliceSerialize(La[ja][1]).charCodeAt(0)){if((La[Ba][1]._close||La[ja][1]._open)&&(La[ja][1].end.offset-La[ja][1].start.offset)%3&&!((La[Ba][1].end.offset-La[Ba][1].start.offset+La[ja][1].end.offset-La[ja][1].start.offset)%3))continue;Xa=La[Ba][1].end.offset-La[Ba][1].start.offset>1&&La[ja][1].end.offset-La[ja][1].start.offset>1?2:1;const Va={...La[Ba][1].end},Ua={...La[ja][1].start};movePoint(Va,-Xa),movePoint(Ua,Xa),Ha={type:Xa>1?"strongSequence":"emphasisSequence",start:Va,end:{...La[Ba][1].end}},Ya={type:Xa>1?"strongSequence":"emphasisSequence",start:{...La[ja][1].start},end:Ua},Ga={type:Xa>1?"strongText":"emphasisText",start:{...La[Ba][1].end},end:{...La[ja][1].start}},za={type:Xa>1?"strong":"emphasis",start:{...Ha.start},end:{...Ya.end}},La[Ba][1].end={...Ha.start},La[ja][1].start={...Ya.end},Ka=[],La[Ba][1].end.offset-La[Ba][1].start.offset&&(Ka=push(Ka,[["enter",La[Ba][1],Na],["exit",La[Ba][1],Na]])),Ka=push(Ka,[["enter",za,Na],["enter",Ha,Na],["exit",Ha,Na],["enter",Ga,Na]]),Ka=push(Ka,resolveAll(Na.parser.constructs.insideSpan.null,La.slice(Ba+1,ja),Na)),Ka=push(Ka,[["exit",Ga,Na],["enter",Ya,Na],["exit",Ya,Na],["exit",za,Na]]),La[ja][1].end.offset-La[ja][1].start.offset?(Qa=2,Ka=push(Ka,[["enter",La[ja][1],Na],["exit",La[ja][1],Na]])):Qa=0,splice(La,Ba-1,ja-Ba+3,Ka),ja=Ba+Ka.length-Qa-2;break}}for(ja=-1;++ja<La.length;)La[ja][1].type==="attentionSequence"&&(La[ja][1].type="data");return La}function tokenizeAttention(La,Na){const ja=this.parser.constructs.attentionMarkers.null,Ba=this.previous,za=classifyCharacter(Ba);let Ga;return Ha;function Ha(Xa){return Ga=Xa,La.enter("attentionSequence"),Ya(Xa)}function Ya(Xa){if(Xa===Ga)return La.consume(Xa),Ya;const Ka=La.exit("attentionSequence"),Qa=classifyCharacter(Xa),Va=!Qa||Qa===2&&za||ja.includes(Xa),Ua=!za||za===2&&Qa||ja.includes(Ba);return Ka._open=!!(Ga===42?Va:Va&&(za||!Ua)),Ka._close=!!(Ga===42?Ua:Ua&&(Qa||!Va)),Na(Xa)}}function movePoint(La,Na){La.column+=Na,La.offset+=Na,La._bufferIndex+=Na}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(La,Na,ja){let Ba=0;return za;function za(Wa){return La.enter("autolink"),La.enter("autolinkMarker"),La.consume(Wa),La.exit("autolinkMarker"),La.enter("autolinkProtocol"),Ga}function Ga(Wa){return asciiAlpha(Wa)?(La.consume(Wa),Ha):Wa===64?ja(Wa):Ka(Wa)}function Ha(Wa){return Wa===43||Wa===45||Wa===46||asciiAlphanumeric(Wa)?(Ba=1,Ya(Wa)):Ka(Wa)}function Ya(Wa){return Wa===58?(La.consume(Wa),Ba=0,Xa):(Wa===43||Wa===45||Wa===46||asciiAlphanumeric(Wa))&&Ba++<32?(La.consume(Wa),Ya):(Ba=0,Ka(Wa))}function Xa(Wa){return Wa===62?(La.exit("autolinkProtocol"),La.enter("autolinkMarker"),La.consume(Wa),La.exit("autolinkMarker"),La.exit("autolink"),Na):Wa===null||Wa===32||Wa===60||asciiControl(Wa)?ja(Wa):(La.consume(Wa),Xa)}function Ka(Wa){return Wa===64?(La.consume(Wa),Qa):asciiAtext(Wa)?(La.consume(Wa),Ka):ja(Wa)}function Qa(Wa){return asciiAlphanumeric(Wa)?Va(Wa):ja(Wa)}function Va(Wa){return Wa===46?(La.consume(Wa),Ba=0,Qa):Wa===62?(La.exit("autolinkProtocol").type="autolinkEmail",La.enter("autolinkMarker"),La.consume(Wa),La.exit("autolinkMarker"),La.exit("autolink"),Na):Ua(Wa)}function Ua(Wa){if((Wa===45||asciiAlphanumeric(Wa))&&Ba++<63){const Ja=Wa===45?Ua:Va;return La.consume(Wa),Ja}return ja(Wa)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(La,Na,ja){return Ba;function Ba(Ga){return markdownSpace(Ga)?factorySpace(La,za,"linePrefix")(Ga):za(Ga)}function za(Ga){return Ga===null||markdownLineEnding(Ga)?Na(Ga):ja(Ga)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(La,Na,ja){const Ba=this;return za;function za(Ha){if(Ha===62){const Ya=Ba.containerState;return Ya.open||(La.enter("blockQuote",{_container:!0}),Ya.open=!0),La.enter("blockQuotePrefix"),La.enter("blockQuoteMarker"),La.consume(Ha),La.exit("blockQuoteMarker"),Ga}return ja(Ha)}function Ga(Ha){return markdownSpace(Ha)?(La.enter("blockQuotePrefixWhitespace"),La.consume(Ha),La.exit("blockQuotePrefixWhitespace"),La.exit("blockQuotePrefix"),Na):(La.exit("blockQuotePrefix"),Na(Ha))}}function tokenizeBlockQuoteContinuation(La,Na,ja){const Ba=this;return za;function za(Ha){return markdownSpace(Ha)?factorySpace(La,Ga,"linePrefix",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ha):Ga(Ha)}function Ga(Ha){return La.attempt(blockQuote,Na,ja)(Ha)}}function exit$1(La){La.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(La,Na,ja){return Ba;function Ba(Ga){return La.enter("characterEscape"),La.enter("escapeMarker"),La.consume(Ga),La.exit("escapeMarker"),za}function za(Ga){return asciiPunctuation(Ga)?(La.enter("characterEscapeValue"),La.consume(Ga),La.exit("characterEscapeValue"),La.exit("characterEscape"),Na):ja(Ga)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(La,Na,ja){const Ba=this;let za=0,Ga,Ha;return Ya;function Ya(Va){return La.enter("characterReference"),La.enter("characterReferenceMarker"),La.consume(Va),La.exit("characterReferenceMarker"),Xa}function Xa(Va){return Va===35?(La.enter("characterReferenceMarkerNumeric"),La.consume(Va),La.exit("characterReferenceMarkerNumeric"),Ka):(La.enter("characterReferenceValue"),Ga=31,Ha=asciiAlphanumeric,Qa(Va))}function Ka(Va){return Va===88||Va===120?(La.enter("characterReferenceMarkerHexadecimal"),La.consume(Va),La.exit("characterReferenceMarkerHexadecimal"),La.enter("characterReferenceValue"),Ga=6,Ha=asciiHexDigit,Qa):(La.enter("characterReferenceValue"),Ga=7,Ha=asciiDigit,Qa(Va))}function Qa(Va){if(Va===59&&za){const Ua=La.exit("characterReferenceValue");return Ha===asciiAlphanumeric&&!decodeNamedCharacterReference(Ba.sliceSerialize(Ua))?ja(Va):(La.enter("characterReferenceMarker"),La.consume(Va),La.exit("characterReferenceMarker"),La.exit("characterReference"),Na)}return Ha(Va)&&za++<Ga?(La.consume(Va),Qa):ja(Va)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(La,Na,ja){const Ba=this,za={partial:!0,tokenize:il};let Ga=0,Ha=0,Ya;return Xa;function Xa(al){return Ka(al)}function Ka(al){const ll=Ba.events[Ba.events.length-1];return Ga=ll&&ll[1].type==="linePrefix"?ll[2].sliceSerialize(ll[1],!0).length:0,Ya=al,La.enter("codeFenced"),La.enter("codeFencedFence"),La.enter("codeFencedFenceSequence"),Qa(al)}function Qa(al){return al===Ya?(Ha++,La.consume(al),Qa):Ha<3?ja(al):(La.exit("codeFencedFenceSequence"),markdownSpace(al)?factorySpace(La,Va,"whitespace")(al):Va(al))}function Va(al){return al===null||markdownLineEnding(al)?(La.exit("codeFencedFence"),Ba.interrupt?Na(al):La.check(nonLazyContinuation$1,Oo,rl)(al)):(La.enter("codeFencedFenceInfo"),La.enter("chunkString",{contentType:"string"}),Ua(al))}function Ua(al){return al===null||markdownLineEnding(al)?(La.exit("chunkString"),La.exit("codeFencedFenceInfo"),Va(al)):markdownSpace(al)?(La.exit("chunkString"),La.exit("codeFencedFenceInfo"),factorySpace(La,Wa,"whitespace")(al)):al===96&&al===Ya?ja(al):(La.consume(al),Ua)}function Wa(al){return al===null||markdownLineEnding(al)?Va(al):(La.enter("codeFencedFenceMeta"),La.enter("chunkString",{contentType:"string"}),Ja(al))}function Ja(al){return al===null||markdownLineEnding(al)?(La.exit("chunkString"),La.exit("codeFencedFenceMeta"),Va(al)):al===96&&al===Ya?ja(al):(La.consume(al),Ja)}function Oo(al){return La.attempt(za,rl,Do)(al)}function Do(al){return La.enter("lineEnding"),La.consume(al),La.exit("lineEnding"),Mo}function Mo(al){return Ga>0&&markdownSpace(al)?factorySpace(La,el,"linePrefix",Ga+1)(al):el(al)}function el(al){return al===null||markdownLineEnding(al)?La.check(nonLazyContinuation$1,Oo,rl)(al):(La.enter("codeFlowValue"),tl(al))}function tl(al){return al===null||markdownLineEnding(al)?(La.exit("codeFlowValue"),el(al)):(La.consume(al),tl)}function rl(al){return La.exit("codeFenced"),Na(al)}function il(al,ll,ul){let ol=0;return cl;function cl(Al){return al.enter("lineEnding"),al.consume(Al),al.exit("lineEnding"),gl}function gl(Al){return al.enter("codeFencedFence"),markdownSpace(Al)?factorySpace(al,bl,"linePrefix",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Al):bl(Al)}function bl(Al){return Al===Ya?(al.enter("codeFencedFenceSequence"),_l(Al)):ul(Al)}function _l(Al){return Al===Ya?(ol++,al.consume(Al),_l):ol>=Ha?(al.exit("codeFencedFenceSequence"),markdownSpace(Al)?factorySpace(al,xl,"whitespace")(Al):xl(Al)):ul(Al)}function xl(Al){return Al===null||markdownLineEnding(Al)?(al.exit("codeFencedFence"),ll(Al)):ul(Al)}}}function tokenizeNonLazyContinuation$1(La,Na,ja){const Ba=this;return za;function za(Ha){return Ha===null?ja(Ha):(La.enter("lineEnding"),La.consume(Ha),La.exit("lineEnding"),Ga)}function Ga(Ha){return Ba.parser.lazy[Ba.now().line]?ja(Ha):Na(Ha)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(La,Na,ja){const Ba=this;return za;function za(Ka){return La.enter("codeIndented"),factorySpace(La,Ga,"linePrefix",5)(Ka)}function Ga(Ka){const Qa=Ba.events[Ba.events.length-1];return Qa&&Qa[1].type==="linePrefix"&&Qa[2].sliceSerialize(Qa[1],!0).length>=4?Ha(Ka):ja(Ka)}function Ha(Ka){return Ka===null?Xa(Ka):markdownLineEnding(Ka)?La.attempt(furtherStart,Ha,Xa)(Ka):(La.enter("codeFlowValue"),Ya(Ka))}function Ya(Ka){return Ka===null||markdownLineEnding(Ka)?(La.exit("codeFlowValue"),Ha(Ka)):(La.consume(Ka),Ya)}function Xa(Ka){return La.exit("codeIndented"),Na(Ka)}}function tokenizeFurtherStart(La,Na,ja){const Ba=this;return za;function za(Ha){return Ba.parser.lazy[Ba.now().line]?ja(Ha):markdownLineEnding(Ha)?(La.enter("lineEnding"),La.consume(Ha),La.exit("lineEnding"),za):factorySpace(La,Ga,"linePrefix",5)(Ha)}function Ga(Ha){const Ya=Ba.events[Ba.events.length-1];return Ya&&Ya[1].type==="linePrefix"&&Ya[2].sliceSerialize(Ya[1],!0).length>=4?Na(Ha):markdownLineEnding(Ha)?za(Ha):ja(Ha)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(La){let Na=La.length-4,ja=3,Ba,za;if((La[ja][1].type==="lineEnding"||La[ja][1].type==="space")&&(La[Na][1].type==="lineEnding"||La[Na][1].type==="space")){for(Ba=ja;++Ba<Na;)if(La[Ba][1].type==="codeTextData"){La[ja][1].type="codeTextPadding",La[Na][1].type="codeTextPadding",ja+=2,Na-=2;break}}for(Ba=ja-1,Na++;++Ba<=Na;)za===void 0?Ba!==Na&&La[Ba][1].type!=="lineEnding"&&(za=Ba):(Ba===Na||La[Ba][1].type==="lineEnding")&&(La[za][1].type="codeTextData",Ba!==za+2&&(La[za][1].end=La[Ba-1][1].end,La.splice(za+2,Ba-za-2),Na-=Ba-za-2,Ba=za+2),za=void 0);return La}function previous$2(La){return La!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(La,Na,ja){let Ba=0,za,Ga;return Ha;function Ha(Va){return La.enter("codeText"),La.enter("codeTextSequence"),Ya(Va)}function Ya(Va){return Va===96?(La.consume(Va),Ba++,Ya):(La.exit("codeTextSequence"),Xa(Va))}function Xa(Va){return Va===null?ja(Va):Va===32?(La.enter("space"),La.consume(Va),La.exit("space"),Xa):Va===96?(Ga=La.enter("codeTextSequence"),za=0,Qa(Va)):markdownLineEnding(Va)?(La.enter("lineEnding"),La.consume(Va),La.exit("lineEnding"),Xa):(La.enter("codeTextData"),Ka(Va))}function Ka(Va){return Va===null||Va===32||Va===96||markdownLineEnding(Va)?(La.exit("codeTextData"),Xa(Va)):(La.consume(Va),Ka)}function Qa(Va){return Va===96?(La.consume(Va),za++,Qa):za===Ba?(La.exit("codeTextSequence"),La.exit("codeText"),Na(Va)):(Ga.type="codeTextData",Ka(Va))}}class SpliceBuffer{constructor(Na){this.left=Na?[...Na]:[],this.right=[]}get(Na){if(Na<0||Na>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+Na+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return Na<this.left.length?this.left[Na]:this.right[this.right.length-Na+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(Na,ja){const Ba=ja??Number.POSITIVE_INFINITY;return Ba<this.left.length?this.left.slice(Na,Ba):Na>this.left.length?this.right.slice(this.right.length-Ba+this.left.length,this.right.length-Na+this.left.length).reverse():this.left.slice(Na).concat(this.right.slice(this.right.length-Ba+this.left.length).reverse())}splice(Na,ja,Ba){const za=ja||0;this.setCursor(Math.trunc(Na));const Ga=this.right.splice(this.right.length-za,Number.POSITIVE_INFINITY);return Ba&&chunkedPush(this.left,Ba),Ga.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(Na){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(Na)}pushMany(Na){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,Na)}unshift(Na){this.setCursor(0),this.right.push(Na)}unshiftMany(Na){this.setCursor(0),chunkedPush(this.right,Na.reverse())}setCursor(Na){if(!(Na===this.left.length||Na>this.left.length&&this.right.length===0||Na<0&&this.left.length===0))if(Na<this.left.length){const ja=this.left.splice(Na,Number.POSITIVE_INFINITY);chunkedPush(this.right,ja.reverse())}else{const ja=this.right.splice(this.left.length+this.right.length-Na,Number.POSITIVE_INFINITY);chunkedPush(this.left,ja.reverse())}}}function chunkedPush(La,Na){let ja=0;if(Na.length<1e4)La.push(...Na);else for(;ja<Na.length;)La.push(...Na.slice(ja,ja+1e4)),ja+=1e4}function subtokenize(La){const Na={};let ja=-1,Ba,za,Ga,Ha,Ya,Xa,Ka;const Qa=new SpliceBuffer(La);for(;++ja<Qa.length;){for(;ja in Na;)ja=Na[ja];if(Ba=Qa.get(ja),ja&&Ba[1].type==="chunkFlow"&&Qa.get(ja-1)[1].type==="listItemPrefix"&&(Xa=Ba[1]._tokenizer.events,Ga=0,Ga<Xa.length&&Xa[Ga][1].type==="lineEndingBlank"&&(Ga+=2),Ga<Xa.length&&Xa[Ga][1].type==="content"))for(;++Ga<Xa.length&&Xa[Ga][1].type!=="content";)Xa[Ga][1].type==="chunkText"&&(Xa[Ga][1]._isInFirstContentOfListItem=!0,Ga++);if(Ba[0]==="enter")Ba[1].contentType&&(Object.assign(Na,subcontent(Qa,ja)),ja=Na[ja],Ka=!0);else if(Ba[1]._container){for(Ga=ja,za=void 0;Ga--;)if(Ha=Qa.get(Ga),Ha[1].type==="lineEnding"||Ha[1].type==="lineEndingBlank")Ha[0]==="enter"&&(za&&(Qa.get(za)[1].type="lineEndingBlank"),Ha[1].type="lineEnding",za=Ga);else if(!(Ha[1].type==="linePrefix"||Ha[1].type==="listItemIndent"))break;za&&(Ba[1].end={...Qa.get(za)[1].start},Ya=Qa.slice(za,ja),Ya.unshift(Ba),Qa.splice(za,ja-za+1,Ya))}}return splice(La,0,Number.POSITIVE_INFINITY,Qa.slice(0)),!Ka}function subcontent(La,Na){const ja=La.get(Na)[1],Ba=La.get(Na)[2];let za=Na-1;const Ga=[];let Ha=ja._tokenizer;Ha||(Ha=Ba.parser[ja.contentType](ja.start),ja._contentTypeTextTrailing&&(Ha._contentTypeTextTrailing=!0));const Ya=Ha.events,Xa=[],Ka={};let Qa,Va,Ua=-1,Wa=ja,Ja=0,Oo=0;const Do=[Oo];for(;Wa;){for(;La.get(++za)[1]!==Wa;);Ga.push(za),Wa._tokenizer||(Qa=Ba.sliceStream(Wa),Wa.next||Qa.push(null),Va&&Ha.defineSkip(Wa.start),Wa._isInFirstContentOfListItem&&(Ha._gfmTasklistFirstContentOfListItem=!0),Ha.write(Qa),Wa._isInFirstContentOfListItem&&(Ha._gfmTasklistFirstContentOfListItem=void 0)),Va=Wa,Wa=Wa.next}for(Wa=ja;++Ua<Ya.length;)Ya[Ua][0]==="exit"&&Ya[Ua-1][0]==="enter"&&Ya[Ua][1].type===Ya[Ua-1][1].type&&Ya[Ua][1].start.line!==Ya[Ua][1].end.line&&(Oo=Ua+1,Do.push(Oo),Wa._tokenizer=void 0,Wa.previous=void 0,Wa=Wa.next);for(Ha.events=[],Wa?(Wa._tokenizer=void 0,Wa.previous=void 0):Do.pop(),Ua=Do.length;Ua--;){const Mo=Ya.slice(Do[Ua],Do[Ua+1]),el=Ga.pop();Xa.push([el,el+Mo.length-1]),La.splice(el,2,Mo)}for(Xa.reverse(),Ua=-1;++Ua<Xa.length;)Ka[Ja+Xa[Ua][0]]=Ja+Xa[Ua][1],Ja+=Xa[Ua][1]-Xa[Ua][0]-1;return Ka}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(La){return subtokenize(La),La}function tokenizeContent(La,Na){let ja;return Ba;function Ba(Ya){return La.enter("content"),ja=La.enter("chunkContent",{contentType:"content"}),za(Ya)}function za(Ya){return Ya===null?Ga(Ya):markdownLineEnding(Ya)?La.check(continuationConstruct,Ha,Ga)(Ya):(La.consume(Ya),za)}function Ga(Ya){return La.exit("chunkContent"),La.exit("content"),Na(Ya)}function Ha(Ya){return La.consume(Ya),La.exit("chunkContent"),ja.next=La.enter("chunkContent",{contentType:"content",previous:ja}),ja=ja.next,za}}function tokenizeContinuation(La,Na,ja){const Ba=this;return za;function za(Ha){return La.exit("chunkContent"),La.enter("lineEnding"),La.consume(Ha),La.exit("lineEnding"),factorySpace(La,Ga,"linePrefix")}function Ga(Ha){if(Ha===null||markdownLineEnding(Ha))return ja(Ha);const Ya=Ba.events[Ba.events.length-1];return!Ba.parser.constructs.disable.null.includes("codeIndented")&&Ya&&Ya[1].type==="linePrefix"&&Ya[2].sliceSerialize(Ya[1],!0).length>=4?Na(Ha):La.interrupt(Ba.parser.constructs.flow,ja,Na)(Ha)}}function factoryDestination(La,Na,ja,Ba,za,Ga,Ha,Ya,Xa){const Ka=Xa||Number.POSITIVE_INFINITY;let Qa=0;return Va;function Va(Mo){return Mo===60?(La.enter(Ba),La.enter(za),La.enter(Ga),La.consume(Mo),La.exit(Ga),Ua):Mo===null||Mo===32||Mo===41||asciiControl(Mo)?ja(Mo):(La.enter(Ba),La.enter(Ha),La.enter(Ya),La.enter("chunkString",{contentType:"string"}),Oo(Mo))}function Ua(Mo){return Mo===62?(La.enter(Ga),La.consume(Mo),La.exit(Ga),La.exit(za),La.exit(Ba),Na):(La.enter(Ya),La.enter("chunkString",{contentType:"string"}),Wa(Mo))}function Wa(Mo){return Mo===62?(La.exit("chunkString"),La.exit(Ya),Ua(Mo)):Mo===null||Mo===60||markdownLineEnding(Mo)?ja(Mo):(La.consume(Mo),Mo===92?Ja:Wa)}function Ja(Mo){return Mo===60||Mo===62||Mo===92?(La.consume(Mo),Wa):Wa(Mo)}function Oo(Mo){return!Qa&&(Mo===null||Mo===41||markdownLineEndingOrSpace(Mo))?(La.exit("chunkString"),La.exit(Ya),La.exit(Ha),La.exit(Ba),Na(Mo)):Qa<Ka&&Mo===40?(La.consume(Mo),Qa++,Oo):Mo===41?(La.consume(Mo),Qa--,Oo):Mo===null||Mo===32||Mo===40||asciiControl(Mo)?ja(Mo):(La.consume(Mo),Mo===92?Do:Oo)}function Do(Mo){return Mo===40||Mo===41||Mo===92?(La.consume(Mo),Oo):Oo(Mo)}}function factoryLabel(La,Na,ja,Ba,za,Ga){const Ha=this;let Ya=0,Xa;return Ka;function Ka(Wa){return La.enter(Ba),La.enter(za),La.consume(Wa),La.exit(za),La.enter(Ga),Qa}function Qa(Wa){return Ya>999||Wa===null||Wa===91||Wa===93&&!Xa||Wa===94&&!Ya&&"_hiddenFootnoteSupport"in Ha.parser.constructs?ja(Wa):Wa===93?(La.exit(Ga),La.enter(za),La.consume(Wa),La.exit(za),La.exit(Ba),Na):markdownLineEnding(Wa)?(La.enter("lineEnding"),La.consume(Wa),La.exit("lineEnding"),Qa):(La.enter("chunkString",{contentType:"string"}),Va(Wa))}function Va(Wa){return Wa===null||Wa===91||Wa===93||markdownLineEnding(Wa)||Ya++>999?(La.exit("chunkString"),Qa(Wa)):(La.consume(Wa),Xa||(Xa=!markdownSpace(Wa)),Wa===92?Ua:Va)}function Ua(Wa){return Wa===91||Wa===92||Wa===93?(La.consume(Wa),Ya++,Va):Va(Wa)}}function factoryTitle(La,Na,ja,Ba,za,Ga){let Ha;return Ya;function Ya(Ua){return Ua===34||Ua===39||Ua===40?(La.enter(Ba),La.enter(za),La.consume(Ua),La.exit(za),Ha=Ua===40?41:Ua,Xa):ja(Ua)}function Xa(Ua){return Ua===Ha?(La.enter(za),La.consume(Ua),La.exit(za),La.exit(Ba),Na):(La.enter(Ga),Ka(Ua))}function Ka(Ua){return Ua===Ha?(La.exit(Ga),Xa(Ha)):Ua===null?ja(Ua):markdownLineEnding(Ua)?(La.enter("lineEnding"),La.consume(Ua),La.exit("lineEnding"),factorySpace(La,Ka,"linePrefix")):(La.enter("chunkString",{contentType:"string"}),Qa(Ua))}function Qa(Ua){return Ua===Ha||Ua===null||markdownLineEnding(Ua)?(La.exit("chunkString"),Ka(Ua)):(La.consume(Ua),Ua===92?Va:Qa)}function Va(Ua){return Ua===Ha||Ua===92?(La.consume(Ua),Qa):Qa(Ua)}}function factoryWhitespace(La,Na){let ja;return Ba;function Ba(za){return markdownLineEnding(za)?(La.enter("lineEnding"),La.consume(za),La.exit("lineEnding"),ja=!0,Ba):markdownSpace(za)?factorySpace(La,Ba,ja?"linePrefix":"lineSuffix")(za):Na(za)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(La,Na,ja){const Ba=this;let za;return Ga;function Ga(Wa){return La.enter("definition"),Ha(Wa)}function Ha(Wa){return factoryLabel.call(Ba,La,Ya,ja,"definitionLabel","definitionLabelMarker","definitionLabelString")(Wa)}function Ya(Wa){return za=normalizeIdentifier(Ba.sliceSerialize(Ba.events[Ba.events.length-1][1]).slice(1,-1)),Wa===58?(La.enter("definitionMarker"),La.consume(Wa),La.exit("definitionMarker"),Xa):ja(Wa)}function Xa(Wa){return markdownLineEndingOrSpace(Wa)?factoryWhitespace(La,Ka)(Wa):Ka(Wa)}function Ka(Wa){return factoryDestination(La,Qa,ja,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(Wa)}function Qa(Wa){return La.attempt(titleBefore,Va,Va)(Wa)}function Va(Wa){return markdownSpace(Wa)?factorySpace(La,Ua,"whitespace")(Wa):Ua(Wa)}function Ua(Wa){return Wa===null||markdownLineEnding(Wa)?(La.exit("definition"),Ba.parser.defined.push(za),Na(Wa)):ja(Wa)}}function tokenizeTitleBefore(La,Na,ja){return Ba;function Ba(Ya){return markdownLineEndingOrSpace(Ya)?factoryWhitespace(La,za)(Ya):ja(Ya)}function za(Ya){return factoryTitle(La,Ga,ja,"definitionTitle","definitionTitleMarker","definitionTitleString")(Ya)}function Ga(Ya){return markdownSpace(Ya)?factorySpace(La,Ha,"whitespace")(Ya):Ha(Ya)}function Ha(Ya){return Ya===null||markdownLineEnding(Ya)?Na(Ya):ja(Ya)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(La,Na,ja){return Ba;function Ba(Ga){return La.enter("hardBreakEscape"),La.consume(Ga),za}function za(Ga){return markdownLineEnding(Ga)?(La.exit("hardBreakEscape"),Na(Ga)):ja(Ga)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(La,Na){let ja=La.length-2,Ba=3,za,Ga;return La[Ba][1].type==="whitespace"&&(Ba+=2),ja-2>Ba&&La[ja][1].type==="whitespace"&&(ja-=2),La[ja][1].type==="atxHeadingSequence"&&(Ba===ja-1||ja-4>Ba&&La[ja-2][1].type==="whitespace")&&(ja-=Ba+1===ja?2:4),ja>Ba&&(za={type:"atxHeadingText",start:La[Ba][1].start,end:La[ja][1].end},Ga={type:"chunkText",start:La[Ba][1].start,end:La[ja][1].end,contentType:"text"},splice(La,Ba,ja-Ba+1,[["enter",za,Na],["enter",Ga,Na],["exit",Ga,Na],["exit",za,Na]])),La}function tokenizeHeadingAtx(La,Na,ja){let Ba=0;return za;function za(Qa){return La.enter("atxHeading"),Ga(Qa)}function Ga(Qa){return La.enter("atxHeadingSequence"),Ha(Qa)}function Ha(Qa){return Qa===35&&Ba++<6?(La.consume(Qa),Ha):Qa===null||markdownLineEndingOrSpace(Qa)?(La.exit("atxHeadingSequence"),Ya(Qa)):ja(Qa)}function Ya(Qa){return Qa===35?(La.enter("atxHeadingSequence"),Xa(Qa)):Qa===null||markdownLineEnding(Qa)?(La.exit("atxHeading"),Na(Qa)):markdownSpace(Qa)?factorySpace(La,Ya,"whitespace")(Qa):(La.enter("atxHeadingText"),Ka(Qa))}function Xa(Qa){return Qa===35?(La.consume(Qa),Xa):(La.exit("atxHeadingSequence"),Ya(Qa))}function Ka(Qa){return Qa===null||Qa===35||markdownLineEndingOrSpace(Qa)?(La.exit("atxHeadingText"),Ya(Qa)):(La.consume(Qa),Ka)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(La){let Na=La.length;for(;Na--&&!(La[Na][0]==="enter"&&La[Na][1].type==="htmlFlow"););return Na>1&&La[Na-2][1].type==="linePrefix"&&(La[Na][1].start=La[Na-2][1].start,La[Na+1][1].start=La[Na-2][1].start,La.splice(Na-2,2)),La}function tokenizeHtmlFlow(La,Na,ja){const Ba=this;let za,Ga,Ha,Ya,Xa;return Ka;function Ka(pl){return Qa(pl)}function Qa(pl){return La.enter("htmlFlow"),La.enter("htmlFlowData"),La.consume(pl),Va}function Va(pl){return pl===33?(La.consume(pl),Ua):pl===47?(La.consume(pl),Ga=!0,Oo):pl===63?(La.consume(pl),za=3,Ba.interrupt?Na:dl):asciiAlpha(pl)?(La.consume(pl),Ha=String.fromCharCode(pl),Do):ja(pl)}function Ua(pl){return pl===45?(La.consume(pl),za=2,Wa):pl===91?(La.consume(pl),za=5,Ya=0,Ja):asciiAlpha(pl)?(La.consume(pl),za=4,Ba.interrupt?Na:dl):ja(pl)}function Wa(pl){return pl===45?(La.consume(pl),Ba.interrupt?Na:dl):ja(pl)}function Ja(pl){const jl="CDATA[";return pl===jl.charCodeAt(Ya++)?(La.consume(pl),Ya===jl.length?Ba.interrupt?Na:bl:Ja):ja(pl)}function Oo(pl){return asciiAlpha(pl)?(La.consume(pl),Ha=String.fromCharCode(pl),Do):ja(pl)}function Do(pl){if(pl===null||pl===47||pl===62||markdownLineEndingOrSpace(pl)){const jl=pl===47,Ll=Ha.toLowerCase();return!jl&&!Ga&&htmlRawNames.includes(Ll)?(za=1,Ba.interrupt?Na(pl):bl(pl)):htmlBlockNames.includes(Ha.toLowerCase())?(za=6,jl?(La.consume(pl),Mo):Ba.interrupt?Na(pl):bl(pl)):(za=7,Ba.interrupt&&!Ba.parser.lazy[Ba.now().line]?ja(pl):Ga?el(pl):tl(pl))}return pl===45||asciiAlphanumeric(pl)?(La.consume(pl),Ha+=String.fromCharCode(pl),Do):ja(pl)}function Mo(pl){return pl===62?(La.consume(pl),Ba.interrupt?Na:bl):ja(pl)}function el(pl){return markdownSpace(pl)?(La.consume(pl),el):cl(pl)}function tl(pl){return pl===47?(La.consume(pl),cl):pl===58||pl===95||asciiAlpha(pl)?(La.consume(pl),rl):markdownSpace(pl)?(La.consume(pl),tl):cl(pl)}function rl(pl){return pl===45||pl===46||pl===58||pl===95||asciiAlphanumeric(pl)?(La.consume(pl),rl):il(pl)}function il(pl){return pl===61?(La.consume(pl),al):markdownSpace(pl)?(La.consume(pl),il):tl(pl)}function al(pl){return pl===null||pl===60||pl===61||pl===62||pl===96?ja(pl):pl===34||pl===39?(La.consume(pl),Xa=pl,ll):markdownSpace(pl)?(La.consume(pl),al):ul(pl)}function ll(pl){return pl===Xa?(La.consume(pl),Xa=null,ol):pl===null||markdownLineEnding(pl)?ja(pl):(La.consume(pl),ll)}function ul(pl){return pl===null||pl===34||pl===39||pl===47||pl===60||pl===61||pl===62||pl===96||markdownLineEndingOrSpace(pl)?il(pl):(La.consume(pl),ul)}function ol(pl){return pl===47||pl===62||markdownSpace(pl)?tl(pl):ja(pl)}function cl(pl){return pl===62?(La.consume(pl),gl):ja(pl)}function gl(pl){return pl===null||markdownLineEnding(pl)?bl(pl):markdownSpace(pl)?(La.consume(pl),gl):ja(pl)}function bl(pl){return pl===45&&za===2?(La.consume(pl),ml):pl===60&&za===1?(La.consume(pl),Sl):pl===62&&za===4?(La.consume(pl),Rl):pl===63&&za===3?(La.consume(pl),dl):pl===93&&za===5?(La.consume(pl),Nl):markdownLineEnding(pl)&&(za===6||za===7)?(La.exit("htmlFlowData"),La.check(blankLineBefore,Tl,_l)(pl)):pl===null||markdownLineEnding(pl)?(La.exit("htmlFlowData"),_l(pl)):(La.consume(pl),bl)}function _l(pl){return La.check(nonLazyContinuationStart,xl,Tl)(pl)}function xl(pl){return La.enter("lineEnding"),La.consume(pl),La.exit("lineEnding"),Al}function Al(pl){return pl===null||markdownLineEnding(pl)?_l(pl):(La.enter("htmlFlowData"),bl(pl))}function ml(pl){return pl===45?(La.consume(pl),dl):bl(pl)}function Sl(pl){return pl===47?(La.consume(pl),Ha="",Cl):bl(pl)}function Cl(pl){if(pl===62){const jl=Ha.toLowerCase();return htmlRawNames.includes(jl)?(La.consume(pl),Rl):bl(pl)}return asciiAlpha(pl)&&Ha.length<8?(La.consume(pl),Ha+=String.fromCharCode(pl),Cl):bl(pl)}function Nl(pl){return pl===93?(La.consume(pl),dl):bl(pl)}function dl(pl){return pl===62?(La.consume(pl),Rl):pl===45&&za===2?(La.consume(pl),dl):bl(pl)}function Rl(pl){return pl===null||markdownLineEnding(pl)?(La.exit("htmlFlowData"),Tl(pl)):(La.consume(pl),Rl)}function Tl(pl){return La.exit("htmlFlow"),Na(pl)}}function tokenizeNonLazyContinuationStart(La,Na,ja){const Ba=this;return za;function za(Ha){return markdownLineEnding(Ha)?(La.enter("lineEnding"),La.consume(Ha),La.exit("lineEnding"),Ga):ja(Ha)}function Ga(Ha){return Ba.parser.lazy[Ba.now().line]?ja(Ha):Na(Ha)}}function tokenizeBlankLineBefore(La,Na,ja){return Ba;function Ba(za){return La.enter("lineEnding"),La.consume(za),La.exit("lineEnding"),La.attempt(blankLine,Na,ja)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(La,Na,ja){const Ba=this;let za,Ga,Ha;return Ya;function Ya(dl){return La.enter("htmlText"),La.enter("htmlTextData"),La.consume(dl),Xa}function Xa(dl){return dl===33?(La.consume(dl),Ka):dl===47?(La.consume(dl),il):dl===63?(La.consume(dl),tl):asciiAlpha(dl)?(La.consume(dl),ul):ja(dl)}function Ka(dl){return dl===45?(La.consume(dl),Qa):dl===91?(La.consume(dl),Ga=0,Ja):asciiAlpha(dl)?(La.consume(dl),el):ja(dl)}function Qa(dl){return dl===45?(La.consume(dl),Wa):ja(dl)}function Va(dl){return dl===null?ja(dl):dl===45?(La.consume(dl),Ua):markdownLineEnding(dl)?(Ha=Va,Sl(dl)):(La.consume(dl),Va)}function Ua(dl){return dl===45?(La.consume(dl),Wa):Va(dl)}function Wa(dl){return dl===62?ml(dl):dl===45?Ua(dl):Va(dl)}function Ja(dl){const Rl="CDATA[";return dl===Rl.charCodeAt(Ga++)?(La.consume(dl),Ga===Rl.length?Oo:Ja):ja(dl)}function Oo(dl){return dl===null?ja(dl):dl===93?(La.consume(dl),Do):markdownLineEnding(dl)?(Ha=Oo,Sl(dl)):(La.consume(dl),Oo)}function Do(dl){return dl===93?(La.consume(dl),Mo):Oo(dl)}function Mo(dl){return dl===62?ml(dl):dl===93?(La.consume(dl),Mo):Oo(dl)}function el(dl){return dl===null||dl===62?ml(dl):markdownLineEnding(dl)?(Ha=el,Sl(dl)):(La.consume(dl),el)}function tl(dl){return dl===null?ja(dl):dl===63?(La.consume(dl),rl):markdownLineEnding(dl)?(Ha=tl,Sl(dl)):(La.consume(dl),tl)}function rl(dl){return dl===62?ml(dl):tl(dl)}function il(dl){return asciiAlpha(dl)?(La.consume(dl),al):ja(dl)}function al(dl){return dl===45||asciiAlphanumeric(dl)?(La.consume(dl),al):ll(dl)}function ll(dl){return markdownLineEnding(dl)?(Ha=ll,Sl(dl)):markdownSpace(dl)?(La.consume(dl),ll):ml(dl)}function ul(dl){return dl===45||asciiAlphanumeric(dl)?(La.consume(dl),ul):dl===47||dl===62||markdownLineEndingOrSpace(dl)?ol(dl):ja(dl)}function ol(dl){return dl===47?(La.consume(dl),ml):dl===58||dl===95||asciiAlpha(dl)?(La.consume(dl),cl):markdownLineEnding(dl)?(Ha=ol,Sl(dl)):markdownSpace(dl)?(La.consume(dl),ol):ml(dl)}function cl(dl){return dl===45||dl===46||dl===58||dl===95||asciiAlphanumeric(dl)?(La.consume(dl),cl):gl(dl)}function gl(dl){return dl===61?(La.consume(dl),bl):markdownLineEnding(dl)?(Ha=gl,Sl(dl)):markdownSpace(dl)?(La.consume(dl),gl):ol(dl)}function bl(dl){return dl===null||dl===60||dl===61||dl===62||dl===96?ja(dl):dl===34||dl===39?(La.consume(dl),za=dl,_l):markdownLineEnding(dl)?(Ha=bl,Sl(dl)):markdownSpace(dl)?(La.consume(dl),bl):(La.consume(dl),xl)}function _l(dl){return dl===za?(La.consume(dl),za=void 0,Al):dl===null?ja(dl):markdownLineEnding(dl)?(Ha=_l,Sl(dl)):(La.consume(dl),_l)}function xl(dl){return dl===null||dl===34||dl===39||dl===60||dl===61||dl===96?ja(dl):dl===47||dl===62||markdownLineEndingOrSpace(dl)?ol(dl):(La.consume(dl),xl)}function Al(dl){return dl===47||dl===62||markdownLineEndingOrSpace(dl)?ol(dl):ja(dl)}function ml(dl){return dl===62?(La.consume(dl),La.exit("htmlTextData"),La.exit("htmlText"),Na):ja(dl)}function Sl(dl){return La.exit("htmlTextData"),La.enter("lineEnding"),La.consume(dl),La.exit("lineEnding"),Cl}function Cl(dl){return markdownSpace(dl)?factorySpace(La,Nl,"linePrefix",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(dl):Nl(dl)}function Nl(dl){return La.enter("htmlTextData"),Ha(dl)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(La){let Na=-1;const ja=[];for(;++Na<La.length;){const Ba=La[Na][1];if(ja.push(La[Na]),Ba.type==="labelImage"||Ba.type==="labelLink"||Ba.type==="labelEnd"){const za=Ba.type==="labelImage"?4:2;Ba.type="data",Na+=za}}return La.length!==ja.length&&splice(La,0,La.length,ja),La}function resolveToLabelEnd(La,Na){let ja=La.length,Ba=0,za,Ga,Ha,Ya;for(;ja--;)if(za=La[ja][1],Ga){if(za.type==="link"||za.type==="labelLink"&&za._inactive)break;La[ja][0]==="enter"&&za.type==="labelLink"&&(za._inactive=!0)}else if(Ha){if(La[ja][0]==="enter"&&(za.type==="labelImage"||za.type==="labelLink")&&!za._balanced&&(Ga=ja,za.type!=="labelLink")){Ba=2;break}}else za.type==="labelEnd"&&(Ha=ja);const Xa={type:La[Ga][1].type==="labelLink"?"link":"image",start:{...La[Ga][1].start},end:{...La[La.length-1][1].end}},Ka={type:"label",start:{...La[Ga][1].start},end:{...La[Ha][1].end}},Qa={type:"labelText",start:{...La[Ga+Ba+2][1].end},end:{...La[Ha-2][1].start}};return Ya=[["enter",Xa,Na],["enter",Ka,Na]],Ya=push(Ya,La.slice(Ga+1,Ga+Ba+3)),Ya=push(Ya,[["enter",Qa,Na]]),Ya=push(Ya,resolveAll(Na.parser.constructs.insideSpan.null,La.slice(Ga+Ba+4,Ha-3),Na)),Ya=push(Ya,[["exit",Qa,Na],La[Ha-2],La[Ha-1],["exit",Ka,Na]]),Ya=push(Ya,La.slice(Ha+1)),Ya=push(Ya,[["exit",Xa,Na]]),splice(La,Ga,La.length,Ya),La}function tokenizeLabelEnd(La,Na,ja){const Ba=this;let za=Ba.events.length,Ga,Ha;for(;za--;)if((Ba.events[za][1].type==="labelImage"||Ba.events[za][1].type==="labelLink")&&!Ba.events[za][1]._balanced){Ga=Ba.events[za][1];break}return Ya;function Ya(Ua){return Ga?Ga._inactive?Va(Ua):(Ha=Ba.parser.defined.includes(normalizeIdentifier(Ba.sliceSerialize({start:Ga.end,end:Ba.now()}))),La.enter("labelEnd"),La.enter("labelMarker"),La.consume(Ua),La.exit("labelMarker"),La.exit("labelEnd"),Xa):ja(Ua)}function Xa(Ua){return Ua===40?La.attempt(resourceConstruct,Qa,Ha?Qa:Va)(Ua):Ua===91?La.attempt(referenceFullConstruct,Qa,Ha?Ka:Va)(Ua):Ha?Qa(Ua):Va(Ua)}function Ka(Ua){return La.attempt(referenceCollapsedConstruct,Qa,Va)(Ua)}function Qa(Ua){return Na(Ua)}function Va(Ua){return Ga._balanced=!0,ja(Ua)}}function tokenizeResource(La,Na,ja){return Ba;function Ba(Va){return La.enter("resource"),La.enter("resourceMarker"),La.consume(Va),La.exit("resourceMarker"),za}function za(Va){return markdownLineEndingOrSpace(Va)?factoryWhitespace(La,Ga)(Va):Ga(Va)}function Ga(Va){return Va===41?Qa(Va):factoryDestination(La,Ha,Ya,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(Va)}function Ha(Va){return markdownLineEndingOrSpace(Va)?factoryWhitespace(La,Xa)(Va):Qa(Va)}function Ya(Va){return ja(Va)}function Xa(Va){return Va===34||Va===39||Va===40?factoryTitle(La,Ka,ja,"resourceTitle","resourceTitleMarker","resourceTitleString")(Va):Qa(Va)}function Ka(Va){return markdownLineEndingOrSpace(Va)?factoryWhitespace(La,Qa)(Va):Qa(Va)}function Qa(Va){return Va===41?(La.enter("resourceMarker"),La.consume(Va),La.exit("resourceMarker"),La.exit("resource"),Na):ja(Va)}}function tokenizeReferenceFull(La,Na,ja){const Ba=this;return za;function za(Ya){return factoryLabel.call(Ba,La,Ga,Ha,"reference","referenceMarker","referenceString")(Ya)}function Ga(Ya){return Ba.parser.defined.includes(normalizeIdentifier(Ba.sliceSerialize(Ba.events[Ba.events.length-1][1]).slice(1,-1)))?Na(Ya):ja(Ya)}function Ha(Ya){return ja(Ya)}}function tokenizeReferenceCollapsed(La,Na,ja){return Ba;function Ba(Ga){return La.enter("reference"),La.enter("referenceMarker"),La.consume(Ga),La.exit("referenceMarker"),za}function za(Ga){return Ga===93?(La.enter("referenceMarker"),La.consume(Ga),La.exit("referenceMarker"),La.exit("reference"),Na):ja(Ga)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(La,Na,ja){const Ba=this;return za;function za(Ya){return La.enter("labelImage"),La.enter("labelImageMarker"),La.consume(Ya),La.exit("labelImageMarker"),Ga}function Ga(Ya){return Ya===91?(La.enter("labelMarker"),La.consume(Ya),La.exit("labelMarker"),La.exit("labelImage"),Ha):ja(Ya)}function Ha(Ya){return Ya===94&&"_hiddenFootnoteSupport"in Ba.parser.constructs?ja(Ya):Na(Ya)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(La,Na,ja){const Ba=this;return za;function za(Ha){return La.enter("labelLink"),La.enter("labelMarker"),La.consume(Ha),La.exit("labelMarker"),La.exit("labelLink"),Ga}function Ga(Ha){return Ha===94&&"_hiddenFootnoteSupport"in Ba.parser.constructs?ja(Ha):Na(Ha)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(La,Na){return ja;function ja(Ba){return La.enter("lineEnding"),La.consume(Ba),La.exit("lineEnding"),factorySpace(La,Na,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(La,Na,ja){let Ba=0,za;return Ga;function Ga(Ka){return La.enter("thematicBreak"),Ha(Ka)}function Ha(Ka){return za=Ka,Ya(Ka)}function Ya(Ka){return Ka===za?(La.enter("thematicBreakSequence"),Xa(Ka)):Ba>=3&&(Ka===null||markdownLineEnding(Ka))?(La.exit("thematicBreak"),Na(Ka)):ja(Ka)}function Xa(Ka){return Ka===za?(La.consume(Ka),Ba++,Xa):(La.exit("thematicBreakSequence"),markdownSpace(Ka)?factorySpace(La,Ya,"whitespace")(Ka):Ya(Ka))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(La,Na,ja){const Ba=this,za=Ba.events[Ba.events.length-1];let Ga=za&&za[1].type==="linePrefix"?za[2].sliceSerialize(za[1],!0).length:0,Ha=0;return Ya;function Ya(Wa){const Ja=Ba.containerState.type||(Wa===42||Wa===43||Wa===45?"listUnordered":"listOrdered");if(Ja==="listUnordered"?!Ba.containerState.marker||Wa===Ba.containerState.marker:asciiDigit(Wa)){if(Ba.containerState.type||(Ba.containerState.type=Ja,La.enter(Ja,{_container:!0})),Ja==="listUnordered")return La.enter("listItemPrefix"),Wa===42||Wa===45?La.check(thematicBreak$2,ja,Ka)(Wa):Ka(Wa);if(!Ba.interrupt||Wa===49)return La.enter("listItemPrefix"),La.enter("listItemValue"),Xa(Wa)}return ja(Wa)}function Xa(Wa){return asciiDigit(Wa)&&++Ha<10?(La.consume(Wa),Xa):(!Ba.interrupt||Ha<2)&&(Ba.containerState.marker?Wa===Ba.containerState.marker:Wa===41||Wa===46)?(La.exit("listItemValue"),Ka(Wa)):ja(Wa)}function Ka(Wa){return La.enter("listItemMarker"),La.consume(Wa),La.exit("listItemMarker"),Ba.containerState.marker=Ba.containerState.marker||Wa,La.check(blankLine,Ba.interrupt?ja:Qa,La.attempt(listItemPrefixWhitespaceConstruct,Ua,Va))}function Qa(Wa){return Ba.containerState.initialBlankLine=!0,Ga++,Ua(Wa)}function Va(Wa){return markdownSpace(Wa)?(La.enter("listItemPrefixWhitespace"),La.consume(Wa),La.exit("listItemPrefixWhitespace"),Ua):ja(Wa)}function Ua(Wa){return Ba.containerState.size=Ga+Ba.sliceSerialize(La.exit("listItemPrefix"),!0).length,Na(Wa)}}function tokenizeListContinuation(La,Na,ja){const Ba=this;return Ba.containerState._closeFlow=void 0,La.check(blankLine,za,Ga);function za(Ya){return Ba.containerState.furtherBlankLines=Ba.containerState.furtherBlankLines||Ba.containerState.initialBlankLine,factorySpace(La,Na,"listItemIndent",Ba.containerState.size+1)(Ya)}function Ga(Ya){return Ba.containerState.furtherBlankLines||!markdownSpace(Ya)?(Ba.containerState.furtherBlankLines=void 0,Ba.containerState.initialBlankLine=void 0,Ha(Ya)):(Ba.containerState.furtherBlankLines=void 0,Ba.containerState.initialBlankLine=void 0,La.attempt(indentConstruct,Na,Ha)(Ya))}function Ha(Ya){return Ba.containerState._closeFlow=!0,Ba.interrupt=void 0,factorySpace(La,La.attempt(list$2,Na,ja),"linePrefix",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ya)}}function tokenizeIndent$1(La,Na,ja){const Ba=this;return factorySpace(La,za,"listItemIndent",Ba.containerState.size+1);function za(Ga){const Ha=Ba.events[Ba.events.length-1];return Ha&&Ha[1].type==="listItemIndent"&&Ha[2].sliceSerialize(Ha[1],!0).length===Ba.containerState.size?Na(Ga):ja(Ga)}}function tokenizeListEnd(La){La.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(La,Na,ja){const Ba=this;return factorySpace(La,za,"listItemPrefixWhitespace",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function za(Ga){const Ha=Ba.events[Ba.events.length-1];return!markdownSpace(Ga)&&Ha&&Ha[1].type==="listItemPrefixWhitespace"?Na(Ga):ja(Ga)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(La,Na){let ja=La.length,Ba,za,Ga;for(;ja--;)if(La[ja][0]==="enter"){if(La[ja][1].type==="content"){Ba=ja;break}La[ja][1].type==="paragraph"&&(za=ja)}else La[ja][1].type==="content"&&La.splice(ja,1),!Ga&&La[ja][1].type==="definition"&&(Ga=ja);const Ha={type:"setextHeading",start:{...La[Ba][1].start},end:{...La[La.length-1][1].end}};return La[za][1].type="setextHeadingText",Ga?(La.splice(za,0,["enter",Ha,Na]),La.splice(Ga+1,0,["exit",La[Ba][1],Na]),La[Ba][1].end={...La[Ga][1].end}):La[Ba][1]=Ha,La.push(["exit",Ha,Na]),La}function tokenizeSetextUnderline(La,Na,ja){const Ba=this;let za;return Ga;function Ga(Ka){let Qa=Ba.events.length,Va;for(;Qa--;)if(Ba.events[Qa][1].type!=="lineEnding"&&Ba.events[Qa][1].type!=="linePrefix"&&Ba.events[Qa][1].type!=="content"){Va=Ba.events[Qa][1].type==="paragraph";break}return!Ba.parser.lazy[Ba.now().line]&&(Ba.interrupt||Va)?(La.enter("setextHeadingLine"),za=Ka,Ha(Ka)):ja(Ka)}function Ha(Ka){return La.enter("setextHeadingLineSequence"),Ya(Ka)}function Ya(Ka){return Ka===za?(La.consume(Ka),Ya):(La.exit("setextHeadingLineSequence"),markdownSpace(Ka)?factorySpace(La,Xa,"lineSuffix")(Ka):Xa(Ka))}function Xa(Ka){return Ka===null||markdownLineEnding(Ka)?(La.exit("setextHeadingLine"),Na(Ka)):ja(Ka)}}const flow$1={tokenize:initializeFlow};function initializeFlow(La){const Na=this,ja=La.attempt(blankLine,Ba,La.attempt(this.parser.constructs.flowInitial,za,factorySpace(La,La.attempt(this.parser.constructs.flow,za,La.attempt(content,za)),"linePrefix")));return ja;function Ba(Ga){if(Ga===null){La.consume(Ga);return}return La.enter("lineEndingBlank"),La.consume(Ga),La.exit("lineEndingBlank"),Na.currentConstruct=void 0,ja}function za(Ga){if(Ga===null){La.consume(Ga);return}return La.enter("lineEnding"),La.consume(Ga),La.exit("lineEnding"),Na.currentConstruct=void 0,ja}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$a=initializeFactory("text");function initializeFactory(La){return{resolveAll:createResolver(La==="text"?resolveAllLineSuffixes:void 0),tokenize:Na};function Na(ja){const Ba=this,za=this.parser.constructs[La],Ga=ja.attempt(za,Ha,Ya);return Ha;function Ha(Qa){return Ka(Qa)?Ga(Qa):Ya(Qa)}function Ya(Qa){if(Qa===null){ja.consume(Qa);return}return ja.enter("data"),ja.consume(Qa),Xa}function Xa(Qa){return Ka(Qa)?(ja.exit("data"),Ga(Qa)):(ja.consume(Qa),Xa)}function Ka(Qa){if(Qa===null)return!0;const Va=za[Qa];let Ua=-1;if(Va)for(;++Ua<Va.length;){const Wa=Va[Ua];if(!Wa.previous||Wa.previous.call(Ba,Ba.previous))return!0}return!1}}}function createResolver(La){return Na;function Na(ja,Ba){let za=-1,Ga;for(;++za<=ja.length;)Ga===void 0?ja[za]&&ja[za][1].type==="data"&&(Ga=za,za++):(!ja[za]||ja[za][1].type!=="data")&&(za!==Ga+2&&(ja[Ga][1].end=ja[za-1][1].end,ja.splice(Ga+2,za-Ga-2),za=Ga+2),Ga=void 0);return La?La(ja,Ba):ja}}function resolveAllLineSuffixes(La,Na){let ja=0;for(;++ja<=La.length;)if((ja===La.length||La[ja][1].type==="lineEnding")&&La[ja-1][1].type==="data"){const Ba=La[ja-1][1],za=Na.sliceStream(Ba);let Ga=za.length,Ha=-1,Ya=0,Xa;for(;Ga--;){const Ka=za[Ga];if(typeof Ka=="string"){for(Ha=Ka.length;Ka.charCodeAt(Ha-1)===32;)Ya++,Ha--;if(Ha)break;Ha=-1}else if(Ka===-2)Xa=!0,Ya++;else if(Ka!==-1){Ga++;break}}if(Na._contentTypeTextTrailing&&ja===La.length&&(Ya=0),Ya){const Ka={type:ja===La.length||Xa||Ya<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:Ga?Ha:Ba.start._bufferIndex+Ha,_index:Ba.start._index+Ga,line:Ba.end.line,column:Ba.end.column-Ya,offset:Ba.end.offset-Ya},end:{...Ba.end}};Ba.end={...Ka.start},Ba.start.offset===Ba.end.offset?Object.assign(Ba,Ka):(La.splice(ja,0,["enter",Ka,Na],["exit",Ka,Na]),ja+=2)}ja++}return La}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$9={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$9},Symbol.toStringTag,{value:"Module"}));function createTokenizer(La,Na,ja){let Ba={_bufferIndex:-1,_index:0,line:ja&&ja.line||1,column:ja&&ja.column||1,offset:ja&&ja.offset||0};const za={},Ga=[];let Ha=[],Ya=[];const Xa={attempt:ll(il),check:ll(al),consume:el,enter:tl,exit:rl,interrupt:ll(al,{interrupt:!0})},Ka={code:null,containerState:{},defineSkip:Oo,events:[],now:Ja,parser:La,previous:null,sliceSerialize:Ua,sliceStream:Wa,write:Va};let Qa=Na.tokenize.call(Ka,Xa);return Na.resolveAll&&Ga.push(Na),Ka;function Va(gl){return Ha=push(Ha,gl),Do(),Ha[Ha.length-1]!==null?[]:(ul(Na,0),Ka.events=resolveAll(Ga,Ka.events,Ka),Ka.events)}function Ua(gl,bl){return serializeChunks(Wa(gl),bl)}function Wa(gl){return sliceChunks(Ha,gl)}function Ja(){const{_bufferIndex:gl,_index:bl,line:_l,column:xl,offset:Al}=Ba;return{_bufferIndex:gl,_index:bl,line:_l,column:xl,offset:Al}}function Oo(gl){za[gl.line]=gl.column,cl()}function Do(){let gl;for(;Ba._index<Ha.length;){const bl=Ha[Ba._index];if(typeof bl=="string")for(gl=Ba._index,Ba._bufferIndex<0&&(Ba._bufferIndex=0);Ba._index===gl&&Ba._bufferIndex<bl.length;)Mo(bl.charCodeAt(Ba._bufferIndex));else Mo(bl)}}function Mo(gl){Qa=Qa(gl)}function el(gl){markdownLineEnding(gl)?(Ba.line++,Ba.column=1,Ba.offset+=gl===-3?2:1,cl()):gl!==-1&&(Ba.column++,Ba.offset++),Ba._bufferIndex<0?Ba._index++:(Ba._bufferIndex++,Ba._bufferIndex===Ha[Ba._index].length&&(Ba._bufferIndex=-1,Ba._index++)),Ka.previous=gl}function tl(gl,bl){const _l=bl||{};return _l.type=gl,_l.start=Ja(),Ka.events.push(["enter",_l,Ka]),Ya.push(_l),_l}function rl(gl){const bl=Ya.pop();return bl.end=Ja(),Ka.events.push(["exit",bl,Ka]),bl}function il(gl,bl){ul(gl,bl.from)}function al(gl,bl){bl.restore()}function ll(gl,bl){return _l;function _l(xl,Al,ml){let Sl,Cl,Nl,dl;return Array.isArray(xl)?Tl(xl):"tokenize"in xl?Tl([xl]):Rl(xl);function Rl(Dl){return $l;function $l(eu){const uu=eu!==null&&Dl[eu],su=eu!==null&&Dl.null,pu=[...Array.isArray(uu)?uu:uu?[uu]:[],...Array.isArray(su)?su:su?[su]:[]];return Tl(pu)(eu)}}function Tl(Dl){return Sl=Dl,Cl=0,Dl.length===0?ml:pl(Dl[Cl])}function pl(Dl){return $l;function $l(eu){return dl=ol(),Nl=Dl,Dl.partial||(Ka.currentConstruct=Dl),Dl.name&&Ka.parser.constructs.disable.null.includes(Dl.name)?Ll():Dl.tokenize.call(bl?Object.assign(Object.create(Ka),bl):Ka,Xa,jl,Ll)(eu)}}function jl(Dl){return gl(Nl,dl),Al}function Ll(Dl){return dl.restore(),++Cl<Sl.length?pl(Sl[Cl]):ml}}}function ul(gl,bl){gl.resolveAll&&!Ga.includes(gl)&&Ga.push(gl),gl.resolve&&splice(Ka.events,bl,Ka.events.length-bl,gl.resolve(Ka.events.slice(bl),Ka)),gl.resolveTo&&(Ka.events=gl.resolveTo(Ka.events,Ka))}function ol(){const gl=Ja(),bl=Ka.previous,_l=Ka.currentConstruct,xl=Ka.events.length,Al=Array.from(Ya);return{from:xl,restore:ml};function ml(){Ba=gl,Ka.previous=bl,Ka.currentConstruct=_l,Ka.events.length=xl,Ya=Al,cl()}}function cl(){Ba.line in za&&Ba.column<2&&(Ba.column=za[Ba.line],Ba.offset+=za[Ba.line]-1)}}function sliceChunks(La,Na){const ja=Na.start._index,Ba=Na.start._bufferIndex,za=Na.end._index,Ga=Na.end._bufferIndex;let Ha;if(ja===za)Ha=[La[ja].slice(Ba,Ga)];else{if(Ha=La.slice(ja,za),Ba>-1){const Ya=Ha[0];typeof Ya=="string"?Ha[0]=Ya.slice(Ba):Ha.shift()}Ga>0&&Ha.push(La[za].slice(0,Ga))}return Ha}function serializeChunks(La,Na){let ja=-1;const Ba=[];let za;for(;++ja<La.length;){const Ga=La[ja];let Ha;if(typeof Ga=="string")Ha=Ga;else switch(Ga){case-5:{Ha="\r";break}case-4:{Ha=`
`;break}case-3:{Ha=`\r
`;break}case-2:{Ha=Na?" ":"	";break}case-1:{if(!Na&&za)continue;Ha=" ";break}default:Ha=String.fromCharCode(Ga)}za=Ga===-2,Ba.push(Ha)}return Ba.join("")}function parse(La){const Ba={constructs:combineExtensions([defaultConstructs,...(La||{}).extensions||[]]),content:za(content$1),defined:[],document:za(document$2),flow:za(flow$1),lazy:{},string:za(string$1),text:za(text$a)};return Ba;function za(Ga){return Ha;function Ha(Ya){return createTokenizer(Ba,Ga,Ya)}}}function postprocess(La){for(;!subtokenize(La););return La}const search$1=/[\0\t\n\r]/g;function preprocess(){let La=1,Na="",ja=!0,Ba;return za;function za(Ga,Ha,Ya){const Xa=[];let Ka,Qa,Va,Ua,Wa;for(Ga=Na+(typeof Ga=="string"?Ga.toString():new TextDecoder(Ha||void 0).decode(Ga)),Va=0,Na="",ja&&(Ga.charCodeAt(0)===65279&&Va++,ja=void 0);Va<Ga.length;){if(search$1.lastIndex=Va,Ka=search$1.exec(Ga),Ua=Ka&&Ka.index!==void 0?Ka.index:Ga.length,Wa=Ga.charCodeAt(Ua),!Ka){Na=Ga.slice(Va);break}if(Wa===10&&Va===Ua&&Ba)Xa.push(-3),Ba=void 0;else switch(Ba&&(Xa.push(-5),Ba=void 0),Va<Ua&&(Xa.push(Ga.slice(Va,Ua)),La+=Ua-Va),Wa){case 0:{Xa.push(65533),La++;break}case 9:{for(Qa=Math.ceil(La/4)*4,Xa.push(-2);La++<Qa;)Xa.push(-1);break}case 10:{Xa.push(-4),La=1;break}default:Ba=!0,La=1}Va=Ua+1}return Ya&&(Ba&&Xa.push(-5),Na&&Xa.push(Na),Xa.push(null)),Xa}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(La){return La.replace(characterEscapeOrReference,decode)}function decode(La,Na,ja){if(Na)return Na;if(ja.charCodeAt(0)===35){const za=ja.charCodeAt(1),Ga=za===120||za===88;return decodeNumericCharacterReference(ja.slice(Ga?2:1),Ga?16:10)}return decodeNamedCharacterReference(ja)||La}const own$7={}.hasOwnProperty;function fromMarkdown(La,Na,ja){return typeof Na!="string"&&(ja=Na,Na=void 0),compiler(ja)(postprocess(parse(ja).document().write(preprocess()(La,Na,!0))))}function compiler(La){const Na={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:Ga(Zu),autolinkProtocol:ol,autolinkEmail:ol,atxHeading:Ga(fu),blockQuote:Ga(su),characterEscape:ol,characterReference:ol,codeFenced:Ga(pu),codeFencedFenceInfo:Ha,codeFencedFenceMeta:Ha,codeIndented:Ga(pu,Ha),codeText:Ga(Yl,Ha),codeTextData:ol,data:ol,codeFlowValue:ol,definition:Ga(ru),definitionDestinationString:Ha,definitionLabelString:Ha,definitionTitleString:Ha,emphasis:Ga(lu),hardBreakEscape:Ga(bu),hardBreakTrailing:Ga(bu),htmlFlow:Ga(xu,Ha),htmlFlowData:ol,htmlText:Ga(xu,Ha),htmlTextData:ol,image:Ga(Du),label:Ha,link:Ga(Zu),listItem:Ga(Mu),listItemValue:Ua,listOrdered:Ga(ic,Va),listUnordered:Ga(ic),paragraph:Ga(gu),reference:pl,referenceString:Ha,resourceDestinationString:Ha,resourceTitleString:Ha,setextHeading:Ga(fu),strong:Ga(Pu),thematicBreak:Ga(Au)},exit:{atxHeading:Xa(),atxHeadingSequence:il,autolink:Xa(),autolinkEmail:uu,autolinkProtocol:eu,blockQuote:Xa(),characterEscapeValue:cl,characterReferenceMarkerHexadecimal:Ll,characterReferenceMarkerNumeric:Ll,characterReferenceValue:Dl,characterReference:$l,codeFenced:Xa(Do),codeFencedFence:Oo,codeFencedFenceInfo:Wa,codeFencedFenceMeta:Ja,codeFlowValue:cl,codeIndented:Xa(Mo),codeText:Xa(Al),codeTextData:cl,data:cl,definition:Xa(),definitionDestinationString:rl,definitionLabelString:el,definitionTitleString:tl,emphasis:Xa(),hardBreakEscape:Xa(bl),hardBreakTrailing:Xa(bl),htmlFlow:Xa(_l),htmlFlowData:cl,htmlText:Xa(xl),htmlTextData:cl,image:Xa(Sl),label:Nl,labelText:Cl,lineEnding:gl,link:Xa(ml),listItem:Xa(),listOrdered:Xa(),listUnordered:Xa(),paragraph:Xa(),referenceString:jl,resourceDestinationString:dl,resourceTitleString:Rl,resource:Tl,setextHeading:Xa(ul),setextHeadingLineSequence:ll,setextHeadingText:al,strong:Xa(),thematicBreak:Xa()}};configure(Na,(La||{}).mdastExtensions||[]);const ja={};return Ba;function Ba(Ql){let iu={type:"root",children:[]};const Su={stack:[iu],tokenStack:[],config:Na,enter:Ya,exit:Ka,buffer:Ha,resume:Qa,data:ja},_u=[];let qu=-1;for(;++qu<Ql.length;)if(Ql[qu][1].type==="listOrdered"||Ql[qu][1].type==="listUnordered")if(Ql[qu][0]==="enter")_u.push(qu);else{const au=_u.pop();qu=za(Ql,au,qu)}for(qu=-1;++qu<Ql.length;){const au=Na[Ql[qu][0]];own$7.call(au,Ql[qu][1].type)&&au[Ql[qu][1].type].call(Object.assign({sliceSerialize:Ql[qu][2].sliceSerialize},Su),Ql[qu][1])}if(Su.tokenStack.length>0){const au=Su.tokenStack[Su.tokenStack.length-1];(au[1]||defaultOnError).call(Su,void 0,au[0])}for(iu.position={start:point$1(Ql.length>0?Ql[0][1].start:{line:1,column:1,offset:0}),end:point$1(Ql.length>0?Ql[Ql.length-2][1].end:{line:1,column:1,offset:0})},qu=-1;++qu<Na.transforms.length;)iu=Na.transforms[qu](iu)||iu;return iu}function za(Ql,iu,Su){let _u=iu-1,qu=-1,au=!1,cu,wu,hu,ec;for(;++_u<=Su;){const sc=Ql[_u];switch(sc[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{sc[0]==="enter"?qu++:qu--,ec=void 0;break}case"lineEndingBlank":{sc[0]==="enter"&&(cu&&!ec&&!qu&&!hu&&(hu=_u),ec=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ec=void 0}if(!qu&&sc[0]==="enter"&&sc[1].type==="listItemPrefix"||qu===-1&&sc[0]==="exit"&&(sc[1].type==="listUnordered"||sc[1].type==="listOrdered")){if(cu){let Lu=_u;for(wu=void 0;Lu--;){const Ku=Ql[Lu];if(Ku[1].type==="lineEnding"||Ku[1].type==="lineEndingBlank"){if(Ku[0]==="exit")continue;wu&&(Ql[wu][1].type="lineEndingBlank",au=!0),Ku[1].type="lineEnding",wu=Lu}else if(!(Ku[1].type==="linePrefix"||Ku[1].type==="blockQuotePrefix"||Ku[1].type==="blockQuotePrefixWhitespace"||Ku[1].type==="blockQuoteMarker"||Ku[1].type==="listItemIndent"))break}hu&&(!wu||hu<wu)&&(cu._spread=!0),cu.end=Object.assign({},wu?Ql[wu][1].start:sc[1].end),Ql.splice(wu||_u,0,["exit",cu,sc[2]]),_u++,Su++}if(sc[1].type==="listItemPrefix"){const Lu={type:"listItem",_spread:!1,start:Object.assign({},sc[1].start),end:void 0};cu=Lu,Ql.splice(_u,0,["enter",Lu,sc[2]]),_u++,Su++,hu=void 0,ec=!0}}}return Ql[iu][1]._spread=au,Su}function Ga(Ql,iu){return Su;function Su(_u){Ya.call(this,Ql(_u),_u),iu&&iu.call(this,_u)}}function Ha(){this.stack.push({type:"fragment",children:[]})}function Ya(Ql,iu,Su){this.stack[this.stack.length-1].children.push(Ql),this.stack.push(Ql),this.tokenStack.push([iu,Su||void 0]),Ql.position={start:point$1(iu.start),end:void 0}}function Xa(Ql){return iu;function iu(Su){Ql&&Ql.call(this,Su),Ka.call(this,Su)}}function Ka(Ql,iu){const Su=this.stack.pop(),_u=this.tokenStack.pop();if(_u)_u[0].type!==Ql.type&&(iu?iu.call(this,Ql,_u[0]):(_u[1]||defaultOnError).call(this,Ql,_u[0]));else throw new Error("Cannot close `"+Ql.type+"` ("+stringifyPosition({start:Ql.start,end:Ql.end})+"): its not open");Su.position.end=point$1(Ql.end)}function Qa(){return toString$1(this.stack.pop())}function Va(){this.data.expectingFirstListItemValue=!0}function Ua(Ql){if(this.data.expectingFirstListItemValue){const iu=this.stack[this.stack.length-2];iu.start=Number.parseInt(this.sliceSerialize(Ql),10),this.data.expectingFirstListItemValue=void 0}}function Wa(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.lang=Ql}function Ja(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.meta=Ql}function Oo(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Do(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.value=Ql.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function Mo(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.value=Ql.replace(/(\r?\n|\r)$/g,"")}function el(Ql){const iu=this.resume(),Su=this.stack[this.stack.length-1];Su.label=iu,Su.identifier=normalizeIdentifier(this.sliceSerialize(Ql)).toLowerCase()}function tl(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.title=Ql}function rl(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.url=Ql}function il(Ql){const iu=this.stack[this.stack.length-1];if(!iu.depth){const Su=this.sliceSerialize(Ql).length;iu.depth=Su}}function al(){this.data.setextHeadingSlurpLineEnding=!0}function ll(Ql){const iu=this.stack[this.stack.length-1];iu.depth=this.sliceSerialize(Ql).codePointAt(0)===61?1:2}function ul(){this.data.setextHeadingSlurpLineEnding=void 0}function ol(Ql){const Su=this.stack[this.stack.length-1].children;let _u=Su[Su.length-1];(!_u||_u.type!=="text")&&(_u=hc(),_u.position={start:point$1(Ql.start),end:void 0},Su.push(_u)),this.stack.push(_u)}function cl(Ql){const iu=this.stack.pop();iu.value+=this.sliceSerialize(Ql),iu.position.end=point$1(Ql.end)}function gl(Ql){const iu=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Su=iu.children[iu.children.length-1];Su.position.end=point$1(Ql.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&Na.canContainEols.includes(iu.type)&&(ol.call(this,Ql),cl.call(this,Ql))}function bl(){this.data.atHardBreak=!0}function _l(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.value=Ql}function xl(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.value=Ql}function Al(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.value=Ql}function ml(){const Ql=this.stack[this.stack.length-1];if(this.data.inReference){const iu=this.data.referenceType||"shortcut";Ql.type+="Reference",Ql.referenceType=iu,delete Ql.url,delete Ql.title}else delete Ql.identifier,delete Ql.label;this.data.referenceType=void 0}function Sl(){const Ql=this.stack[this.stack.length-1];if(this.data.inReference){const iu=this.data.referenceType||"shortcut";Ql.type+="Reference",Ql.referenceType=iu,delete Ql.url,delete Ql.title}else delete Ql.identifier,delete Ql.label;this.data.referenceType=void 0}function Cl(Ql){const iu=this.sliceSerialize(Ql),Su=this.stack[this.stack.length-2];Su.label=decodeString(iu),Su.identifier=normalizeIdentifier(iu).toLowerCase()}function Nl(){const Ql=this.stack[this.stack.length-1],iu=this.resume(),Su=this.stack[this.stack.length-1];if(this.data.inReference=!0,Su.type==="link"){const _u=Ql.children;Su.children=_u}else Su.alt=iu}function dl(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.url=Ql}function Rl(){const Ql=this.resume(),iu=this.stack[this.stack.length-1];iu.title=Ql}function Tl(){this.data.inReference=void 0}function pl(){this.data.referenceType="collapsed"}function jl(Ql){const iu=this.resume(),Su=this.stack[this.stack.length-1];Su.label=iu,Su.identifier=normalizeIdentifier(this.sliceSerialize(Ql)).toLowerCase(),this.data.referenceType="full"}function Ll(Ql){this.data.characterReferenceType=Ql.type}function Dl(Ql){const iu=this.sliceSerialize(Ql),Su=this.data.characterReferenceType;let _u;Su?(_u=decodeNumericCharacterReference(iu,Su==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_u=decodeNamedCharacterReference(iu);const qu=this.stack[this.stack.length-1];qu.value+=_u}function $l(Ql){const iu=this.stack.pop();iu.position.end=point$1(Ql.end)}function eu(Ql){cl.call(this,Ql);const iu=this.stack[this.stack.length-1];iu.url=this.sliceSerialize(Ql)}function uu(Ql){cl.call(this,Ql);const iu=this.stack[this.stack.length-1];iu.url="mailto:"+this.sliceSerialize(Ql)}function su(){return{type:"blockquote",children:[]}}function pu(){return{type:"code",lang:null,meta:null,value:""}}function Yl(){return{type:"inlineCode",value:""}}function ru(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lu(){return{type:"emphasis",children:[]}}function fu(){return{type:"heading",depth:0,children:[]}}function bu(){return{type:"break"}}function xu(){return{type:"html",value:""}}function Du(){return{type:"image",title:null,url:"",alt:null}}function Zu(){return{type:"link",title:null,url:"",children:[]}}function ic(Ql){return{type:"list",ordered:Ql.type==="listOrdered",start:null,spread:Ql._spread,children:[]}}function Mu(Ql){return{type:"listItem",spread:Ql._spread,checked:null,children:[]}}function gu(){return{type:"paragraph",children:[]}}function Pu(){return{type:"strong",children:[]}}function hc(){return{type:"text",value:""}}function Au(){return{type:"thematicBreak"}}}function point$1(La){return{line:La.line,column:La.column,offset:La.offset}}function configure(La,Na){let ja=-1;for(;++ja<Na.length;){const Ba=Na[ja];Array.isArray(Ba)?configure(La,Ba):extension(La,Ba)}}function extension(La,Na){let ja;for(ja in Na)if(own$7.call(Na,ja))switch(ja){case"canContainEols":{const Ba=Na[ja];Ba&&La[ja].push(...Ba);break}case"transforms":{const Ba=Na[ja];Ba&&La[ja].push(...Ba);break}case"enter":case"exit":{const Ba=Na[ja];Ba&&Object.assign(La[ja],Ba);break}}}function defaultOnError(La,Na){throw La?new Error("Cannot close `"+La.type+"` ("+stringifyPosition({start:La.start,end:La.end})+"): a different token (`"+Na.type+"`, "+stringifyPosition({start:Na.start,end:Na.end})+") is open"):new Error("Cannot close document, a token (`"+Na.type+"`, "+stringifyPosition({start:Na.start,end:Na.end})+") is still open")}function remarkParse(La){const Na=this;Na.parser=ja;function ja(Ba){return fromMarkdown(Ba,{...Na.data("settings"),...La,extensions:Na.data("micromarkExtensions")||[],mdastExtensions:Na.data("fromMarkdownExtensions")||[]})}}function blockquote$1(La,Na){const ja={type:"element",tagName:"blockquote",properties:{},children:La.wrap(La.all(Na),!0)};return La.patch(Na,ja),La.applyData(Na,ja)}function hardBreak$1(La,Na){const ja={type:"element",tagName:"br",properties:{},children:[]};return La.patch(Na,ja),[La.applyData(Na,ja),{type:"text",value:`
`}]}function code$2(La,Na){const ja=Na.value?Na.value+`
`:"",Ba={};Na.lang&&(Ba.className=["language-"+Na.lang]);let za={type:"element",tagName:"code",properties:Ba,children:[{type:"text",value:ja}]};return Na.meta&&(za.data={meta:Na.meta}),La.patch(Na,za),za=La.applyData(Na,za),za={type:"element",tagName:"pre",properties:{},children:[za]},La.patch(Na,za),za}function strikethrough(La,Na){const ja={type:"element",tagName:"del",properties:{},children:La.all(Na)};return La.patch(Na,ja),La.applyData(Na,ja)}function emphasis$1(La,Na){const ja={type:"element",tagName:"em",properties:{},children:La.all(Na)};return La.patch(Na,ja),La.applyData(Na,ja)}function footnoteReference$1(La,Na){const ja=typeof La.options.clobberPrefix=="string"?La.options.clobberPrefix:"user-content-",Ba=String(Na.identifier).toUpperCase(),za=normalizeUri(Ba.toLowerCase()),Ga=La.footnoteOrder.indexOf(Ba);let Ha,Ya=La.footnoteCounts.get(Ba);Ya===void 0?(Ya=0,La.footnoteOrder.push(Ba),Ha=La.footnoteOrder.length):Ha=Ga+1,Ya+=1,La.footnoteCounts.set(Ba,Ya);const Xa={type:"element",tagName:"a",properties:{href:"#"+ja+"fn-"+za,id:ja+"fnref-"+za+(Ya>1?"-"+Ya:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(Ha)}]};La.patch(Na,Xa);const Ka={type:"element",tagName:"sup",properties:{},children:[Xa]};return La.patch(Na,Ka),La.applyData(Na,Ka)}function heading$1(La,Na){const ja={type:"element",tagName:"h"+Na.depth,properties:{},children:La.all(Na)};return La.patch(Na,ja),La.applyData(Na,ja)}function html$3(La,Na){if(La.options.allowDangerousHtml){const ja={type:"raw",value:Na.value};return La.patch(Na,ja),La.applyData(Na,ja)}}function revert(La,Na){const ja=Na.referenceType;let Ba="]";if(ja==="collapsed"?Ba+="[]":ja==="full"&&(Ba+="["+(Na.label||Na.identifier)+"]"),Na.type==="imageReference")return[{type:"text",value:"!["+Na.alt+Ba}];const za=La.all(Na),Ga=za[0];Ga&&Ga.type==="text"?Ga.value="["+Ga.value:za.unshift({type:"text",value:"["});const Ha=za[za.length-1];return Ha&&Ha.type==="text"?Ha.value+=Ba:za.push({type:"text",value:Ba}),za}function imageReference$1(La,Na){const ja=String(Na.identifier).toUpperCase(),Ba=La.definitionById.get(ja);if(!Ba)return revert(La,Na);const za={src:normalizeUri(Ba.url||""),alt:Na.alt};Ba.title!==null&&Ba.title!==void 0&&(za.title=Ba.title);const Ga={type:"element",tagName:"img",properties:za,children:[]};return La.patch(Na,Ga),La.applyData(Na,Ga)}function image$1(La,Na){const ja={src:normalizeUri(Na.url)};Na.alt!==null&&Na.alt!==void 0&&(ja.alt=Na.alt),Na.title!==null&&Na.title!==void 0&&(ja.title=Na.title);const Ba={type:"element",tagName:"img",properties:ja,children:[]};return La.patch(Na,Ba),La.applyData(Na,Ba)}function inlineCode$1(La,Na){const ja={type:"text",value:Na.value.replace(/\r?\n|\r/g," ")};La.patch(Na,ja);const Ba={type:"element",tagName:"code",properties:{},children:[ja]};return La.patch(Na,Ba),La.applyData(Na,Ba)}function linkReference$1(La,Na){const ja=String(Na.identifier).toUpperCase(),Ba=La.definitionById.get(ja);if(!Ba)return revert(La,Na);const za={href:normalizeUri(Ba.url||"")};Ba.title!==null&&Ba.title!==void 0&&(za.title=Ba.title);const Ga={type:"element",tagName:"a",properties:za,children:La.all(Na)};return La.patch(Na,Ga),La.applyData(Na,Ga)}function link$1(La,Na){const ja={href:normalizeUri(Na.url)};Na.title!==null&&Na.title!==void 0&&(ja.title=Na.title);const Ba={type:"element",tagName:"a",properties:ja,children:La.all(Na)};return La.patch(Na,Ba),La.applyData(Na,Ba)}function listItem$1(La,Na,ja){const Ba=La.all(Na),za=ja?listLoose(ja):listItemLoose(Na),Ga={},Ha=[];if(typeof Na.checked=="boolean"){const Qa=Ba[0];let Va;Qa&&Qa.type==="element"&&Qa.tagName==="p"?Va=Qa:(Va={type:"element",tagName:"p",properties:{},children:[]},Ba.unshift(Va)),Va.children.length>0&&Va.children.unshift({type:"text",value:" "}),Va.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:Na.checked,disabled:!0},children:[]}),Ga.className=["task-list-item"]}let Ya=-1;for(;++Ya<Ba.length;){const Qa=Ba[Ya];(za||Ya!==0||Qa.type!=="element"||Qa.tagName!=="p")&&Ha.push({type:"text",value:`
`}),Qa.type==="element"&&Qa.tagName==="p"&&!za?Ha.push(...Qa.children):Ha.push(Qa)}const Xa=Ba[Ba.length-1];Xa&&(za||Xa.type!=="element"||Xa.tagName!=="p")&&Ha.push({type:"text",value:`
`});const Ka={type:"element",tagName:"li",properties:Ga,children:Ha};return La.patch(Na,Ka),La.applyData(Na,Ka)}function listLoose(La){let Na=!1;if(La.type==="list"){Na=La.spread||!1;const ja=La.children;let Ba=-1;for(;!Na&&++Ba<ja.length;)Na=listItemLoose(ja[Ba])}return Na}function listItemLoose(La){const Na=La.spread;return Na??La.children.length>1}function list$1(La,Na){const ja={},Ba=La.all(Na);let za=-1;for(typeof Na.start=="number"&&Na.start!==1&&(ja.start=Na.start);++za<Ba.length;){const Ha=Ba[za];if(Ha.type==="element"&&Ha.tagName==="li"&&Ha.properties&&Array.isArray(Ha.properties.className)&&Ha.properties.className.includes("task-list-item")){ja.className=["contains-task-list"];break}}const Ga={type:"element",tagName:Na.ordered?"ol":"ul",properties:ja,children:La.wrap(Ba,!0)};return La.patch(Na,Ga),La.applyData(Na,Ga)}function paragraph$1(La,Na){const ja={type:"element",tagName:"p",properties:{},children:La.all(Na)};return La.patch(Na,ja),La.applyData(Na,ja)}function root$5(La,Na){const ja={type:"root",children:La.wrap(La.all(Na))};return La.patch(Na,ja),La.applyData(Na,ja)}function strong$1(La,Na){const ja={type:"element",tagName:"strong",properties:{},children:La.all(Na)};return La.patch(Na,ja),La.applyData(Na,ja)}function table(La,Na){const ja=La.all(Na),Ba=ja.shift(),za=[];if(Ba){const Ha={type:"element",tagName:"thead",properties:{},children:La.wrap([Ba],!0)};La.patch(Na.children[0],Ha),za.push(Ha)}if(ja.length>0){const Ha={type:"element",tagName:"tbody",properties:{},children:La.wrap(ja,!0)},Ya=pointStart(Na.children[1]),Xa=pointEnd(Na.children[Na.children.length-1]);Ya&&Xa&&(Ha.position={start:Ya,end:Xa}),za.push(Ha)}const Ga={type:"element",tagName:"table",properties:{},children:La.wrap(za,!0)};return La.patch(Na,Ga),La.applyData(Na,Ga)}function tableRow(La,Na,ja){const Ba=ja?ja.children:void 0,Ga=(Ba?Ba.indexOf(Na):1)===0?"th":"td",Ha=ja&&ja.type==="table"?ja.align:void 0,Ya=Ha?Ha.length:Na.children.length;let Xa=-1;const Ka=[];for(;++Xa<Ya;){const Va=Na.children[Xa],Ua={},Wa=Ha?Ha[Xa]:void 0;Wa&&(Ua.align=Wa);let Ja={type:"element",tagName:Ga,properties:Ua,children:[]};Va&&(Ja.children=La.all(Va),La.patch(Va,Ja),Ja=La.applyData(Va,Ja)),Ka.push(Ja)}const Qa={type:"element",tagName:"tr",properties:{},children:La.wrap(Ka,!0)};return La.patch(Na,Qa),La.applyData(Na,Qa)}function tableCell(La,Na){const ja={type:"element",tagName:"td",properties:{},children:La.all(Na)};return La.patch(Na,ja),La.applyData(Na,ja)}const tab=9,space=32;function trimLines(La){const Na=String(La),ja=/\r?\n|\r/g;let Ba=ja.exec(Na),za=0;const Ga=[];for(;Ba;)Ga.push(trimLine(Na.slice(za,Ba.index),za>0,!0),Ba[0]),za=Ba.index+Ba[0].length,Ba=ja.exec(Na);return Ga.push(trimLine(Na.slice(za),za>0,!1)),Ga.join("")}function trimLine(La,Na,ja){let Ba=0,za=La.length;if(Na){let Ga=La.codePointAt(Ba);for(;Ga===tab||Ga===space;)Ba++,Ga=La.codePointAt(Ba)}if(ja){let Ga=La.codePointAt(za-1);for(;Ga===tab||Ga===space;)za--,Ga=La.codePointAt(za-1)}return za>Ba?La.slice(Ba,za):""}function text$8(La,Na){const ja={type:"text",value:trimLines(String(Na.value))};return La.patch(Na,ja),La.applyData(Na,ja)}function thematicBreak$1(La,Na){const ja={type:"element",tagName:"hr",properties:{},children:[]};return La.patch(Na,ja),La.applyData(Na,ja)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$3,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$5,strong:strong$1,table,tableCell,tableRow,text:text$8,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env$1=typeof self=="object"?self:globalThis,deserializer=(La,Na)=>{const ja=(za,Ga)=>(La.set(Ga,za),za),Ba=za=>{if(La.has(za))return La.get(za);const[Ga,Ha]=Na[za];switch(Ga){case PRIMITIVE:case VOID:return ja(Ha,za);case ARRAY:{const Ya=ja([],za);for(const Xa of Ha)Ya.push(Ba(Xa));return Ya}case OBJECT:{const Ya=ja({},za);for(const[Xa,Ka]of Ha)Ya[Ba(Xa)]=Ba(Ka);return Ya}case DATE:return ja(new Date(Ha),za);case REGEXP:{const{source:Ya,flags:Xa}=Ha;return ja(new RegExp(Ya,Xa),za)}case MAP:{const Ya=ja(new Map,za);for(const[Xa,Ka]of Ha)Ya.set(Ba(Xa),Ba(Ka));return Ya}case SET:{const Ya=ja(new Set,za);for(const Xa of Ha)Ya.add(Ba(Xa));return Ya}case ERROR:{const{name:Ya,message:Xa}=Ha;return ja(new env$1[Ya](Xa),za)}case BIGINT:return ja(BigInt(Ha),za);case"BigInt":return ja(Object(BigInt(Ha)),za);case"ArrayBuffer":return ja(new Uint8Array(Ha).buffer,Ha);case"DataView":{const{buffer:Ya}=new Uint8Array(Ha);return ja(new DataView(Ya),Ha)}}return ja(new env$1[Ga](Ha),za)};return Ba},deserialize=La=>deserializer(new Map,La)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=La=>{const Na=typeof La;if(Na!=="object"||!La)return[PRIMITIVE,Na];const ja=toString.call(La).slice(8,-1);switch(ja){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,ja]}return ja.includes("Array")?[ARRAY,ja]:ja.includes("Error")?[ERROR,ja]:[OBJECT,ja]},shouldSkip=([La,Na])=>La===PRIMITIVE&&(Na==="function"||Na==="symbol"),serializer=(La,Na,ja,Ba)=>{const za=(Ha,Ya)=>{const Xa=Ba.push(Ha)-1;return ja.set(Ya,Xa),Xa},Ga=Ha=>{if(ja.has(Ha))return ja.get(Ha);let[Ya,Xa]=typeOf(Ha);switch(Ya){case PRIMITIVE:{let Qa=Ha;switch(Xa){case"bigint":Ya=BIGINT,Qa=Ha.toString();break;case"function":case"symbol":if(La)throw new TypeError("unable to serialize "+Xa);Qa=null;break;case"undefined":return za([VOID],Ha)}return za([Ya,Qa],Ha)}case ARRAY:{if(Xa){let Ua=Ha;return Xa==="DataView"?Ua=new Uint8Array(Ha.buffer):Xa==="ArrayBuffer"&&(Ua=new Uint8Array(Ha)),za([Xa,[...Ua]],Ha)}const Qa=[],Va=za([Ya,Qa],Ha);for(const Ua of Ha)Qa.push(Ga(Ua));return Va}case OBJECT:{if(Xa)switch(Xa){case"BigInt":return za([Xa,Ha.toString()],Ha);case"Boolean":case"Number":case"String":return za([Xa,Ha.valueOf()],Ha)}if(Na&&"toJSON"in Ha)return Ga(Ha.toJSON());const Qa=[],Va=za([Ya,Qa],Ha);for(const Ua of keys(Ha))(La||!shouldSkip(typeOf(Ha[Ua])))&&Qa.push([Ga(Ua),Ga(Ha[Ua])]);return Va}case DATE:return za([Ya,Ha.toISOString()],Ha);case REGEXP:{const{source:Qa,flags:Va}=Ha;return za([Ya,{source:Qa,flags:Va}],Ha)}case MAP:{const Qa=[],Va=za([Ya,Qa],Ha);for(const[Ua,Wa]of Ha)(La||!(shouldSkip(typeOf(Ua))||shouldSkip(typeOf(Wa))))&&Qa.push([Ga(Ua),Ga(Wa)]);return Va}case SET:{const Qa=[],Va=za([Ya,Qa],Ha);for(const Ua of Ha)(La||!shouldSkip(typeOf(Ua)))&&Qa.push(Ga(Ua));return Va}}const{message:Ka}=Ha;return za([Ya,{name:Xa,message:Ka}],Ha)};return Ga},serialize$1=(La,{json:Na,lossy:ja}={})=>{const Ba=[];return serializer(!(Na||ja),!!Na,new Map,Ba)(La),Ba},structuredClone$1=typeof structuredClone=="function"?(La,Na)=>Na&&("json"in Na||"lossy"in Na)?deserialize(serialize$1(La,Na)):structuredClone(La):(La,Na)=>deserialize(serialize$1(La,Na));function defaultFootnoteBackContent(La,Na){const ja=[{type:"text",value:""}];return Na>1&&ja.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(Na)}]}),ja}function defaultFootnoteBackLabel(La,Na){return"Back to reference "+(La+1)+(Na>1?"-"+Na:"")}function footer(La){const Na=typeof La.options.clobberPrefix=="string"?La.options.clobberPrefix:"user-content-",ja=La.options.footnoteBackContent||defaultFootnoteBackContent,Ba=La.options.footnoteBackLabel||defaultFootnoteBackLabel,za=La.options.footnoteLabel||"Footnotes",Ga=La.options.footnoteLabelTagName||"h2",Ha=La.options.footnoteLabelProperties||{className:["sr-only"]},Ya=[];let Xa=-1;for(;++Xa<La.footnoteOrder.length;){const Ka=La.footnoteById.get(La.footnoteOrder[Xa]);if(!Ka)continue;const Qa=La.all(Ka),Va=String(Ka.identifier).toUpperCase(),Ua=normalizeUri(Va.toLowerCase());let Wa=0;const Ja=[],Oo=La.footnoteCounts.get(Va);for(;Oo!==void 0&&++Wa<=Oo;){Ja.length>0&&Ja.push({type:"text",value:" "});let el=typeof ja=="string"?ja:ja(Xa,Wa);typeof el=="string"&&(el={type:"text",value:el}),Ja.push({type:"element",tagName:"a",properties:{href:"#"+Na+"fnref-"+Ua+(Wa>1?"-"+Wa:""),dataFootnoteBackref:"",ariaLabel:typeof Ba=="string"?Ba:Ba(Xa,Wa),className:["data-footnote-backref"]},children:Array.isArray(el)?el:[el]})}const Do=Qa[Qa.length-1];if(Do&&Do.type==="element"&&Do.tagName==="p"){const el=Do.children[Do.children.length-1];el&&el.type==="text"?el.value+=" ":Do.children.push({type:"text",value:" "}),Do.children.push(...Ja)}else Qa.push(...Ja);const Mo={type:"element",tagName:"li",properties:{id:Na+"fn-"+Ua},children:La.wrap(Qa,!0)};La.patch(Ka,Mo),Ya.push(Mo)}if(Ya.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:Ga,properties:{...structuredClone$1(Ha),id:"footnote-label"},children:[{type:"text",value:za}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:La.wrap(Ya,!0)},{type:"text",value:`
`}]}}const convert=(function(La){if(La==null)return ok;if(typeof La=="function")return castFactory$1(La);if(typeof La=="object")return Array.isArray(La)?anyFactory$1(La):propsFactory(La);if(typeof La=="string")return typeFactory(La);throw new Error("Expected function, string, or object as test")});function anyFactory$1(La){const Na=[];let ja=-1;for(;++ja<La.length;)Na[ja]=convert(La[ja]);return castFactory$1(Ba);function Ba(...za){let Ga=-1;for(;++Ga<Na.length;)if(Na[Ga].apply(this,za))return!0;return!1}}function propsFactory(La){const Na=La;return castFactory$1(ja);function ja(Ba){const za=Ba;let Ga;for(Ga in La)if(za[Ga]!==Na[Ga])return!1;return!0}}function typeFactory(La){return castFactory$1(Na);function Na(ja){return ja&&ja.type===La}}function castFactory$1(La){return Na;function Na(ja,Ba,za){return!!(looksLikeANode(ja)&&La.call(this,ja,typeof Ba=="number"?Ba:void 0,za||void 0))}}function ok(){return!0}function looksLikeANode(La){return La!==null&&typeof La=="object"&&"type"in La}function color(La){return La}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(La,Na,ja,Ba){let za;typeof Na=="function"&&typeof ja!="function"?(Ba=ja,ja=Na):za=Na;const Ga=convert(za),Ha=Ba?-1:1;Ya(La,void 0,[])();function Ya(Xa,Ka,Qa){const Va=Xa&&typeof Xa=="object"?Xa:{};if(typeof Va.type=="string"){const Wa=typeof Va.tagName=="string"?Va.tagName:typeof Va.name=="string"?Va.name:void 0;Object.defineProperty(Ua,"name",{value:"node ("+(Xa.type+(Wa?"<"+Wa+">":""))+")"})}return Ua;function Ua(){let Wa=empty,Ja,Oo,Do;if((!Na||Ga(Xa,Ka,Qa[Qa.length-1]||void 0))&&(Wa=toResult(ja(Xa,Qa)),Wa[0]===EXIT))return Wa;if("children"in Xa&&Xa.children){const Mo=Xa;if(Mo.children&&Wa[0]!==SKIP)for(Oo=(Ba?Mo.children.length:-1)+Ha,Do=Qa.concat(Mo);Oo>-1&&Oo<Mo.children.length;){const el=Mo.children[Oo];if(Ja=Ya(el,Oo,Do)(),Ja[0]===EXIT)return Ja;Oo=typeof Ja[1]=="number"?Ja[1]:Oo+Ha}}return Wa}}}function toResult(La){return Array.isArray(La)?La:typeof La=="number"?[CONTINUE,La]:La==null?empty:[La]}function visit(La,Na,ja,Ba){let za,Ga,Ha;typeof Na=="function"&&typeof ja!="function"?(Ga=void 0,Ha=Na,za=ja):(Ga=Na,Ha=ja,za=Ba),visitParents(La,Ga,Ya,za);function Ya(Xa,Ka){const Qa=Ka[Ka.length-1],Va=Qa?Qa.children.indexOf(Xa):void 0;return Ha(Xa,Va,Qa)}}const own$6={}.hasOwnProperty,emptyOptions$4={};function createState(La,Na){const ja=Na||emptyOptions$4,Ba=new Map,za=new Map,Ga=new Map,Ha={...handlers,...ja.handlers},Ya={all:Ka,applyData,definitionById:Ba,footnoteById:za,footnoteCounts:Ga,footnoteOrder:[],handlers:Ha,one:Xa,options:ja,patch:patch$3,wrap:wrap$1};return visit(La,function(Qa){if(Qa.type==="definition"||Qa.type==="footnoteDefinition"){const Va=Qa.type==="definition"?Ba:za,Ua=String(Qa.identifier).toUpperCase();Va.has(Ua)||Va.set(Ua,Qa)}}),Ya;function Xa(Qa,Va){const Ua=Qa.type,Wa=Ya.handlers[Ua];if(own$6.call(Ya.handlers,Ua)&&Wa)return Wa(Ya,Qa,Va);if(Ya.options.passThrough&&Ya.options.passThrough.includes(Ua)){if("children"in Qa){const{children:Oo,...Do}=Qa,Mo=structuredClone$1(Do);return Mo.children=Ya.all(Qa),Mo}return structuredClone$1(Qa)}return(Ya.options.unknownHandler||defaultUnknownHandler)(Ya,Qa,Va)}function Ka(Qa){const Va=[];if("children"in Qa){const Ua=Qa.children;let Wa=-1;for(;++Wa<Ua.length;){const Ja=Ya.one(Ua[Wa],Qa);if(Ja){if(Wa&&Ua[Wa-1].type==="break"&&(!Array.isArray(Ja)&&Ja.type==="text"&&(Ja.value=trimMarkdownSpaceStart(Ja.value)),!Array.isArray(Ja)&&Ja.type==="element")){const Oo=Ja.children[0];Oo&&Oo.type==="text"&&(Oo.value=trimMarkdownSpaceStart(Oo.value))}Array.isArray(Ja)?Va.push(...Ja):Va.push(Ja)}}}return Va}}function patch$3(La,Na){La.position&&(Na.position=position$2(La))}function applyData(La,Na){let ja=Na;if(La&&La.data){const Ba=La.data.hName,za=La.data.hChildren,Ga=La.data.hProperties;if(typeof Ba=="string")if(ja.type==="element")ja.tagName=Ba;else{const Ha="children"in ja?ja.children:[ja];ja={type:"element",tagName:Ba,properties:{},children:Ha}}ja.type==="element"&&Ga&&Object.assign(ja.properties,structuredClone$1(Ga)),"children"in ja&&ja.children&&za!==null&&za!==void 0&&(ja.children=za)}return ja}function defaultUnknownHandler(La,Na){const ja=Na.data||{},Ba="value"in Na&&!(own$6.call(ja,"hProperties")||own$6.call(ja,"hChildren"))?{type:"text",value:Na.value}:{type:"element",tagName:"div",properties:{},children:La.all(Na)};return La.patch(Na,Ba),La.applyData(Na,Ba)}function wrap$1(La,Na){const ja=[];let Ba=-1;for(Na&&ja.push({type:"text",value:`
`});++Ba<La.length;)Ba&&ja.push({type:"text",value:`
`}),ja.push(La[Ba]);return Na&&La.length>0&&ja.push({type:"text",value:`
`}),ja}function trimMarkdownSpaceStart(La){let Na=0,ja=La.charCodeAt(Na);for(;ja===9||ja===32;)Na++,ja=La.charCodeAt(Na);return La.slice(Na)}function toHast(La,Na){const ja=createState(La,Na),Ba=ja.one(La,void 0),za=footer(ja),Ga=Array.isArray(Ba)?{type:"root",children:Ba}:Ba||{type:"root",children:[]};return za&&Ga.children.push({type:"text",value:`
`},za),Ga}function remarkRehype(La,Na){return La&&"run"in La?async function(ja,Ba){const za=toHast(ja,{file:Ba,...Na});await La.run(za,Ba)}:function(ja,Ba){return toHast(ja,{file:Ba,...La||Na})}}function bail(La){if(La)throw La}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var La=Object.prototype.hasOwnProperty,Na=Object.prototype.toString,ja=Object.defineProperty,Ba=Object.getOwnPropertyDescriptor,za=function(Ka){return typeof Array.isArray=="function"?Array.isArray(Ka):Na.call(Ka)==="[object Array]"},Ga=function(Ka){if(!Ka||Na.call(Ka)!=="[object Object]")return!1;var Qa=La.call(Ka,"constructor"),Va=Ka.constructor&&Ka.constructor.prototype&&La.call(Ka.constructor.prototype,"isPrototypeOf");if(Ka.constructor&&!Qa&&!Va)return!1;var Ua;for(Ua in Ka);return typeof Ua>"u"||La.call(Ka,Ua)},Ha=function(Ka,Qa){ja&&Qa.name==="__proto__"?ja(Ka,Qa.name,{enumerable:!0,configurable:!0,value:Qa.newValue,writable:!0}):Ka[Qa.name]=Qa.newValue},Ya=function(Ka,Qa){if(Qa==="__proto__")if(La.call(Ka,Qa)){if(Ba)return Ba(Ka,Qa).value}else return;return Ka[Qa]};return extend$1=function Xa(){var Ka,Qa,Va,Ua,Wa,Ja,Oo=arguments[0],Do=1,Mo=arguments.length,el=!1;for(typeof Oo=="boolean"&&(el=Oo,Oo=arguments[1]||{},Do=2),(Oo==null||typeof Oo!="object"&&typeof Oo!="function")&&(Oo={});Do<Mo;++Do)if(Ka=arguments[Do],Ka!=null)for(Qa in Ka)Va=Ya(Oo,Qa),Ua=Ya(Ka,Qa),Oo!==Ua&&(el&&Ua&&(Ga(Ua)||(Wa=za(Ua)))?(Wa?(Wa=!1,Ja=Va&&za(Va)?Va:[]):Ja=Va&&Ga(Va)?Va:{},Ha(Oo,{name:Qa,newValue:Xa(el,Ja,Ua)})):typeof Ua<"u"&&Ha(Oo,{name:Qa,newValue:Ua}));return Oo},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(La){if(typeof La!="object"||La===null)return!1;const Na=Object.getPrototypeOf(La);return(Na===null||Na===Object.prototype||Object.getPrototypeOf(Na)===null)&&!(Symbol.toStringTag in La)&&!(Symbol.iterator in La)}function trough(){const La=[],Na={run:ja,use:Ba};return Na;function ja(...za){let Ga=-1;const Ha=za.pop();if(typeof Ha!="function")throw new TypeError("Expected function as last argument, not "+Ha);Ya(null,...za);function Ya(Xa,...Ka){const Qa=La[++Ga];let Va=-1;if(Xa){Ha(Xa);return}for(;++Va<za.length;)(Ka[Va]===null||Ka[Va]===void 0)&&(Ka[Va]=za[Va]);za=Ka,Qa?wrap(Qa,Ya)(...Ka):Ha(null,...Ka)}}function Ba(za){if(typeof za!="function")throw new TypeError("Expected `middelware` to be a function, not "+za);return La.push(za),Na}}function wrap(La,Na){let ja;return Ba;function Ba(...Ha){const Ya=La.length>Ha.length;let Xa;Ya&&Ha.push(za);try{Xa=La.apply(this,Ha)}catch(Ka){const Qa=Ka;if(Ya&&ja)throw Qa;return za(Qa)}Ya||(Xa&&Xa.then&&typeof Xa.then=="function"?Xa.then(Ga,za):Xa instanceof Error?za(Xa):Ga(Xa))}function za(Ha,...Ya){ja||(ja=!0,Na(Ha,...Ya))}function Ga(Ha){za(null,Ha)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(La,Na){if(Na!==void 0&&typeof Na!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(La);let ja=0,Ba=-1,za=La.length,Ga;if(Na===void 0||Na.length===0||Na.length>La.length){for(;za--;)if(La.codePointAt(za)===47){if(Ga){ja=za+1;break}}else Ba<0&&(Ga=!0,Ba=za+1);return Ba<0?"":La.slice(ja,Ba)}if(Na===La)return"";let Ha=-1,Ya=Na.length-1;for(;za--;)if(La.codePointAt(za)===47){if(Ga){ja=za+1;break}}else Ha<0&&(Ga=!0,Ha=za+1),Ya>-1&&(La.codePointAt(za)===Na.codePointAt(Ya--)?Ya<0&&(Ba=za):(Ya=-1,Ba=Ha));return ja===Ba?Ba=Ha:Ba<0&&(Ba=La.length),La.slice(ja,Ba)}function dirname(La){if(assertPath$1(La),La.length===0)return".";let Na=-1,ja=La.length,Ba;for(;--ja;)if(La.codePointAt(ja)===47){if(Ba){Na=ja;break}}else Ba||(Ba=!0);return Na<0?La.codePointAt(0)===47?"/":".":Na===1&&La.codePointAt(0)===47?"//":La.slice(0,Na)}function extname(La){assertPath$1(La);let Na=La.length,ja=-1,Ba=0,za=-1,Ga=0,Ha;for(;Na--;){const Ya=La.codePointAt(Na);if(Ya===47){if(Ha){Ba=Na+1;break}continue}ja<0&&(Ha=!0,ja=Na+1),Ya===46?za<0?za=Na:Ga!==1&&(Ga=1):za>-1&&(Ga=-1)}return za<0||ja<0||Ga===0||Ga===1&&za===ja-1&&za===Ba+1?"":La.slice(za,ja)}function join(...La){let Na=-1,ja;for(;++Na<La.length;)assertPath$1(La[Na]),La[Na]&&(ja=ja===void 0?La[Na]:ja+"/"+La[Na]);return ja===void 0?".":normalize$1(ja)}function normalize$1(La){assertPath$1(La);const Na=La.codePointAt(0)===47;let ja=normalizeString(La,!Na);return ja.length===0&&!Na&&(ja="."),ja.length>0&&La.codePointAt(La.length-1)===47&&(ja+="/"),Na?"/"+ja:ja}function normalizeString(La,Na){let ja="",Ba=0,za=-1,Ga=0,Ha=-1,Ya,Xa;for(;++Ha<=La.length;){if(Ha<La.length)Ya=La.codePointAt(Ha);else{if(Ya===47)break;Ya=47}if(Ya===47){if(!(za===Ha-1||Ga===1))if(za!==Ha-1&&Ga===2){if(ja.length<2||Ba!==2||ja.codePointAt(ja.length-1)!==46||ja.codePointAt(ja.length-2)!==46){if(ja.length>2){if(Xa=ja.lastIndexOf("/"),Xa!==ja.length-1){Xa<0?(ja="",Ba=0):(ja=ja.slice(0,Xa),Ba=ja.length-1-ja.lastIndexOf("/")),za=Ha,Ga=0;continue}}else if(ja.length>0){ja="",Ba=0,za=Ha,Ga=0;continue}}Na&&(ja=ja.length>0?ja+"/..":"..",Ba=2)}else ja.length>0?ja+="/"+La.slice(za+1,Ha):ja=La.slice(za+1,Ha),Ba=Ha-za-1;za=Ha,Ga=0}else Ya===46&&Ga>-1?Ga++:Ga=-1}return ja}function assertPath$1(La){if(typeof La!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(La))}const minproc={cwd};function cwd(){return"/"}function isUrl(La){return!!(La!==null&&typeof La=="object"&&"href"in La&&La.href&&"protocol"in La&&La.protocol&&La.auth===void 0)}function urlToPath(La){if(typeof La=="string")La=new URL(La);else if(!isUrl(La)){const Na=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+La+"`");throw Na.code="ERR_INVALID_ARG_TYPE",Na}if(La.protocol!=="file:"){const Na=new TypeError("The URL must be of scheme file");throw Na.code="ERR_INVALID_URL_SCHEME",Na}return getPathFromURLPosix(La)}function getPathFromURLPosix(La){if(La.hostname!==""){const Ba=new TypeError('File URL host must be "localhost" or empty on darwin');throw Ba.code="ERR_INVALID_FILE_URL_HOST",Ba}const Na=La.pathname;let ja=-1;for(;++ja<Na.length;)if(Na.codePointAt(ja)===37&&Na.codePointAt(ja+1)===50){const Ba=Na.codePointAt(ja+2);if(Ba===70||Ba===102){const za=new TypeError("File URL path must not include encoded / characters");throw za.code="ERR_INVALID_FILE_URL_PATH",za}}return decodeURIComponent(Na)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(Na){let ja;Na?isUrl(Na)?ja={path:Na}:typeof Na=="string"||isUint8Array$1(Na)?ja={value:Na}:ja=Na:ja={},this.cwd="cwd"in ja?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let Ba=-1;for(;++Ba<order.length;){const Ga=order[Ba];Ga in ja&&ja[Ga]!==void 0&&ja[Ga]!==null&&(this[Ga]=Ga==="history"?[...ja[Ga]]:ja[Ga])}let za;for(za in ja)order.includes(za)||(this[za]=ja[za])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(Na){assertNonEmpty(Na,"basename"),assertPart(Na,"basename"),this.path=minpath.join(this.dirname||"",Na)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(Na){assertPath(this.basename,"dirname"),this.path=minpath.join(Na||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(Na){if(assertPart(Na,"extname"),assertPath(this.dirname,"extname"),Na){if(Na.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(Na.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(Na||""))}get path(){return this.history[this.history.length-1]}set path(Na){isUrl(Na)&&(Na=urlToPath(Na)),assertNonEmpty(Na,"path"),this.path!==Na&&this.history.push(Na)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(Na){assertNonEmpty(Na,"stem"),assertPart(Na,"stem"),this.path=minpath.join(this.dirname||"",Na+(this.extname||""))}fail(Na,ja,Ba){const za=this.message(Na,ja,Ba);throw za.fatal=!0,za}info(Na,ja,Ba){const za=this.message(Na,ja,Ba);return za.fatal=void 0,za}message(Na,ja,Ba){const za=new VFileMessage(Na,ja,Ba);return this.path&&(za.name=this.path+":"+za.name,za.file=this.path),za.fatal=!1,this.messages.push(za),za}toString(Na){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(Na||void 0).decode(this.value)}}function assertPart(La,Na){if(La&&La.includes(minpath.sep))throw new Error("`"+Na+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(La,Na){if(!La)throw new Error("`"+Na+"` cannot be empty")}function assertPath(La,Na){if(!La)throw new Error("Setting `"+Na+"` requires `path` to be set too")}function isUint8Array$1(La){return!!(La&&typeof La=="object"&&"byteLength"in La&&"byteOffset"in La)}const CallableInstance=(function(La){const Ba=this.constructor.prototype,za=Ba[La],Ga=function(){return za.apply(Ga,arguments)};return Object.setPrototypeOf(Ga,Ba),Ga}),own$5={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const Na=new Processor;let ja=-1;for(;++ja<this.attachers.length;){const Ba=this.attachers[ja];Na.use(...Ba)}return Na.data(extend(!0,{},this.namespace)),Na}data(Na,ja){return typeof Na=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[Na]=ja,this):own$5.call(this.namespace,Na)&&this.namespace[Na]||void 0:Na?(assertUnfrozen("data",this.frozen),this.namespace=Na,this):this.namespace}freeze(){if(this.frozen)return this;const Na=this;for(;++this.freezeIndex<this.attachers.length;){const[ja,...Ba]=this.attachers[this.freezeIndex];if(Ba[0]===!1)continue;Ba[0]===!0&&(Ba[0]=void 0);const za=ja.call(Na,...Ba);typeof za=="function"&&this.transformers.use(za)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(Na){this.freeze();const ja=vfile(Na),Ba=this.parser||this.Parser;return assertParser("parse",Ba),Ba(String(ja),ja)}process(Na,ja){const Ba=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),ja?za(void 0,ja):new Promise(za);function za(Ga,Ha){const Ya=vfile(Na),Xa=Ba.parse(Ya);Ba.run(Xa,Ya,function(Qa,Va,Ua){if(Qa||!Va||!Ua)return Ka(Qa);const Wa=Va,Ja=Ba.stringify(Wa,Ua);looksLikeAValue(Ja)?Ua.value=Ja:Ua.result=Ja,Ka(Qa,Ua)});function Ka(Qa,Va){Qa||!Va?Ha(Qa):Ga?Ga(Va):ja(void 0,Va)}}}processSync(Na){let ja=!1,Ba;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(Na,za),assertDone("processSync","process",ja),Ba;function za(Ga,Ha){ja=!0,bail(Ga),Ba=Ha}}run(Na,ja,Ba){assertNode(Na),this.freeze();const za=this.transformers;return!Ba&&typeof ja=="function"&&(Ba=ja,ja=void 0),Ba?Ga(void 0,Ba):new Promise(Ga);function Ga(Ha,Ya){const Xa=vfile(ja);za.run(Na,Xa,Ka);function Ka(Qa,Va,Ua){const Wa=Va||Na;Qa?Ya(Qa):Ha?Ha(Wa):Ba(void 0,Wa,Ua)}}}runSync(Na,ja){let Ba=!1,za;return this.run(Na,ja,Ga),assertDone("runSync","run",Ba),za;function Ga(Ha,Ya){bail(Ha),za=Ya,Ba=!0}}stringify(Na,ja){this.freeze();const Ba=vfile(ja),za=this.compiler||this.Compiler;return assertCompiler("stringify",za),assertNode(Na),za(Na,Ba)}use(Na,...ja){const Ba=this.attachers,za=this.namespace;if(assertUnfrozen("use",this.frozen),Na!=null)if(typeof Na=="function")Xa(Na,ja);else if(typeof Na=="object")Array.isArray(Na)?Ya(Na):Ha(Na);else throw new TypeError("Expected usable value, not `"+Na+"`");return this;function Ga(Ka){if(typeof Ka=="function")Xa(Ka,[]);else if(typeof Ka=="object")if(Array.isArray(Ka)){const[Qa,...Va]=Ka;Xa(Qa,Va)}else Ha(Ka);else throw new TypeError("Expected usable value, not `"+Ka+"`")}function Ha(Ka){if(!("plugins"in Ka)&&!("settings"in Ka))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");Ya(Ka.plugins),Ka.settings&&(za.settings=extend(!0,za.settings,Ka.settings))}function Ya(Ka){let Qa=-1;if(Ka!=null)if(Array.isArray(Ka))for(;++Qa<Ka.length;){const Va=Ka[Qa];Ga(Va)}else throw new TypeError("Expected a list of plugins, not `"+Ka+"`")}function Xa(Ka,Qa){let Va=-1,Ua=-1;for(;++Va<Ba.length;)if(Ba[Va][0]===Ka){Ua=Va;break}if(Ua===-1)Ba.push([Ka,...Qa]);else if(Qa.length>0){let[Wa,...Ja]=Qa;const Oo=Ba[Ua][1];isPlainObject(Oo)&&isPlainObject(Wa)&&(Wa=extend(!0,Oo,Wa)),Ba[Ua]=[Ka,Wa,...Ja]}}}}const unified=new Processor().freeze();function assertParser(La,Na){if(typeof Na!="function")throw new TypeError("Cannot `"+La+"` without `parser`")}function assertCompiler(La,Na){if(typeof Na!="function")throw new TypeError("Cannot `"+La+"` without `compiler`")}function assertUnfrozen(La,Na){if(Na)throw new Error("Cannot call `"+La+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(La){if(!isPlainObject(La)||typeof La.type!="string")throw new TypeError("Expected node, got `"+La+"`")}function assertDone(La,Na,ja){if(!ja)throw new Error("`"+La+"` finished async. Use `"+Na+"` instead")}function vfile(La){return looksLikeAVFile(La)?La:new VFile(La)}function looksLikeAVFile(La){return!!(La&&typeof La=="object"&&"message"in La&&"messages"in La)}function looksLikeAValue(La){return typeof La=="string"||isUint8Array(La)}function isUint8Array(La){return!!(La&&typeof La=="object"&&"byteLength"in La&&"byteOffset"in La)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol$1=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown$1(La){const Na=createProcessor(La),ja=createFile(La);return post(Na.runSync(Na.parse(ja),ja),La)}function createProcessor(La){const Na=La.rehypePlugins||emptyPlugins,ja=La.remarkPlugins||emptyPlugins,Ba=La.remarkRehypeOptions?{...La.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(ja).use(remarkRehype,Ba).use(Na)}function createFile(La){const Na=La.children||"",ja=new VFile;return typeof Na=="string"&&(ja.value=Na),ja}function post(La,Na){const ja=Na.allowedElements,Ba=Na.allowElement,za=Na.components,Ga=Na.disallowedElements,Ha=Na.skipHtml,Ya=Na.unwrapDisallowed,Xa=Na.urlTransform||defaultUrlTransform;for(const Qa of deprecations)Object.hasOwn(Na,Qa.from)&&(""+Qa.from+(Qa.to?"use `"+Qa.to+"` instead":"remove it")+changelog+Qa.id,void 0);return visit(La,Ka),toJsxRuntime(La,{Fragment:jsxRuntimeExports.Fragment,components:za,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function Ka(Qa,Va,Ua){if(Qa.type==="raw"&&Ua&&typeof Va=="number")return Ha?Ua.children.splice(Va,1):Ua.children[Va]={type:"text",value:Qa.value},Va;if(Qa.type==="element"){let Wa;for(Wa in urlAttributes)if(Object.hasOwn(urlAttributes,Wa)&&Object.hasOwn(Qa.properties,Wa)){const Ja=Qa.properties[Wa],Oo=urlAttributes[Wa];(Oo===null||Oo.includes(Qa.tagName))&&(Qa.properties[Wa]=Xa(String(Ja||""),Wa,Qa))}}if(Qa.type==="element"){let Wa=ja?!ja.includes(Qa.tagName):Ga?Ga.includes(Qa.tagName):!1;if(!Wa&&Ba&&typeof Va=="number"&&(Wa=!Ba(Qa,Va,Ua)),Wa&&Ua&&typeof Va=="number")return Ya&&Qa.children?Ua.children.splice(Va,1,...Qa.children):Ua.children.splice(Va,1),Va}}}function defaultUrlTransform(La){const Na=La.indexOf(":"),ja=La.indexOf("?"),Ba=La.indexOf("#"),za=La.indexOf("/");return Na===-1||za!==-1&&Na>za||ja!==-1&&Na>ja||Ba!==-1&&Na>Ba||safeProtocol$1.test(La.slice(0,Na))?La:""}function ccount(La,Na){const ja=String(La);if(typeof Na!="string")throw new TypeError("Expected character");let Ba=0,za=ja.indexOf(Na);for(;za!==-1;)Ba++,za=ja.indexOf(Na,za+Na.length);return Ba}function escapeStringRegexp(La){if(typeof La!="string")throw new TypeError("Expected a string");return La.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(La,Na,ja){const za=convert((ja||{}).ignore||[]),Ga=toPairs(Na);let Ha=-1;for(;++Ha<Ga.length;)visitParents(La,"text",Ya);function Ya(Ka,Qa){let Va=-1,Ua;for(;++Va<Qa.length;){const Wa=Qa[Va],Ja=Ua?Ua.children:void 0;if(za(Wa,Ja?Ja.indexOf(Wa):void 0,Ua))return;Ua=Wa}if(Ua)return Xa(Ka,Qa)}function Xa(Ka,Qa){const Va=Qa[Qa.length-1],Ua=Ga[Ha][0],Wa=Ga[Ha][1];let Ja=0;const Do=Va.children.indexOf(Ka);let Mo=!1,el=[];Ua.lastIndex=0;let tl=Ua.exec(Ka.value);for(;tl;){const rl=tl.index,il={index:tl.index,input:tl.input,stack:[...Qa,Ka]};let al=Wa(...tl,il);if(typeof al=="string"&&(al=al.length>0?{type:"text",value:al}:void 0),al===!1?Ua.lastIndex=rl+1:(Ja!==rl&&el.push({type:"text",value:Ka.value.slice(Ja,rl)}),Array.isArray(al)?el.push(...al):al&&el.push(al),Ja=rl+tl[0].length,Mo=!0),!Ua.global)break;tl=Ua.exec(Ka.value)}return Mo?(Ja<Ka.value.length&&el.push({type:"text",value:Ka.value.slice(Ja)}),Va.children.splice(Do,1,...el)):el=[Ka],Do+el.length}}function toPairs(La){const Na=[];if(!Array.isArray(La))throw new TypeError("Expected find and replace tuple or list of tuples");const ja=!La[0]||Array.isArray(La[0])?La:[La];let Ba=-1;for(;++Ba<ja.length;){const za=ja[Ba];Na.push([toExpression(za[0]),toFunction(za[1])])}return Na}function toExpression(La){return typeof La=="string"?new RegExp(escapeStringRegexp(La),"g"):La}function toFunction(La){return typeof La=="function"?La:function(){return La}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(La){this.enter({type:"link",title:null,url:"",children:[]},La)}function enterLiteralAutolinkValue(La){this.config.enter.autolinkProtocol.call(this,La)}function exitLiteralAutolinkHttp(La){this.config.exit.autolinkProtocol.call(this,La)}function exitLiteralAutolinkWww(La){this.config.exit.data.call(this,La);const Na=this.stack[this.stack.length-1];Na.type,Na.url="http://"+this.sliceSerialize(La)}function exitLiteralAutolinkEmail(La){this.config.exit.autolinkEmail.call(this,La)}function exitLiteralAutolink(La){this.exit(La)}function transformGfmAutolinkLiterals(La){findAndReplace(La,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(La,Na,ja,Ba,za){let Ga="";if(!previous$1(za)||(/^w/i.test(Na)&&(ja=Na+ja,Na="",Ga="http://"),!isCorrectDomain(ja)))return!1;const Ha=splitUrl(ja+Ba);if(!Ha[0])return!1;const Ya={type:"link",title:null,url:Ga+Na+Ha[0],children:[{type:"text",value:Na+Ha[0]}]};return Ha[1]?[Ya,{type:"text",value:Ha[1]}]:Ya}function findEmail(La,Na,ja,Ba){return!previous$1(Ba,!0)||/[-\d_]$/.test(ja)?!1:{type:"link",title:null,url:"mailto:"+Na+"@"+ja,children:[{type:"text",value:Na+"@"+ja}]}}function isCorrectDomain(La){const Na=La.split(".");return!(Na.length<2||Na[Na.length-1]&&(/_/.test(Na[Na.length-1])||!/[a-zA-Z\d]/.test(Na[Na.length-1]))||Na[Na.length-2]&&(/_/.test(Na[Na.length-2])||!/[a-zA-Z\d]/.test(Na[Na.length-2])))}function splitUrl(La){const Na=/[!"&'),.:;<>?\]}]+$/.exec(La);if(!Na)return[La,void 0];La=La.slice(0,Na.index);let ja=Na[0],Ba=ja.indexOf(")");const za=ccount(La,"(");let Ga=ccount(La,")");for(;Ba!==-1&&za>Ga;)La+=ja.slice(0,Ba+1),ja=ja.slice(Ba+1),Ba=ja.indexOf(")"),Ga++;return[La,ja]}function previous$1(La,Na){const ja=La.input.charCodeAt(La.index-1);return(La.index===0||unicodeWhitespace(ja)||unicodePunctuation(ja))&&(!Na||ja!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(La){this.enter({type:"footnoteReference",identifier:"",label:""},La)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(La){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},La)}function exitFootnoteCallString(La){const Na=this.resume(),ja=this.stack[this.stack.length-1];ja.type,ja.identifier=normalizeIdentifier(this.sliceSerialize(La)).toLowerCase(),ja.label=Na}function exitFootnoteCall(La){this.exit(La)}function exitFootnoteDefinitionLabelString(La){const Na=this.resume(),ja=this.stack[this.stack.length-1];ja.type,ja.identifier=normalizeIdentifier(this.sliceSerialize(La)).toLowerCase(),ja.label=Na}function exitFootnoteDefinition(La){this.exit(La)}function footnoteReferencePeek(){return"["}function footnoteReference(La,Na,ja,Ba){const za=ja.createTracker(Ba);let Ga=za.move("[^");const Ha=ja.enter("footnoteReference"),Ya=ja.enter("reference");return Ga+=za.move(ja.safe(ja.associationId(La),{after:"]",before:Ga})),Ya(),Ha(),Ga+=za.move("]"),Ga}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(La){let Na=!1;return La&&La.firstLineBlank&&(Na=!0),{handlers:{footnoteDefinition:ja,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function ja(Ba,za,Ga,Ha){const Ya=Ga.createTracker(Ha);let Xa=Ya.move("[^");const Ka=Ga.enter("footnoteDefinition"),Qa=Ga.enter("label");return Xa+=Ya.move(Ga.safe(Ga.associationId(Ba),{before:Xa,after:"]"})),Qa(),Xa+=Ya.move("]:"),Ba.children&&Ba.children.length>0&&(Ya.shift(4),Xa+=Ya.move((Na?`
`:" ")+Ga.indentLines(Ga.containerFlow(Ba,Ya.current()),Na?mapAll:mapExceptFirst))),Ka(),Xa}}function mapExceptFirst(La,Na,ja){return Na===0?La:mapAll(La,Na,ja)}function mapAll(La,Na,ja){return(ja?"":"    ")+La}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(La){this.enter({type:"delete",children:[]},La)}function exitStrikethrough(La){this.exit(La)}function handleDelete(La,Na,ja,Ba){const za=ja.createTracker(Ba),Ga=ja.enter("strikethrough");let Ha=za.move("~~");return Ha+=ja.containerPhrasing(La,{...za.current(),before:Ha,after:"~"}),Ha+=za.move("~~"),Ga(),Ha}function peekDelete(){return"~"}function defaultStringLength(La){return La.length}function markdownTable(La,Na){const ja=Na||{},Ba=(ja.align||[]).concat(),za=ja.stringLength||defaultStringLength,Ga=[],Ha=[],Ya=[],Xa=[];let Ka=0,Qa=-1;for(;++Qa<La.length;){const Oo=[],Do=[];let Mo=-1;for(La[Qa].length>Ka&&(Ka=La[Qa].length);++Mo<La[Qa].length;){const el=serialize(La[Qa][Mo]);if(ja.alignDelimiters!==!1){const tl=za(el);Do[Mo]=tl,(Xa[Mo]===void 0||tl>Xa[Mo])&&(Xa[Mo]=tl)}Oo.push(el)}Ha[Qa]=Oo,Ya[Qa]=Do}let Va=-1;if(typeof Ba=="object"&&"length"in Ba)for(;++Va<Ka;)Ga[Va]=toAlignment(Ba[Va]);else{const Oo=toAlignment(Ba);for(;++Va<Ka;)Ga[Va]=Oo}Va=-1;const Ua=[],Wa=[];for(;++Va<Ka;){const Oo=Ga[Va];let Do="",Mo="";Oo===99?(Do=":",Mo=":"):Oo===108?Do=":":Oo===114&&(Mo=":");let el=ja.alignDelimiters===!1?1:Math.max(1,Xa[Va]-Do.length-Mo.length);const tl=Do+"-".repeat(el)+Mo;ja.alignDelimiters!==!1&&(el=Do.length+el+Mo.length,el>Xa[Va]&&(Xa[Va]=el),Wa[Va]=el),Ua[Va]=tl}Ha.splice(1,0,Ua),Ya.splice(1,0,Wa),Qa=-1;const Ja=[];for(;++Qa<Ha.length;){const Oo=Ha[Qa],Do=Ya[Qa];Va=-1;const Mo=[];for(;++Va<Ka;){const el=Oo[Va]||"";let tl="",rl="";if(ja.alignDelimiters!==!1){const il=Xa[Va]-(Do[Va]||0),al=Ga[Va];al===114?tl=" ".repeat(il):al===99?il%2?(tl=" ".repeat(il/2+.5),rl=" ".repeat(il/2-.5)):(tl=" ".repeat(il/2),rl=tl):rl=" ".repeat(il)}ja.delimiterStart!==!1&&!Va&&Mo.push("|"),ja.padding!==!1&&!(ja.alignDelimiters===!1&&el==="")&&(ja.delimiterStart!==!1||Va)&&Mo.push(" "),ja.alignDelimiters!==!1&&Mo.push(tl),Mo.push(el),ja.alignDelimiters!==!1&&Mo.push(rl),ja.padding!==!1&&Mo.push(" "),(ja.delimiterEnd!==!1||Va!==Ka-1)&&Mo.push("|")}Ja.push(ja.delimiterEnd===!1?Mo.join("").replace(/ +$/,""):Mo.join(""))}return Ja.join(`
`)}function serialize(La){return La==null?"":String(La)}function toAlignment(La){const Na=typeof La=="string"?La.codePointAt(0):0;return Na===67||Na===99?99:Na===76||Na===108?108:Na===82||Na===114?114:0}const own$4={}.hasOwnProperty;function zwitch(La,Na){const ja=Na||{};function Ba(za,...Ga){let Ha=Ba.invalid;const Ya=Ba.handlers;if(za&&own$4.call(za,La)){const Xa=String(za[La]);Ha=own$4.call(Ya,Xa)?Ya[Xa]:Ba.unknown}if(Ha)return Ha.call(this,za,...Ga)}return Ba.handlers=ja.handlers||{},Ba.invalid=ja.invalid,Ba.unknown=ja.unknown,Ba}function blockquote(La,Na,ja,Ba){const za=ja.enter("blockquote"),Ga=ja.createTracker(Ba);Ga.move("> "),Ga.shift(2);const Ha=ja.indentLines(ja.containerFlow(La,Ga.current()),map$1);return za(),Ha}function map$1(La,Na,ja){return">"+(ja?"":" ")+La}function patternInScope(La,Na){return listInScope(La,Na.inConstruct,!0)&&!listInScope(La,Na.notInConstruct,!1)}function listInScope(La,Na,ja){if(typeof Na=="string"&&(Na=[Na]),!Na||Na.length===0)return ja;let Ba=-1;for(;++Ba<Na.length;)if(La.includes(Na[Ba]))return!0;return!1}function hardBreak(La,Na,ja,Ba){let za=-1;for(;++za<ja.unsafe.length;)if(ja.unsafe[za].character===`
`&&patternInScope(ja.stack,ja.unsafe[za]))return/[ \t]/.test(Ba.before)?"":" ";return`\\
`}function longestStreak(La,Na){const ja=String(La);let Ba=ja.indexOf(Na),za=Ba,Ga=0,Ha=0;if(typeof Na!="string")throw new TypeError("Expected substring");for(;Ba!==-1;)Ba===za?++Ga>Ha&&(Ha=Ga):Ga=1,za=Ba+Na.length,Ba=ja.indexOf(Na,za);return Ha}function formatCodeAsIndented(La,Na){return!!(Na.options.fences===!1&&La.value&&!La.lang&&/[^ \r\n]/.test(La.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(La.value))}function checkFence(La){const Na=La.options.fence||"`";if(Na!=="`"&&Na!=="~")throw new Error("Cannot serialize code with `"+Na+"` for `options.fence`, expected `` ` `` or `~`");return Na}function code$1(La,Na,ja,Ba){const za=checkFence(ja),Ga=La.value||"",Ha=za==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(La,ja)){const Va=ja.enter("codeIndented"),Ua=ja.indentLines(Ga,map);return Va(),Ua}const Ya=ja.createTracker(Ba),Xa=za.repeat(Math.max(longestStreak(Ga,za)+1,3)),Ka=ja.enter("codeFenced");let Qa=Ya.move(Xa);if(La.lang){const Va=ja.enter(`codeFencedLang${Ha}`);Qa+=Ya.move(ja.safe(La.lang,{before:Qa,after:" ",encode:["`"],...Ya.current()})),Va()}if(La.lang&&La.meta){const Va=ja.enter(`codeFencedMeta${Ha}`);Qa+=Ya.move(" "),Qa+=Ya.move(ja.safe(La.meta,{before:Qa,after:`
`,encode:["`"],...Ya.current()})),Va()}return Qa+=Ya.move(`
`),Ga&&(Qa+=Ya.move(Ga+`
`)),Qa+=Ya.move(Xa),Ka(),Qa}function map(La,Na,ja){return(ja?"":"    ")+La}function checkQuote(La){const Na=La.options.quote||'"';if(Na!=='"'&&Na!=="'")throw new Error("Cannot serialize title with `"+Na+"` for `options.quote`, expected `\"`, or `'`");return Na}function definition(La,Na,ja,Ba){const za=checkQuote(ja),Ga=za==='"'?"Quote":"Apostrophe",Ha=ja.enter("definition");let Ya=ja.enter("label");const Xa=ja.createTracker(Ba);let Ka=Xa.move("[");return Ka+=Xa.move(ja.safe(ja.associationId(La),{before:Ka,after:"]",...Xa.current()})),Ka+=Xa.move("]: "),Ya(),!La.url||/[\0- \u007F]/.test(La.url)?(Ya=ja.enter("destinationLiteral"),Ka+=Xa.move("<"),Ka+=Xa.move(ja.safe(La.url,{before:Ka,after:">",...Xa.current()})),Ka+=Xa.move(">")):(Ya=ja.enter("destinationRaw"),Ka+=Xa.move(ja.safe(La.url,{before:Ka,after:La.title?" ":`
`,...Xa.current()}))),Ya(),La.title&&(Ya=ja.enter(`title${Ga}`),Ka+=Xa.move(" "+za),Ka+=Xa.move(ja.safe(La.title,{before:Ka,after:za,...Xa.current()})),Ka+=Xa.move(za),Ya()),Ha(),Ka}function checkEmphasis(La){const Na=La.options.emphasis||"*";if(Na!=="*"&&Na!=="_")throw new Error("Cannot serialize emphasis with `"+Na+"` for `options.emphasis`, expected `*`, or `_`");return Na}function encodeCharacterReference(La){return"&#x"+La.toString(16).toUpperCase()+";"}function encodeInfo(La,Na,ja){const Ba=classifyCharacter(La),za=classifyCharacter(Na);return Ba===void 0?za===void 0?ja==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:za===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:Ba===1?za===void 0?{inside:!1,outside:!1}:za===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:za===void 0?{inside:!1,outside:!1}:za===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(La,Na,ja,Ba){const za=checkEmphasis(ja),Ga=ja.enter("emphasis"),Ha=ja.createTracker(Ba),Ya=Ha.move(za);let Xa=Ha.move(ja.containerPhrasing(La,{after:za,before:Ya,...Ha.current()}));const Ka=Xa.charCodeAt(0),Qa=encodeInfo(Ba.before.charCodeAt(Ba.before.length-1),Ka,za);Qa.inside&&(Xa=encodeCharacterReference(Ka)+Xa.slice(1));const Va=Xa.charCodeAt(Xa.length-1),Ua=encodeInfo(Ba.after.charCodeAt(0),Va,za);Ua.inside&&(Xa=Xa.slice(0,-1)+encodeCharacterReference(Va));const Wa=Ha.move(za);return Ga(),ja.attentionEncodeSurroundingInfo={after:Ua.outside,before:Qa.outside},Ya+Xa+Wa}function emphasisPeek(La,Na,ja){return ja.options.emphasis||"*"}function formatHeadingAsSetext(La,Na){let ja=!1;return visit(La,function(Ba){if("value"in Ba&&/\r?\n|\r/.test(Ba.value)||Ba.type==="break")return ja=!0,EXIT}),!!((!La.depth||La.depth<3)&&toString$1(La)&&(Na.options.setext||ja))}function heading(La,Na,ja,Ba){const za=Math.max(Math.min(6,La.depth||1),1),Ga=ja.createTracker(Ba);if(formatHeadingAsSetext(La,ja)){const Qa=ja.enter("headingSetext"),Va=ja.enter("phrasing"),Ua=ja.containerPhrasing(La,{...Ga.current(),before:`
`,after:`
`});return Va(),Qa(),Ua+`
`+(za===1?"=":"-").repeat(Ua.length-(Math.max(Ua.lastIndexOf("\r"),Ua.lastIndexOf(`
`))+1))}const Ha="#".repeat(za),Ya=ja.enter("headingAtx"),Xa=ja.enter("phrasing");Ga.move(Ha+" ");let Ka=ja.containerPhrasing(La,{before:"# ",after:`
`,...Ga.current()});return/^[\t ]/.test(Ka)&&(Ka=encodeCharacterReference(Ka.charCodeAt(0))+Ka.slice(1)),Ka=Ka?Ha+" "+Ka:Ha,ja.options.closeAtx&&(Ka+=" "+Ha),Xa(),Ya(),Ka}html$2.peek=htmlPeek;function html$2(La){return La.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(La,Na,ja,Ba){const za=checkQuote(ja),Ga=za==='"'?"Quote":"Apostrophe",Ha=ja.enter("image");let Ya=ja.enter("label");const Xa=ja.createTracker(Ba);let Ka=Xa.move("![");return Ka+=Xa.move(ja.safe(La.alt,{before:Ka,after:"]",...Xa.current()})),Ka+=Xa.move("]("),Ya(),!La.url&&La.title||/[\0- \u007F]/.test(La.url)?(Ya=ja.enter("destinationLiteral"),Ka+=Xa.move("<"),Ka+=Xa.move(ja.safe(La.url,{before:Ka,after:">",...Xa.current()})),Ka+=Xa.move(">")):(Ya=ja.enter("destinationRaw"),Ka+=Xa.move(ja.safe(La.url,{before:Ka,after:La.title?" ":")",...Xa.current()}))),Ya(),La.title&&(Ya=ja.enter(`title${Ga}`),Ka+=Xa.move(" "+za),Ka+=Xa.move(ja.safe(La.title,{before:Ka,after:za,...Xa.current()})),Ka+=Xa.move(za),Ya()),Ka+=Xa.move(")"),Ha(),Ka}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(La,Na,ja,Ba){const za=La.referenceType,Ga=ja.enter("imageReference");let Ha=ja.enter("label");const Ya=ja.createTracker(Ba);let Xa=Ya.move("![");const Ka=ja.safe(La.alt,{before:Xa,after:"]",...Ya.current()});Xa+=Ya.move(Ka+"]["),Ha();const Qa=ja.stack;ja.stack=[],Ha=ja.enter("reference");const Va=ja.safe(ja.associationId(La),{before:Xa,after:"]",...Ya.current()});return Ha(),ja.stack=Qa,Ga(),za==="full"||!Ka||Ka!==Va?Xa+=Ya.move(Va+"]"):za==="shortcut"?Xa=Xa.slice(0,-1):Xa+=Ya.move("]"),Xa}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(La,Na,ja){let Ba=La.value||"",za="`",Ga=-1;for(;new RegExp("(^|[^`])"+za+"([^`]|$)").test(Ba);)za+="`";for(/[^ \r\n]/.test(Ba)&&(/^[ \r\n]/.test(Ba)&&/[ \r\n]$/.test(Ba)||/^`|`$/.test(Ba))&&(Ba=" "+Ba+" ");++Ga<ja.unsafe.length;){const Ha=ja.unsafe[Ga],Ya=ja.compilePattern(Ha);let Xa;if(Ha.atBreak)for(;Xa=Ya.exec(Ba);){let Ka=Xa.index;Ba.charCodeAt(Ka)===10&&Ba.charCodeAt(Ka-1)===13&&Ka--,Ba=Ba.slice(0,Ka)+" "+Ba.slice(Xa.index+1)}}return za+Ba+za}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(La,Na){const ja=toString$1(La);return!!(!Na.options.resourceLink&&La.url&&!La.title&&La.children&&La.children.length===1&&La.children[0].type==="text"&&(ja===La.url||"mailto:"+ja===La.url)&&/^[a-z][a-z+.-]+:/i.test(La.url)&&!/[\0- <>\u007F]/.test(La.url))}link.peek=linkPeek;function link(La,Na,ja,Ba){const za=checkQuote(ja),Ga=za==='"'?"Quote":"Apostrophe",Ha=ja.createTracker(Ba);let Ya,Xa;if(formatLinkAsAutolink(La,ja)){const Qa=ja.stack;ja.stack=[],Ya=ja.enter("autolink");let Va=Ha.move("<");return Va+=Ha.move(ja.containerPhrasing(La,{before:Va,after:">",...Ha.current()})),Va+=Ha.move(">"),Ya(),ja.stack=Qa,Va}Ya=ja.enter("link"),Xa=ja.enter("label");let Ka=Ha.move("[");return Ka+=Ha.move(ja.containerPhrasing(La,{before:Ka,after:"](",...Ha.current()})),Ka+=Ha.move("]("),Xa(),!La.url&&La.title||/[\0- \u007F]/.test(La.url)?(Xa=ja.enter("destinationLiteral"),Ka+=Ha.move("<"),Ka+=Ha.move(ja.safe(La.url,{before:Ka,after:">",...Ha.current()})),Ka+=Ha.move(">")):(Xa=ja.enter("destinationRaw"),Ka+=Ha.move(ja.safe(La.url,{before:Ka,after:La.title?" ":")",...Ha.current()}))),Xa(),La.title&&(Xa=ja.enter(`title${Ga}`),Ka+=Ha.move(" "+za),Ka+=Ha.move(ja.safe(La.title,{before:Ka,after:za,...Ha.current()})),Ka+=Ha.move(za),Xa()),Ka+=Ha.move(")"),Ya(),Ka}function linkPeek(La,Na,ja){return formatLinkAsAutolink(La,ja)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(La,Na,ja,Ba){const za=La.referenceType,Ga=ja.enter("linkReference");let Ha=ja.enter("label");const Ya=ja.createTracker(Ba);let Xa=Ya.move("[");const Ka=ja.containerPhrasing(La,{before:Xa,after:"]",...Ya.current()});Xa+=Ya.move(Ka+"]["),Ha();const Qa=ja.stack;ja.stack=[],Ha=ja.enter("reference");const Va=ja.safe(ja.associationId(La),{before:Xa,after:"]",...Ya.current()});return Ha(),ja.stack=Qa,Ga(),za==="full"||!Ka||Ka!==Va?Xa+=Ya.move(Va+"]"):za==="shortcut"?Xa=Xa.slice(0,-1):Xa+=Ya.move("]"),Xa}function linkReferencePeek(){return"["}function checkBullet(La){const Na=La.options.bullet||"*";if(Na!=="*"&&Na!=="+"&&Na!=="-")throw new Error("Cannot serialize items with `"+Na+"` for `options.bullet`, expected `*`, `+`, or `-`");return Na}function checkBulletOther(La){const Na=checkBullet(La),ja=La.options.bulletOther;if(!ja)return Na==="*"?"-":"*";if(ja!=="*"&&ja!=="+"&&ja!=="-")throw new Error("Cannot serialize items with `"+ja+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(ja===Na)throw new Error("Expected `bullet` (`"+Na+"`) and `bulletOther` (`"+ja+"`) to be different");return ja}function checkBulletOrdered(La){const Na=La.options.bulletOrdered||".";if(Na!=="."&&Na!==")")throw new Error("Cannot serialize items with `"+Na+"` for `options.bulletOrdered`, expected `.` or `)`");return Na}function checkRule(La){const Na=La.options.rule||"*";if(Na!=="*"&&Na!=="-"&&Na!=="_")throw new Error("Cannot serialize rules with `"+Na+"` for `options.rule`, expected `*`, `-`, or `_`");return Na}function list(La,Na,ja,Ba){const za=ja.enter("list"),Ga=ja.bulletCurrent;let Ha=La.ordered?checkBulletOrdered(ja):checkBullet(ja);const Ya=La.ordered?Ha==="."?")":".":checkBulletOther(ja);let Xa=Na&&ja.bulletLastUsed?Ha===ja.bulletLastUsed:!1;if(!La.ordered){const Qa=La.children?La.children[0]:void 0;if((Ha==="*"||Ha==="-")&&Qa&&(!Qa.children||!Qa.children[0])&&ja.stack[ja.stack.length-1]==="list"&&ja.stack[ja.stack.length-2]==="listItem"&&ja.stack[ja.stack.length-3]==="list"&&ja.stack[ja.stack.length-4]==="listItem"&&ja.indexStack[ja.indexStack.length-1]===0&&ja.indexStack[ja.indexStack.length-2]===0&&ja.indexStack[ja.indexStack.length-3]===0&&(Xa=!0),checkRule(ja)===Ha&&Qa){let Va=-1;for(;++Va<La.children.length;){const Ua=La.children[Va];if(Ua&&Ua.type==="listItem"&&Ua.children&&Ua.children[0]&&Ua.children[0].type==="thematicBreak"){Xa=!0;break}}}}Xa&&(Ha=Ya),ja.bulletCurrent=Ha;const Ka=ja.containerFlow(La,Ba);return ja.bulletLastUsed=Ha,ja.bulletCurrent=Ga,za(),Ka}function checkListItemIndent(La){const Na=La.options.listItemIndent||"one";if(Na!=="tab"&&Na!=="one"&&Na!=="mixed")throw new Error("Cannot serialize items with `"+Na+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return Na}function listItem(La,Na,ja,Ba){const za=checkListItemIndent(ja);let Ga=ja.bulletCurrent||checkBullet(ja);Na&&Na.type==="list"&&Na.ordered&&(Ga=(typeof Na.start=="number"&&Na.start>-1?Na.start:1)+(ja.options.incrementListMarker===!1?0:Na.children.indexOf(La))+Ga);let Ha=Ga.length+1;(za==="tab"||za==="mixed"&&(Na&&Na.type==="list"&&Na.spread||La.spread))&&(Ha=Math.ceil(Ha/4)*4);const Ya=ja.createTracker(Ba);Ya.move(Ga+" ".repeat(Ha-Ga.length)),Ya.shift(Ha);const Xa=ja.enter("listItem"),Ka=ja.indentLines(ja.containerFlow(La,Ya.current()),Qa);return Xa(),Ka;function Qa(Va,Ua,Wa){return Ua?(Wa?"":" ".repeat(Ha))+Va:(Wa?Ga:Ga+" ".repeat(Ha-Ga.length))+Va}}function paragraph(La,Na,ja,Ba){const za=ja.enter("paragraph"),Ga=ja.enter("phrasing"),Ha=ja.containerPhrasing(La,Ba);return Ga(),za(),Ha}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$4(La,Na,ja,Ba){return(La.children.some(function(Ha){return phrasing(Ha)})?ja.containerPhrasing:ja.containerFlow).call(ja,La,Ba)}function checkStrong(La){const Na=La.options.strong||"*";if(Na!=="*"&&Na!=="_")throw new Error("Cannot serialize strong with `"+Na+"` for `options.strong`, expected `*`, or `_`");return Na}strong.peek=strongPeek;function strong(La,Na,ja,Ba){const za=checkStrong(ja),Ga=ja.enter("strong"),Ha=ja.createTracker(Ba),Ya=Ha.move(za+za);let Xa=Ha.move(ja.containerPhrasing(La,{after:za,before:Ya,...Ha.current()}));const Ka=Xa.charCodeAt(0),Qa=encodeInfo(Ba.before.charCodeAt(Ba.before.length-1),Ka,za);Qa.inside&&(Xa=encodeCharacterReference(Ka)+Xa.slice(1));const Va=Xa.charCodeAt(Xa.length-1),Ua=encodeInfo(Ba.after.charCodeAt(0),Va,za);Ua.inside&&(Xa=Xa.slice(0,-1)+encodeCharacterReference(Va));const Wa=Ha.move(za+za);return Ga(),ja.attentionEncodeSurroundingInfo={after:Ua.outside,before:Qa.outside},Ya+Xa+Wa}function strongPeek(La,Na,ja){return ja.options.strong||"*"}function text$7(La,Na,ja,Ba){return ja.safe(La.value,Ba)}function checkRuleRepetition(La){const Na=La.options.ruleRepetition||3;if(Na<3)throw new Error("Cannot serialize rules with repetition `"+Na+"` for `options.ruleRepetition`, expected `3` or more");return Na}function thematicBreak(La,Na,ja){const Ba=(checkRule(ja)+(ja.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(ja));return ja.options.ruleSpaces?Ba.slice(0,-1):Ba}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html:html$2,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root:root$4,strong,text:text$7,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(La){const Na=La._align;this.enter({type:"table",align:Na.map(function(ja){return ja==="none"?null:ja}),children:[]},La),this.data.inTable=!0}function exitTable(La){this.exit(La),this.data.inTable=void 0}function enterRow(La){this.enter({type:"tableRow",children:[]},La)}function exit(La){this.exit(La)}function enterCell(La){this.enter({type:"tableCell",children:[]},La)}function exitCodeText(La){let Na=this.resume();this.data.inTable&&(Na=Na.replace(/\\([\\|])/g,replace));const ja=this.stack[this.stack.length-1];ja.type,ja.value=Na,this.exit(La)}function replace(La,Na){return Na==="|"?Na:La}function gfmTableToMarkdown(La){const Na=La||{},ja=Na.tableCellPadding,Ba=Na.tablePipeAlign,za=Na.stringLength,Ga=ja?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:Ua,table:Ha,tableCell:Xa,tableRow:Ya}};function Ha(Wa,Ja,Oo,Do){return Ka(Qa(Wa,Oo,Do),Wa.align)}function Ya(Wa,Ja,Oo,Do){const Mo=Va(Wa,Oo,Do),el=Ka([Mo]);return el.slice(0,el.indexOf(`
`))}function Xa(Wa,Ja,Oo,Do){const Mo=Oo.enter("tableCell"),el=Oo.enter("phrasing"),tl=Oo.containerPhrasing(Wa,{...Do,before:Ga,after:Ga});return el(),Mo(),tl}function Ka(Wa,Ja){return markdownTable(Wa,{align:Ja,alignDelimiters:Ba,padding:ja,stringLength:za})}function Qa(Wa,Ja,Oo){const Do=Wa.children;let Mo=-1;const el=[],tl=Ja.enter("table");for(;++Mo<Do.length;)el[Mo]=Va(Do[Mo],Ja,Oo);return tl(),el}function Va(Wa,Ja,Oo){const Do=Wa.children;let Mo=-1;const el=[],tl=Ja.enter("tableRow");for(;++Mo<Do.length;)el[Mo]=Xa(Do[Mo],Wa,Ja,Oo);return tl(),el}function Ua(Wa,Ja,Oo){let Do=handle.inlineCode(Wa,Ja,Oo);return Oo.stack.includes("tableCell")&&(Do=Do.replace(/\|/g,"\\$&")),Do}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(La){const Na=this.stack[this.stack.length-2];Na.type,Na.checked=La.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(La){const Na=this.stack[this.stack.length-2];if(Na&&Na.type==="listItem"&&typeof Na.checked=="boolean"){const ja=this.stack[this.stack.length-1];ja.type;const Ba=ja.children[0];if(Ba&&Ba.type==="text"){const za=Na.children;let Ga=-1,Ha;for(;++Ga<za.length;){const Ya=za[Ga];if(Ya.type==="paragraph"){Ha=Ya;break}}Ha===ja&&(Ba.value=Ba.value.slice(1),Ba.value.length===0?ja.children.shift():ja.position&&Ba.position&&typeof Ba.position.start.offset=="number"&&(Ba.position.start.column++,Ba.position.start.offset++,ja.position.start=Object.assign({},Ba.position.start)))}}this.exit(La)}function listItemWithTaskListItem(La,Na,ja,Ba){const za=La.children[0],Ga=typeof La.checked=="boolean"&&za&&za.type==="paragraph",Ha="["+(La.checked?"x":" ")+"] ",Ya=ja.createTracker(Ba);Ga&&Ya.move(Ha);let Xa=handle.listItem(La,Na,ja,{...Ba,...Ya.current()});return Ga&&(Xa=Xa.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,Ka)),Xa;function Ka(Qa){return Qa+Ha}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(La){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(La),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(La),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path$1={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text$6={};function gfmAutolinkLiteral(){return{text:text$6}}let code=48;for(;code<123;)text$6[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text$6[43]=emailAutolink;text$6[45]=emailAutolink;text$6[46]=emailAutolink;text$6[95]=emailAutolink;text$6[72]=[emailAutolink,protocolAutolink];text$6[104]=[emailAutolink,protocolAutolink];text$6[87]=[emailAutolink,wwwAutolink];text$6[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(La,Na,ja){const Ba=this;let za,Ga;return Ha;function Ha(Va){return!gfmAtext(Va)||!previousEmail.call(Ba,Ba.previous)||previousUnbalanced(Ba.events)?ja(Va):(La.enter("literalAutolink"),La.enter("literalAutolinkEmail"),Ya(Va))}function Ya(Va){return gfmAtext(Va)?(La.consume(Va),Ya):Va===64?(La.consume(Va),Xa):ja(Va)}function Xa(Va){return Va===46?La.check(emailDomainDotTrail,Qa,Ka)(Va):Va===45||Va===95||asciiAlphanumeric(Va)?(Ga=!0,La.consume(Va),Xa):Qa(Va)}function Ka(Va){return La.consume(Va),za=!0,Xa}function Qa(Va){return Ga&&za&&asciiAlpha(Ba.previous)?(La.exit("literalAutolinkEmail"),La.exit("literalAutolink"),Na(Va)):ja(Va)}}function tokenizeWwwAutolink(La,Na,ja){const Ba=this;return za;function za(Ha){return Ha!==87&&Ha!==119||!previousWww.call(Ba,Ba.previous)||previousUnbalanced(Ba.events)?ja(Ha):(La.enter("literalAutolink"),La.enter("literalAutolinkWww"),La.check(wwwPrefix,La.attempt(domain,La.attempt(path$1,Ga),ja),ja)(Ha))}function Ga(Ha){return La.exit("literalAutolinkWww"),La.exit("literalAutolink"),Na(Ha)}}function tokenizeProtocolAutolink(La,Na,ja){const Ba=this;let za="",Ga=!1;return Ha;function Ha(Va){return(Va===72||Va===104)&&previousProtocol.call(Ba,Ba.previous)&&!previousUnbalanced(Ba.events)?(La.enter("literalAutolink"),La.enter("literalAutolinkHttp"),za+=String.fromCodePoint(Va),La.consume(Va),Ya):ja(Va)}function Ya(Va){if(asciiAlpha(Va)&&za.length<5)return za+=String.fromCodePoint(Va),La.consume(Va),Ya;if(Va===58){const Ua=za.toLowerCase();if(Ua==="http"||Ua==="https")return La.consume(Va),Xa}return ja(Va)}function Xa(Va){return Va===47?(La.consume(Va),Ga?Ka:(Ga=!0,Xa)):ja(Va)}function Ka(Va){return Va===null||asciiControl(Va)||markdownLineEndingOrSpace(Va)||unicodeWhitespace(Va)||unicodePunctuation(Va)?ja(Va):La.attempt(domain,La.attempt(path$1,Qa),ja)(Va)}function Qa(Va){return La.exit("literalAutolinkHttp"),La.exit("literalAutolink"),Na(Va)}}function tokenizeWwwPrefix(La,Na,ja){let Ba=0;return za;function za(Ha){return(Ha===87||Ha===119)&&Ba<3?(Ba++,La.consume(Ha),za):Ha===46&&Ba===3?(La.consume(Ha),Ga):ja(Ha)}function Ga(Ha){return Ha===null?ja(Ha):Na(Ha)}}function tokenizeDomain(La,Na,ja){let Ba,za,Ga;return Ha;function Ha(Ka){return Ka===46||Ka===95?La.check(trail,Xa,Ya)(Ka):Ka===null||markdownLineEndingOrSpace(Ka)||unicodeWhitespace(Ka)||Ka!==45&&unicodePunctuation(Ka)?Xa(Ka):(Ga=!0,La.consume(Ka),Ha)}function Ya(Ka){return Ka===95?Ba=!0:(za=Ba,Ba=void 0),La.consume(Ka),Ha}function Xa(Ka){return za||Ba||!Ga?ja(Ka):Na(Ka)}}function tokenizePath(La,Na){let ja=0,Ba=0;return za;function za(Ha){return Ha===40?(ja++,La.consume(Ha),za):Ha===41&&Ba<ja?Ga(Ha):Ha===33||Ha===34||Ha===38||Ha===39||Ha===41||Ha===42||Ha===44||Ha===46||Ha===58||Ha===59||Ha===60||Ha===63||Ha===93||Ha===95||Ha===126?La.check(trail,Na,Ga)(Ha):Ha===null||markdownLineEndingOrSpace(Ha)||unicodeWhitespace(Ha)?Na(Ha):(La.consume(Ha),za)}function Ga(Ha){return Ha===41&&Ba++,La.consume(Ha),za}}function tokenizeTrail(La,Na,ja){return Ba;function Ba(Ya){return Ya===33||Ya===34||Ya===39||Ya===41||Ya===42||Ya===44||Ya===46||Ya===58||Ya===59||Ya===63||Ya===95||Ya===126?(La.consume(Ya),Ba):Ya===38?(La.consume(Ya),Ga):Ya===93?(La.consume(Ya),za):Ya===60||Ya===null||markdownLineEndingOrSpace(Ya)||unicodeWhitespace(Ya)?Na(Ya):ja(Ya)}function za(Ya){return Ya===null||Ya===40||Ya===91||markdownLineEndingOrSpace(Ya)||unicodeWhitespace(Ya)?Na(Ya):Ba(Ya)}function Ga(Ya){return asciiAlpha(Ya)?Ha(Ya):ja(Ya)}function Ha(Ya){return Ya===59?(La.consume(Ya),Ba):asciiAlpha(Ya)?(La.consume(Ya),Ha):ja(Ya)}}function tokenizeEmailDomainDotTrail(La,Na,ja){return Ba;function Ba(Ga){return La.consume(Ga),za}function za(Ga){return asciiAlphanumeric(Ga)?ja(Ga):Na(Ga)}}function previousWww(La){return La===null||La===40||La===42||La===95||La===91||La===93||La===126||markdownLineEndingOrSpace(La)}function previousProtocol(La){return!asciiAlpha(La)}function previousEmail(La){return!(La===47||gfmAtext(La))}function gfmAtext(La){return La===43||La===45||La===46||La===95||asciiAlphanumeric(La)}function previousUnbalanced(La){let Na=La.length,ja=!1;for(;Na--;){const Ba=La[Na][1];if((Ba.type==="labelLink"||Ba.type==="labelImage")&&!Ba._balanced){ja=!0;break}if(Ba._gfmAutolinkLiteralWalkedInto){ja=!1;break}}return La.length>0&&!ja&&(La[La.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),ja}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(La,Na,ja){const Ba=this;let za=Ba.events.length;const Ga=Ba.parser.gfmFootnotes||(Ba.parser.gfmFootnotes=[]);let Ha;for(;za--;){const Xa=Ba.events[za][1];if(Xa.type==="labelImage"){Ha=Xa;break}if(Xa.type==="gfmFootnoteCall"||Xa.type==="labelLink"||Xa.type==="label"||Xa.type==="image"||Xa.type==="link")break}return Ya;function Ya(Xa){if(!Ha||!Ha._balanced)return ja(Xa);const Ka=normalizeIdentifier(Ba.sliceSerialize({start:Ha.end,end:Ba.now()}));return Ka.codePointAt(0)!==94||!Ga.includes(Ka.slice(1))?ja(Xa):(La.enter("gfmFootnoteCallLabelMarker"),La.consume(Xa),La.exit("gfmFootnoteCallLabelMarker"),Na(Xa))}}function resolveToPotentialGfmFootnoteCall(La,Na){let ja=La.length;for(;ja--;)if(La[ja][1].type==="labelImage"&&La[ja][0]==="enter"){La[ja][1];break}La[ja+1][1].type="data",La[ja+3][1].type="gfmFootnoteCallLabelMarker";const Ba={type:"gfmFootnoteCall",start:Object.assign({},La[ja+3][1].start),end:Object.assign({},La[La.length-1][1].end)},za={type:"gfmFootnoteCallMarker",start:Object.assign({},La[ja+3][1].end),end:Object.assign({},La[ja+3][1].end)};za.end.column++,za.end.offset++,za.end._bufferIndex++;const Ga={type:"gfmFootnoteCallString",start:Object.assign({},za.end),end:Object.assign({},La[La.length-1][1].start)},Ha={type:"chunkString",contentType:"string",start:Object.assign({},Ga.start),end:Object.assign({},Ga.end)},Ya=[La[ja+1],La[ja+2],["enter",Ba,Na],La[ja+3],La[ja+4],["enter",za,Na],["exit",za,Na],["enter",Ga,Na],["enter",Ha,Na],["exit",Ha,Na],["exit",Ga,Na],La[La.length-2],La[La.length-1],["exit",Ba,Na]];return La.splice(ja,La.length-ja+1,...Ya),La}function tokenizeGfmFootnoteCall(La,Na,ja){const Ba=this,za=Ba.parser.gfmFootnotes||(Ba.parser.gfmFootnotes=[]);let Ga=0,Ha;return Ya;function Ya(Va){return La.enter("gfmFootnoteCall"),La.enter("gfmFootnoteCallLabelMarker"),La.consume(Va),La.exit("gfmFootnoteCallLabelMarker"),Xa}function Xa(Va){return Va!==94?ja(Va):(La.enter("gfmFootnoteCallMarker"),La.consume(Va),La.exit("gfmFootnoteCallMarker"),La.enter("gfmFootnoteCallString"),La.enter("chunkString").contentType="string",Ka)}function Ka(Va){if(Ga>999||Va===93&&!Ha||Va===null||Va===91||markdownLineEndingOrSpace(Va))return ja(Va);if(Va===93){La.exit("chunkString");const Ua=La.exit("gfmFootnoteCallString");return za.includes(normalizeIdentifier(Ba.sliceSerialize(Ua)))?(La.enter("gfmFootnoteCallLabelMarker"),La.consume(Va),La.exit("gfmFootnoteCallLabelMarker"),La.exit("gfmFootnoteCall"),Na):ja(Va)}return markdownLineEndingOrSpace(Va)||(Ha=!0),Ga++,La.consume(Va),Va===92?Qa:Ka}function Qa(Va){return Va===91||Va===92||Va===93?(La.consume(Va),Ga++,Ka):Ka(Va)}}function tokenizeDefinitionStart(La,Na,ja){const Ba=this,za=Ba.parser.gfmFootnotes||(Ba.parser.gfmFootnotes=[]);let Ga,Ha=0,Ya;return Xa;function Xa(Ja){return La.enter("gfmFootnoteDefinition")._container=!0,La.enter("gfmFootnoteDefinitionLabel"),La.enter("gfmFootnoteDefinitionLabelMarker"),La.consume(Ja),La.exit("gfmFootnoteDefinitionLabelMarker"),Ka}function Ka(Ja){return Ja===94?(La.enter("gfmFootnoteDefinitionMarker"),La.consume(Ja),La.exit("gfmFootnoteDefinitionMarker"),La.enter("gfmFootnoteDefinitionLabelString"),La.enter("chunkString").contentType="string",Qa):ja(Ja)}function Qa(Ja){if(Ha>999||Ja===93&&!Ya||Ja===null||Ja===91||markdownLineEndingOrSpace(Ja))return ja(Ja);if(Ja===93){La.exit("chunkString");const Oo=La.exit("gfmFootnoteDefinitionLabelString");return Ga=normalizeIdentifier(Ba.sliceSerialize(Oo)),La.enter("gfmFootnoteDefinitionLabelMarker"),La.consume(Ja),La.exit("gfmFootnoteDefinitionLabelMarker"),La.exit("gfmFootnoteDefinitionLabel"),Ua}return markdownLineEndingOrSpace(Ja)||(Ya=!0),Ha++,La.consume(Ja),Ja===92?Va:Qa}function Va(Ja){return Ja===91||Ja===92||Ja===93?(La.consume(Ja),Ha++,Qa):Qa(Ja)}function Ua(Ja){return Ja===58?(La.enter("definitionMarker"),La.consume(Ja),La.exit("definitionMarker"),za.includes(Ga)||za.push(Ga),factorySpace(La,Wa,"gfmFootnoteDefinitionWhitespace")):ja(Ja)}function Wa(Ja){return Na(Ja)}}function tokenizeDefinitionContinuation(La,Na,ja){return La.check(blankLine,Na,La.attempt(indent,Na,ja))}function gfmFootnoteDefinitionEnd(La){La.exit("gfmFootnoteDefinition")}function tokenizeIndent(La,Na,ja){const Ba=this;return factorySpace(La,za,"gfmFootnoteDefinitionIndent",5);function za(Ga){const Ha=Ba.events[Ba.events.length-1];return Ha&&Ha[1].type==="gfmFootnoteDefinitionIndent"&&Ha[2].sliceSerialize(Ha[1],!0).length===4?Na(Ga):ja(Ga)}}function gfmStrikethrough(La){let ja=(La||{}).singleTilde;const Ba={name:"strikethrough",tokenize:Ga,resolveAll:za};return ja==null&&(ja=!0),{text:{126:Ba},insideSpan:{null:[Ba]},attentionMarkers:{null:[126]}};function za(Ha,Ya){let Xa=-1;for(;++Xa<Ha.length;)if(Ha[Xa][0]==="enter"&&Ha[Xa][1].type==="strikethroughSequenceTemporary"&&Ha[Xa][1]._close){let Ka=Xa;for(;Ka--;)if(Ha[Ka][0]==="exit"&&Ha[Ka][1].type==="strikethroughSequenceTemporary"&&Ha[Ka][1]._open&&Ha[Xa][1].end.offset-Ha[Xa][1].start.offset===Ha[Ka][1].end.offset-Ha[Ka][1].start.offset){Ha[Xa][1].type="strikethroughSequence",Ha[Ka][1].type="strikethroughSequence";const Qa={type:"strikethrough",start:Object.assign({},Ha[Ka][1].start),end:Object.assign({},Ha[Xa][1].end)},Va={type:"strikethroughText",start:Object.assign({},Ha[Ka][1].end),end:Object.assign({},Ha[Xa][1].start)},Ua=[["enter",Qa,Ya],["enter",Ha[Ka][1],Ya],["exit",Ha[Ka][1],Ya],["enter",Va,Ya]],Wa=Ya.parser.constructs.insideSpan.null;Wa&&splice(Ua,Ua.length,0,resolveAll(Wa,Ha.slice(Ka+1,Xa),Ya)),splice(Ua,Ua.length,0,[["exit",Va,Ya],["enter",Ha[Xa][1],Ya],["exit",Ha[Xa][1],Ya],["exit",Qa,Ya]]),splice(Ha,Ka-1,Xa-Ka+3,Ua),Xa=Ka+Ua.length-2;break}}for(Xa=-1;++Xa<Ha.length;)Ha[Xa][1].type==="strikethroughSequenceTemporary"&&(Ha[Xa][1].type="data");return Ha}function Ga(Ha,Ya,Xa){const Ka=this.previous,Qa=this.events;let Va=0;return Ua;function Ua(Ja){return Ka===126&&Qa[Qa.length-1][1].type!=="characterEscape"?Xa(Ja):(Ha.enter("strikethroughSequenceTemporary"),Wa(Ja))}function Wa(Ja){const Oo=classifyCharacter(Ka);if(Ja===126)return Va>1?Xa(Ja):(Ha.consume(Ja),Va++,Wa);if(Va<2&&!ja)return Xa(Ja);const Do=Ha.exit("strikethroughSequenceTemporary"),Mo=classifyCharacter(Ja);return Do._open=!Mo||Mo===2&&!!Oo,Do._close=!Oo||Oo===2&&!!Mo,Ya(Ja)}}}class EditMap{constructor(){this.map=[]}add(Na,ja,Ba){addImplementation(this,Na,ja,Ba)}consume(Na){if(this.map.sort(function(Ga,Ha){return Ga[0]-Ha[0]}),this.map.length===0)return;let ja=this.map.length;const Ba=[];for(;ja>0;)ja-=1,Ba.push(Na.slice(this.map[ja][0]+this.map[ja][1]),this.map[ja][2]),Na.length=this.map[ja][0];Ba.push(Na.slice()),Na.length=0;let za=Ba.pop();for(;za;){for(const Ga of za)Na.push(Ga);za=Ba.pop()}this.map.length=0}}function addImplementation(La,Na,ja,Ba){let za=0;if(!(ja===0&&Ba.length===0)){for(;za<La.map.length;){if(La.map[za][0]===Na){La.map[za][1]+=ja,La.map[za][2].push(...Ba);return}za+=1}La.map.push([Na,ja,Ba])}}function gfmTableAlign(La,Na){let ja=!1;const Ba=[];for(;Na<La.length;){const za=La[Na];if(ja){if(za[0]==="enter")za[1].type==="tableContent"&&Ba.push(La[Na+1][1].type==="tableDelimiterMarker"?"left":"none");else if(za[1].type==="tableContent"){if(La[Na-1][1].type==="tableDelimiterMarker"){const Ga=Ba.length-1;Ba[Ga]=Ba[Ga]==="left"?"center":"right"}}else if(za[1].type==="tableDelimiterRow")break}else za[0]==="enter"&&za[1].type==="tableDelimiterRow"&&(ja=!0);Na+=1}return Ba}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(La,Na,ja){const Ba=this;let za=0,Ga=0,Ha;return Ya;function Ya(cl){let gl=Ba.events.length-1;for(;gl>-1;){const xl=Ba.events[gl][1].type;if(xl==="lineEnding"||xl==="linePrefix")gl--;else break}const bl=gl>-1?Ba.events[gl][1].type:null,_l=bl==="tableHead"||bl==="tableRow"?al:Xa;return _l===al&&Ba.parser.lazy[Ba.now().line]?ja(cl):_l(cl)}function Xa(cl){return La.enter("tableHead"),La.enter("tableRow"),Ka(cl)}function Ka(cl){return cl===124||(Ha=!0,Ga+=1),Qa(cl)}function Qa(cl){return cl===null?ja(cl):markdownLineEnding(cl)?Ga>1?(Ga=0,Ba.interrupt=!0,La.exit("tableRow"),La.enter("lineEnding"),La.consume(cl),La.exit("lineEnding"),Wa):ja(cl):markdownSpace(cl)?factorySpace(La,Qa,"whitespace")(cl):(Ga+=1,Ha&&(Ha=!1,za+=1),cl===124?(La.enter("tableCellDivider"),La.consume(cl),La.exit("tableCellDivider"),Ha=!0,Qa):(La.enter("data"),Va(cl)))}function Va(cl){return cl===null||cl===124||markdownLineEndingOrSpace(cl)?(La.exit("data"),Qa(cl)):(La.consume(cl),cl===92?Ua:Va)}function Ua(cl){return cl===92||cl===124?(La.consume(cl),Va):Va(cl)}function Wa(cl){return Ba.interrupt=!1,Ba.parser.lazy[Ba.now().line]?ja(cl):(La.enter("tableDelimiterRow"),Ha=!1,markdownSpace(cl)?factorySpace(La,Ja,"linePrefix",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(cl):Ja(cl))}function Ja(cl){return cl===45||cl===58?Do(cl):cl===124?(Ha=!0,La.enter("tableCellDivider"),La.consume(cl),La.exit("tableCellDivider"),Oo):il(cl)}function Oo(cl){return markdownSpace(cl)?factorySpace(La,Do,"whitespace")(cl):Do(cl)}function Do(cl){return cl===58?(Ga+=1,Ha=!0,La.enter("tableDelimiterMarker"),La.consume(cl),La.exit("tableDelimiterMarker"),Mo):cl===45?(Ga+=1,Mo(cl)):cl===null||markdownLineEnding(cl)?rl(cl):il(cl)}function Mo(cl){return cl===45?(La.enter("tableDelimiterFiller"),el(cl)):il(cl)}function el(cl){return cl===45?(La.consume(cl),el):cl===58?(Ha=!0,La.exit("tableDelimiterFiller"),La.enter("tableDelimiterMarker"),La.consume(cl),La.exit("tableDelimiterMarker"),tl):(La.exit("tableDelimiterFiller"),tl(cl))}function tl(cl){return markdownSpace(cl)?factorySpace(La,rl,"whitespace")(cl):rl(cl)}function rl(cl){return cl===124?Ja(cl):cl===null||markdownLineEnding(cl)?!Ha||za!==Ga?il(cl):(La.exit("tableDelimiterRow"),La.exit("tableHead"),Na(cl)):il(cl)}function il(cl){return ja(cl)}function al(cl){return La.enter("tableRow"),ll(cl)}function ll(cl){return cl===124?(La.enter("tableCellDivider"),La.consume(cl),La.exit("tableCellDivider"),ll):cl===null||markdownLineEnding(cl)?(La.exit("tableRow"),Na(cl)):markdownSpace(cl)?factorySpace(La,ll,"whitespace")(cl):(La.enter("data"),ul(cl))}function ul(cl){return cl===null||cl===124||markdownLineEndingOrSpace(cl)?(La.exit("data"),ll(cl)):(La.consume(cl),cl===92?ol:ul)}function ol(cl){return cl===92||cl===124?(La.consume(cl),ul):ul(cl)}}function resolveTable(La,Na){let ja=-1,Ba=!0,za=0,Ga=[0,0,0,0],Ha=[0,0,0,0],Ya=!1,Xa=0,Ka,Qa,Va;const Ua=new EditMap;for(;++ja<La.length;){const Wa=La[ja],Ja=Wa[1];Wa[0]==="enter"?Ja.type==="tableHead"?(Ya=!1,Xa!==0&&(flushTableEnd(Ua,Na,Xa,Ka,Qa),Qa=void 0,Xa=0),Ka={type:"table",start:Object.assign({},Ja.start),end:Object.assign({},Ja.end)},Ua.add(ja,0,[["enter",Ka,Na]])):Ja.type==="tableRow"||Ja.type==="tableDelimiterRow"?(Ba=!0,Va=void 0,Ga=[0,0,0,0],Ha=[0,ja+1,0,0],Ya&&(Ya=!1,Qa={type:"tableBody",start:Object.assign({},Ja.start),end:Object.assign({},Ja.end)},Ua.add(ja,0,[["enter",Qa,Na]])),za=Ja.type==="tableDelimiterRow"?2:Qa?3:1):za&&(Ja.type==="data"||Ja.type==="tableDelimiterMarker"||Ja.type==="tableDelimiterFiller")?(Ba=!1,Ha[2]===0&&(Ga[1]!==0&&(Ha[0]=Ha[1],Va=flushCell(Ua,Na,Ga,za,void 0,Va),Ga=[0,0,0,0]),Ha[2]=ja)):Ja.type==="tableCellDivider"&&(Ba?Ba=!1:(Ga[1]!==0&&(Ha[0]=Ha[1],Va=flushCell(Ua,Na,Ga,za,void 0,Va)),Ga=Ha,Ha=[Ga[1],ja,0,0])):Ja.type==="tableHead"?(Ya=!0,Xa=ja):Ja.type==="tableRow"||Ja.type==="tableDelimiterRow"?(Xa=ja,Ga[1]!==0?(Ha[0]=Ha[1],Va=flushCell(Ua,Na,Ga,za,ja,Va)):Ha[1]!==0&&(Va=flushCell(Ua,Na,Ha,za,ja,Va)),za=0):za&&(Ja.type==="data"||Ja.type==="tableDelimiterMarker"||Ja.type==="tableDelimiterFiller")&&(Ha[3]=ja)}for(Xa!==0&&flushTableEnd(Ua,Na,Xa,Ka,Qa),Ua.consume(Na.events),ja=-1;++ja<Na.events.length;){const Wa=Na.events[ja];Wa[0]==="enter"&&Wa[1].type==="table"&&(Wa[1]._align=gfmTableAlign(Na.events,ja))}return La}function flushCell(La,Na,ja,Ba,za,Ga){const Ha=Ba===1?"tableHeader":Ba===2?"tableDelimiter":"tableData",Ya="tableContent";ja[0]!==0&&(Ga.end=Object.assign({},getPoint(Na.events,ja[0])),La.add(ja[0],0,[["exit",Ga,Na]]));const Xa=getPoint(Na.events,ja[1]);if(Ga={type:Ha,start:Object.assign({},Xa),end:Object.assign({},Xa)},La.add(ja[1],0,[["enter",Ga,Na]]),ja[2]!==0){const Ka=getPoint(Na.events,ja[2]),Qa=getPoint(Na.events,ja[3]),Va={type:Ya,start:Object.assign({},Ka),end:Object.assign({},Qa)};if(La.add(ja[2],0,[["enter",Va,Na]]),Ba!==2){const Ua=Na.events[ja[2]],Wa=Na.events[ja[3]];if(Ua[1].end=Object.assign({},Wa[1].end),Ua[1].type="chunkText",Ua[1].contentType="text",ja[3]>ja[2]+1){const Ja=ja[2]+1,Oo=ja[3]-ja[2]-1;La.add(Ja,Oo,[])}}La.add(ja[3]+1,0,[["exit",Va,Na]])}return za!==void 0&&(Ga.end=Object.assign({},getPoint(Na.events,za)),La.add(za,0,[["exit",Ga,Na]]),Ga=void 0),Ga}function flushTableEnd(La,Na,ja,Ba,za){const Ga=[],Ha=getPoint(Na.events,ja);za&&(za.end=Object.assign({},Ha),Ga.push(["exit",za,Na])),Ba.end=Object.assign({},Ha),Ga.push(["exit",Ba,Na]),La.add(ja+1,0,Ga)}function getPoint(La,Na){const ja=La[Na],Ba=ja[0]==="enter"?"start":"end";return ja[1][Ba]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(La,Na,ja){const Ba=this;return za;function za(Xa){return Ba.previous!==null||!Ba._gfmTasklistFirstContentOfListItem?ja(Xa):(La.enter("taskListCheck"),La.enter("taskListCheckMarker"),La.consume(Xa),La.exit("taskListCheckMarker"),Ga)}function Ga(Xa){return markdownLineEndingOrSpace(Xa)?(La.enter("taskListCheckValueUnchecked"),La.consume(Xa),La.exit("taskListCheckValueUnchecked"),Ha):Xa===88||Xa===120?(La.enter("taskListCheckValueChecked"),La.consume(Xa),La.exit("taskListCheckValueChecked"),Ha):ja(Xa)}function Ha(Xa){return Xa===93?(La.enter("taskListCheckMarker"),La.consume(Xa),La.exit("taskListCheckMarker"),La.exit("taskListCheck"),Ya):ja(Xa)}function Ya(Xa){return markdownLineEnding(Xa)?Na(Xa):markdownSpace(Xa)?La.check({tokenize:spaceThenNonSpace},Na,ja)(Xa):ja(Xa)}}function spaceThenNonSpace(La,Na,ja){return factorySpace(La,Ba,"whitespace");function Ba(za){return za===null?ja(za):Na(za)}}function gfm(La){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(La),gfmTable(),gfmTaskListItem()])}const emptyOptions$3={};function remarkGfm(La){const Na=this,ja=La||emptyOptions$3,Ba=Na.data(),za=Ba.micromarkExtensions||(Ba.micromarkExtensions=[]),Ga=Ba.fromMarkdownExtensions||(Ba.fromMarkdownExtensions=[]),Ha=Ba.toMarkdownExtensions||(Ba.toMarkdownExtensions=[]);za.push(gfm(ja)),Ga.push(gfmFromMarkdown()),Ha.push(gfmToMarkdown(ja))}const search=/[#.]/g;function parseSelector(La,Na){const ja=La||"",Ba={};let za=0,Ga,Ha;for(;za<ja.length;){search.lastIndex=za;const Ya=search.exec(ja),Xa=ja.slice(za,Ya?Ya.index:ja.length);Xa&&(Ga?Ga==="#"?Ba.id=Xa:Array.isArray(Ba.className)?Ba.className.push(Xa):Ba.className=[Xa]:Ha=Xa,za+=Xa.length),Ya&&(Ga=Ya[0],za++)}return{type:"element",tagName:Ha||Na||"div",properties:Ba,children:[]}}function createH(La,Na,ja){const Ba=ja?createAdjustMap(ja):void 0;function za(Ga,Ha,...Ya){let Xa;if(Ga==null){Xa={type:"root",children:[]};const Ka=Ha;Ya.unshift(Ka)}else{Xa=parseSelector(Ga,Na);const Ka=Xa.tagName.toLowerCase(),Qa=Ba?Ba.get(Ka):void 0;if(Xa.tagName=Qa||Ka,isChild(Ha))Ya.unshift(Ha);else for(const[Va,Ua]of Object.entries(Ha))addProperty(La,Xa.properties,Va,Ua)}for(const Ka of Ya)addChild(Xa.children,Ka);return Xa.type==="element"&&Xa.tagName==="template"&&(Xa.content={type:"root",children:Xa.children},Xa.children=[]),Xa}return za}function isChild(La){if(La===null||typeof La!="object"||Array.isArray(La))return!0;if(typeof La.type!="string")return!1;const Na=La,ja=Object.keys(La);for(const Ba of ja){const za=Na[Ba];if(za&&typeof za=="object"){if(!Array.isArray(za))return!0;const Ga=za;for(const Ha of Ga)if(typeof Ha!="number"&&typeof Ha!="string")return!0}}return!!("children"in La&&Array.isArray(La.children))}function addProperty(La,Na,ja,Ba){const za=find$1(La,ja);let Ga;if(Ba!=null){if(typeof Ba=="number"){if(Number.isNaN(Ba))return;Ga=Ba}else typeof Ba=="boolean"?Ga=Ba:typeof Ba=="string"?za.spaceSeparated?Ga=parse$1(Ba):za.commaSeparated?Ga=parse$2(Ba):za.commaOrSpaceSeparated?Ga=parse$1(parse$2(Ba).join(" ")):Ga=parsePrimitive(za,za.property,Ba):Array.isArray(Ba)?Ga=[...Ba]:Ga=za.property==="style"?style(Ba):String(Ba);if(Array.isArray(Ga)){const Ha=[];for(const Ya of Ga)Ha.push(parsePrimitive(za,za.property,Ya));Ga=Ha}za.property==="className"&&Array.isArray(Na.className)&&(Ga=Na.className.concat(Ga)),Na[za.property]=Ga}}function addChild(La,Na){if(Na!=null)if(typeof Na=="number"||typeof Na=="string")La.push({type:"text",value:String(Na)});else if(Array.isArray(Na))for(const ja of Na)addChild(La,ja);else if(typeof Na=="object"&&"type"in Na)Na.type==="root"?addChild(La,Na.children):La.push(Na);else throw new Error("Expected node, nodes, or string, got `"+Na+"`")}function parsePrimitive(La,Na,ja){if(typeof ja=="string"){if(La.number&&ja&&!Number.isNaN(Number(ja)))return Number(ja);if((La.boolean||La.overloadedBoolean)&&(ja===""||normalize$2(ja)===normalize$2(Na)))return!0}return ja}function style(La){const Na=[];for(const[ja,Ba]of Object.entries(La))Na.push([ja,Ba].join(": "));return Na.join("; ")}function createAdjustMap(La){const Na=new Map;for(const ja of La)Na.set(ja.toLowerCase(),ja);return Na}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$4,"div"),s=createH(svg$2,"g",svgCaseSensitiveTagNames);function location$1(La){const Na=String(La),ja=[];return{toOffset:za,toPoint:Ba};function Ba(Ga){if(typeof Ga=="number"&&Ga>-1&&Ga<=Na.length){let Ha=0;for(;;){let Ya=ja[Ha];if(Ya===void 0){const Xa=next(Na,ja[Ha-1]);Ya=Xa===-1?Na.length+1:Xa+1,ja[Ha]=Ya}if(Ya>Ga)return{line:Ha+1,column:Ga-(Ha>0?ja[Ha-1]:0)+1,offset:Ga};Ha++}}}function za(Ga){if(Ga&&typeof Ga.line=="number"&&typeof Ga.column=="number"&&!Number.isNaN(Ga.line)&&!Number.isNaN(Ga.column)){for(;ja.length<Ga.line;){const Ya=ja[ja.length-1],Xa=next(Na,Ya),Ka=Xa===-1?Na.length+1:Xa+1;if(Ya===Ka)break;ja.push(Ka)}const Ha=(Ga.line>1?ja[Ga.line-2]:0)+Ga.column-1;if(Ha<ja[Ga.line-1])return Ha}}}function next(La,Na){const ja=La.indexOf("\r",Na),Ba=La.indexOf(`
`,Na);return Ba===-1?ja:ja===-1||ja+1===Ba?Ba:ja<Ba?ja:Ba}const webNamespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},own$3={}.hasOwnProperty,proto=Object.prototype;function fromParse5(La,Na){const ja=Na||{};return one$2({file:ja.file||void 0,location:!1,schema:ja.space==="svg"?svg$2:html$4,verbose:ja.verbose||!1},La)}function one$2(La,Na){let ja;switch(Na.nodeName){case"#comment":{const Ba=Na;return ja={type:"comment",value:Ba.data},patch$2(La,Ba,ja),ja}case"#document":case"#document-fragment":{const Ba=Na,za="mode"in Ba?Ba.mode==="quirks"||Ba.mode==="limited-quirks":!1;if(ja={type:"root",children:all$3(La,Na.childNodes),data:{quirksMode:za}},La.file&&La.location){const Ga=String(La.file),Ha=location$1(Ga),Ya=Ha.toPoint(0),Xa=Ha.toPoint(Ga.length);ja.position={start:Ya,end:Xa}}return ja}case"#documentType":{const Ba=Na;return ja={type:"doctype"},patch$2(La,Ba,ja),ja}case"#text":{const Ba=Na;return ja={type:"text",value:Ba.value},patch$2(La,Ba,ja),ja}default:return ja=element$5(La,Na),ja}}function all$3(La,Na){let ja=-1;const Ba=[];for(;++ja<Na.length;){const za=one$2(La,Na[ja]);Ba.push(za)}return Ba}function element$5(La,Na){const ja=La.schema;La.schema=Na.namespaceURI===webNamespaces.svg?svg$2:html$4;let Ba=-1;const za={};for(;++Ba<Na.attrs.length;){const Ya=Na.attrs[Ba],Xa=(Ya.prefix?Ya.prefix+":":"")+Ya.name;own$3.call(proto,Xa)||(za[Xa]=Ya.value)}const Ha=(La.schema.space==="svg"?s:h)(Na.tagName,za,all$3(La,Na.childNodes));if(patch$2(La,Na,Ha),Ha.tagName==="template"){const Ya=Na,Xa=Ya.sourceCodeLocation,Ka=Xa&&Xa.startTag&&position(Xa.startTag),Qa=Xa&&Xa.endTag&&position(Xa.endTag),Va=one$2(La,Ya.content);Ka&&Qa&&La.file&&(Va.position={start:Ka.end,end:Qa.start}),Ha.content=Va}return La.schema=ja,Ha}function patch$2(La,Na,ja){if("sourceCodeLocation"in Na&&Na.sourceCodeLocation&&La.file){const Ba=createLocation(La,ja,Na.sourceCodeLocation);Ba&&(La.location=!0,ja.position=Ba)}}function createLocation(La,Na,ja){const Ba=position(ja);if(Na.type==="element"){const za=Na.children[Na.children.length-1];if(Ba&&!ja.endTag&&za&&za.position&&za.position.end&&(Ba.end=Object.assign({},za.position.end)),La.verbose){const Ga={};let Ha;if(ja.attrs)for(Ha in ja.attrs)own$3.call(ja.attrs,Ha)&&(Ga[find$1(La.schema,Ha).property]=position(ja.attrs[Ha]));ja.startTag;const Ya=position(ja.startTag),Xa=ja.endTag?position(ja.endTag):void 0,Ka={opening:Ya};Xa&&(Ka.closing=Xa),Ka.properties=Ga,Na.data={position:Ka}}}return Ba}function position(La){const Na=point({line:La.startLine,column:La.startCol,offset:La.startOffset}),ja=point({line:La.endLine,column:La.endCol,offset:La.endOffset});return Na||ja?{start:Na,end:ja}:void 0}function point(La){return La.line&&La.column?La:void 0}class Schema{constructor(Na,ja,Ba){this.property=Na,this.normal=ja,Ba&&(this.space=Ba)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge(La,Na){const ja={},Ba={};let za=-1;for(;++za<La.length;)Object.assign(ja,La[za].property),Object.assign(Ba,La[za].normal);return new Schema(ja,Ba,Na)}function normalize(La){return La.toLowerCase()}class Info{constructor(Na,ja){this.property=Na,this.attribute=ja}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(Na,ja,Ba,za){let Ga=-1;if(super(Na,ja),mark(this,"space",za),typeof Ba=="number")for(;++Ga<checks.length;){const Ha=checks[Ga];mark(this,checks[Ga],(Ba&types[Ha])===types[Ha])}}}DefinedInfo.prototype.defined=!0;function mark(La,Na,ja){ja&&(La[Na]=ja)}const own$2={}.hasOwnProperty;function create(La){const Na={},ja={};let Ba;for(Ba in La.properties)if(own$2.call(La.properties,Ba)){const za=La.properties[Ba],Ga=new DefinedInfo(Ba,La.transform(La.attributes||{},Ba),za,La.space);La.mustUseProperty&&La.mustUseProperty.includes(Ba)&&(Ga.mustUseProperty=!0),Na[Ba]=Ga,ja[normalize(Ba)]=Ba,ja[normalize(Ga.attribute)]=Ba}return new Schema(Na,ja,La.space)}const xlink=create({space:"xlink",transform(La,Na){return"xlink:"+Na.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(La,Na){return"xml:"+Na.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(La,Na){return Na in La?La[Na]:Na}function caseInsensitiveTransform(La,Na){return caseSensitiveTransform(La,Na.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria$1=create({transform(La,Na){return Na==="role"?Na:"aria-"+Na.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html$1=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg$1=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function find(La,Na){const ja=normalize(Na);let Ba=Na,za=Info;if(ja in La.normal)return La.property[La.normal[ja]];if(ja.length>4&&ja.slice(0,4)==="data"&&valid.test(Na)){if(Na.charAt(4)==="-"){const Ga=Na.slice(5).replace(dash,camelcase);Ba="data"+Ga.charAt(0).toUpperCase()+Ga.slice(1)}else{const Ga=Na.slice(4);if(!dash.test(Ga)){let Ha=Ga.replace(cap,kebab);Ha.charAt(0)!=="-"&&(Ha="-"+Ha),Na="data"+Ha}}za=DefinedInfo}return new za(Ba,Na)}function kebab(La){return"-"+La.toLowerCase()}function camelcase(La){return La.charAt(1).toUpperCase()}const html=merge([xml,xlink,xmlns,aria$1,html$1],"html"),svg=merge([xml,xlink,xmlns,aria$1,svg$1],"svg"),emptyOptions$2={},own$1={}.hasOwnProperty,one$1=zwitch("type",{handlers:{root:root$3,element:element$4,text:text$5,comment:comment$3,doctype:doctype$3}});function toParse5(La,Na){const Ba=(Na||emptyOptions$2).space;return one$1(La,Ba==="svg"?svg:html)}function root$3(La,Na){const ja={nodeName:"#document",mode:(La.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return ja.childNodes=all$2(La.children,ja,Na),patch$1(La,ja),ja}function fragment(La,Na){const ja={nodeName:"#document-fragment",childNodes:[]};return ja.childNodes=all$2(La.children,ja,Na),patch$1(La,ja),ja}function doctype$3(La){const Na={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return patch$1(La,Na),Na}function text$5(La){const Na={nodeName:"#text",value:La.value,parentNode:null};return patch$1(La,Na),Na}function comment$3(La){const Na={nodeName:"#comment",data:La.value,parentNode:null};return patch$1(La,Na),Na}function element$4(La,Na){const ja=Na;let Ba=ja;La.type==="element"&&La.tagName.toLowerCase()==="svg"&&ja.space==="html"&&(Ba=svg);const za=[];let Ga;if(La.properties){for(Ga in La.properties)if(Ga!=="children"&&own$1.call(La.properties,Ga)){const Xa=createProperty(Ba,Ga,La.properties[Ga]);Xa&&za.push(Xa)}}const Ha=Ba.space,Ya={nodeName:La.tagName,tagName:La.tagName,attrs:za,namespaceURI:webNamespaces[Ha],childNodes:[],parentNode:null};return Ya.childNodes=all$2(La.children,Ya,Ba),patch$1(La,Ya),La.tagName==="template"&&La.content&&(Ya.content=fragment(La.content,Ba)),Ya}function createProperty(La,Na,ja){const Ba=find(La,Na);if(ja===!1||ja===null||ja===void 0||typeof ja=="number"&&Number.isNaN(ja)||!ja&&Ba.boolean)return;Array.isArray(ja)&&(ja=Ba.commaSeparated?stringify$1(ja):stringify(ja));const za={name:Ba.attribute,value:ja===!0?"":String(ja)};if(Ba.space&&Ba.space!=="html"&&Ba.space!=="svg"){const Ga=za.name.indexOf(":");Ga<0?za.prefix="":(za.name=za.name.slice(Ga+1),za.prefix=Ba.attribute.slice(0,Ga)),za.namespace=webNamespaces[Ba.space]}return za}function all$2(La,Na,ja){let Ba=-1;const za=[];if(La)for(;++Ba<La.length;){const Ga=one$1(La[Ba],ja);Ga.parentNode=Na,za.push(Ga)}return za}function patch$1(La,Na){const ja=La.position;ja&&ja.start&&ja.end&&(ja.start.offset,ja.end.offset,Na.sourceCodeLocation={startLine:ja.start.line,startCol:ja.start.column,startOffset:ja.start.offset,endLine:ja.end.line,endCol:ja.end.column,endOffset:ja.end.offset})}const htmlVoidElements=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],UNDEFINED_CODE_POINTS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),REPLACEMENT_CHARACTER="";var CODE_POINTS;(function(La){La[La.EOF=-1]="EOF",La[La.NULL=0]="NULL",La[La.TABULATION=9]="TABULATION",La[La.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",La[La.LINE_FEED=10]="LINE_FEED",La[La.FORM_FEED=12]="FORM_FEED",La[La.SPACE=32]="SPACE",La[La.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",La[La.QUOTATION_MARK=34]="QUOTATION_MARK",La[La.AMPERSAND=38]="AMPERSAND",La[La.APOSTROPHE=39]="APOSTROPHE",La[La.HYPHEN_MINUS=45]="HYPHEN_MINUS",La[La.SOLIDUS=47]="SOLIDUS",La[La.DIGIT_0=48]="DIGIT_0",La[La.DIGIT_9=57]="DIGIT_9",La[La.SEMICOLON=59]="SEMICOLON",La[La.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",La[La.EQUALS_SIGN=61]="EQUALS_SIGN",La[La.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",La[La.QUESTION_MARK=63]="QUESTION_MARK",La[La.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",La[La.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",La[La.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",La[La.GRAVE_ACCENT=96]="GRAVE_ACCENT",La[La.LATIN_SMALL_A=97]="LATIN_SMALL_A",La[La.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(CODE_POINTS||(CODE_POINTS={}));const SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(La){return La>=55296&&La<=57343}function isSurrogatePair(La){return La>=56320&&La<=57343}function getSurrogatePairCodePoint(La,Na){return(La-55296)*1024+9216+Na}function isControlCodePoint(La){return La!==32&&La!==10&&La!==13&&La!==9&&La!==12&&La>=1&&La<=31||La>=127&&La<=159}function isUndefinedCodePoint(La){return La>=64976&&La<=65007||UNDEFINED_CODE_POINTS.has(La)}var ERR;(function(La){La.controlCharacterInInputStream="control-character-in-input-stream",La.noncharacterInInputStream="noncharacter-in-input-stream",La.surrogateInInputStream="surrogate-in-input-stream",La.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",La.endTagWithAttributes="end-tag-with-attributes",La.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",La.unexpectedSolidusInTag="unexpected-solidus-in-tag",La.unexpectedNullCharacter="unexpected-null-character",La.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",La.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",La.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",La.missingEndTagName="missing-end-tag-name",La.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",La.unknownNamedCharacterReference="unknown-named-character-reference",La.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",La.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",La.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",La.eofBeforeTagName="eof-before-tag-name",La.eofInTag="eof-in-tag",La.missingAttributeValue="missing-attribute-value",La.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",La.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",La.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",La.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",La.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",La.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",La.missingDoctypePublicIdentifier="missing-doctype-public-identifier",La.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",La.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",La.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",La.cdataInHtmlContent="cdata-in-html-content",La.incorrectlyOpenedComment="incorrectly-opened-comment",La.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",La.eofInDoctype="eof-in-doctype",La.nestedComment="nested-comment",La.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",La.eofInComment="eof-in-comment",La.incorrectlyClosedComment="incorrectly-closed-comment",La.eofInCdata="eof-in-cdata",La.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",La.nullCharacterReference="null-character-reference",La.surrogateCharacterReference="surrogate-character-reference",La.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",La.controlCharacterReference="control-character-reference",La.noncharacterCharacterReference="noncharacter-character-reference",La.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",La.missingDoctypeName="missing-doctype-name",La.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",La.duplicateAttribute="duplicate-attribute",La.nonConformingDoctype="non-conforming-doctype",La.missingDoctype="missing-doctype",La.misplacedDoctype="misplaced-doctype",La.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",La.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",La.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",La.openElementsLeftAfterEof="open-elements-left-after-eof",La.abandonedHeadElementChild="abandoned-head-element-child",La.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",La.nestedNoscriptInHead="nested-noscript-in-head",La.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ERR||(ERR={}));const DEFAULT_BUFFER_WATERLINE=65536;class Preprocessor{constructor(Na){this.handler=Na,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=DEFAULT_BUFFER_WATERLINE,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(Na,ja){const{line:Ba,col:za,offset:Ga}=this,Ha=za+ja,Ya=Ga+ja;return{code:Na,startLine:Ba,endLine:Ba,startCol:Ha,endCol:Ha,startOffset:Ya,endOffset:Ya}}_err(Na){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(Na,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(Na){if(this.pos!==this.html.length-1){const ja=this.html.charCodeAt(this.pos+1);if(isSurrogatePair(ja))return this.pos++,this._addGap(),getSurrogatePairCodePoint(Na,ja)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,CODE_POINTS.EOF;return this._err(ERR.surrogateInInputStream),Na}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(Na,ja){this.html.length>0?this.html+=Na:this.html=Na,this.endOfChunkHit=!1,this.lastChunkWritten=ja}insertHtmlAtCurrentPos(Na){this.html=this.html.substring(0,this.pos+1)+Na+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(Na,ja){if(this.pos+Na.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(ja)return this.html.startsWith(Na,this.pos);for(let Ba=0;Ba<Na.length;Ba++)if((this.html.charCodeAt(this.pos+Ba)|32)!==Na.charCodeAt(Ba))return!1;return!0}peek(Na){const ja=this.pos+Na;if(ja>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;const Ba=this.html.charCodeAt(ja);return Ba===CODE_POINTS.CARRIAGE_RETURN?CODE_POINTS.LINE_FEED:Ba}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;let Na=this.html.charCodeAt(this.pos);return Na===CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,CODE_POINTS.LINE_FEED):Na===CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,isSurrogate(Na)&&(Na=this._processSurrogate(Na)),this.handler.onParseError===null||Na>31&&Na<127||Na===CODE_POINTS.LINE_FEED||Na===CODE_POINTS.CARRIAGE_RETURN||Na>159&&Na<64976||this._checkForProblematicCharacters(Na),Na)}_checkForProblematicCharacters(Na){isControlCodePoint(Na)?this._err(ERR.controlCharacterInInputStream):isUndefinedCodePoint(Na)&&this._err(ERR.noncharacterInInputStream)}retreat(Na){for(this.pos-=Na;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var TokenType;(function(La){La[La.CHARACTER=0]="CHARACTER",La[La.NULL_CHARACTER=1]="NULL_CHARACTER",La[La.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",La[La.START_TAG=3]="START_TAG",La[La.END_TAG=4]="END_TAG",La[La.COMMENT=5]="COMMENT",La[La.DOCTYPE=6]="DOCTYPE",La[La.EOF=7]="EOF",La[La.HIBERNATION=8]="HIBERNATION"})(TokenType||(TokenType={}));function getTokenAttr(La,Na){for(let ja=La.attrs.length-1;ja>=0;ja--)if(La.attrs[ja].name===Na)return La.attrs[ja].value;return null}const htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(La=>La.charCodeAt(0))),decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function replaceCodePoint(La){var Na;return La>=55296&&La<=57343||La>1114111?65533:(Na=decodeMap.get(La))!==null&&Na!==void 0?Na:La}var CharCodes;(function(La){La[La.NUM=35]="NUM",La[La.SEMI=59]="SEMI",La[La.EQUALS=61]="EQUALS",La[La.ZERO=48]="ZERO",La[La.NINE=57]="NINE",La[La.LOWER_A=97]="LOWER_A",La[La.LOWER_F=102]="LOWER_F",La[La.LOWER_X=120]="LOWER_X",La[La.LOWER_Z=122]="LOWER_Z",La[La.UPPER_A=65]="UPPER_A",La[La.UPPER_F=70]="UPPER_F",La[La.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(La){La[La.VALUE_LENGTH=49152]="VALUE_LENGTH",La[La.BRANCH_LENGTH=16256]="BRANCH_LENGTH",La[La.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(La){return La>=CharCodes.ZERO&&La<=CharCodes.NINE}function isHexadecimalCharacter(La){return La>=CharCodes.UPPER_A&&La<=CharCodes.UPPER_F||La>=CharCodes.LOWER_A&&La<=CharCodes.LOWER_F}function isAsciiAlphaNumeric$1(La){return La>=CharCodes.UPPER_A&&La<=CharCodes.UPPER_Z||La>=CharCodes.LOWER_A&&La<=CharCodes.LOWER_Z||isNumber(La)}function isEntityInAttributeInvalidEnd(La){return La===CharCodes.EQUALS||isAsciiAlphaNumeric$1(La)}var EntityDecoderState;(function(La){La[La.EntityStart=0]="EntityStart",La[La.NumericStart=1]="NumericStart",La[La.NumericDecimal=2]="NumericDecimal",La[La.NumericHex=3]="NumericHex",La[La.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(La){La[La.Legacy=0]="Legacy",La[La.Strict=1]="Strict",La[La.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(Na,ja,Ba){this.decodeTree=Na,this.emitCodePoint=ja,this.errors=Ba,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(Na){this.decodeMode=Na,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(Na,ja){switch(this.state){case EntityDecoderState.EntityStart:return Na.charCodeAt(ja)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(Na,ja+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(Na,ja));case EntityDecoderState.NumericStart:return this.stateNumericStart(Na,ja);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(Na,ja);case EntityDecoderState.NumericHex:return this.stateNumericHex(Na,ja);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(Na,ja)}}stateNumericStart(Na,ja){return ja>=Na.length?-1:(Na.charCodeAt(ja)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(Na,ja+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(Na,ja))}addToNumericResult(Na,ja,Ba,za){if(ja!==Ba){const Ga=Ba-ja;this.result=this.result*Math.pow(za,Ga)+Number.parseInt(Na.substr(ja,Ga),za),this.consumed+=Ga}}stateNumericHex(Na,ja){const Ba=ja;for(;ja<Na.length;){const za=Na.charCodeAt(ja);if(isNumber(za)||isHexadecimalCharacter(za))ja+=1;else return this.addToNumericResult(Na,Ba,ja,16),this.emitNumericEntity(za,3)}return this.addToNumericResult(Na,Ba,ja,16),-1}stateNumericDecimal(Na,ja){const Ba=ja;for(;ja<Na.length;){const za=Na.charCodeAt(ja);if(isNumber(za))ja+=1;else return this.addToNumericResult(Na,Ba,ja,10),this.emitNumericEntity(za,2)}return this.addToNumericResult(Na,Ba,ja,10),-1}emitNumericEntity(Na,ja){var Ba;if(this.consumed<=ja)return(Ba=this.errors)===null||Ba===void 0||Ba.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(Na===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(Na!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(Na,ja){const{decodeTree:Ba}=this;let za=Ba[this.treeIndex],Ga=(za&BinTrieFlags.VALUE_LENGTH)>>14;for(;ja<Na.length;ja++,this.excess++){const Ha=Na.charCodeAt(ja);if(this.treeIndex=determineBranch(Ba,za,this.treeIndex+Math.max(1,Ga),Ha),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(Ga===0||isEntityInAttributeInvalidEnd(Ha))?0:this.emitNotTerminatedNamedEntity();if(za=Ba[this.treeIndex],Ga=(za&BinTrieFlags.VALUE_LENGTH)>>14,Ga!==0){if(Ha===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,Ga,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var Na;const{result:ja,decodeTree:Ba}=this,za=(Ba[ja]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(ja,za,this.consumed),(Na=this.errors)===null||Na===void 0||Na.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(Na,ja,Ba){const{decodeTree:za}=this;return this.emitCodePoint(ja===1?za[Na]&~BinTrieFlags.VALUE_LENGTH:za[Na+1],Ba),ja===3&&this.emitCodePoint(za[Na+2],Ba),Ba}end(){var Na;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(Na=this.errors)===null||Na===void 0||Na.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function determineBranch(La,Na,ja,Ba){const za=(Na&BinTrieFlags.BRANCH_LENGTH)>>7,Ga=Na&BinTrieFlags.JUMP_TABLE;if(za===0)return Ga!==0&&Ba===Ga?ja:-1;if(Ga){const Xa=Ba-Ga;return Xa<0||Xa>=za?-1:La[ja+Xa]-1}let Ha=ja,Ya=Ha+za-1;for(;Ha<=Ya;){const Xa=Ha+Ya>>>1,Ka=La[Xa];if(Ka<Ba)Ha=Xa+1;else if(Ka>Ba)Ya=Xa-1;else return La[Xa+za]}return-1}var NS;(function(La){La.HTML="http://www.w3.org/1999/xhtml",La.MATHML="http://www.w3.org/1998/Math/MathML",La.SVG="http://www.w3.org/2000/svg",La.XLINK="http://www.w3.org/1999/xlink",La.XML="http://www.w3.org/XML/1998/namespace",La.XMLNS="http://www.w3.org/2000/xmlns/"})(NS||(NS={}));var ATTRS;(function(La){La.TYPE="type",La.ACTION="action",La.ENCODING="encoding",La.PROMPT="prompt",La.NAME="name",La.COLOR="color",La.FACE="face",La.SIZE="size"})(ATTRS||(ATTRS={}));var DOCUMENT_MODE;(function(La){La.NO_QUIRKS="no-quirks",La.QUIRKS="quirks",La.LIMITED_QUIRKS="limited-quirks"})(DOCUMENT_MODE||(DOCUMENT_MODE={}));var TAG_NAMES;(function(La){La.A="a",La.ADDRESS="address",La.ANNOTATION_XML="annotation-xml",La.APPLET="applet",La.AREA="area",La.ARTICLE="article",La.ASIDE="aside",La.B="b",La.BASE="base",La.BASEFONT="basefont",La.BGSOUND="bgsound",La.BIG="big",La.BLOCKQUOTE="blockquote",La.BODY="body",La.BR="br",La.BUTTON="button",La.CAPTION="caption",La.CENTER="center",La.CODE="code",La.COL="col",La.COLGROUP="colgroup",La.DD="dd",La.DESC="desc",La.DETAILS="details",La.DIALOG="dialog",La.DIR="dir",La.DIV="div",La.DL="dl",La.DT="dt",La.EM="em",La.EMBED="embed",La.FIELDSET="fieldset",La.FIGCAPTION="figcaption",La.FIGURE="figure",La.FONT="font",La.FOOTER="footer",La.FOREIGN_OBJECT="foreignObject",La.FORM="form",La.FRAME="frame",La.FRAMESET="frameset",La.H1="h1",La.H2="h2",La.H3="h3",La.H4="h4",La.H5="h5",La.H6="h6",La.HEAD="head",La.HEADER="header",La.HGROUP="hgroup",La.HR="hr",La.HTML="html",La.I="i",La.IMG="img",La.IMAGE="image",La.INPUT="input",La.IFRAME="iframe",La.KEYGEN="keygen",La.LABEL="label",La.LI="li",La.LINK="link",La.LISTING="listing",La.MAIN="main",La.MALIGNMARK="malignmark",La.MARQUEE="marquee",La.MATH="math",La.MENU="menu",La.META="meta",La.MGLYPH="mglyph",La.MI="mi",La.MO="mo",La.MN="mn",La.MS="ms",La.MTEXT="mtext",La.NAV="nav",La.NOBR="nobr",La.NOFRAMES="noframes",La.NOEMBED="noembed",La.NOSCRIPT="noscript",La.OBJECT="object",La.OL="ol",La.OPTGROUP="optgroup",La.OPTION="option",La.P="p",La.PARAM="param",La.PLAINTEXT="plaintext",La.PRE="pre",La.RB="rb",La.RP="rp",La.RT="rt",La.RTC="rtc",La.RUBY="ruby",La.S="s",La.SCRIPT="script",La.SEARCH="search",La.SECTION="section",La.SELECT="select",La.SOURCE="source",La.SMALL="small",La.SPAN="span",La.STRIKE="strike",La.STRONG="strong",La.STYLE="style",La.SUB="sub",La.SUMMARY="summary",La.SUP="sup",La.TABLE="table",La.TBODY="tbody",La.TEMPLATE="template",La.TEXTAREA="textarea",La.TFOOT="tfoot",La.TD="td",La.TH="th",La.THEAD="thead",La.TITLE="title",La.TR="tr",La.TRACK="track",La.TT="tt",La.U="u",La.UL="ul",La.SVG="svg",La.VAR="var",La.WBR="wbr",La.XMP="xmp"})(TAG_NAMES||(TAG_NAMES={}));var TAG_ID;(function(La){La[La.UNKNOWN=0]="UNKNOWN",La[La.A=1]="A",La[La.ADDRESS=2]="ADDRESS",La[La.ANNOTATION_XML=3]="ANNOTATION_XML",La[La.APPLET=4]="APPLET",La[La.AREA=5]="AREA",La[La.ARTICLE=6]="ARTICLE",La[La.ASIDE=7]="ASIDE",La[La.B=8]="B",La[La.BASE=9]="BASE",La[La.BASEFONT=10]="BASEFONT",La[La.BGSOUND=11]="BGSOUND",La[La.BIG=12]="BIG",La[La.BLOCKQUOTE=13]="BLOCKQUOTE",La[La.BODY=14]="BODY",La[La.BR=15]="BR",La[La.BUTTON=16]="BUTTON",La[La.CAPTION=17]="CAPTION",La[La.CENTER=18]="CENTER",La[La.CODE=19]="CODE",La[La.COL=20]="COL",La[La.COLGROUP=21]="COLGROUP",La[La.DD=22]="DD",La[La.DESC=23]="DESC",La[La.DETAILS=24]="DETAILS",La[La.DIALOG=25]="DIALOG",La[La.DIR=26]="DIR",La[La.DIV=27]="DIV",La[La.DL=28]="DL",La[La.DT=29]="DT",La[La.EM=30]="EM",La[La.EMBED=31]="EMBED",La[La.FIELDSET=32]="FIELDSET",La[La.FIGCAPTION=33]="FIGCAPTION",La[La.FIGURE=34]="FIGURE",La[La.FONT=35]="FONT",La[La.FOOTER=36]="FOOTER",La[La.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",La[La.FORM=38]="FORM",La[La.FRAME=39]="FRAME",La[La.FRAMESET=40]="FRAMESET",La[La.H1=41]="H1",La[La.H2=42]="H2",La[La.H3=43]="H3",La[La.H4=44]="H4",La[La.H5=45]="H5",La[La.H6=46]="H6",La[La.HEAD=47]="HEAD",La[La.HEADER=48]="HEADER",La[La.HGROUP=49]="HGROUP",La[La.HR=50]="HR",La[La.HTML=51]="HTML",La[La.I=52]="I",La[La.IMG=53]="IMG",La[La.IMAGE=54]="IMAGE",La[La.INPUT=55]="INPUT",La[La.IFRAME=56]="IFRAME",La[La.KEYGEN=57]="KEYGEN",La[La.LABEL=58]="LABEL",La[La.LI=59]="LI",La[La.LINK=60]="LINK",La[La.LISTING=61]="LISTING",La[La.MAIN=62]="MAIN",La[La.MALIGNMARK=63]="MALIGNMARK",La[La.MARQUEE=64]="MARQUEE",La[La.MATH=65]="MATH",La[La.MENU=66]="MENU",La[La.META=67]="META",La[La.MGLYPH=68]="MGLYPH",La[La.MI=69]="MI",La[La.MO=70]="MO",La[La.MN=71]="MN",La[La.MS=72]="MS",La[La.MTEXT=73]="MTEXT",La[La.NAV=74]="NAV",La[La.NOBR=75]="NOBR",La[La.NOFRAMES=76]="NOFRAMES",La[La.NOEMBED=77]="NOEMBED",La[La.NOSCRIPT=78]="NOSCRIPT",La[La.OBJECT=79]="OBJECT",La[La.OL=80]="OL",La[La.OPTGROUP=81]="OPTGROUP",La[La.OPTION=82]="OPTION",La[La.P=83]="P",La[La.PARAM=84]="PARAM",La[La.PLAINTEXT=85]="PLAINTEXT",La[La.PRE=86]="PRE",La[La.RB=87]="RB",La[La.RP=88]="RP",La[La.RT=89]="RT",La[La.RTC=90]="RTC",La[La.RUBY=91]="RUBY",La[La.S=92]="S",La[La.SCRIPT=93]="SCRIPT",La[La.SEARCH=94]="SEARCH",La[La.SECTION=95]="SECTION",La[La.SELECT=96]="SELECT",La[La.SOURCE=97]="SOURCE",La[La.SMALL=98]="SMALL",La[La.SPAN=99]="SPAN",La[La.STRIKE=100]="STRIKE",La[La.STRONG=101]="STRONG",La[La.STYLE=102]="STYLE",La[La.SUB=103]="SUB",La[La.SUMMARY=104]="SUMMARY",La[La.SUP=105]="SUP",La[La.TABLE=106]="TABLE",La[La.TBODY=107]="TBODY",La[La.TEMPLATE=108]="TEMPLATE",La[La.TEXTAREA=109]="TEXTAREA",La[La.TFOOT=110]="TFOOT",La[La.TD=111]="TD",La[La.TH=112]="TH",La[La.THEAD=113]="THEAD",La[La.TITLE=114]="TITLE",La[La.TR=115]="TR",La[La.TRACK=116]="TRACK",La[La.TT=117]="TT",La[La.U=118]="U",La[La.UL=119]="UL",La[La.SVG=120]="SVG",La[La.VAR=121]="VAR",La[La.WBR=122]="WBR",La[La.XMP=123]="XMP"})(TAG_ID||(TAG_ID={}));const TAG_NAME_TO_ID=new Map([[TAG_NAMES.A,TAG_ID.A],[TAG_NAMES.ADDRESS,TAG_ID.ADDRESS],[TAG_NAMES.ANNOTATION_XML,TAG_ID.ANNOTATION_XML],[TAG_NAMES.APPLET,TAG_ID.APPLET],[TAG_NAMES.AREA,TAG_ID.AREA],[TAG_NAMES.ARTICLE,TAG_ID.ARTICLE],[TAG_NAMES.ASIDE,TAG_ID.ASIDE],[TAG_NAMES.B,TAG_ID.B],[TAG_NAMES.BASE,TAG_ID.BASE],[TAG_NAMES.BASEFONT,TAG_ID.BASEFONT],[TAG_NAMES.BGSOUND,TAG_ID.BGSOUND],[TAG_NAMES.BIG,TAG_ID.BIG],[TAG_NAMES.BLOCKQUOTE,TAG_ID.BLOCKQUOTE],[TAG_NAMES.BODY,TAG_ID.BODY],[TAG_NAMES.BR,TAG_ID.BR],[TAG_NAMES.BUTTON,TAG_ID.BUTTON],[TAG_NAMES.CAPTION,TAG_ID.CAPTION],[TAG_NAMES.CENTER,TAG_ID.CENTER],[TAG_NAMES.CODE,TAG_ID.CODE],[TAG_NAMES.COL,TAG_ID.COL],[TAG_NAMES.COLGROUP,TAG_ID.COLGROUP],[TAG_NAMES.DD,TAG_ID.DD],[TAG_NAMES.DESC,TAG_ID.DESC],[TAG_NAMES.DETAILS,TAG_ID.DETAILS],[TAG_NAMES.DIALOG,TAG_ID.DIALOG],[TAG_NAMES.DIR,TAG_ID.DIR],[TAG_NAMES.DIV,TAG_ID.DIV],[TAG_NAMES.DL,TAG_ID.DL],[TAG_NAMES.DT,TAG_ID.DT],[TAG_NAMES.EM,TAG_ID.EM],[TAG_NAMES.EMBED,TAG_ID.EMBED],[TAG_NAMES.FIELDSET,TAG_ID.FIELDSET],[TAG_NAMES.FIGCAPTION,TAG_ID.FIGCAPTION],[TAG_NAMES.FIGURE,TAG_ID.FIGURE],[TAG_NAMES.FONT,TAG_ID.FONT],[TAG_NAMES.FOOTER,TAG_ID.FOOTER],[TAG_NAMES.FOREIGN_OBJECT,TAG_ID.FOREIGN_OBJECT],[TAG_NAMES.FORM,TAG_ID.FORM],[TAG_NAMES.FRAME,TAG_ID.FRAME],[TAG_NAMES.FRAMESET,TAG_ID.FRAMESET],[TAG_NAMES.H1,TAG_ID.H1],[TAG_NAMES.H2,TAG_ID.H2],[TAG_NAMES.H3,TAG_ID.H3],[TAG_NAMES.H4,TAG_ID.H4],[TAG_NAMES.H5,TAG_ID.H5],[TAG_NAMES.H6,TAG_ID.H6],[TAG_NAMES.HEAD,TAG_ID.HEAD],[TAG_NAMES.HEADER,TAG_ID.HEADER],[TAG_NAMES.HGROUP,TAG_ID.HGROUP],[TAG_NAMES.HR,TAG_ID.HR],[TAG_NAMES.HTML,TAG_ID.HTML],[TAG_NAMES.I,TAG_ID.I],[TAG_NAMES.IMG,TAG_ID.IMG],[TAG_NAMES.IMAGE,TAG_ID.IMAGE],[TAG_NAMES.INPUT,TAG_ID.INPUT],[TAG_NAMES.IFRAME,TAG_ID.IFRAME],[TAG_NAMES.KEYGEN,TAG_ID.KEYGEN],[TAG_NAMES.LABEL,TAG_ID.LABEL],[TAG_NAMES.LI,TAG_ID.LI],[TAG_NAMES.LINK,TAG_ID.LINK],[TAG_NAMES.LISTING,TAG_ID.LISTING],[TAG_NAMES.MAIN,TAG_ID.MAIN],[TAG_NAMES.MALIGNMARK,TAG_ID.MALIGNMARK],[TAG_NAMES.MARQUEE,TAG_ID.MARQUEE],[TAG_NAMES.MATH,TAG_ID.MATH],[TAG_NAMES.MENU,TAG_ID.MENU],[TAG_NAMES.META,TAG_ID.META],[TAG_NAMES.MGLYPH,TAG_ID.MGLYPH],[TAG_NAMES.MI,TAG_ID.MI],[TAG_NAMES.MO,TAG_ID.MO],[TAG_NAMES.MN,TAG_ID.MN],[TAG_NAMES.MS,TAG_ID.MS],[TAG_NAMES.MTEXT,TAG_ID.MTEXT],[TAG_NAMES.NAV,TAG_ID.NAV],[TAG_NAMES.NOBR,TAG_ID.NOBR],[TAG_NAMES.NOFRAMES,TAG_ID.NOFRAMES],[TAG_NAMES.NOEMBED,TAG_ID.NOEMBED],[TAG_NAMES.NOSCRIPT,TAG_ID.NOSCRIPT],[TAG_NAMES.OBJECT,TAG_ID.OBJECT],[TAG_NAMES.OL,TAG_ID.OL],[TAG_NAMES.OPTGROUP,TAG_ID.OPTGROUP],[TAG_NAMES.OPTION,TAG_ID.OPTION],[TAG_NAMES.P,TAG_ID.P],[TAG_NAMES.PARAM,TAG_ID.PARAM],[TAG_NAMES.PLAINTEXT,TAG_ID.PLAINTEXT],[TAG_NAMES.PRE,TAG_ID.PRE],[TAG_NAMES.RB,TAG_ID.RB],[TAG_NAMES.RP,TAG_ID.RP],[TAG_NAMES.RT,TAG_ID.RT],[TAG_NAMES.RTC,TAG_ID.RTC],[TAG_NAMES.RUBY,TAG_ID.RUBY],[TAG_NAMES.S,TAG_ID.S],[TAG_NAMES.SCRIPT,TAG_ID.SCRIPT],[TAG_NAMES.SEARCH,TAG_ID.SEARCH],[TAG_NAMES.SECTION,TAG_ID.SECTION],[TAG_NAMES.SELECT,TAG_ID.SELECT],[TAG_NAMES.SOURCE,TAG_ID.SOURCE],[TAG_NAMES.SMALL,TAG_ID.SMALL],[TAG_NAMES.SPAN,TAG_ID.SPAN],[TAG_NAMES.STRIKE,TAG_ID.STRIKE],[TAG_NAMES.STRONG,TAG_ID.STRONG],[TAG_NAMES.STYLE,TAG_ID.STYLE],[TAG_NAMES.SUB,TAG_ID.SUB],[TAG_NAMES.SUMMARY,TAG_ID.SUMMARY],[TAG_NAMES.SUP,TAG_ID.SUP],[TAG_NAMES.TABLE,TAG_ID.TABLE],[TAG_NAMES.TBODY,TAG_ID.TBODY],[TAG_NAMES.TEMPLATE,TAG_ID.TEMPLATE],[TAG_NAMES.TEXTAREA,TAG_ID.TEXTAREA],[TAG_NAMES.TFOOT,TAG_ID.TFOOT],[TAG_NAMES.TD,TAG_ID.TD],[TAG_NAMES.TH,TAG_ID.TH],[TAG_NAMES.THEAD,TAG_ID.THEAD],[TAG_NAMES.TITLE,TAG_ID.TITLE],[TAG_NAMES.TR,TAG_ID.TR],[TAG_NAMES.TRACK,TAG_ID.TRACK],[TAG_NAMES.TT,TAG_ID.TT],[TAG_NAMES.U,TAG_ID.U],[TAG_NAMES.UL,TAG_ID.UL],[TAG_NAMES.SVG,TAG_ID.SVG],[TAG_NAMES.VAR,TAG_ID.VAR],[TAG_NAMES.WBR,TAG_ID.WBR],[TAG_NAMES.XMP,TAG_ID.XMP]]);function getTagID(La){var Na;return(Na=TAG_NAME_TO_ID.get(La))!==null&&Na!==void 0?Na:TAG_ID.UNKNOWN}const $=TAG_ID,SPECIAL_ELEMENTS={[NS.HTML]:new Set([$.ADDRESS,$.APPLET,$.AREA,$.ARTICLE,$.ASIDE,$.BASE,$.BASEFONT,$.BGSOUND,$.BLOCKQUOTE,$.BODY,$.BR,$.BUTTON,$.CAPTION,$.CENTER,$.COL,$.COLGROUP,$.DD,$.DETAILS,$.DIR,$.DIV,$.DL,$.DT,$.EMBED,$.FIELDSET,$.FIGCAPTION,$.FIGURE,$.FOOTER,$.FORM,$.FRAME,$.FRAMESET,$.H1,$.H2,$.H3,$.H4,$.H5,$.H6,$.HEAD,$.HEADER,$.HGROUP,$.HR,$.HTML,$.IFRAME,$.IMG,$.INPUT,$.LI,$.LINK,$.LISTING,$.MAIN,$.MARQUEE,$.MENU,$.META,$.NAV,$.NOEMBED,$.NOFRAMES,$.NOSCRIPT,$.OBJECT,$.OL,$.P,$.PARAM,$.PLAINTEXT,$.PRE,$.SCRIPT,$.SECTION,$.SELECT,$.SOURCE,$.STYLE,$.SUMMARY,$.TABLE,$.TBODY,$.TD,$.TEMPLATE,$.TEXTAREA,$.TFOOT,$.TH,$.THEAD,$.TITLE,$.TR,$.TRACK,$.UL,$.WBR,$.XMP]),[NS.MATHML]:new Set([$.MI,$.MO,$.MN,$.MS,$.MTEXT,$.ANNOTATION_XML]),[NS.SVG]:new Set([$.TITLE,$.FOREIGN_OBJECT,$.DESC]),[NS.XLINK]:new Set,[NS.XML]:new Set,[NS.XMLNS]:new Set},NUMBERED_HEADERS=new Set([$.H1,$.H2,$.H3,$.H4,$.H5,$.H6]);TAG_NAMES.STYLE,TAG_NAMES.SCRIPT,TAG_NAMES.XMP,TAG_NAMES.IFRAME,TAG_NAMES.NOEMBED,TAG_NAMES.NOFRAMES,TAG_NAMES.PLAINTEXT;var State;(function(La){La[La.DATA=0]="DATA",La[La.RCDATA=1]="RCDATA",La[La.RAWTEXT=2]="RAWTEXT",La[La.SCRIPT_DATA=3]="SCRIPT_DATA",La[La.PLAINTEXT=4]="PLAINTEXT",La[La.TAG_OPEN=5]="TAG_OPEN",La[La.END_TAG_OPEN=6]="END_TAG_OPEN",La[La.TAG_NAME=7]="TAG_NAME",La[La.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",La[La.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",La[La.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",La[La.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",La[La.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",La[La.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",La[La.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",La[La.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",La[La.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",La[La.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",La[La.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",La[La.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",La[La.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",La[La.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",La[La.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",La[La.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",La[La.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",La[La.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",La[La.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",La[La.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",La[La.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",La[La.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",La[La.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",La[La.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",La[La.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",La[La.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",La[La.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",La[La.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",La[La.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",La[La.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",La[La.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",La[La.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",La[La.BOGUS_COMMENT=40]="BOGUS_COMMENT",La[La.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",La[La.COMMENT_START=42]="COMMENT_START",La[La.COMMENT_START_DASH=43]="COMMENT_START_DASH",La[La.COMMENT=44]="COMMENT",La[La.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",La[La.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",La[La.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",La[La.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",La[La.COMMENT_END_DASH=49]="COMMENT_END_DASH",La[La.COMMENT_END=50]="COMMENT_END",La[La.COMMENT_END_BANG=51]="COMMENT_END_BANG",La[La.DOCTYPE=52]="DOCTYPE",La[La.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",La[La.DOCTYPE_NAME=54]="DOCTYPE_NAME",La[La.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",La[La.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",La[La.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",La[La.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",La[La.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",La[La.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",La[La.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",La[La.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",La[La.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",La[La.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",La[La.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",La[La.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",La[La.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",La[La.CDATA_SECTION=68]="CDATA_SECTION",La[La.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",La[La.CDATA_SECTION_END=70]="CDATA_SECTION_END",La[La.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",La[La.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(State||(State={}));const TokenizerMode={DATA:State.DATA,RCDATA:State.RCDATA,RAWTEXT:State.RAWTEXT,SCRIPT_DATA:State.SCRIPT_DATA,PLAINTEXT:State.PLAINTEXT,CDATA_SECTION:State.CDATA_SECTION};function isAsciiDigit(La){return La>=CODE_POINTS.DIGIT_0&&La<=CODE_POINTS.DIGIT_9}function isAsciiUpper(La){return La>=CODE_POINTS.LATIN_CAPITAL_A&&La<=CODE_POINTS.LATIN_CAPITAL_Z}function isAsciiLower(La){return La>=CODE_POINTS.LATIN_SMALL_A&&La<=CODE_POINTS.LATIN_SMALL_Z}function isAsciiLetter(La){return isAsciiLower(La)||isAsciiUpper(La)}function isAsciiAlphaNumeric(La){return isAsciiLetter(La)||isAsciiDigit(La)}function toAsciiLower(La){return La+32}function isWhitespace(La){return La===CODE_POINTS.SPACE||La===CODE_POINTS.LINE_FEED||La===CODE_POINTS.TABULATION||La===CODE_POINTS.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(La){return isWhitespace(La)||La===CODE_POINTS.SOLIDUS||La===CODE_POINTS.GREATER_THAN_SIGN}function getErrorForNumericCharacterReference(La){return La===CODE_POINTS.NULL?ERR.nullCharacterReference:La>1114111?ERR.characterReferenceOutsideUnicodeRange:isSurrogate(La)?ERR.surrogateCharacterReference:isUndefinedCodePoint(La)?ERR.noncharacterCharacterReference:isControlCodePoint(La)||La===CODE_POINTS.CARRIAGE_RETURN?ERR.controlCharacterReference:null}class Tokenizer{constructor(Na,ja){this.options=Na,this.handler=ja,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=State.DATA,this.returnState=State.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(ja),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new EntityDecoder(htmlDecodeTree,(Ba,za)=>{this.preprocessor.pos=this.entityStartPos+za-1,this._flushCodePointConsumedAsCharacterReference(Ba)},ja.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:Ba=>{this._err(ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+Ba)},validateNumericCharacterReference:Ba=>{const za=getErrorForNumericCharacterReference(Ba);za&&this._err(za,1)}}:void 0)}_err(Na,ja=0){var Ba,za;(za=(Ba=this.handler).onParseError)===null||za===void 0||za.call(Ba,this.preprocessor.getError(Na,ja))}getCurrentLocation(Na){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-Na,startOffset:this.preprocessor.offset-Na,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const Na=this._consume();this._ensureHibernation()||this._callState(Na)}this.inLoop=!1}}pause(){this.paused=!0}resume(Na){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||Na?.())}write(Na,ja,Ba){this.active=!0,this.preprocessor.write(Na,ja),this._runParsingLoop(),this.paused||Ba?.()}insertHtmlAtCurrentPos(Na){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(Na),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(Na){this.consumedAfterSnapshot+=Na;for(let ja=0;ja<Na;ja++)this.preprocessor.advance()}_consumeSequenceIfMatch(Na,ja){return this.preprocessor.startsWith(Na,ja)?(this._advanceBy(Na.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:TokenType.START_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:TokenType.END_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(Na){this.currentToken={type:TokenType.COMMENT,data:"",location:this.getCurrentLocation(Na)}}_createDoctypeToken(Na){this.currentToken={type:TokenType.DOCTYPE,name:Na,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(Na,ja){this.currentCharacterToken={type:Na,chars:ja,location:this.currentLocation}}_createAttr(Na){this.currentAttr={name:Na,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var Na,ja;const Ba=this.currentToken;if(getTokenAttr(Ba,this.currentAttr.name)===null){if(Ba.attrs.push(this.currentAttr),Ba.location&&this.currentLocation){const za=(Na=(ja=Ba.location).attrs)!==null&&Na!==void 0?Na:ja.attrs=Object.create(null);za[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(Na){this._emitCurrentCharacterToken(Na.location),this.currentToken=null,Na.location&&(Na.location.endLine=this.preprocessor.line,Na.location.endCol=this.preprocessor.col+1,Na.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const Na=this.currentToken;this.prepareToken(Na),Na.tagID=getTagID(Na.tagName),Na.type===TokenType.START_TAG?(this.lastStartTagName=Na.tagName,this.handler.onStartTag(Na)):(Na.attrs.length>0&&this._err(ERR.endTagWithAttributes),Na.selfClosing&&this._err(ERR.endTagWithTrailingSolidus),this.handler.onEndTag(Na)),this.preprocessor.dropParsedChunk()}emitCurrentComment(Na){this.prepareToken(Na),this.handler.onComment(Na),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(Na){this.prepareToken(Na),this.handler.onDoctype(Na),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(Na){if(this.currentCharacterToken){switch(Na&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=Na.startLine,this.currentCharacterToken.location.endCol=Na.startCol,this.currentCharacterToken.location.endOffset=Na.startOffset),this.currentCharacterToken.type){case TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const Na=this.getCurrentLocation(0);Na&&(Na.endLine=Na.startLine,Na.endCol=Na.startCol,Na.endOffset=Na.startOffset),this._emitCurrentCharacterToken(Na),this.handler.onEof({type:TokenType.EOF,location:Na}),this.active=!1}_appendCharToCurrentCharacterToken(Na,ja){if(this.currentCharacterToken)if(this.currentCharacterToken.type===Na){this.currentCharacterToken.chars+=ja;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(Na,ja)}_emitCodePoint(Na){const ja=isWhitespace(Na)?TokenType.WHITESPACE_CHARACTER:Na===CODE_POINTS.NULL?TokenType.NULL_CHARACTER:TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(ja,String.fromCodePoint(Na))}_emitChars(Na){this._appendCharToCurrentCharacterToken(TokenType.CHARACTER,Na)}_startCharacterReference(){this.returnState=this.state,this.state=State.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?DecodingMode.Attribute:DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===State.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(Na){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(Na):this._emitCodePoint(Na)}_callState(Na){switch(this.state){case State.DATA:{this._stateData(Na);break}case State.RCDATA:{this._stateRcdata(Na);break}case State.RAWTEXT:{this._stateRawtext(Na);break}case State.SCRIPT_DATA:{this._stateScriptData(Na);break}case State.PLAINTEXT:{this._statePlaintext(Na);break}case State.TAG_OPEN:{this._stateTagOpen(Na);break}case State.END_TAG_OPEN:{this._stateEndTagOpen(Na);break}case State.TAG_NAME:{this._stateTagName(Na);break}case State.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(Na);break}case State.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(Na);break}case State.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(Na);break}case State.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(Na);break}case State.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(Na);break}case State.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(Na);break}case State.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(Na);break}case State.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(Na);break}case State.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(Na);break}case State.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(Na);break}case State.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(Na);break}case State.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(Na);break}case State.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(Na);break}case State.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(Na);break}case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(Na);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(Na);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(Na);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(Na);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(Na);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(Na);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(Na);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(Na);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(Na);break}case State.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(Na);break}case State.ATTRIBUTE_NAME:{this._stateAttributeName(Na);break}case State.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(Na);break}case State.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(Na);break}case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(Na);break}case State.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(Na);break}case State.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(Na);break}case State.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(Na);break}case State.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(Na);break}case State.BOGUS_COMMENT:{this._stateBogusComment(Na);break}case State.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(Na);break}case State.COMMENT_START:{this._stateCommentStart(Na);break}case State.COMMENT_START_DASH:{this._stateCommentStartDash(Na);break}case State.COMMENT:{this._stateComment(Na);break}case State.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(Na);break}case State.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(Na);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(Na);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(Na);break}case State.COMMENT_END_DASH:{this._stateCommentEndDash(Na);break}case State.COMMENT_END:{this._stateCommentEnd(Na);break}case State.COMMENT_END_BANG:{this._stateCommentEndBang(Na);break}case State.DOCTYPE:{this._stateDoctype(Na);break}case State.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(Na);break}case State.DOCTYPE_NAME:{this._stateDoctypeName(Na);break}case State.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(Na);break}case State.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(Na);break}case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(Na);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(Na);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(Na);break}case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(Na);break}case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(Na);break}case State.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(Na);break}case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(Na);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(Na);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(Na);break}case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(Na);break}case State.BOGUS_DOCTYPE:{this._stateBogusDoctype(Na);break}case State.CDATA_SECTION:{this._stateCdataSection(Na);break}case State.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(Na);break}case State.CDATA_SECTION_END:{this._stateCdataSectionEnd(Na);break}case State.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case State.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(Na);break}default:throw new Error("Unknown state")}}_stateData(Na){switch(Na){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.TAG_OPEN;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitCodePoint(Na);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateRcdata(Na){switch(Na){case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RCDATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateRawtext(Na){switch(Na){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RAWTEXT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateScriptData(Na){switch(Na){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_statePlaintext(Na){switch(Na){case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateTagOpen(Na){if(isAsciiLetter(Na))this._createStartTagToken(),this.state=State.TAG_NAME,this._stateTagName(Na);else switch(Na){case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.MARKUP_DECLARATION_OPEN;break}case CODE_POINTS.SOLIDUS:{this.state=State.END_TAG_OPEN;break}case CODE_POINTS.QUESTION_MARK:{this._err(ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=State.BOGUS_COMMENT,this._stateBogusComment(Na);break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=State.DATA,this._stateData(Na)}}_stateEndTagOpen(Na){if(isAsciiLetter(Na))this._createEndTagToken(),this.state=State.TAG_NAME,this._stateTagName(Na);else switch(Na){case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingEndTagName),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(Na)}}_stateTagName(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.tagName+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:ja.tagName+=String.fromCodePoint(isAsciiUpper(Na)?toAsciiLower(Na):Na)}}_stateRcdataLessThanSign(Na){Na===CODE_POINTS.SOLIDUS?this.state=State.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RCDATA,this._stateRcdata(Na))}_stateRcdataEndTagOpen(Na){isAsciiLetter(Na)?(this.state=State.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(Na)):(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(Na))}handleSpecialEndTag(Na){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const ja=this.currentToken;switch(ja.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=State.BEFORE_ATTRIBUTE_NAME,!1;case CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=State.SELF_CLOSING_START_TAG,!1;case CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=State.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(Na){this.handleSpecialEndTag(Na)&&(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(Na))}_stateRawtextLessThanSign(Na){Na===CODE_POINTS.SOLIDUS?this.state=State.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RAWTEXT,this._stateRawtext(Na))}_stateRawtextEndTagOpen(Na){isAsciiLetter(Na)?(this.state=State.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(Na)):(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(Na))}_stateRawtextEndTagName(Na){this.handleSpecialEndTag(Na)&&(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(Na))}_stateScriptDataLessThanSign(Na){switch(Na){case CODE_POINTS.SOLIDUS:{this.state=State.SCRIPT_DATA_END_TAG_OPEN;break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=State.SCRIPT_DATA,this._stateScriptData(Na)}}_stateScriptDataEndTagOpen(Na){isAsciiLetter(Na)?(this.state=State.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(Na)):(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(Na))}_stateScriptDataEndTagName(Na){this.handleSpecialEndTag(Na)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(Na))}_stateScriptDataEscapeStart(Na){Na===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(Na))}_stateScriptDataEscapeStartDash(Na){Na===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(Na))}_stateScriptDataEscaped(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateScriptDataEscapedDash(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(Na)}}_stateScriptDataEscapedDashDash(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(Na)}}_stateScriptDataEscapedLessThanSign(Na){Na===CODE_POINTS.SOLIDUS?this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(Na)?(this._emitChars("<"),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(Na)):(this._emitChars("<"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(Na))}_stateScriptDataEscapedEndTagOpen(Na){isAsciiLetter(Na)?(this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(Na)):(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(Na))}_stateScriptDataEscapedEndTagName(Na){this.handleSpecialEndTag(Na)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(Na))}_stateScriptDataDoubleEscapeStart(Na){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(Na);for(let ja=0;ja<SEQUENCES.SCRIPT.length;ja++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(Na))}_stateScriptDataDoubleEscaped(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateScriptDataDoubleEscapedDash(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(Na)}}_stateScriptDataDoubleEscapedDashDash(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(Na)}}_stateScriptDataDoubleEscapedLessThanSign(Na){Na===CODE_POINTS.SOLIDUS?(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(Na))}_stateScriptDataDoubleEscapeEnd(Na){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(Na);for(let ja=0;ja<SEQUENCES.SCRIPT.length;ja++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(Na))}_stateBeforeAttributeName(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(Na);break}case CODE_POINTS.EQUALS_SIGN:{this._err(ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=State.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(Na)}}_stateAttributeName(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this._leaveAttrName(),this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(Na);break}case CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:{this._err(ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(Na);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.name+=REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(Na)?toAsciiLower(Na):Na)}}_stateAfterAttributeName(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.EQUALS_SIGN:{this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(Na)}}_stateBeforeAttributeValue(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{this.state=State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this.state=State.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingAttributeValue),this.state=State.DATA,this.emitCurrentTagToken();break}default:this.state=State.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(Na)}}_stateAttributeValueDoubleQuoted(Na){switch(Na){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(Na)}}_stateAttributeValueSingleQuoted(Na){switch(Na){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(Na)}}_stateAttributeValueUnquoted(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:case CODE_POINTS.EQUALS_SIGN:case CODE_POINTS.GRAVE_ACCENT:{this._err(ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(Na);break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(Na)}}_stateAfterAttributeValueQuoted(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBetweenAttributes),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(Na)}}_stateSelfClosingStartTag(Na){switch(Na){case CODE_POINTS.GREATER_THAN_SIGN:{const ja=this.currentToken;ja.selfClosing=!0,this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.unexpectedSolidusInTag),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(Na)}}_stateBogusComment(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(ja);break}case CODE_POINTS.EOF:{this.emitCurrentComment(ja),this._emitEOFToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.data+=REPLACEMENT_CHARACTER;break}default:ja.data+=String.fromCodePoint(Na)}}_stateMarkupDeclarationOpen(Na){this._consumeSequenceIfMatch(SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(SEQUENCES.DASH_DASH.length+1),this.state=State.COMMENT_START):this._consumeSequenceIfMatch(SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(SEQUENCES.DOCTYPE.length+1),this.state=State.DOCTYPE):this._consumeSequenceIfMatch(SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=State.CDATA_SECTION:(this._err(ERR.cdataInHtmlContent),this._createCommentToken(SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=State.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(Na))}_stateCommentStart(Na){switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_START_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA;const ja=this.currentToken;this.emitCurrentComment(ja);break}default:this.state=State.COMMENT,this._stateComment(Na)}}_stateCommentStartDash(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA,this.emitCurrentComment(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(ja),this._emitEOFToken();break}default:ja.data+="-",this.state=State.COMMENT,this._stateComment(Na)}}_stateComment(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.LESS_THAN_SIGN:{ja.data+="<",this.state=State.COMMENT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.data+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(ja),this._emitEOFToken();break}default:ja.data+=String.fromCodePoint(Na)}}_stateCommentLessThanSign(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.EXCLAMATION_MARK:{ja.data+="!",this.state=State.COMMENT_LESS_THAN_SIGN_BANG;break}case CODE_POINTS.LESS_THAN_SIGN:{ja.data+="<";break}default:this.state=State.COMMENT,this._stateComment(Na)}}_stateCommentLessThanSignBang(Na){Na===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=State.COMMENT,this._stateComment(Na))}_stateCommentLessThanSignBangDash(Na){Na===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=State.COMMENT_END_DASH,this._stateCommentEndDash(Na))}_stateCommentLessThanSignBangDashDash(Na){Na!==CODE_POINTS.GREATER_THAN_SIGN&&Na!==CODE_POINTS.EOF&&this._err(ERR.nestedComment),this.state=State.COMMENT_END,this._stateCommentEnd(Na)}_stateCommentEndDash(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(ja),this._emitEOFToken();break}default:ja.data+="-",this.state=State.COMMENT,this._stateComment(Na)}}_stateCommentEnd(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(ja);break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.COMMENT_END_BANG;break}case CODE_POINTS.HYPHEN_MINUS:{ja.data+="-";break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(ja),this._emitEOFToken();break}default:ja.data+="--",this.state=State.COMMENT,this._stateComment(Na)}}_stateCommentEndBang(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.HYPHEN_MINUS:{ja.data+="--!",this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.incorrectlyClosedComment),this.state=State.DATA,this.emitCurrentComment(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(ja),this._emitEOFToken();break}default:ja.data+="--!",this.state=State.COMMENT,this._stateComment(Na)}}_stateDoctype(Na){switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(Na);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const ja=this.currentToken;ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBeforeDoctypeName),this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(Na)}}_stateBeforeDoctypeName(Na){if(isAsciiUpper(Na))this._createDoctypeToken(String.fromCharCode(toAsciiLower(Na))),this.state=State.DOCTYPE_NAME;else switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._createDoctypeToken(REPLACEMENT_CHARACTER),this.state=State.DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeName),this._createDoctypeToken(null);const ja=this.currentToken;ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const ja=this.currentToken;ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(Na)),this.state=State.DOCTYPE_NAME}}_stateDoctypeName(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.AFTER_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.name+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:ja.name+=String.fromCodePoint(isAsciiUpper(Na)?toAsciiLower(Na):Na)}}_stateAfterDoctypeName(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(SEQUENCES.PUBLIC,!1)?this.state=State.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(SEQUENCES.SYSTEM,!1)?this.state=State.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ERR.invalidCharacterSequenceAfterDoctypeName),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na))}}_stateAfterDoctypePublicKeyword(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),ja.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),ja.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),ja.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateBeforeDoctypePublicIdentifier(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{ja.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{ja.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),ja.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateDoctypePublicIdentifierDoubleQuoted(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:ja.publicId+=String.fromCodePoint(Na)}}_stateDoctypePublicIdentifierSingleQuoted(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:ja.publicId+=String.fromCodePoint(Na)}}_stateAfterDoctypePublicIdentifier(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateBetweenDoctypePublicAndSystemIdentifiers(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.QUOTATION_MARK:{ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateAfterDoctypeSystemKeyword(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),ja.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateBeforeDoctypeSystemIdentifier(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{ja.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),ja.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(ja);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),ja.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateDoctypeSystemIdentifierDoubleQuoted(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:ja.systemId+=String.fromCodePoint(Na)}}_stateDoctypeSystemIdentifierSingleQuoted(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),ja.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:ja.systemId+=String.fromCodePoint(Na)}}_stateAfterDoctypeSystemIdentifier(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),ja.forceQuirks=!0,this.emitCurrentDoctype(ja),this._emitEOFToken();break}default:this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(Na)}}_stateBogusDoctype(Na){const ja=this.currentToken;switch(Na){case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(ja),this.state=State.DATA;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter);break}case CODE_POINTS.EOF:{this.emitCurrentDoctype(ja),this._emitEOFToken();break}}}_stateCdataSection(Na){switch(Na){case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=State.CDATA_SECTION_BRACKET;break}case CODE_POINTS.EOF:{this._err(ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(Na)}}_stateCdataSectionBracket(Na){Na===CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=State.CDATA_SECTION_END:(this._emitChars("]"),this.state=State.CDATA_SECTION,this._stateCdataSection(Na))}_stateCdataSectionEnd(Na){switch(Na){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA;break}case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=State.CDATA_SECTION,this._stateCdataSection(Na)}}_stateCharacterReference(){let Na=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(Na<0)if(this.preprocessor.lastChunkWritten)Na=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}Na===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&isAsciiAlphaNumeric(this.preprocessor.peek(1))?State.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(Na){isAsciiAlphaNumeric(Na)?this._flushCodePointConsumedAsCharacterReference(Na):(Na===CODE_POINTS.SEMICOLON&&this._err(ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(Na))}}const IMPLICIT_END_TAG_REQUIRED=new Set([TAG_ID.DD,TAG_ID.DT,TAG_ID.LI,TAG_ID.OPTGROUP,TAG_ID.OPTION,TAG_ID.P,TAG_ID.RB,TAG_ID.RP,TAG_ID.RT,TAG_ID.RTC]),IMPLICIT_END_TAG_REQUIRED_THOROUGHLY=new Set([...IMPLICIT_END_TAG_REQUIRED,TAG_ID.CAPTION,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]),SCOPING_ELEMENTS_HTML=new Set([TAG_ID.APPLET,TAG_ID.CAPTION,TAG_ID.HTML,TAG_ID.MARQUEE,TAG_ID.OBJECT,TAG_ID.TABLE,TAG_ID.TD,TAG_ID.TEMPLATE,TAG_ID.TH]),SCOPING_ELEMENTS_HTML_LIST=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.OL,TAG_ID.UL]),SCOPING_ELEMENTS_HTML_BUTTON=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.BUTTON]),SCOPING_ELEMENTS_MATHML=new Set([TAG_ID.ANNOTATION_XML,TAG_ID.MI,TAG_ID.MN,TAG_ID.MO,TAG_ID.MS,TAG_ID.MTEXT]),SCOPING_ELEMENTS_SVG=new Set([TAG_ID.DESC,TAG_ID.FOREIGN_OBJECT,TAG_ID.TITLE]),TABLE_ROW_CONTEXT=new Set([TAG_ID.TR,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_BODY_CONTEXT=new Set([TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CONTEXT=new Set([TAG_ID.TABLE,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CELLS=new Set([TAG_ID.TD,TAG_ID.TH]);class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(Na,ja,Ba){this.treeAdapter=ja,this.handler=Ba,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=TAG_ID.UNKNOWN,this.current=Na}_indexOf(Na){return this.items.lastIndexOf(Na,this.stackTop)}_isInTemplate(){return this.currentTagId===TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(Na,ja){this.stackTop++,this.items[this.stackTop]=Na,this.current=Na,this.tagIDs[this.stackTop]=ja,this.currentTagId=ja,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(Na,ja,!0)}pop(){const Na=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(Na,!0)}replace(Na,ja){const Ba=this._indexOf(Na);this.items[Ba]=ja,Ba===this.stackTop&&(this.current=ja)}insertAfter(Na,ja,Ba){const za=this._indexOf(Na)+1;this.items.splice(za,0,ja),this.tagIDs.splice(za,0,Ba),this.stackTop++,za===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,za===this.stackTop)}popUntilTagNamePopped(Na){let ja=this.stackTop+1;do ja=this.tagIDs.lastIndexOf(Na,ja-1);while(ja>0&&this.treeAdapter.getNamespaceURI(this.items[ja])!==NS.HTML);this.shortenToLength(Math.max(ja,0))}shortenToLength(Na){for(;this.stackTop>=Na;){const ja=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(ja,this.stackTop<Na)}}popUntilElementPopped(Na){const ja=this._indexOf(Na);this.shortenToLength(Math.max(ja,0))}popUntilPopped(Na,ja){const Ba=this._indexOfTagNames(Na,ja);this.shortenToLength(Math.max(Ba,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(NUMBERED_HEADERS,NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(TABLE_CELLS,NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(Na,ja){for(let Ba=this.stackTop;Ba>=0;Ba--)if(Na.has(this.tagIDs[Ba])&&this.treeAdapter.getNamespaceURI(this.items[Ba])===ja)return Ba;return-1}clearBackTo(Na,ja){const Ba=this._indexOfTagNames(Na,ja);this.shortenToLength(Ba+1)}clearBackToTableContext(){this.clearBackTo(TABLE_CONTEXT,NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TABLE_BODY_CONTEXT,NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(TABLE_ROW_CONTEXT,NS.HTML)}remove(Na){const ja=this._indexOf(Na);ja>=0&&(ja===this.stackTop?this.pop():(this.items.splice(ja,1),this.tagIDs.splice(ja,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(Na,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===TAG_ID.BODY?this.items[1]:null}contains(Na){return this._indexOf(Na)>-1}getCommonAncestor(Na){const ja=this._indexOf(Na)-1;return ja>=0?this.items[ja]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===TAG_ID.HTML}hasInDynamicScope(Na,ja){for(let Ba=this.stackTop;Ba>=0;Ba--){const za=this.tagIDs[Ba];switch(this.treeAdapter.getNamespaceURI(this.items[Ba])){case NS.HTML:{if(za===Na)return!0;if(ja.has(za))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(za))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(za))return!1;break}}}return!0}hasInScope(Na){return this.hasInDynamicScope(Na,SCOPING_ELEMENTS_HTML)}hasInListItemScope(Na){return this.hasInDynamicScope(Na,SCOPING_ELEMENTS_HTML_LIST)}hasInButtonScope(Na){return this.hasInDynamicScope(Na,SCOPING_ELEMENTS_HTML_BUTTON)}hasNumberedHeaderInScope(){for(let Na=this.stackTop;Na>=0;Na--){const ja=this.tagIDs[Na];switch(this.treeAdapter.getNamespaceURI(this.items[Na])){case NS.HTML:{if(NUMBERED_HEADERS.has(ja))return!0;if(SCOPING_ELEMENTS_HTML.has(ja))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(ja))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(ja))return!1;break}}}return!0}hasInTableScope(Na){for(let ja=this.stackTop;ja>=0;ja--)if(this.treeAdapter.getNamespaceURI(this.items[ja])===NS.HTML)switch(this.tagIDs[ja]){case Na:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let Na=this.stackTop;Na>=0;Na--)if(this.treeAdapter.getNamespaceURI(this.items[Na])===NS.HTML)switch(this.tagIDs[Na]){case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasInSelectScope(Na){for(let ja=this.stackTop;ja>=0;ja--)if(this.treeAdapter.getNamespaceURI(this.items[ja])===NS.HTML)switch(this.tagIDs[ja]){case Na:return!0;case TAG_ID.OPTION:case TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(Na){for(;this.currentTagId!==void 0&&this.currentTagId!==Na&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}}const NOAH_ARK_CAPACITY=3;var EntryType;(function(La){La[La.Marker=0]="Marker",La[La.Element=1]="Element"})(EntryType||(EntryType={}));const MARKER={type:EntryType.Marker};class FormattingElementList{constructor(Na){this.treeAdapter=Na,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(Na,ja){const Ba=[],za=ja.length,Ga=this.treeAdapter.getTagName(Na),Ha=this.treeAdapter.getNamespaceURI(Na);for(let Ya=0;Ya<this.entries.length;Ya++){const Xa=this.entries[Ya];if(Xa.type===EntryType.Marker)break;const{element:Ka}=Xa;if(this.treeAdapter.getTagName(Ka)===Ga&&this.treeAdapter.getNamespaceURI(Ka)===Ha){const Qa=this.treeAdapter.getAttrList(Ka);Qa.length===za&&Ba.push({idx:Ya,attrs:Qa})}}return Ba}_ensureNoahArkCondition(Na){if(this.entries.length<NOAH_ARK_CAPACITY)return;const ja=this.treeAdapter.getAttrList(Na),Ba=this._getNoahArkConditionCandidates(Na,ja);if(Ba.length<NOAH_ARK_CAPACITY)return;const za=new Map(ja.map(Ha=>[Ha.name,Ha.value]));let Ga=0;for(let Ha=0;Ha<Ba.length;Ha++){const Ya=Ba[Ha];Ya.attrs.every(Xa=>za.get(Xa.name)===Xa.value)&&(Ga+=1,Ga>=NOAH_ARK_CAPACITY&&this.entries.splice(Ya.idx,1))}}insertMarker(){this.entries.unshift(MARKER)}pushElement(Na,ja){this._ensureNoahArkCondition(Na),this.entries.unshift({type:EntryType.Element,element:Na,token:ja})}insertElementAfterBookmark(Na,ja){const Ba=this.entries.indexOf(this.bookmark);this.entries.splice(Ba,0,{type:EntryType.Element,element:Na,token:ja})}removeEntry(Na){const ja=this.entries.indexOf(Na);ja!==-1&&this.entries.splice(ja,1)}clearToLastMarker(){const Na=this.entries.indexOf(MARKER);Na===-1?this.entries.length=0:this.entries.splice(0,Na+1)}getElementEntryInScopeWithTagName(Na){const ja=this.entries.find(Ba=>Ba.type===EntryType.Marker||this.treeAdapter.getTagName(Ba.element)===Na);return ja&&ja.type===EntryType.Element?ja:null}getElementEntry(Na){return this.entries.find(ja=>ja.type===EntryType.Element&&ja.element===Na)}}const defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(La,Na,ja){return{nodeName:La,tagName:La,attrs:ja,namespaceURI:Na,childNodes:[],parentNode:null}},createCommentNode(La){return{nodeName:"#comment",data:La,parentNode:null}},createTextNode(La){return{nodeName:"#text",value:La,parentNode:null}},appendChild(La,Na){La.childNodes.push(Na),Na.parentNode=La},insertBefore(La,Na,ja){const Ba=La.childNodes.indexOf(ja);La.childNodes.splice(Ba,0,Na),Na.parentNode=La},setTemplateContent(La,Na){La.content=Na},getTemplateContent(La){return La.content},setDocumentType(La,Na,ja,Ba){const za=La.childNodes.find(Ga=>Ga.nodeName==="#documentType");if(za)za.name=Na,za.publicId=ja,za.systemId=Ba;else{const Ga={nodeName:"#documentType",name:Na,publicId:ja,systemId:Ba,parentNode:null};defaultTreeAdapter.appendChild(La,Ga)}},setDocumentMode(La,Na){La.mode=Na},getDocumentMode(La){return La.mode},detachNode(La){if(La.parentNode){const Na=La.parentNode.childNodes.indexOf(La);La.parentNode.childNodes.splice(Na,1),La.parentNode=null}},insertText(La,Na){if(La.childNodes.length>0){const ja=La.childNodes[La.childNodes.length-1];if(defaultTreeAdapter.isTextNode(ja)){ja.value+=Na;return}}defaultTreeAdapter.appendChild(La,defaultTreeAdapter.createTextNode(Na))},insertTextBefore(La,Na,ja){const Ba=La.childNodes[La.childNodes.indexOf(ja)-1];Ba&&defaultTreeAdapter.isTextNode(Ba)?Ba.value+=Na:defaultTreeAdapter.insertBefore(La,defaultTreeAdapter.createTextNode(Na),ja)},adoptAttributes(La,Na){const ja=new Set(La.attrs.map(Ba=>Ba.name));for(let Ba=0;Ba<Na.length;Ba++)ja.has(Na[Ba].name)||La.attrs.push(Na[Ba])},getFirstChild(La){return La.childNodes[0]},getChildNodes(La){return La.childNodes},getParentNode(La){return La.parentNode},getAttrList(La){return La.attrs},getTagName(La){return La.tagName},getNamespaceURI(La){return La.namespaceURI},getTextNodeContent(La){return La.value},getCommentNodeContent(La){return La.data},getDocumentTypeNodeName(La){return La.name},getDocumentTypeNodePublicId(La){return La.publicId},getDocumentTypeNodeSystemId(La){return La.systemId},isTextNode(La){return La.nodeName==="#text"},isCommentNode(La){return La.nodeName==="#comment"},isDocumentTypeNode(La){return La.nodeName==="#documentType"},isElementNode(La){return Object.prototype.hasOwnProperty.call(La,"tagName")},setNodeSourceCodeLocation(La,Na){La.sourceCodeLocation=Na},getNodeSourceCodeLocation(La){return La.sourceCodeLocation},updateNodeSourceCodeLocation(La,Na){La.sourceCodeLocation={...La.sourceCodeLocation,...Na}}},VALID_DOCTYPE_NAME="html",VALID_SYSTEM_ID="about:legacy-compat",QUIRKS_MODE_SYSTEM_ID="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...QUIRKS_MODE_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],QUIRKS_MODE_PUBLIC_IDS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(La,Na){return Na.some(ja=>La.startsWith(ja))}function isConforming(La){return La.name===VALID_DOCTYPE_NAME&&La.publicId===null&&(La.systemId===null||La.systemId===VALID_SYSTEM_ID)}function getDocumentMode(La){if(La.name!==VALID_DOCTYPE_NAME)return DOCUMENT_MODE.QUIRKS;const{systemId:Na}=La;if(Na&&Na.toLowerCase()===QUIRKS_MODE_SYSTEM_ID)return DOCUMENT_MODE.QUIRKS;let{publicId:ja}=La;if(ja!==null){if(ja=ja.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.has(ja))return DOCUMENT_MODE.QUIRKS;let Ba=Na===null?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(ja,Ba))return DOCUMENT_MODE.QUIRKS;if(Ba=Na===null?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES,hasPrefix(ja,Ba))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS}const MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},DEFINITION_URL_ATTR="definitionurl",ADJUSTED_DEFINITION_URL_ATTR="definitionURL",SVG_ATTRS_ADJUSTMENT_MAP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(La=>[La.toLowerCase(),La])),XML_ATTRS_ADJUSTMENT_MAP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}]]),SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(La=>[La.toLowerCase(),La])),EXITS_FOREIGN_CONTENT=new Set([TAG_ID.B,TAG_ID.BIG,TAG_ID.BLOCKQUOTE,TAG_ID.BODY,TAG_ID.BR,TAG_ID.CENTER,TAG_ID.CODE,TAG_ID.DD,TAG_ID.DIV,TAG_ID.DL,TAG_ID.DT,TAG_ID.EM,TAG_ID.EMBED,TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6,TAG_ID.HEAD,TAG_ID.HR,TAG_ID.I,TAG_ID.IMG,TAG_ID.LI,TAG_ID.LISTING,TAG_ID.MENU,TAG_ID.META,TAG_ID.NOBR,TAG_ID.OL,TAG_ID.P,TAG_ID.PRE,TAG_ID.RUBY,TAG_ID.S,TAG_ID.SMALL,TAG_ID.SPAN,TAG_ID.STRONG,TAG_ID.STRIKE,TAG_ID.SUB,TAG_ID.SUP,TAG_ID.TABLE,TAG_ID.TT,TAG_ID.U,TAG_ID.UL,TAG_ID.VAR]);function causesExit(La){const Na=La.tagID;return Na===TAG_ID.FONT&&La.attrs.some(({name:Ba})=>Ba===ATTRS.COLOR||Ba===ATTRS.SIZE||Ba===ATTRS.FACE)||EXITS_FOREIGN_CONTENT.has(Na)}function adjustTokenMathMLAttrs(La){for(let Na=0;Na<La.attrs.length;Na++)if(La.attrs[Na].name===DEFINITION_URL_ATTR){La.attrs[Na].name=ADJUSTED_DEFINITION_URL_ATTR;break}}function adjustTokenSVGAttrs(La){for(let Na=0;Na<La.attrs.length;Na++){const ja=SVG_ATTRS_ADJUSTMENT_MAP.get(La.attrs[Na].name);ja!=null&&(La.attrs[Na].name=ja)}}function adjustTokenXMLAttrs(La){for(let Na=0;Na<La.attrs.length;Na++){const ja=XML_ATTRS_ADJUSTMENT_MAP.get(La.attrs[Na].name);ja&&(La.attrs[Na].prefix=ja.prefix,La.attrs[Na].name=ja.name,La.attrs[Na].namespace=ja.namespace)}}function adjustTokenSVGTagName(La){const Na=SVG_TAG_NAMES_ADJUSTMENT_MAP.get(La.tagName);Na!=null&&(La.tagName=Na,La.tagID=getTagID(La.tagName))}function isMathMLTextIntegrationPoint(La,Na){return Na===NS.MATHML&&(La===TAG_ID.MI||La===TAG_ID.MO||La===TAG_ID.MN||La===TAG_ID.MS||La===TAG_ID.MTEXT)}function isHtmlIntegrationPoint(La,Na,ja){if(Na===NS.MATHML&&La===TAG_ID.ANNOTATION_XML){for(let Ba=0;Ba<ja.length;Ba++)if(ja[Ba].name===ATTRS.ENCODING){const za=ja[Ba].value.toLowerCase();return za===MIME_TYPES.TEXT_HTML||za===MIME_TYPES.APPLICATION_XML}}return Na===NS.SVG&&(La===TAG_ID.FOREIGN_OBJECT||La===TAG_ID.DESC||La===TAG_ID.TITLE)}function isIntegrationPoint(La,Na,ja,Ba){return(!Ba||Ba===NS.HTML)&&isHtmlIntegrationPoint(La,Na,ja)||(!Ba||Ba===NS.MATHML)&&isMathMLTextIntegrationPoint(La,Na)}const HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3;var InsertionMode;(function(La){La[La.INITIAL=0]="INITIAL",La[La.BEFORE_HTML=1]="BEFORE_HTML",La[La.BEFORE_HEAD=2]="BEFORE_HEAD",La[La.IN_HEAD=3]="IN_HEAD",La[La.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",La[La.AFTER_HEAD=5]="AFTER_HEAD",La[La.IN_BODY=6]="IN_BODY",La[La.TEXT=7]="TEXT",La[La.IN_TABLE=8]="IN_TABLE",La[La.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",La[La.IN_CAPTION=10]="IN_CAPTION",La[La.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",La[La.IN_TABLE_BODY=12]="IN_TABLE_BODY",La[La.IN_ROW=13]="IN_ROW",La[La.IN_CELL=14]="IN_CELL",La[La.IN_SELECT=15]="IN_SELECT",La[La.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",La[La.IN_TEMPLATE=17]="IN_TEMPLATE",La[La.AFTER_BODY=18]="AFTER_BODY",La[La.IN_FRAMESET=19]="IN_FRAMESET",La[La.AFTER_FRAMESET=20]="AFTER_FRAMESET",La[La.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",La[La.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(InsertionMode||(InsertionMode={}));const BASE_LOC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TABLE_STRUCTURE_TAGS=new Set([TAG_ID.TABLE,TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TR]),defaultParserOptions={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:defaultTreeAdapter,onParseError:null};let Parser$1=class{constructor(Na,ja,Ba=null,za=null){this.fragmentContext=Ba,this.scriptHandler=za,this.currentToken=null,this.stopped=!1,this.insertionMode=InsertionMode.INITIAL,this.originalInsertionMode=InsertionMode.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...defaultParserOptions,...Na},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=ja??this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=Ba?getTagID(this.treeAdapter.getTagName(Ba)):TAG_ID.UNKNOWN,this._setContextModes(Ba??this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(Na,ja){const Ba=new this(ja);return Ba.tokenizer.write(Na,!0),Ba.document}static getFragmentParser(Na,ja){const Ba={...defaultParserOptions,...ja};Na??(Na=Ba.treeAdapter.createElement(TAG_NAMES.TEMPLATE,NS.HTML,[]));const za=Ba.treeAdapter.createElement("documentmock",NS.HTML,[]),Ga=new this(Ba,za,Na);return Ga.fragmentContextID===TAG_ID.TEMPLATE&&Ga.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE),Ga._initTokenizerForFragmentParsing(),Ga._insertFakeRootElement(),Ga._resetInsertionMode(),Ga._findFormInFragmentContext(),Ga}getFragment(){const Na=this.treeAdapter.getFirstChild(this.document),ja=this.treeAdapter.createDocumentFragment();return this._adoptNodes(Na,ja),ja}_err(Na,ja,Ba){var za;if(!this.onParseError)return;const Ga=(za=Na.location)!==null&&za!==void 0?za:BASE_LOC,Ha={code:ja,startLine:Ga.startLine,startCol:Ga.startCol,startOffset:Ga.startOffset,endLine:Ba?Ga.startLine:Ga.endLine,endCol:Ba?Ga.startCol:Ga.endCol,endOffset:Ba?Ga.startOffset:Ga.endOffset};this.onParseError(Ha)}onItemPush(Na,ja,Ba){var za,Ga;(Ga=(za=this.treeAdapter).onItemPush)===null||Ga===void 0||Ga.call(za,Na),Ba&&this.openElements.stackTop>0&&this._setContextModes(Na,ja)}onItemPop(Na,ja){var Ba,za;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(Na,this.currentToken),(za=(Ba=this.treeAdapter).onItemPop)===null||za===void 0||za.call(Ba,Na,this.openElements.current),ja){let Ga,Ha;this.openElements.stackTop===0&&this.fragmentContext?(Ga=this.fragmentContext,Ha=this.fragmentContextID):{current:Ga,currentTagId:Ha}=this.openElements,this._setContextModes(Ga,Ha)}}_setContextModes(Na,ja){const Ba=Na===this.document||Na&&this.treeAdapter.getNamespaceURI(Na)===NS.HTML;this.currentNotInHTML=!Ba,this.tokenizer.inForeignNode=!Ba&&Na!==void 0&&ja!==void 0&&!this._isIntegrationPoint(ja,Na)}_switchToTextParsing(Na,ja){this._insertElement(Na,NS.HTML),this.tokenizer.state=ja,this.originalInsertionMode=this.insertionMode,this.insertionMode=InsertionMode.TEXT}switchToPlaintextParsing(){this.insertionMode=InsertionMode.TEXT,this.originalInsertionMode=InsertionMode.IN_BODY,this.tokenizer.state=TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let Na=this.fragmentContext;for(;Na;){if(this.treeAdapter.getTagName(Na)===TAG_NAMES.FORM){this.formElement=Na;break}Na=this.treeAdapter.getParentNode(Na)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==NS.HTML))switch(this.fragmentContextID){case TAG_ID.TITLE:case TAG_ID.TEXTAREA:{this.tokenizer.state=TokenizerMode.RCDATA;break}case TAG_ID.STYLE:case TAG_ID.XMP:case TAG_ID.IFRAME:case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:case TAG_ID.NOSCRIPT:{this.tokenizer.state=TokenizerMode.RAWTEXT;break}case TAG_ID.SCRIPT:{this.tokenizer.state=TokenizerMode.SCRIPT_DATA;break}case TAG_ID.PLAINTEXT:{this.tokenizer.state=TokenizerMode.PLAINTEXT;break}}}_setDocumentType(Na){const ja=Na.name||"",Ba=Na.publicId||"",za=Na.systemId||"";if(this.treeAdapter.setDocumentType(this.document,ja,Ba,za),Na.location){const Ha=this.treeAdapter.getChildNodes(this.document).find(Ya=>this.treeAdapter.isDocumentTypeNode(Ya));Ha&&this.treeAdapter.setNodeSourceCodeLocation(Ha,Na.location)}}_attachElementToTree(Na,ja){if(this.options.sourceCodeLocationInfo){const Ba=ja&&{...ja,startTag:ja};this.treeAdapter.setNodeSourceCodeLocation(Na,Ba)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(Na);else{const Ba=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(Ba??this.document,Na)}}_appendElement(Na,ja){const Ba=this.treeAdapter.createElement(Na.tagName,ja,Na.attrs);this._attachElementToTree(Ba,Na.location)}_insertElement(Na,ja){const Ba=this.treeAdapter.createElement(Na.tagName,ja,Na.attrs);this._attachElementToTree(Ba,Na.location),this.openElements.push(Ba,Na.tagID)}_insertFakeElement(Na,ja){const Ba=this.treeAdapter.createElement(Na,NS.HTML,[]);this._attachElementToTree(Ba,null),this.openElements.push(Ba,ja)}_insertTemplate(Na){const ja=this.treeAdapter.createElement(Na.tagName,NS.HTML,Na.attrs),Ba=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(ja,Ba),this._attachElementToTree(ja,Na.location),this.openElements.push(ja,Na.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Ba,null)}_insertFakeRootElement(){const Na=this.treeAdapter.createElement(TAG_NAMES.HTML,NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Na,null),this.treeAdapter.appendChild(this.openElements.current,Na),this.openElements.push(Na,TAG_ID.HTML)}_appendCommentNode(Na,ja){const Ba=this.treeAdapter.createCommentNode(Na.data);this.treeAdapter.appendChild(ja,Ba),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Ba,Na.location)}_insertCharacters(Na){let ja,Ba;if(this._shouldFosterParentOnInsertion()?({parent:ja,beforeElement:Ba}=this._findFosterParentingLocation(),Ba?this.treeAdapter.insertTextBefore(ja,Na.chars,Ba):this.treeAdapter.insertText(ja,Na.chars)):(ja=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(ja,Na.chars)),!Na.location)return;const za=this.treeAdapter.getChildNodes(ja),Ga=Ba?za.lastIndexOf(Ba):za.length,Ha=za[Ga-1];if(this.treeAdapter.getNodeSourceCodeLocation(Ha)){const{endLine:Xa,endCol:Ka,endOffset:Qa}=Na.location;this.treeAdapter.updateNodeSourceCodeLocation(Ha,{endLine:Xa,endCol:Ka,endOffset:Qa})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Ha,Na.location)}_adoptNodes(Na,ja){for(let Ba=this.treeAdapter.getFirstChild(Na);Ba;Ba=this.treeAdapter.getFirstChild(Na))this.treeAdapter.detachNode(Ba),this.treeAdapter.appendChild(ja,Ba)}_setEndLocation(Na,ja){if(this.treeAdapter.getNodeSourceCodeLocation(Na)&&ja.location){const Ba=ja.location,za=this.treeAdapter.getTagName(Na),Ga=ja.type===TokenType.END_TAG&&za===ja.tagName?{endTag:{...Ba},endLine:Ba.endLine,endCol:Ba.endCol,endOffset:Ba.endOffset}:{endLine:Ba.startLine,endCol:Ba.startCol,endOffset:Ba.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(Na,Ga)}}shouldProcessStartTagTokenInForeignContent(Na){if(!this.currentNotInHTML)return!1;let ja,Ba;return this.openElements.stackTop===0&&this.fragmentContext?(ja=this.fragmentContext,Ba=this.fragmentContextID):{current:ja,currentTagId:Ba}=this.openElements,Na.tagID===TAG_ID.SVG&&this.treeAdapter.getTagName(ja)===TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(ja)===NS.MATHML?!1:this.tokenizer.inForeignNode||(Na.tagID===TAG_ID.MGLYPH||Na.tagID===TAG_ID.MALIGNMARK)&&Ba!==void 0&&!this._isIntegrationPoint(Ba,ja,NS.HTML)}_processToken(Na){switch(Na.type){case TokenType.CHARACTER:{this.onCharacter(Na);break}case TokenType.NULL_CHARACTER:{this.onNullCharacter(Na);break}case TokenType.COMMENT:{this.onComment(Na);break}case TokenType.DOCTYPE:{this.onDoctype(Na);break}case TokenType.START_TAG:{this._processStartTag(Na);break}case TokenType.END_TAG:{this.onEndTag(Na);break}case TokenType.EOF:{this.onEof(Na);break}case TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(Na);break}}}_isIntegrationPoint(Na,ja,Ba){const za=this.treeAdapter.getNamespaceURI(ja),Ga=this.treeAdapter.getAttrList(ja);return isIntegrationPoint(Na,za,Ga,Ba)}_reconstructActiveFormattingElements(){const Na=this.activeFormattingElements.entries.length;if(Na){const ja=this.activeFormattingElements.entries.findIndex(za=>za.type===EntryType.Marker||this.openElements.contains(za.element)),Ba=ja===-1?Na-1:ja-1;for(let za=Ba;za>=0;za--){const Ga=this.activeFormattingElements.entries[za];this._insertElement(Ga.token,this.treeAdapter.getNamespaceURI(Ga.element)),Ga.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=InsertionMode.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.P),this.openElements.popUntilTagNamePopped(TAG_ID.P)}_resetInsertionMode(){for(let Na=this.openElements.stackTop;Na>=0;Na--)switch(Na===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[Na]){case TAG_ID.TR:{this.insertionMode=InsertionMode.IN_ROW;return}case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:{this.insertionMode=InsertionMode.IN_TABLE_BODY;return}case TAG_ID.CAPTION:{this.insertionMode=InsertionMode.IN_CAPTION;return}case TAG_ID.COLGROUP:{this.insertionMode=InsertionMode.IN_COLUMN_GROUP;return}case TAG_ID.TABLE:{this.insertionMode=InsertionMode.IN_TABLE;return}case TAG_ID.BODY:{this.insertionMode=InsertionMode.IN_BODY;return}case TAG_ID.FRAMESET:{this.insertionMode=InsertionMode.IN_FRAMESET;return}case TAG_ID.SELECT:{this._resetInsertionModeForSelect(Na);return}case TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case TAG_ID.HTML:{this.insertionMode=this.headElement?InsertionMode.AFTER_HEAD:InsertionMode.BEFORE_HEAD;return}case TAG_ID.TD:case TAG_ID.TH:{if(Na>0){this.insertionMode=InsertionMode.IN_CELL;return}break}case TAG_ID.HEAD:{if(Na>0){this.insertionMode=InsertionMode.IN_HEAD;return}break}}this.insertionMode=InsertionMode.IN_BODY}_resetInsertionModeForSelect(Na){if(Na>0)for(let ja=Na-1;ja>0;ja--){const Ba=this.openElements.tagIDs[ja];if(Ba===TAG_ID.TEMPLATE)break;if(Ba===TAG_ID.TABLE){this.insertionMode=InsertionMode.IN_SELECT_IN_TABLE;return}}this.insertionMode=InsertionMode.IN_SELECT}_isElementCausesFosterParenting(Na){return TABLE_STRUCTURE_TAGS.has(Na)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let Na=this.openElements.stackTop;Na>=0;Na--){const ja=this.openElements.items[Na];switch(this.openElements.tagIDs[Na]){case TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(ja)===NS.HTML)return{parent:this.treeAdapter.getTemplateContent(ja),beforeElement:null};break}case TAG_ID.TABLE:{const Ba=this.treeAdapter.getParentNode(ja);return Ba?{parent:Ba,beforeElement:ja}:{parent:this.openElements.items[Na-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(Na){const ja=this._findFosterParentingLocation();ja.beforeElement?this.treeAdapter.insertBefore(ja.parent,Na,ja.beforeElement):this.treeAdapter.appendChild(ja.parent,Na)}_isSpecialElement(Na,ja){const Ba=this.treeAdapter.getNamespaceURI(Na);return SPECIAL_ELEMENTS[Ba].has(ja)}onCharacter(Na){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){characterInForeignContent(this,Na);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,Na);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,Na);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,Na);break}case InsertionMode.IN_HEAD:{tokenInHead(this,Na);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,Na);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,Na);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:{characterInBody(this,Na);break}case InsertionMode.TEXT:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{this._insertCharacters(Na);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,Na);break}case InsertionMode.IN_TABLE_TEXT:{characterInTableText(this,Na);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,Na);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,Na);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,Na);break}}}onNullCharacter(Na){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nullCharacterInForeignContent(this,Na);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,Na);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,Na);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,Na);break}case InsertionMode.IN_HEAD:{tokenInHead(this,Na);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,Na);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,Na);break}case InsertionMode.TEXT:{this._insertCharacters(Na);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,Na);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,Na);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,Na);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,Na);break}}}onComment(Na){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,Na);return}switch(this.insertionMode){case InsertionMode.INITIAL:case InsertionMode.BEFORE_HTML:case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_TEMPLATE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{appendComment(this,Na);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,Na);break}case InsertionMode.AFTER_BODY:{appendCommentToRootHtmlElement(this,Na);break}case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{appendCommentToDocument(this,Na);break}}}onDoctype(Na){switch(this.skipNextNewLine=!1,this.insertionMode){case InsertionMode.INITIAL:{doctypeInInitialMode(this,Na);break}case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:{this._err(Na,ERR.misplacedDoctype);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,Na);break}}}onStartTag(Na){this.skipNextNewLine=!1,this.currentToken=Na,this._processStartTag(Na),Na.selfClosing&&!Na.ackSelfClosing&&this._err(Na,ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(Na){this.shouldProcessStartTagTokenInForeignContent(Na)?startTagInForeignContent(this,Na):this._startTagOutsideForeignContent(Na)}_startTagOutsideForeignContent(Na){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,Na);break}case InsertionMode.BEFORE_HTML:{startTagBeforeHtml(this,Na);break}case InsertionMode.BEFORE_HEAD:{startTagBeforeHead(this,Na);break}case InsertionMode.IN_HEAD:{startTagInHead(this,Na);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{startTagInHeadNoScript(this,Na);break}case InsertionMode.AFTER_HEAD:{startTagAfterHead(this,Na);break}case InsertionMode.IN_BODY:{startTagInBody(this,Na);break}case InsertionMode.IN_TABLE:{startTagInTable(this,Na);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,Na);break}case InsertionMode.IN_CAPTION:{startTagInCaption(this,Na);break}case InsertionMode.IN_COLUMN_GROUP:{startTagInColumnGroup(this,Na);break}case InsertionMode.IN_TABLE_BODY:{startTagInTableBody(this,Na);break}case InsertionMode.IN_ROW:{startTagInRow(this,Na);break}case InsertionMode.IN_CELL:{startTagInCell(this,Na);break}case InsertionMode.IN_SELECT:{startTagInSelect(this,Na);break}case InsertionMode.IN_SELECT_IN_TABLE:{startTagInSelectInTable(this,Na);break}case InsertionMode.IN_TEMPLATE:{startTagInTemplate(this,Na);break}case InsertionMode.AFTER_BODY:{startTagAfterBody(this,Na);break}case InsertionMode.IN_FRAMESET:{startTagInFrameset(this,Na);break}case InsertionMode.AFTER_FRAMESET:{startTagAfterFrameset(this,Na);break}case InsertionMode.AFTER_AFTER_BODY:{startTagAfterAfterBody(this,Na);break}case InsertionMode.AFTER_AFTER_FRAMESET:{startTagAfterAfterFrameset(this,Na);break}}}onEndTag(Na){this.skipNextNewLine=!1,this.currentToken=Na,this.currentNotInHTML?endTagInForeignContent(this,Na):this._endTagOutsideForeignContent(Na)}_endTagOutsideForeignContent(Na){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,Na);break}case InsertionMode.BEFORE_HTML:{endTagBeforeHtml(this,Na);break}case InsertionMode.BEFORE_HEAD:{endTagBeforeHead(this,Na);break}case InsertionMode.IN_HEAD:{endTagInHead(this,Na);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{endTagInHeadNoScript(this,Na);break}case InsertionMode.AFTER_HEAD:{endTagAfterHead(this,Na);break}case InsertionMode.IN_BODY:{endTagInBody(this,Na);break}case InsertionMode.TEXT:{endTagInText(this,Na);break}case InsertionMode.IN_TABLE:{endTagInTable(this,Na);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,Na);break}case InsertionMode.IN_CAPTION:{endTagInCaption(this,Na);break}case InsertionMode.IN_COLUMN_GROUP:{endTagInColumnGroup(this,Na);break}case InsertionMode.IN_TABLE_BODY:{endTagInTableBody(this,Na);break}case InsertionMode.IN_ROW:{endTagInRow(this,Na);break}case InsertionMode.IN_CELL:{endTagInCell(this,Na);break}case InsertionMode.IN_SELECT:{endTagInSelect(this,Na);break}case InsertionMode.IN_SELECT_IN_TABLE:{endTagInSelectInTable(this,Na);break}case InsertionMode.IN_TEMPLATE:{endTagInTemplate(this,Na);break}case InsertionMode.AFTER_BODY:{endTagAfterBody(this,Na);break}case InsertionMode.IN_FRAMESET:{endTagInFrameset(this,Na);break}case InsertionMode.AFTER_FRAMESET:{endTagAfterFrameset(this,Na);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,Na);break}}}onEof(Na){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,Na);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,Na);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,Na);break}case InsertionMode.IN_HEAD:{tokenInHead(this,Na);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,Na);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,Na);break}case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{eofInBody(this,Na);break}case InsertionMode.TEXT:{eofInText(this,Na);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,Na);break}case InsertionMode.IN_TEMPLATE:{eofInTemplate(this,Na);break}case InsertionMode.AFTER_BODY:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{stopParsing(this,Na);break}}}onWhitespaceCharacter(Na){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,Na.chars.charCodeAt(0)===CODE_POINTS.LINE_FEED)){if(Na.chars.length===1)return;Na.chars=Na.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(Na);return}switch(this.insertionMode){case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.TEXT:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{this._insertCharacters(Na);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:case InsertionMode.AFTER_BODY:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{whitespaceCharacterInBody(this,Na);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,Na);break}case InsertionMode.IN_TABLE_TEXT:{whitespaceCharacterInTableText(this,Na);break}}}};function aaObtainFormattingElementEntry(La,Na){let ja=La.activeFormattingElements.getElementEntryInScopeWithTagName(Na.tagName);return ja?La.openElements.contains(ja.element)?La.openElements.hasInScope(Na.tagID)||(ja=null):(La.activeFormattingElements.removeEntry(ja),ja=null):genericEndTagInBody(La,Na),ja}function aaObtainFurthestBlock(La,Na){let ja=null,Ba=La.openElements.stackTop;for(;Ba>=0;Ba--){const za=La.openElements.items[Ba];if(za===Na.element)break;La._isSpecialElement(za,La.openElements.tagIDs[Ba])&&(ja=za)}return ja||(La.openElements.shortenToLength(Math.max(Ba,0)),La.activeFormattingElements.removeEntry(Na)),ja}function aaInnerLoop(La,Na,ja){let Ba=Na,za=La.openElements.getCommonAncestor(Na);for(let Ga=0,Ha=za;Ha!==ja;Ga++,Ha=za){za=La.openElements.getCommonAncestor(Ha);const Ya=La.activeFormattingElements.getElementEntry(Ha),Xa=Ya&&Ga>=AA_INNER_LOOP_ITER;!Ya||Xa?(Xa&&La.activeFormattingElements.removeEntry(Ya),La.openElements.remove(Ha)):(Ha=aaRecreateElementFromEntry(La,Ya),Ba===Na&&(La.activeFormattingElements.bookmark=Ya),La.treeAdapter.detachNode(Ba),La.treeAdapter.appendChild(Ha,Ba),Ba=Ha)}return Ba}function aaRecreateElementFromEntry(La,Na){const ja=La.treeAdapter.getNamespaceURI(Na.element),Ba=La.treeAdapter.createElement(Na.token.tagName,ja,Na.token.attrs);return La.openElements.replace(Na.element,Ba),Na.element=Ba,Ba}function aaInsertLastNodeInCommonAncestor(La,Na,ja){const Ba=La.treeAdapter.getTagName(Na),za=getTagID(Ba);if(La._isElementCausesFosterParenting(za))La._fosterParentElement(ja);else{const Ga=La.treeAdapter.getNamespaceURI(Na);za===TAG_ID.TEMPLATE&&Ga===NS.HTML&&(Na=La.treeAdapter.getTemplateContent(Na)),La.treeAdapter.appendChild(Na,ja)}}function aaReplaceFormattingElement(La,Na,ja){const Ba=La.treeAdapter.getNamespaceURI(ja.element),{token:za}=ja,Ga=La.treeAdapter.createElement(za.tagName,Ba,za.attrs);La._adoptNodes(Na,Ga),La.treeAdapter.appendChild(Na,Ga),La.activeFormattingElements.insertElementAfterBookmark(Ga,za),La.activeFormattingElements.removeEntry(ja),La.openElements.remove(ja.element),La.openElements.insertAfter(Na,Ga,za.tagID)}function callAdoptionAgency(La,Na){for(let ja=0;ja<AA_OUTER_LOOP_ITER;ja++){const Ba=aaObtainFormattingElementEntry(La,Na);if(!Ba)break;const za=aaObtainFurthestBlock(La,Ba);if(!za)break;La.activeFormattingElements.bookmark=Ba;const Ga=aaInnerLoop(La,za,Ba.element),Ha=La.openElements.getCommonAncestor(Ba.element);La.treeAdapter.detachNode(Ga),Ha&&aaInsertLastNodeInCommonAncestor(La,Ha,Ga),aaReplaceFormattingElement(La,za,Ba)}}function appendComment(La,Na){La._appendCommentNode(Na,La.openElements.currentTmplContentOrNode)}function appendCommentToRootHtmlElement(La,Na){La._appendCommentNode(Na,La.openElements.items[0])}function appendCommentToDocument(La,Na){La._appendCommentNode(Na,La.document)}function stopParsing(La,Na){if(La.stopped=!0,Na.location){const ja=La.fragmentContext?0:2;for(let Ba=La.openElements.stackTop;Ba>=ja;Ba--)La._setEndLocation(La.openElements.items[Ba],Na);if(!La.fragmentContext&&La.openElements.stackTop>=0){const Ba=La.openElements.items[0],za=La.treeAdapter.getNodeSourceCodeLocation(Ba);if(za&&!za.endTag&&(La._setEndLocation(Ba,Na),La.openElements.stackTop>=1)){const Ga=La.openElements.items[1],Ha=La.treeAdapter.getNodeSourceCodeLocation(Ga);Ha&&!Ha.endTag&&La._setEndLocation(Ga,Na)}}}}function doctypeInInitialMode(La,Na){La._setDocumentType(Na);const ja=Na.forceQuirks?DOCUMENT_MODE.QUIRKS:getDocumentMode(Na);isConforming(Na)||La._err(Na,ERR.nonConformingDoctype),La.treeAdapter.setDocumentMode(La.document,ja),La.insertionMode=InsertionMode.BEFORE_HTML}function tokenInInitialMode(La,Na){La._err(Na,ERR.missingDoctype,!0),La.treeAdapter.setDocumentMode(La.document,DOCUMENT_MODE.QUIRKS),La.insertionMode=InsertionMode.BEFORE_HTML,La._processToken(Na)}function startTagBeforeHtml(La,Na){Na.tagID===TAG_ID.HTML?(La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.BEFORE_HEAD):tokenBeforeHtml(La,Na)}function endTagBeforeHtml(La,Na){const ja=Na.tagID;(ja===TAG_ID.HTML||ja===TAG_ID.HEAD||ja===TAG_ID.BODY||ja===TAG_ID.BR)&&tokenBeforeHtml(La,Na)}function tokenBeforeHtml(La,Na){La._insertFakeRootElement(),La.insertionMode=InsertionMode.BEFORE_HEAD,La._processToken(Na)}function startTagBeforeHead(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.HEAD:{La._insertElement(Na,NS.HTML),La.headElement=La.openElements.current,La.insertionMode=InsertionMode.IN_HEAD;break}default:tokenBeforeHead(La,Na)}}function endTagBeforeHead(La,Na){const ja=Na.tagID;ja===TAG_ID.HEAD||ja===TAG_ID.BODY||ja===TAG_ID.HTML||ja===TAG_ID.BR?tokenBeforeHead(La,Na):La._err(Na,ERR.endTagWithoutMatchingOpenElement)}function tokenBeforeHead(La,Na){La._insertFakeElement(TAG_NAMES.HEAD,TAG_ID.HEAD),La.headElement=La.openElements.current,La.insertionMode=InsertionMode.IN_HEAD,La._processToken(Na)}function startTagInHead(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:{La._appendElement(Na,NS.HTML),Na.ackSelfClosing=!0;break}case TAG_ID.TITLE:{La._switchToTextParsing(Na,TokenizerMode.RCDATA);break}case TAG_ID.NOSCRIPT:{La.options.scriptingEnabled?La._switchToTextParsing(Na,TokenizerMode.RAWTEXT):(La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_HEAD_NO_SCRIPT);break}case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{La._switchToTextParsing(Na,TokenizerMode.RAWTEXT);break}case TAG_ID.SCRIPT:{La._switchToTextParsing(Na,TokenizerMode.SCRIPT_DATA);break}case TAG_ID.TEMPLATE:{La._insertTemplate(Na),La.activeFormattingElements.insertMarker(),La.framesetOk=!1,La.insertionMode=InsertionMode.IN_TEMPLATE,La.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);break}case TAG_ID.HEAD:{La._err(Na,ERR.misplacedStartTagForHeadElement);break}default:tokenInHead(La,Na)}}function endTagInHead(La,Na){switch(Na.tagID){case TAG_ID.HEAD:{La.openElements.pop(),La.insertionMode=InsertionMode.AFTER_HEAD;break}case TAG_ID.BODY:case TAG_ID.BR:case TAG_ID.HTML:{tokenInHead(La,Na);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(La,Na);break}default:La._err(Na,ERR.endTagWithoutMatchingOpenElement)}}function templateEndTagInHead(La,Na){La.openElements.tmplCount>0?(La.openElements.generateImpliedEndTagsThoroughly(),La.openElements.currentTagId!==TAG_ID.TEMPLATE&&La._err(Na,ERR.closingOfElementWithOpenChildElements),La.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),La.activeFormattingElements.clearToLastMarker(),La.tmplInsertionModeStack.shift(),La._resetInsertionMode()):La._err(Na,ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(La,Na){La.openElements.pop(),La.insertionMode=InsertionMode.AFTER_HEAD,La._processToken(Na)}function startTagInHeadNoScript(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.HEAD:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{startTagInHead(La,Na);break}case TAG_ID.NOSCRIPT:{La._err(Na,ERR.nestedNoscriptInHead);break}default:tokenInHeadNoScript(La,Na)}}function endTagInHeadNoScript(La,Na){switch(Na.tagID){case TAG_ID.NOSCRIPT:{La.openElements.pop(),La.insertionMode=InsertionMode.IN_HEAD;break}case TAG_ID.BR:{tokenInHeadNoScript(La,Na);break}default:La._err(Na,ERR.endTagWithoutMatchingOpenElement)}}function tokenInHeadNoScript(La,Na){const ja=Na.type===TokenType.EOF?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead;La._err(Na,ja),La.openElements.pop(),La.insertionMode=InsertionMode.IN_HEAD,La._processToken(Na)}function startTagAfterHead(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.BODY:{La._insertElement(Na,NS.HTML),La.framesetOk=!1,La.insertionMode=InsertionMode.IN_BODY;break}case TAG_ID.FRAMESET:{La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_FRAMESET;break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{La._err(Na,ERR.abandonedHeadElementChild),La.openElements.push(La.headElement,TAG_ID.HEAD),startTagInHead(La,Na),La.openElements.remove(La.headElement);break}case TAG_ID.HEAD:{La._err(Na,ERR.misplacedStartTagForHeadElement);break}default:tokenAfterHead(La,Na)}}function endTagAfterHead(La,Na){switch(Na.tagID){case TAG_ID.BODY:case TAG_ID.HTML:case TAG_ID.BR:{tokenAfterHead(La,Na);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(La,Na);break}default:La._err(Na,ERR.endTagWithoutMatchingOpenElement)}}function tokenAfterHead(La,Na){La._insertFakeElement(TAG_NAMES.BODY,TAG_ID.BODY),La.insertionMode=InsertionMode.IN_BODY,modeInBody(La,Na)}function modeInBody(La,Na){switch(Na.type){case TokenType.CHARACTER:{characterInBody(La,Na);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInBody(La,Na);break}case TokenType.COMMENT:{appendComment(La,Na);break}case TokenType.START_TAG:{startTagInBody(La,Na);break}case TokenType.END_TAG:{endTagInBody(La,Na);break}case TokenType.EOF:{eofInBody(La,Na);break}}}function whitespaceCharacterInBody(La,Na){La._reconstructActiveFormattingElements(),La._insertCharacters(Na)}function characterInBody(La,Na){La._reconstructActiveFormattingElements(),La._insertCharacters(Na),La.framesetOk=!1}function htmlStartTagInBody(La,Na){La.openElements.tmplCount===0&&La.treeAdapter.adoptAttributes(La.openElements.items[0],Na.attrs)}function bodyStartTagInBody(La,Na){const ja=La.openElements.tryPeekProperlyNestedBodyElement();ja&&La.openElements.tmplCount===0&&(La.framesetOk=!1,La.treeAdapter.adoptAttributes(ja,Na.attrs))}function framesetStartTagInBody(La,Na){const ja=La.openElements.tryPeekProperlyNestedBodyElement();La.framesetOk&&ja&&(La.treeAdapter.detachNode(ja),La.openElements.popAllUpToHtmlElement(),La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_FRAMESET)}function addressStartTagInBody(La,Na){La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._insertElement(Na,NS.HTML)}function numberedHeaderStartTagInBody(La,Na){La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La.openElements.currentTagId!==void 0&&NUMBERED_HEADERS.has(La.openElements.currentTagId)&&La.openElements.pop(),La._insertElement(Na,NS.HTML)}function preStartTagInBody(La,Na){La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._insertElement(Na,NS.HTML),La.skipNextNewLine=!0,La.framesetOk=!1}function formStartTagInBody(La,Na){const ja=La.openElements.tmplCount>0;(!La.formElement||ja)&&(La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._insertElement(Na,NS.HTML),ja||(La.formElement=La.openElements.current))}function listItemStartTagInBody(La,Na){La.framesetOk=!1;const ja=Na.tagID;for(let Ba=La.openElements.stackTop;Ba>=0;Ba--){const za=La.openElements.tagIDs[Ba];if(ja===TAG_ID.LI&&za===TAG_ID.LI||(ja===TAG_ID.DD||ja===TAG_ID.DT)&&(za===TAG_ID.DD||za===TAG_ID.DT)){La.openElements.generateImpliedEndTagsWithExclusion(za),La.openElements.popUntilTagNamePopped(za);break}if(za!==TAG_ID.ADDRESS&&za!==TAG_ID.DIV&&za!==TAG_ID.P&&La._isSpecialElement(La.openElements.items[Ba],za))break}La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._insertElement(Na,NS.HTML)}function plaintextStartTagInBody(La,Na){La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._insertElement(Na,NS.HTML),La.tokenizer.state=TokenizerMode.PLAINTEXT}function buttonStartTagInBody(La,Na){La.openElements.hasInScope(TAG_ID.BUTTON)&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilTagNamePopped(TAG_ID.BUTTON)),La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML),La.framesetOk=!1}function aStartTagInBody(La,Na){const ja=La.activeFormattingElements.getElementEntryInScopeWithTagName(TAG_NAMES.A);ja&&(callAdoptionAgency(La,Na),La.openElements.remove(ja.element),La.activeFormattingElements.removeEntry(ja)),La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML),La.activeFormattingElements.pushElement(La.openElements.current,Na)}function bStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML),La.activeFormattingElements.pushElement(La.openElements.current,Na)}function nobrStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La.openElements.hasInScope(TAG_ID.NOBR)&&(callAdoptionAgency(La,Na),La._reconstructActiveFormattingElements()),La._insertElement(Na,NS.HTML),La.activeFormattingElements.pushElement(La.openElements.current,Na)}function appletStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML),La.activeFormattingElements.insertMarker(),La.framesetOk=!1}function tableStartTagInBody(La,Na){La.treeAdapter.getDocumentMode(La.document)!==DOCUMENT_MODE.QUIRKS&&La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._insertElement(Na,NS.HTML),La.framesetOk=!1,La.insertionMode=InsertionMode.IN_TABLE}function areaStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La._appendElement(Na,NS.HTML),La.framesetOk=!1,Na.ackSelfClosing=!0}function isHiddenInput(La){const Na=getTokenAttr(La,ATTRS.TYPE);return Na!=null&&Na.toLowerCase()===HIDDEN_INPUT_TYPE}function inputStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La._appendElement(Na,NS.HTML),isHiddenInput(Na)||(La.framesetOk=!1),Na.ackSelfClosing=!0}function paramStartTagInBody(La,Na){La._appendElement(Na,NS.HTML),Na.ackSelfClosing=!0}function hrStartTagInBody(La,Na){La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._appendElement(Na,NS.HTML),La.framesetOk=!1,Na.ackSelfClosing=!0}function imageStartTagInBody(La,Na){Na.tagName=TAG_NAMES.IMG,Na.tagID=TAG_ID.IMG,areaStartTagInBody(La,Na)}function textareaStartTagInBody(La,Na){La._insertElement(Na,NS.HTML),La.skipNextNewLine=!0,La.tokenizer.state=TokenizerMode.RCDATA,La.originalInsertionMode=La.insertionMode,La.framesetOk=!1,La.insertionMode=InsertionMode.TEXT}function xmpStartTagInBody(La,Na){La.openElements.hasInButtonScope(TAG_ID.P)&&La._closePElement(),La._reconstructActiveFormattingElements(),La.framesetOk=!1,La._switchToTextParsing(Na,TokenizerMode.RAWTEXT)}function iframeStartTagInBody(La,Na){La.framesetOk=!1,La._switchToTextParsing(Na,TokenizerMode.RAWTEXT)}function rawTextStartTagInBody(La,Na){La._switchToTextParsing(Na,TokenizerMode.RAWTEXT)}function selectStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML),La.framesetOk=!1,La.insertionMode=La.insertionMode===InsertionMode.IN_TABLE||La.insertionMode===InsertionMode.IN_CAPTION||La.insertionMode===InsertionMode.IN_TABLE_BODY||La.insertionMode===InsertionMode.IN_ROW||La.insertionMode===InsertionMode.IN_CELL?InsertionMode.IN_SELECT_IN_TABLE:InsertionMode.IN_SELECT}function optgroupStartTagInBody(La,Na){La.openElements.currentTagId===TAG_ID.OPTION&&La.openElements.pop(),La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML)}function rbStartTagInBody(La,Na){La.openElements.hasInScope(TAG_ID.RUBY)&&La.openElements.generateImpliedEndTags(),La._insertElement(Na,NS.HTML)}function rtStartTagInBody(La,Na){La.openElements.hasInScope(TAG_ID.RUBY)&&La.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.RTC),La._insertElement(Na,NS.HTML)}function mathStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(Na),adjustTokenXMLAttrs(Na),Na.selfClosing?La._appendElement(Na,NS.MATHML):La._insertElement(Na,NS.MATHML),Na.ackSelfClosing=!0}function svgStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(Na),adjustTokenXMLAttrs(Na),Na.selfClosing?La._appendElement(Na,NS.SVG):La._insertElement(Na,NS.SVG),Na.ackSelfClosing=!0}function genericStartTagInBody(La,Na){La._reconstructActiveFormattingElements(),La._insertElement(Na,NS.HTML)}function startTagInBody(La,Na){switch(Na.tagID){case TAG_ID.I:case TAG_ID.S:case TAG_ID.B:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{bStartTagInBody(La,Na);break}case TAG_ID.A:{aStartTagInBody(La,Na);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderStartTagInBody(La,Na);break}case TAG_ID.P:case TAG_ID.DL:case TAG_ID.OL:case TAG_ID.UL:case TAG_ID.DIV:case TAG_ID.DIR:case TAG_ID.NAV:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.DETAILS:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressStartTagInBody(La,Na);break}case TAG_ID.LI:case TAG_ID.DD:case TAG_ID.DT:{listItemStartTagInBody(La,Na);break}case TAG_ID.BR:case TAG_ID.IMG:case TAG_ID.WBR:case TAG_ID.AREA:case TAG_ID.EMBED:case TAG_ID.KEYGEN:{areaStartTagInBody(La,Na);break}case TAG_ID.HR:{hrStartTagInBody(La,Na);break}case TAG_ID.RB:case TAG_ID.RTC:{rbStartTagInBody(La,Na);break}case TAG_ID.RT:case TAG_ID.RP:{rtStartTagInBody(La,Na);break}case TAG_ID.PRE:case TAG_ID.LISTING:{preStartTagInBody(La,Na);break}case TAG_ID.XMP:{xmpStartTagInBody(La,Na);break}case TAG_ID.SVG:{svgStartTagInBody(La,Na);break}case TAG_ID.HTML:{htmlStartTagInBody(La,Na);break}case TAG_ID.BASE:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.STYLE:case TAG_ID.TITLE:case TAG_ID.SCRIPT:case TAG_ID.BGSOUND:case TAG_ID.BASEFONT:case TAG_ID.TEMPLATE:{startTagInHead(La,Na);break}case TAG_ID.BODY:{bodyStartTagInBody(La,Na);break}case TAG_ID.FORM:{formStartTagInBody(La,Na);break}case TAG_ID.NOBR:{nobrStartTagInBody(La,Na);break}case TAG_ID.MATH:{mathStartTagInBody(La,Na);break}case TAG_ID.TABLE:{tableStartTagInBody(La,Na);break}case TAG_ID.INPUT:{inputStartTagInBody(La,Na);break}case TAG_ID.PARAM:case TAG_ID.TRACK:case TAG_ID.SOURCE:{paramStartTagInBody(La,Na);break}case TAG_ID.IMAGE:{imageStartTagInBody(La,Na);break}case TAG_ID.BUTTON:{buttonStartTagInBody(La,Na);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletStartTagInBody(La,Na);break}case TAG_ID.IFRAME:{iframeStartTagInBody(La,Na);break}case TAG_ID.SELECT:{selectStartTagInBody(La,Na);break}case TAG_ID.OPTION:case TAG_ID.OPTGROUP:{optgroupStartTagInBody(La,Na);break}case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:{rawTextStartTagInBody(La,Na);break}case TAG_ID.FRAMESET:{framesetStartTagInBody(La,Na);break}case TAG_ID.TEXTAREA:{textareaStartTagInBody(La,Na);break}case TAG_ID.NOSCRIPT:{La.options.scriptingEnabled?rawTextStartTagInBody(La,Na):genericStartTagInBody(La,Na);break}case TAG_ID.PLAINTEXT:{plaintextStartTagInBody(La,Na);break}case TAG_ID.COL:case TAG_ID.TH:case TAG_ID.TD:case TAG_ID.TR:case TAG_ID.HEAD:case TAG_ID.FRAME:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.CAPTION:case TAG_ID.COLGROUP:break;default:genericStartTagInBody(La,Na)}}function bodyEndTagInBody(La,Na){if(La.openElements.hasInScope(TAG_ID.BODY)&&(La.insertionMode=InsertionMode.AFTER_BODY,La.options.sourceCodeLocationInfo)){const ja=La.openElements.tryPeekProperlyNestedBodyElement();ja&&La._setEndLocation(ja,Na)}}function htmlEndTagInBody(La,Na){La.openElements.hasInScope(TAG_ID.BODY)&&(La.insertionMode=InsertionMode.AFTER_BODY,endTagAfterBody(La,Na))}function addressEndTagInBody(La,Na){const ja=Na.tagID;La.openElements.hasInScope(ja)&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilTagNamePopped(ja))}function formEndTagInBody(La){const Na=La.openElements.tmplCount>0,{formElement:ja}=La;Na||(La.formElement=null),(ja||Na)&&La.openElements.hasInScope(TAG_ID.FORM)&&(La.openElements.generateImpliedEndTags(),Na?La.openElements.popUntilTagNamePopped(TAG_ID.FORM):ja&&La.openElements.remove(ja))}function pEndTagInBody(La){La.openElements.hasInButtonScope(TAG_ID.P)||La._insertFakeElement(TAG_NAMES.P,TAG_ID.P),La._closePElement()}function liEndTagInBody(La){La.openElements.hasInListItemScope(TAG_ID.LI)&&(La.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.LI),La.openElements.popUntilTagNamePopped(TAG_ID.LI))}function ddEndTagInBody(La,Na){const ja=Na.tagID;La.openElements.hasInScope(ja)&&(La.openElements.generateImpliedEndTagsWithExclusion(ja),La.openElements.popUntilTagNamePopped(ja))}function numberedHeaderEndTagInBody(La){La.openElements.hasNumberedHeaderInScope()&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilNumberedHeaderPopped())}function appletEndTagInBody(La,Na){const ja=Na.tagID;La.openElements.hasInScope(ja)&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilTagNamePopped(ja),La.activeFormattingElements.clearToLastMarker())}function brEndTagInBody(La){La._reconstructActiveFormattingElements(),La._insertFakeElement(TAG_NAMES.BR,TAG_ID.BR),La.openElements.pop(),La.framesetOk=!1}function genericEndTagInBody(La,Na){const ja=Na.tagName,Ba=Na.tagID;for(let za=La.openElements.stackTop;za>0;za--){const Ga=La.openElements.items[za],Ha=La.openElements.tagIDs[za];if(Ba===Ha&&(Ba!==TAG_ID.UNKNOWN||La.treeAdapter.getTagName(Ga)===ja)){La.openElements.generateImpliedEndTagsWithExclusion(Ba),La.openElements.stackTop>=za&&La.openElements.shortenToLength(za);break}if(La._isSpecialElement(Ga,Ha))break}}function endTagInBody(La,Na){switch(Na.tagID){case TAG_ID.A:case TAG_ID.B:case TAG_ID.I:case TAG_ID.S:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.NOBR:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{callAdoptionAgency(La,Na);break}case TAG_ID.P:{pEndTagInBody(La);break}case TAG_ID.DL:case TAG_ID.UL:case TAG_ID.OL:case TAG_ID.DIR:case TAG_ID.DIV:case TAG_ID.NAV:case TAG_ID.PRE:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.BUTTON:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.DETAILS:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.LISTING:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressEndTagInBody(La,Na);break}case TAG_ID.LI:{liEndTagInBody(La);break}case TAG_ID.DD:case TAG_ID.DT:{ddEndTagInBody(La,Na);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderEndTagInBody(La);break}case TAG_ID.BR:{brEndTagInBody(La);break}case TAG_ID.BODY:{bodyEndTagInBody(La,Na);break}case TAG_ID.HTML:{htmlEndTagInBody(La,Na);break}case TAG_ID.FORM:{formEndTagInBody(La);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletEndTagInBody(La,Na);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(La,Na);break}default:genericEndTagInBody(La,Na)}}function eofInBody(La,Na){La.tmplInsertionModeStack.length>0?eofInTemplate(La,Na):stopParsing(La,Na)}function endTagInText(La,Na){var ja;Na.tagID===TAG_ID.SCRIPT&&((ja=La.scriptHandler)===null||ja===void 0||ja.call(La,La.openElements.current)),La.openElements.pop(),La.insertionMode=La.originalInsertionMode}function eofInText(La,Na){La._err(Na,ERR.eofInElementThatCanContainOnlyText),La.openElements.pop(),La.insertionMode=La.originalInsertionMode,La.onEof(Na)}function characterInTable(La,Na){if(La.openElements.currentTagId!==void 0&&TABLE_STRUCTURE_TAGS.has(La.openElements.currentTagId))switch(La.pendingCharacterTokens.length=0,La.hasNonWhitespacePendingCharacterToken=!1,La.originalInsertionMode=La.insertionMode,La.insertionMode=InsertionMode.IN_TABLE_TEXT,Na.type){case TokenType.CHARACTER:{characterInTableText(La,Na);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInTableText(La,Na);break}}else tokenInTable(La,Na)}function captionStartTagInTable(La,Na){La.openElements.clearBackToTableContext(),La.activeFormattingElements.insertMarker(),La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_CAPTION}function colgroupStartTagInTable(La,Na){La.openElements.clearBackToTableContext(),La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_COLUMN_GROUP}function colStartTagInTable(La,Na){La.openElements.clearBackToTableContext(),La._insertFakeElement(TAG_NAMES.COLGROUP,TAG_ID.COLGROUP),La.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(La,Na)}function tbodyStartTagInTable(La,Na){La.openElements.clearBackToTableContext(),La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_TABLE_BODY}function tdStartTagInTable(La,Na){La.openElements.clearBackToTableContext(),La._insertFakeElement(TAG_NAMES.TBODY,TAG_ID.TBODY),La.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(La,Na)}function tableStartTagInTable(La,Na){La.openElements.hasInTableScope(TAG_ID.TABLE)&&(La.openElements.popUntilTagNamePopped(TAG_ID.TABLE),La._resetInsertionMode(),La._processStartTag(Na))}function inputStartTagInTable(La,Na){isHiddenInput(Na)?La._appendElement(Na,NS.HTML):tokenInTable(La,Na),Na.ackSelfClosing=!0}function formStartTagInTable(La,Na){!La.formElement&&La.openElements.tmplCount===0&&(La._insertElement(Na,NS.HTML),La.formElement=La.openElements.current,La.openElements.pop())}function startTagInTable(La,Na){switch(Na.tagID){case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:{tdStartTagInTable(La,Na);break}case TAG_ID.STYLE:case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(La,Na);break}case TAG_ID.COL:{colStartTagInTable(La,Na);break}case TAG_ID.FORM:{formStartTagInTable(La,Na);break}case TAG_ID.TABLE:{tableStartTagInTable(La,Na);break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{tbodyStartTagInTable(La,Na);break}case TAG_ID.INPUT:{inputStartTagInTable(La,Na);break}case TAG_ID.CAPTION:{captionStartTagInTable(La,Na);break}case TAG_ID.COLGROUP:{colgroupStartTagInTable(La,Na);break}default:tokenInTable(La,Na)}}function endTagInTable(La,Na){switch(Na.tagID){case TAG_ID.TABLE:{La.openElements.hasInTableScope(TAG_ID.TABLE)&&(La.openElements.popUntilTagNamePopped(TAG_ID.TABLE),La._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(La,Na);break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:tokenInTable(La,Na)}}function tokenInTable(La,Na){const ja=La.fosterParentingEnabled;La.fosterParentingEnabled=!0,modeInBody(La,Na),La.fosterParentingEnabled=ja}function whitespaceCharacterInTableText(La,Na){La.pendingCharacterTokens.push(Na)}function characterInTableText(La,Na){La.pendingCharacterTokens.push(Na),La.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(La,Na){let ja=0;if(La.hasNonWhitespacePendingCharacterToken)for(;ja<La.pendingCharacterTokens.length;ja++)tokenInTable(La,La.pendingCharacterTokens[ja]);else for(;ja<La.pendingCharacterTokens.length;ja++)La._insertCharacters(La.pendingCharacterTokens[ja]);La.insertionMode=La.originalInsertionMode,La._processToken(Na)}const TABLE_VOID_ELEMENTS=new Set([TAG_ID.CAPTION,TAG_ID.COL,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]);function startTagInCaption(La,Na){const ja=Na.tagID;TABLE_VOID_ELEMENTS.has(ja)?La.openElements.hasInTableScope(TAG_ID.CAPTION)&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),La.activeFormattingElements.clearToLastMarker(),La.insertionMode=InsertionMode.IN_TABLE,startTagInTable(La,Na)):startTagInBody(La,Na)}function endTagInCaption(La,Na){const ja=Na.tagID;switch(ja){case TAG_ID.CAPTION:case TAG_ID.TABLE:{La.openElements.hasInTableScope(TAG_ID.CAPTION)&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),La.activeFormattingElements.clearToLastMarker(),La.insertionMode=InsertionMode.IN_TABLE,ja===TAG_ID.TABLE&&endTagInTable(La,Na));break}case TAG_ID.BODY:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:endTagInBody(La,Na)}}function startTagInColumnGroup(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.COL:{La._appendElement(Na,NS.HTML),Na.ackSelfClosing=!0;break}case TAG_ID.TEMPLATE:{startTagInHead(La,Na);break}default:tokenInColumnGroup(La,Na)}}function endTagInColumnGroup(La,Na){switch(Na.tagID){case TAG_ID.COLGROUP:{La.openElements.currentTagId===TAG_ID.COLGROUP&&(La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(La,Na);break}case TAG_ID.COL:break;default:tokenInColumnGroup(La,Na)}}function tokenInColumnGroup(La,Na){La.openElements.currentTagId===TAG_ID.COLGROUP&&(La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE,La._processToken(Na))}function startTagInTableBody(La,Na){switch(Na.tagID){case TAG_ID.TR:{La.openElements.clearBackToTableBodyContext(),La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_ROW;break}case TAG_ID.TH:case TAG_ID.TD:{La.openElements.clearBackToTableBodyContext(),La._insertFakeElement(TAG_NAMES.TR,TAG_ID.TR),La.insertionMode=InsertionMode.IN_ROW,startTagInRow(La,Na);break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{La.openElements.hasTableBodyContextInTableScope()&&(La.openElements.clearBackToTableBodyContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE,startTagInTable(La,Na));break}default:startTagInTable(La,Na)}}function endTagInTableBody(La,Na){const ja=Na.tagID;switch(Na.tagID){case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{La.openElements.hasInTableScope(ja)&&(La.openElements.clearBackToTableBodyContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TABLE:{La.openElements.hasTableBodyContextInTableScope()&&(La.openElements.clearBackToTableBodyContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE,endTagInTable(La,Na));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:break;default:endTagInTable(La,Na)}}function startTagInRow(La,Na){switch(Na.tagID){case TAG_ID.TH:case TAG_ID.TD:{La.openElements.clearBackToTableRowContext(),La._insertElement(Na,NS.HTML),La.insertionMode=InsertionMode.IN_CELL,La.activeFormattingElements.insertMarker();break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{La.openElements.hasInTableScope(TAG_ID.TR)&&(La.openElements.clearBackToTableRowContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(La,Na));break}default:startTagInTable(La,Na)}}function endTagInRow(La,Na){switch(Na.tagID){case TAG_ID.TR:{La.openElements.hasInTableScope(TAG_ID.TR)&&(La.openElements.clearBackToTableRowContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE_BODY);break}case TAG_ID.TABLE:{La.openElements.hasInTableScope(TAG_ID.TR)&&(La.openElements.clearBackToTableRowContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(La,Na));break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{(La.openElements.hasInTableScope(Na.tagID)||La.openElements.hasInTableScope(TAG_ID.TR))&&(La.openElements.clearBackToTableRowContext(),La.openElements.pop(),La.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(La,Na));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:break;default:endTagInTable(La,Na)}}function startTagInCell(La,Na){const ja=Na.tagID;TABLE_VOID_ELEMENTS.has(ja)?(La.openElements.hasInTableScope(TAG_ID.TD)||La.openElements.hasInTableScope(TAG_ID.TH))&&(La._closeTableCell(),startTagInRow(La,Na)):startTagInBody(La,Na)}function endTagInCell(La,Na){const ja=Na.tagID;switch(ja){case TAG_ID.TD:case TAG_ID.TH:{La.openElements.hasInTableScope(ja)&&(La.openElements.generateImpliedEndTags(),La.openElements.popUntilTagNamePopped(ja),La.activeFormattingElements.clearToLastMarker(),La.insertionMode=InsertionMode.IN_ROW);break}case TAG_ID.TABLE:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{La.openElements.hasInTableScope(ja)&&(La._closeTableCell(),endTagInRow(La,Na));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:break;default:endTagInBody(La,Na)}}function startTagInSelect(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.OPTION:{La.openElements.currentTagId===TAG_ID.OPTION&&La.openElements.pop(),La._insertElement(Na,NS.HTML);break}case TAG_ID.OPTGROUP:{La.openElements.currentTagId===TAG_ID.OPTION&&La.openElements.pop(),La.openElements.currentTagId===TAG_ID.OPTGROUP&&La.openElements.pop(),La._insertElement(Na,NS.HTML);break}case TAG_ID.HR:{La.openElements.currentTagId===TAG_ID.OPTION&&La.openElements.pop(),La.openElements.currentTagId===TAG_ID.OPTGROUP&&La.openElements.pop(),La._appendElement(Na,NS.HTML),Na.ackSelfClosing=!0;break}case TAG_ID.INPUT:case TAG_ID.KEYGEN:case TAG_ID.TEXTAREA:case TAG_ID.SELECT:{La.openElements.hasInSelectScope(TAG_ID.SELECT)&&(La.openElements.popUntilTagNamePopped(TAG_ID.SELECT),La._resetInsertionMode(),Na.tagID!==TAG_ID.SELECT&&La._processStartTag(Na));break}case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(La,Na);break}}}function endTagInSelect(La,Na){switch(Na.tagID){case TAG_ID.OPTGROUP:{La.openElements.stackTop>0&&La.openElements.currentTagId===TAG_ID.OPTION&&La.openElements.tagIDs[La.openElements.stackTop-1]===TAG_ID.OPTGROUP&&La.openElements.pop(),La.openElements.currentTagId===TAG_ID.OPTGROUP&&La.openElements.pop();break}case TAG_ID.OPTION:{La.openElements.currentTagId===TAG_ID.OPTION&&La.openElements.pop();break}case TAG_ID.SELECT:{La.openElements.hasInSelectScope(TAG_ID.SELECT)&&(La.openElements.popUntilTagNamePopped(TAG_ID.SELECT),La._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(La,Na);break}}}function startTagInSelectInTable(La,Na){const ja=Na.tagID;ja===TAG_ID.CAPTION||ja===TAG_ID.TABLE||ja===TAG_ID.TBODY||ja===TAG_ID.TFOOT||ja===TAG_ID.THEAD||ja===TAG_ID.TR||ja===TAG_ID.TD||ja===TAG_ID.TH?(La.openElements.popUntilTagNamePopped(TAG_ID.SELECT),La._resetInsertionMode(),La._processStartTag(Na)):startTagInSelect(La,Na)}function endTagInSelectInTable(La,Na){const ja=Na.tagID;ja===TAG_ID.CAPTION||ja===TAG_ID.TABLE||ja===TAG_ID.TBODY||ja===TAG_ID.TFOOT||ja===TAG_ID.THEAD||ja===TAG_ID.TR||ja===TAG_ID.TD||ja===TAG_ID.TH?La.openElements.hasInTableScope(ja)&&(La.openElements.popUntilTagNamePopped(TAG_ID.SELECT),La._resetInsertionMode(),La.onEndTag(Na)):endTagInSelect(La,Na)}function startTagInTemplate(La,Na){switch(Na.tagID){case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{startTagInHead(La,Na);break}case TAG_ID.CAPTION:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{La.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE,La.insertionMode=InsertionMode.IN_TABLE,startTagInTable(La,Na);break}case TAG_ID.COL:{La.tmplInsertionModeStack[0]=InsertionMode.IN_COLUMN_GROUP,La.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(La,Na);break}case TAG_ID.TR:{La.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE_BODY,La.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(La,Na);break}case TAG_ID.TD:case TAG_ID.TH:{La.tmplInsertionModeStack[0]=InsertionMode.IN_ROW,La.insertionMode=InsertionMode.IN_ROW,startTagInRow(La,Na);break}default:La.tmplInsertionModeStack[0]=InsertionMode.IN_BODY,La.insertionMode=InsertionMode.IN_BODY,startTagInBody(La,Na)}}function endTagInTemplate(La,Na){Na.tagID===TAG_ID.TEMPLATE&&templateEndTagInHead(La,Na)}function eofInTemplate(La,Na){La.openElements.tmplCount>0?(La.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),La.activeFormattingElements.clearToLastMarker(),La.tmplInsertionModeStack.shift(),La._resetInsertionMode(),La.onEof(Na)):stopParsing(La,Na)}function startTagAfterBody(La,Na){Na.tagID===TAG_ID.HTML?startTagInBody(La,Na):tokenAfterBody(La,Na)}function endTagAfterBody(La,Na){var ja;if(Na.tagID===TAG_ID.HTML){if(La.fragmentContext||(La.insertionMode=InsertionMode.AFTER_AFTER_BODY),La.options.sourceCodeLocationInfo&&La.openElements.tagIDs[0]===TAG_ID.HTML){La._setEndLocation(La.openElements.items[0],Na);const Ba=La.openElements.items[1];Ba&&!(!((ja=La.treeAdapter.getNodeSourceCodeLocation(Ba))===null||ja===void 0)&&ja.endTag)&&La._setEndLocation(Ba,Na)}}else tokenAfterBody(La,Na)}function tokenAfterBody(La,Na){La.insertionMode=InsertionMode.IN_BODY,modeInBody(La,Na)}function startTagInFrameset(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.FRAMESET:{La._insertElement(Na,NS.HTML);break}case TAG_ID.FRAME:{La._appendElement(Na,NS.HTML),Na.ackSelfClosing=!0;break}case TAG_ID.NOFRAMES:{startTagInHead(La,Na);break}}}function endTagInFrameset(La,Na){Na.tagID===TAG_ID.FRAMESET&&!La.openElements.isRootHtmlElementCurrent()&&(La.openElements.pop(),!La.fragmentContext&&La.openElements.currentTagId!==TAG_ID.FRAMESET&&(La.insertionMode=InsertionMode.AFTER_FRAMESET))}function startTagAfterFrameset(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.NOFRAMES:{startTagInHead(La,Na);break}}}function endTagAfterFrameset(La,Na){Na.tagID===TAG_ID.HTML&&(La.insertionMode=InsertionMode.AFTER_AFTER_FRAMESET)}function startTagAfterAfterBody(La,Na){Na.tagID===TAG_ID.HTML?startTagInBody(La,Na):tokenAfterAfterBody(La,Na)}function tokenAfterAfterBody(La,Na){La.insertionMode=InsertionMode.IN_BODY,modeInBody(La,Na)}function startTagAfterAfterFrameset(La,Na){switch(Na.tagID){case TAG_ID.HTML:{startTagInBody(La,Na);break}case TAG_ID.NOFRAMES:{startTagInHead(La,Na);break}}}function nullCharacterInForeignContent(La,Na){Na.chars=REPLACEMENT_CHARACTER,La._insertCharacters(Na)}function characterInForeignContent(La,Na){La._insertCharacters(Na),La.framesetOk=!1}function popUntilHtmlOrIntegrationPoint(La){for(;La.treeAdapter.getNamespaceURI(La.openElements.current)!==NS.HTML&&La.openElements.currentTagId!==void 0&&!La._isIntegrationPoint(La.openElements.currentTagId,La.openElements.current);)La.openElements.pop()}function startTagInForeignContent(La,Na){if(causesExit(Na))popUntilHtmlOrIntegrationPoint(La),La._startTagOutsideForeignContent(Na);else{const ja=La._getAdjustedCurrentElement(),Ba=La.treeAdapter.getNamespaceURI(ja);Ba===NS.MATHML?adjustTokenMathMLAttrs(Na):Ba===NS.SVG&&(adjustTokenSVGTagName(Na),adjustTokenSVGAttrs(Na)),adjustTokenXMLAttrs(Na),Na.selfClosing?La._appendElement(Na,Ba):La._insertElement(Na,Ba),Na.ackSelfClosing=!0}}function endTagInForeignContent(La,Na){if(Na.tagID===TAG_ID.P||Na.tagID===TAG_ID.BR){popUntilHtmlOrIntegrationPoint(La),La._endTagOutsideForeignContent(Na);return}for(let ja=La.openElements.stackTop;ja>0;ja--){const Ba=La.openElements.items[ja];if(La.treeAdapter.getNamespaceURI(Ba)===NS.HTML){La._endTagOutsideForeignContent(Na);break}const za=La.treeAdapter.getTagName(Ba);if(za.toLowerCase()===Na.tagName){Na.tagName=za,La.openElements.shortenToLength(ja);break}}}TAG_NAMES.AREA,TAG_NAMES.BASE,TAG_NAMES.BASEFONT,TAG_NAMES.BGSOUND,TAG_NAMES.BR,TAG_NAMES.COL,TAG_NAMES.EMBED,TAG_NAMES.FRAME,TAG_NAMES.HR,TAG_NAMES.IMG,TAG_NAMES.INPUT,TAG_NAMES.KEYGEN,TAG_NAMES.LINK,TAG_NAMES.META,TAG_NAMES.PARAM,TAG_NAMES.SOURCE,TAG_NAMES.TRACK,TAG_NAMES.WBR;const gfmTagfilterExpression=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,knownMdxNames=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),parseOptions={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(La,Na){const ja=documentMode(La),Ba=zwitch("type",{handlers:{root:root$2,element:element$3,text:text$4,comment:comment$2,doctype:doctype$2,raw:handleRaw},unknown}),za={parser:ja?new Parser$1(parseOptions):Parser$1.getFragmentParser(void 0,parseOptions),handle(Ya){Ba(Ya,za)},stitches:!1,options:Na||{}};Ba(La,za),resetTokenizer(za,pointStart());const Ga=ja?za.parser.document:za.parser.getFragment(),Ha=fromParse5(Ga,{file:za.options.file});return za.stitches&&visit(Ha,"comment",function(Ya,Xa,Ka){const Qa=Ya;if(Qa.value.stitch&&Ka&&Xa!==void 0){const Va=Ka.children;return Va[Xa]=Qa.value.stitch,Xa}}),Ha.type==="root"&&Ha.children.length===1&&Ha.children[0].type===La.type?Ha.children[0]:Ha}function all$1(La,Na){let ja=-1;if(La)for(;++ja<La.length;)Na.handle(La[ja])}function root$2(La,Na){all$1(La.children,Na)}function element$3(La,Na){startTag(La,Na),all$1(La.children,Na),endTag(La,Na)}function text$4(La,Na){Na.parser.tokenizer.state>4&&(Na.parser.tokenizer.state=0);const ja={type:TokenType.CHARACTER,chars:La.value,location:createParse5Location(La)};resetTokenizer(Na,pointStart(La)),Na.parser.currentToken=ja,Na.parser._processToken(Na.parser.currentToken)}function doctype$2(La,Na){const ja={type:TokenType.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(La)};resetTokenizer(Na,pointStart(La)),Na.parser.currentToken=ja,Na.parser._processToken(Na.parser.currentToken)}function stitch(La,Na){Na.stitches=!0;const ja=cloneWithoutChildren(La);if("children"in La&&"children"in ja){const Ba=raw({type:"root",children:La.children},Na.options);ja.children=Ba.children}comment$2({type:"comment",value:{stitch:ja}},Na)}function comment$2(La,Na){const ja=La.value,Ba={type:TokenType.COMMENT,data:ja,location:createParse5Location(La)};resetTokenizer(Na,pointStart(La)),Na.parser.currentToken=Ba,Na.parser._processToken(Na.parser.currentToken)}function handleRaw(La,Na){if(Na.parser.tokenizer.preprocessor.html="",Na.parser.tokenizer.preprocessor.pos=-1,Na.parser.tokenizer.preprocessor.lastGapPos=-2,Na.parser.tokenizer.preprocessor.gapStack=[],Na.parser.tokenizer.preprocessor.skipNextNewLine=!1,Na.parser.tokenizer.preprocessor.lastChunkWritten=!1,Na.parser.tokenizer.preprocessor.endOfChunkHit=!1,Na.parser.tokenizer.preprocessor.isEol=!1,setPoint(Na,pointStart(La)),Na.parser.tokenizer.write(Na.options.tagfilter?La.value.replace(gfmTagfilterExpression,"&lt;$1$2"):La.value,!1),Na.parser.tokenizer._runParsingLoop(),Na.parser.tokenizer.state===72||Na.parser.tokenizer.state===78){Na.parser.tokenizer.preprocessor.lastChunkWritten=!0;const ja=Na.parser.tokenizer._consume();Na.parser.tokenizer._callState(ja)}}function unknown(La,Na){const ja=La;if(Na.options.passThrough&&Na.options.passThrough.includes(ja.type))stitch(ja,Na);else{let Ba="";throw knownMdxNames.has(ja.type)&&(Ba=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+ja.type+"` node"+Ba)}}function resetTokenizer(La,Na){setPoint(La,Na);const ja=La.parser.tokenizer.currentCharacterToken;ja&&ja.location&&(ja.location.endLine=La.parser.tokenizer.preprocessor.line,ja.location.endCol=La.parser.tokenizer.preprocessor.col+1,ja.location.endOffset=La.parser.tokenizer.preprocessor.offset+1,La.parser.currentToken=ja,La.parser._processToken(La.parser.currentToken)),La.parser.tokenizer.paused=!1,La.parser.tokenizer.inLoop=!1,La.parser.tokenizer.active=!1,La.parser.tokenizer.returnState=TokenizerMode.DATA,La.parser.tokenizer.charRefCode=-1,La.parser.tokenizer.consumedAfterSnapshot=-1,La.parser.tokenizer.currentLocation=null,La.parser.tokenizer.currentCharacterToken=null,La.parser.tokenizer.currentToken=null,La.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(La,Na){if(Na&&Na.offset!==void 0){const ja={startLine:Na.line,startCol:Na.column,startOffset:Na.offset,endLine:-1,endCol:-1,endOffset:-1};La.parser.tokenizer.preprocessor.lineStartPos=-Na.column+1,La.parser.tokenizer.preprocessor.droppedBufferSize=Na.offset,La.parser.tokenizer.preprocessor.line=Na.line,La.parser.tokenizer.currentLocation=ja}}function startTag(La,Na){const ja=La.tagName.toLowerCase();if(Na.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(Na,pointStart(La));const Ba=Na.parser.openElements.current;let za="namespaceURI"in Ba?Ba.namespaceURI:webNamespaces.html;za===webNamespaces.html&&ja==="svg"&&(za=webNamespaces.svg);const Ga=toParse5({...La,children:[]},{space:za===webNamespaces.svg?"svg":"html"}),Ha={type:TokenType.START_TAG,tagName:ja,tagID:getTagID(ja),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in Ga?Ga.attrs:[],location:createParse5Location(La)};Na.parser.currentToken=Ha,Na.parser._processToken(Na.parser.currentToken),Na.parser.tokenizer.lastStartTagName=ja}function endTag(La,Na){const ja=La.tagName.toLowerCase();if(!Na.parser.tokenizer.inForeignNode&&htmlVoidElements.includes(ja)||Na.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(Na,pointEnd(La));const Ba={type:TokenType.END_TAG,tagName:ja,tagID:getTagID(ja),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(La)};Na.parser.currentToken=Ba,Na.parser._processToken(Na.parser.currentToken),ja===Na.parser.tokenizer.lastStartTagName&&(Na.parser.tokenizer.state===TokenizerMode.RCDATA||Na.parser.tokenizer.state===TokenizerMode.RAWTEXT||Na.parser.tokenizer.state===TokenizerMode.SCRIPT_DATA)&&(Na.parser.tokenizer.state=TokenizerMode.DATA)}function documentMode(La){const Na=La.type==="root"?La.children[0]:La;return!!(Na&&(Na.type==="doctype"||Na.type==="element"&&Na.tagName.toLowerCase()==="html"))}function createParse5Location(La){const Na=pointStart(La)||{line:void 0,column:void 0,offset:void 0},ja=pointEnd(La)||{line:void 0,column:void 0,offset:void 0};return{startLine:Na.line,startCol:Na.column,startOffset:Na.offset,endLine:ja.line,endCol:ja.column,endOffset:ja.offset}}function cloneWithoutChildren(La){return"children"in La?structuredClone$1({...La,children:[]}):structuredClone$1(La)}function rehypeRaw(La){return function(Na,ja){return raw(Na,{...La,file:ja})}}const aria=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],defaultSchema={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...aria,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...aria],h2:[["className","sr-only"]],img:[...aria,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...aria,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...aria],table:[...aria],ul:[...aria,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},own={}.hasOwnProperty;function sanitize(La,Na){let ja={type:"root",children:[]};const Ba={schema:Na?{...defaultSchema,...Na}:defaultSchema,stack:[]},za=transform$1(Ba,La);return za&&(Array.isArray(za)?za.length===1?ja=za[0]:ja.children=za:ja=za),ja}function transform$1(La,Na){if(Na&&typeof Na=="object"){const ja=Na;switch(typeof ja.type=="string"?ja.type:""){case"comment":return comment$1(La,ja);case"doctype":return doctype$1(La,ja);case"element":return element$2(La,ja);case"root":return root$1(La,ja);case"text":return text$3(La,ja)}}}function comment$1(La,Na){if(La.schema.allowComments){const ja=typeof Na.value=="string"?Na.value:"",Ba=ja.indexOf("-->"),Ga={type:"comment",value:Ba<0?ja:ja.slice(0,Ba)};return patch(Ga,Na),Ga}}function doctype$1(La,Na){if(La.schema.allowDoctypes){const ja={type:"doctype"};return patch(ja,Na),ja}}function element$2(La,Na){const ja=typeof Na.tagName=="string"?Na.tagName:"";La.stack.push(ja);const Ba=children(La,Na.children),za=properties(La,Na.properties);La.stack.pop();let Ga=!1;if(ja&&ja!=="*"&&(!La.schema.tagNames||La.schema.tagNames.includes(ja))&&(Ga=!0,La.schema.ancestors&&own.call(La.schema.ancestors,ja))){const Ya=La.schema.ancestors[ja];let Xa=-1;for(Ga=!1;++Xa<Ya.length;)La.stack.includes(Ya[Xa])&&(Ga=!0)}if(!Ga)return La.schema.strip&&!La.schema.strip.includes(ja)?Ba:void 0;const Ha={type:"element",tagName:ja,properties:za,children:Ba};return patch(Ha,Na),Ha}function root$1(La,Na){const Ba={type:"root",children:children(La,Na.children)};return patch(Ba,Na),Ba}function text$3(La,Na){const Ba={type:"text",value:typeof Na.value=="string"?Na.value:""};return patch(Ba,Na),Ba}function children(La,Na){const ja=[];if(Array.isArray(Na)){const Ba=Na;let za=-1;for(;++za<Ba.length;){const Ga=transform$1(La,Ba[za]);Ga&&(Array.isArray(Ga)?ja.push(...Ga):ja.push(Ga))}}return ja}function properties(La,Na){const ja=La.stack[La.stack.length-1],Ba=La.schema.attributes,za=La.schema.required,Ga=Ba&&own.call(Ba,ja)?Ba[ja]:void 0,Ha=Ba&&own.call(Ba,"*")?Ba["*"]:void 0,Ya=Na&&typeof Na=="object"?Na:{},Xa={};let Ka;for(Ka in Ya)if(own.call(Ya,Ka)){const Qa=Ya[Ka];let Va=propertyValue(La,findDefinition(Ga,Ka),Ka,Qa);Va==null&&(Va=propertyValue(La,findDefinition(Ha,Ka),Ka,Qa)),Va!=null&&(Xa[Ka]=Va)}if(za&&own.call(za,ja)){const Qa=za[ja];for(Ka in Qa)own.call(Qa,Ka)&&!own.call(Xa,Ka)&&(Xa[Ka]=Qa[Ka])}return Xa}function propertyValue(La,Na,ja,Ba){return Na?Array.isArray(Ba)?propertyValueMany(La,Na,ja,Ba):propertyValuePrimitive(La,Na,ja,Ba):void 0}function propertyValueMany(La,Na,ja,Ba){let za=-1;const Ga=[];for(;++za<Ba.length;){const Ha=propertyValuePrimitive(La,Na,ja,Ba[za]);(typeof Ha=="number"||typeof Ha=="string")&&Ga.push(Ha)}return Ga}function propertyValuePrimitive(La,Na,ja,Ba){if(!(typeof Ba!="boolean"&&typeof Ba!="number"&&typeof Ba!="string")&&safeProtocol(La,ja,Ba)){if(typeof Na=="object"&&Na.length>1){let za=!1,Ga=0;for(;++Ga<Na.length;){const Ha=Na[Ga];if(Ha&&typeof Ha=="object"&&"flags"in Ha){if(Ha.test(String(Ba))){za=!0;break}}else if(Ha===Ba){za=!0;break}}if(!za)return}return La.schema.clobber&&La.schema.clobberPrefix&&La.schema.clobber.includes(ja)?La.schema.clobberPrefix+Ba:Ba}}function safeProtocol(La,Na,ja){const Ba=La.schema.protocols&&own.call(La.schema.protocols,Na)?La.schema.protocols[Na]:void 0;if(!Ba||Ba.length===0)return!0;const za=String(ja),Ga=za.indexOf(":"),Ha=za.indexOf("?"),Ya=za.indexOf("#"),Xa=za.indexOf("/");if(Ga<0||Xa>-1&&Ga>Xa||Ha>-1&&Ga>Ha||Ya>-1&&Ga>Ya)return!0;let Ka=-1;for(;++Ka<Ba.length;){const Qa=Ba[Ka];if(Ga===Qa.length&&za.slice(0,Qa.length)===Qa)return!0}return!1}function patch(La,Na){const ja=position$2(Na);Na.data&&(La.data=structuredClone$1(Na.data)),ja&&(La.position=ja)}function findDefinition(La,Na){let ja,Ba=-1;if(La)for(;++Ba<La.length;){const za=La[Ba],Ga=typeof za=="string"?za:za[0];if(Ga===Na)return za;Ga==="data*"&&(ja=za)}if(Na.length>4&&Na.slice(0,4).toLowerCase()==="data")return ja}function rehypeSanitize(La){return function(Na){return sanitize(Na,La)}}function mathFromMarkdown(){return{enter:{mathFlow:La,mathFlowFenceMeta:Na,mathText:Ga},exit:{mathFlow:za,mathFlowFence:Ba,mathFlowFenceMeta:ja,mathFlowValue:Ya,mathText:Ha,mathTextData:Ya}};function La(Xa){const Ka={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[Ka]}},Xa)}function Na(){this.buffer()}function ja(){const Xa=this.resume(),Ka=this.stack[this.stack.length-1];Ka.type,Ka.meta=Xa}function Ba(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function za(Xa){const Ka=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),Qa=this.stack[this.stack.length-1];Qa.type,this.exit(Xa),Qa.value=Ka;const Va=Qa.data.hChildren[0];Va.type,Va.tagName,Va.children.push({type:"text",value:Ka}),this.data.mathFlowInside=void 0}function Ga(Xa){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},Xa),this.buffer()}function Ha(Xa){const Ka=this.resume(),Qa=this.stack[this.stack.length-1];Qa.type,this.exit(Xa),Qa.value=Ka,Qa.data.hChildren.push({type:"text",value:Ka})}function Ya(Xa){this.config.enter.data.call(this,Xa),this.config.exit.data.call(this,Xa)}}function mathToMarkdown(La){let Na=(La||{}).singleDollarTextMath;return Na==null&&(Na=!0),Ba.peek=za,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:Na?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:ja,inlineMath:Ba}};function ja(Ga,Ha,Ya,Xa){const Ka=Ga.value||"",Qa=Ya.createTracker(Xa),Va="$".repeat(Math.max(longestStreak(Ka,"$")+1,2)),Ua=Ya.enter("mathFlow");let Wa=Qa.move(Va);if(Ga.meta){const Ja=Ya.enter("mathFlowMeta");Wa+=Qa.move(Ya.safe(Ga.meta,{after:`
`,before:Wa,encode:["$"],...Qa.current()})),Ja()}return Wa+=Qa.move(`
`),Ka&&(Wa+=Qa.move(Ka+`
`)),Wa+=Qa.move(Va),Ua(),Wa}function Ba(Ga,Ha,Ya){let Xa=Ga.value||"",Ka=1;for(Na||Ka++;new RegExp("(^|[^$])"+"\\$".repeat(Ka)+"([^$]|$)").test(Xa);)Ka++;const Qa="$".repeat(Ka);/[^ \r\n]/.test(Xa)&&(/^[ \r\n]/.test(Xa)&&/[ \r\n]$/.test(Xa)||/^\$|\$$/.test(Xa))&&(Xa=" "+Xa+" ");let Va=-1;for(;++Va<Ya.unsafe.length;){const Ua=Ya.unsafe[Va];if(!Ua.atBreak)continue;const Wa=Ya.compilePattern(Ua);let Ja;for(;Ja=Wa.exec(Xa);){let Oo=Ja.index;Xa.codePointAt(Oo)===10&&Xa.codePointAt(Oo-1)===13&&Oo--,Xa=Xa.slice(0,Oo)+" "+Xa.slice(Ja.index+1)}}return Qa+Xa+Qa}function za(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(La,Na,ja){const Ba=this,za=Ba.events[Ba.events.length-1],Ga=za&&za[1].type==="linePrefix"?za[2].sliceSerialize(za[1],!0).length:0;let Ha=0;return Ya;function Ya(el){return La.enter("mathFlow"),La.enter("mathFlowFence"),La.enter("mathFlowFenceSequence"),Xa(el)}function Xa(el){return el===36?(La.consume(el),Ha++,Xa):Ha<2?ja(el):(La.exit("mathFlowFenceSequence"),factorySpace(La,Ka,"whitespace")(el))}function Ka(el){return el===null||markdownLineEnding(el)?Va(el):(La.enter("mathFlowFenceMeta"),La.enter("chunkString",{contentType:"string"}),Qa(el))}function Qa(el){return el===null||markdownLineEnding(el)?(La.exit("chunkString"),La.exit("mathFlowFenceMeta"),Va(el)):el===36?ja(el):(La.consume(el),Qa)}function Va(el){return La.exit("mathFlowFence"),Ba.interrupt?Na(el):La.attempt(nonLazyContinuation,Ua,Do)(el)}function Ua(el){return La.attempt({tokenize:Mo,partial:!0},Do,Wa)(el)}function Wa(el){return(Ga?factorySpace(La,Ja,"linePrefix",Ga+1):Ja)(el)}function Ja(el){return el===null?Do(el):markdownLineEnding(el)?La.attempt(nonLazyContinuation,Ua,Do)(el):(La.enter("mathFlowValue"),Oo(el))}function Oo(el){return el===null||markdownLineEnding(el)?(La.exit("mathFlowValue"),Ja(el)):(La.consume(el),Oo)}function Do(el){return La.exit("mathFlow"),Na(el)}function Mo(el,tl,rl){let il=0;return factorySpace(el,al,"linePrefix",Ba.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function al(ol){return el.enter("mathFlowFence"),el.enter("mathFlowFenceSequence"),ll(ol)}function ll(ol){return ol===36?(il++,el.consume(ol),ll):il<Ha?rl(ol):(el.exit("mathFlowFenceSequence"),factorySpace(el,ul,"whitespace")(ol))}function ul(ol){return ol===null||markdownLineEnding(ol)?(el.exit("mathFlowFence"),tl(ol)):rl(ol)}}}function tokenizeNonLazyContinuation(La,Na,ja){const Ba=this;return za;function za(Ha){return Ha===null?Na(Ha):(La.enter("lineEnding"),La.consume(Ha),La.exit("lineEnding"),Ga)}function Ga(Ha){return Ba.parser.lazy[Ba.now().line]?ja(Ha):Na(Ha)}}function mathText(La){let ja=(La||{}).singleDollarTextMath;return ja==null&&(ja=!0),{tokenize:Ba,resolve:resolveMathText,previous,name:"mathText"};function Ba(za,Ga,Ha){let Ya=0,Xa,Ka;return Qa;function Qa(Oo){return za.enter("mathText"),za.enter("mathTextSequence"),Va(Oo)}function Va(Oo){return Oo===36?(za.consume(Oo),Ya++,Va):Ya<2&&!ja?Ha(Oo):(za.exit("mathTextSequence"),Ua(Oo))}function Ua(Oo){return Oo===null?Ha(Oo):Oo===36?(Ka=za.enter("mathTextSequence"),Xa=0,Ja(Oo)):Oo===32?(za.enter("space"),za.consume(Oo),za.exit("space"),Ua):markdownLineEnding(Oo)?(za.enter("lineEnding"),za.consume(Oo),za.exit("lineEnding"),Ua):(za.enter("mathTextData"),Wa(Oo))}function Wa(Oo){return Oo===null||Oo===32||Oo===36||markdownLineEnding(Oo)?(za.exit("mathTextData"),Ua(Oo)):(za.consume(Oo),Wa)}function Ja(Oo){return Oo===36?(za.consume(Oo),Xa++,Ja):Xa===Ya?(za.exit("mathTextSequence"),za.exit("mathText"),Ga(Oo)):(Ka.type="mathTextData",Wa(Oo))}}}function resolveMathText(La){let Na=La.length-4,ja=3,Ba,za;if((La[ja][1].type==="lineEnding"||La[ja][1].type==="space")&&(La[Na][1].type==="lineEnding"||La[Na][1].type==="space")){for(Ba=ja;++Ba<Na;)if(La[Ba][1].type==="mathTextData"){La[Na][1].type="mathTextPadding",La[ja][1].type="mathTextPadding",ja+=2,Na-=2;break}}for(Ba=ja-1,Na++;++Ba<=Na;)za===void 0?Ba!==Na&&La[Ba][1].type!=="lineEnding"&&(za=Ba):(Ba===Na||La[Ba][1].type==="lineEnding")&&(La[za][1].type="mathTextData",Ba!==za+2&&(La[za][1].end=La[Ba-1][1].end,La.splice(za+2,Ba-za-2),Na-=Ba-za-2,Ba=za+2),za=void 0);return La}function previous(La){return La!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(La){return{flow:{36:mathFlow},text:{36:mathText(La)}}}class SourceLocation{constructor(Na,ja,Ba){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=Na,this.start=ja,this.end=Ba}static range(Na,ja){return ja?!Na||!Na.loc||!ja.loc||Na.loc.lexer!==ja.loc.lexer?null:new SourceLocation(Na.loc.lexer,Na.loc.start,ja.loc.end):Na&&Na.loc}}class Token{constructor(Na,ja){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=Na,this.loc=ja}range(Na,ja){return new Token(ja,SourceLocation.range(this,Na))}}class ParseError{constructor(Na,ja){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var Ba="KaTeX parse error: "+Na,za,Ga,Ha=ja&&ja.loc;if(Ha&&Ha.start<=Ha.end){var Ya=Ha.lexer.input;za=Ha.start,Ga=Ha.end,za===Ya.length?Ba+=" at end of input: ":Ba+=" at position "+(za+1)+": ";var Xa=Ya.slice(za,Ga).replace(/[^]/g,"$&"),Ka;za>15?Ka=""+Ya.slice(za-15,za):Ka=Ya.slice(0,za);var Qa;Ga+15<Ya.length?Qa=Ya.slice(Ga,Ga+15)+"":Qa=Ya.slice(Ga),Ba+=Ka+Xa+Qa}var Va=new Error(Ba);return Va.name="ParseError",Va.__proto__=ParseError.prototype,Va.position=za,za!=null&&Ga!=null&&(Va.length=Ga-za),Va.rawMessage=Na,Va}}ParseError.prototype.__proto__=Error.prototype;var contains=function(Na,ja){return Na.indexOf(ja)!==-1},deflt=function(Na,ja){return Na===void 0?ja:Na},uppercase=/([A-Z])/g,hyphenate=function(Na){return Na.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(La){return String(La).replace(ESCAPE_REGEX,Na=>ESCAPE_LOOKUP[Na])}var getBaseElem=function La(Na){return Na.type==="ordgroup"||Na.type==="color"?Na.body.length===1?La(Na.body[0]):Na:Na.type==="font"?La(Na.body):Na},isCharacterBox=function(Na){var ja=getBaseElem(Na);return ja.type==="mathord"||ja.type==="textord"||ja.type==="atom"},assert=function(Na){if(!Na)throw new Error("Expected non-null, but got "+String(Na));return Na},protocolFromUrl=function(Na){var ja=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(Na);return ja?ja[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(ja[1])?null:ja[1].toLowerCase():"_relative"},utils$1={contains,deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:La=>"#"+La},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(La,Na)=>(Na.push(La),Na)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:La=>Math.max(0,La),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:La=>Math.max(0,La),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:La=>Math.max(0,La),cli:"-e, --max-expand <n>",cliProcessor:La=>La==="Infinity"?1/0:parseInt(La)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(La){if(La.default)return La.default;var Na=La.type,ja=Array.isArray(Na)?Na[0]:Na;if(typeof ja!="string")return ja.enum[0];switch(ja){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let Settings$1=class{constructor(Na){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,Na=Na||{};for(var ja in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(ja)){var Ba=SETTINGS_SCHEMA[ja];this[ja]=Na[ja]!==void 0?Ba.processor?Ba.processor(Na[ja]):Na[ja]:getDefaultValue(Ba)}}reportNonstrict(Na,ja,Ba){var za=this.strict;if(typeof za=="function"&&(za=za(Na,ja,Ba)),!(!za||za==="ignore")){if(za===!0||za==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(ja+" ["+Na+"]"),Ba);za==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(ja+" ["+Na+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+za+"': "+ja+" ["+Na+"]"))}}useStrictBehavior(Na,ja,Ba){var za=this.strict;if(typeof za=="function")try{za=za(Na,ja,Ba)}catch{za="error"}return!za||za==="ignore"?!1:za===!0||za==="error"?!0:za==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(ja+" ["+Na+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+za+"': "+ja+" ["+Na+"]")),!1)}isTrusted(Na){if(Na.url&&!Na.protocol){var ja=utils$1.protocolFromUrl(Na.url);if(ja==null)return!1;Na.protocol=ja}var Ba=typeof this.trust=="function"?this.trust(Na):this.trust;return!!Ba}};class Style{constructor(Na,ja,Ba){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=Na,this.size=ja,this.cramped=Ba}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(La){for(var Na=0;Na<scriptData.length;Na++)for(var ja=scriptData[Na],Ba=0;Ba<ja.blocks.length;Ba++){var za=ja.blocks[Ba];if(La>=za[0]&&La<=za[1])return ja.name}return null}var allBlocks=[];scriptData.forEach(La=>La.blocks.forEach(Na=>allBlocks.push(...Na)));function supportedCodepoint(La){for(var Na=0;Na<allBlocks.length;Na+=2)if(La>=allBlocks[Na]&&La<=allBlocks[Na+1])return!0;return!1}var hLinePad=80,sqrtMain=function(Na,ja){return"M95,"+(622+Na+ja)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+Na/2.075+" -"+Na+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+Na)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+Na)+" "+ja+"h400000v"+(40+Na)+"h-400000z"},sqrtSize1=function(Na,ja){return"M263,"+(601+Na+ja)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+Na/2.084+" -"+Na+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+Na)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+Na)+" "+ja+"h400000v"+(40+Na)+"h-400000z"},sqrtSize2=function(Na,ja){return"M983 "+(10+Na+ja)+`
l`+Na/3.13+" -"+Na+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+Na)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+Na)+" "+ja+"h400000v"+(40+Na)+"h-400000z"},sqrtSize3=function(Na,ja){return"M424,"+(2398+Na+ja)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+Na/4.223+" -"+Na+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+Na)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+Na)+" "+ja+`
h400000v`+(40+Na)+"h-400000z"},sqrtSize4=function(Na,ja){return"M473,"+(2713+Na+ja)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+Na/5.298+" -"+Na+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+Na)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+Na)+" "+ja+"h400000v"+(40+Na)+"H1017.7z"},phasePath=function(Na){var ja=Na/2;return"M400000 "+Na+" H0 L"+ja+" 0 l65 45 L145 "+(Na-80)+" H400000z"},sqrtTall=function(Na,ja,Ba){var za=Ba-54-ja-Na;return"M702 "+(Na+ja)+"H400000"+(40+Na)+`
H742v`+za+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+ja+"H400000v"+(40+Na)+"H742z"},sqrtPath=function(Na,ja,Ba){ja=1e3*ja;var za="";switch(Na){case"sqrtMain":za=sqrtMain(ja,hLinePad);break;case"sqrtSize1":za=sqrtSize1(ja,hLinePad);break;case"sqrtSize2":za=sqrtSize2(ja,hLinePad);break;case"sqrtSize3":za=sqrtSize3(ja,hLinePad);break;case"sqrtSize4":za=sqrtSize4(ja,hLinePad);break;case"sqrtTall":za=sqrtTall(ja,hLinePad,Ba)}return za},innerPath=function(Na,ja){switch(Na){case"":return"M291 0 H417 V"+ja+" H291z M291 0 H417 V"+ja+" H291z";case"":return"M145 0 H188 V"+ja+" H145z M145 0 H188 V"+ja+" H145z";case"":return"M145 0 H188 V"+ja+" H145z M145 0 H188 V"+ja+" H145z"+("M367 0 H410 V"+ja+" H367z M367 0 H410 V"+ja+" H367z");case"":return"M457 0 H583 V"+ja+" H457z M457 0 H583 V"+ja+" H457z";case"":return"M319 0 H403 V"+ja+" H319z M319 0 H403 V"+ja+" H319z";case"":return"M263 0 H347 V"+ja+" H263z M263 0 H347 V"+ja+" H263z";case"":return"M384 0 H504 V"+ja+" H384z M384 0 H504 V"+ja+" H384z";case"":return"M312 0 H355 V"+ja+" H312z M312 0 H355 V"+ja+" H312z";case"":return"M257 0 H300 V"+ja+" H257z M257 0 H300 V"+ja+" H257z"+("M478 0 H521 V"+ja+" H478z M478 0 H521 V"+ja+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function(Na,ja){switch(Na){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+ja+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+ja+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+ja+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+ja+" v1759 h84z";case"vert":return"M145 15 v585 v"+ja+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-ja+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+ja+" v585 h43z";case"doublevert":return"M145 15 v585 v"+ja+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-ja+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+ja+` v585 h43z
M367 15 v585 v`+ja+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-ja+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+ja+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+ja+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+ja+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+ja+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+ja+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+ja+` v602 h84z
M403 1759 V0 H319 V1759 v`+ja+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+ja+` v602 h84z
M347 1759 V0 h-84 V1759 v`+ja+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(ja+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(ja+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(ja+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(ja+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(Na){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=Na,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(Na){return utils$1.contains(this.classes,Na)}toNode(){for(var Na=document.createDocumentFragment(),ja=0;ja<this.children.length;ja++)Na.appendChild(this.children[ja].toNode());return Na}toMarkup(){for(var Na="",ja=0;ja<this.children.length;ja++)Na+=this.children[ja].toMarkup();return Na}toText(){var Na=ja=>ja.toText();return this.children.map(Na).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(La,Na){fontMetricsData[La]=Na}function getCharacterMetrics(La,Na,ja){if(!fontMetricsData[Na])throw new Error("Font metrics not found for font: "+Na+".");var Ba=La.charCodeAt(0),za=fontMetricsData[Na][Ba];if(!za&&La[0]in extraCharacterMap&&(Ba=extraCharacterMap[La[0]].charCodeAt(0),za=fontMetricsData[Na][Ba]),!za&&ja==="text"&&supportedCodepoint(Ba)&&(za=fontMetricsData[Na][77]),za)return{depth:za[0],height:za[1],italic:za[2],skew:za[3],width:za[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(La){var Na;if(La>=5?Na=0:La>=3?Na=1:Na=2,!fontMetricsBySizeIndex[Na]){var ja=fontMetricsBySizeIndex[Na]={cssEmPerMu:sigmasAndXis.quad[Na]/18};for(var Ba in sigmasAndXis)sigmasAndXis.hasOwnProperty(Ba)&&(ja[Ba]=sigmasAndXis[Ba][Na])}return fontMetricsBySizeIndex[Na]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(Na,ja){return ja.size<2?Na:sizeStyleMap[Na-1][ja.size-1]};class Options{constructor(Na){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=Na.style,this.color=Na.color,this.size=Na.size||Options.BASESIZE,this.textSize=Na.textSize||this.size,this.phantom=!!Na.phantom,this.font=Na.font||"",this.fontFamily=Na.fontFamily||"",this.fontWeight=Na.fontWeight||"",this.fontShape=Na.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=Na.maxSize,this.minRuleThickness=Na.minRuleThickness,this._fontMetrics=void 0}extend(Na){var ja={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var Ba in Na)Na.hasOwnProperty(Ba)&&(ja[Ba]=Na[Ba]);return new Options(ja)}havingStyle(Na){return this.style===Na?this:this.extend({style:Na,size:sizeAtStyle(this.textSize,Na)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(Na){return this.size===Na&&this.textSize===Na?this:this.extend({style:this.style.text(),size:Na,textSize:Na,sizeMultiplier:sizeMultipliers[Na-1]})}havingBaseStyle(Na){Na=Na||this.style.text();var ja=sizeAtStyle(Options.BASESIZE,Na);return this.size===ja&&this.textSize===Options.BASESIZE&&this.style===Na?this:this.extend({style:Na,size:ja})}havingBaseSizing(){var Na;switch(this.style.id){case 4:case 5:Na=3;break;case 6:case 7:Na=1;break;default:Na=6}return this.extend({style:this.style.text(),size:Na})}withColor(Na){return this.extend({color:Na})}withPhantom(){return this.extend({phantom:!0})}withFont(Na){return this.extend({font:Na})}withTextFontFamily(Na){return this.extend({fontFamily:Na,font:""})}withTextFontWeight(Na){return this.extend({fontWeight:Na,font:""})}withTextFontShape(Na){return this.extend({fontShape:Na,font:""})}sizingClasses(Na){return Na.size!==this.size?["sizing","reset-size"+Na.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(Na){return typeof Na!="string"&&(Na=Na.unit),Na in ptPerUnit||Na in relativeUnit||Na==="ex"},calculateSize$1=function(Na,ja){var Ba;if(Na.unit in ptPerUnit)Ba=ptPerUnit[Na.unit]/ja.fontMetrics().ptPerEm/ja.sizeMultiplier;else if(Na.unit==="mu")Ba=ja.fontMetrics().cssEmPerMu;else{var za;if(ja.style.isTight()?za=ja.havingStyle(ja.style.text()):za=ja,Na.unit==="ex")Ba=za.fontMetrics().xHeight;else if(Na.unit==="em")Ba=za.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+Na.unit+"'");za!==ja&&(Ba*=za.sizeMultiplier/ja.sizeMultiplier)}return Math.min(Na.number*Ba,ja.maxSize)},makeEm=function(Na){return+Na.toFixed(4)+"em"},createClass=function(Na){return Na.filter(ja=>ja).join(" ")},initNode=function(Na,ja,Ba){if(this.classes=Na||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=Ba||{},ja){ja.style.isTight()&&this.classes.push("mtight");var za=ja.getColor();za&&(this.style.color=za)}},toNode=function(Na){var ja=document.createElement(Na);ja.className=createClass(this.classes);for(var Ba in this.style)this.style.hasOwnProperty(Ba)&&(ja.style[Ba]=this.style[Ba]);for(var za in this.attributes)this.attributes.hasOwnProperty(za)&&ja.setAttribute(za,this.attributes[za]);for(var Ga=0;Ga<this.children.length;Ga++)ja.appendChild(this.children[Ga].toNode());return ja},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function(Na){var ja="<"+Na;this.classes.length&&(ja+=' class="'+utils$1.escape(createClass(this.classes))+'"');var Ba="";for(var za in this.style)this.style.hasOwnProperty(za)&&(Ba+=utils$1.hyphenate(za)+":"+this.style[za]+";");Ba&&(ja+=' style="'+utils$1.escape(Ba)+'"');for(var Ga in this.attributes)if(this.attributes.hasOwnProperty(Ga)){if(invalidAttributeNameRegex.test(Ga))throw new ParseError("Invalid attribute name '"+Ga+"'");ja+=" "+Ga+'="'+utils$1.escape(this.attributes[Ga])+'"'}ja+=">";for(var Ha=0;Ha<this.children.length;Ha++)ja+=this.children[Ha].toMarkup();return ja+="</"+Na+">",ja};class Span{constructor(Na,ja,Ba,za){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,Na,Ba,za),this.children=ja||[]}setAttribute(Na,ja){this.attributes[Na]=ja}hasClass(Na){return utils$1.contains(this.classes,Na)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(Na,ja,Ba,za){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,ja,za),this.children=Ba||[],this.setAttribute("href",Na)}setAttribute(Na,ja){this.attributes[Na]=ja}hasClass(Na){return utils$1.contains(this.classes,Na)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(Na,ja,Ba){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=ja,this.src=Na,this.classes=["mord"],this.style=Ba}hasClass(Na){return utils$1.contains(this.classes,Na)}toNode(){var Na=document.createElement("img");Na.src=this.src,Na.alt=this.alt,Na.className="mord";for(var ja in this.style)this.style.hasOwnProperty(ja)&&(Na.style[ja]=this.style[ja]);return Na}toMarkup(){var Na='<img src="'+utils$1.escape(this.src)+'"'+(' alt="'+utils$1.escape(this.alt)+'"'),ja="";for(var Ba in this.style)this.style.hasOwnProperty(Ba)&&(ja+=utils$1.hyphenate(Ba)+":"+this.style[Ba]+";");return ja&&(Na+=' style="'+utils$1.escape(ja)+'"'),Na+="'/>",Na}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(Na,ja,Ba,za,Ga,Ha,Ya,Xa){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=Na,this.height=ja||0,this.depth=Ba||0,this.italic=za||0,this.skew=Ga||0,this.width=Ha||0,this.classes=Ya||[],this.style=Xa||{},this.maxFontSize=0;var Ka=scriptFromCodepoint(this.text.charCodeAt(0));Ka&&this.classes.push(Ka+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(Na){return utils$1.contains(this.classes,Na)}toNode(){var Na=document.createTextNode(this.text),ja=null;this.italic>0&&(ja=document.createElement("span"),ja.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(ja=ja||document.createElement("span"),ja.className=createClass(this.classes));for(var Ba in this.style)this.style.hasOwnProperty(Ba)&&(ja=ja||document.createElement("span"),ja.style[Ba]=this.style[Ba]);return ja?(ja.appendChild(Na),ja):Na}toMarkup(){var Na=!1,ja="<span";this.classes.length&&(Na=!0,ja+=' class="',ja+=utils$1.escape(createClass(this.classes)),ja+='"');var Ba="";this.italic>0&&(Ba+="margin-right:"+this.italic+"em;");for(var za in this.style)this.style.hasOwnProperty(za)&&(Ba+=utils$1.hyphenate(za)+":"+this.style[za]+";");Ba&&(Na=!0,ja+=' style="'+utils$1.escape(Ba)+'"');var Ga=utils$1.escape(this.text);return Na?(ja+=">",ja+=Ga,ja+="</span>",ja):Ga}}class SvgNode{constructor(Na,ja){this.children=void 0,this.attributes=void 0,this.children=Na||[],this.attributes=ja||{}}toNode(){var Na="http://www.w3.org/2000/svg",ja=document.createElementNS(Na,"svg");for(var Ba in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,Ba)&&ja.setAttribute(Ba,this.attributes[Ba]);for(var za=0;za<this.children.length;za++)ja.appendChild(this.children[za].toNode());return ja}toMarkup(){var Na='<svg xmlns="http://www.w3.org/2000/svg"';for(var ja in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ja)&&(Na+=" "+ja+'="'+utils$1.escape(this.attributes[ja])+'"');Na+=">";for(var Ba=0;Ba<this.children.length;Ba++)Na+=this.children[Ba].toMarkup();return Na+="</svg>",Na}}class PathNode{constructor(Na,ja){this.pathName=void 0,this.alternate=void 0,this.pathName=Na,this.alternate=ja}toNode(){var Na="http://www.w3.org/2000/svg",ja=document.createElementNS(Na,"path");return this.alternate?ja.setAttribute("d",this.alternate):ja.setAttribute("d",path[this.pathName]),ja}toMarkup(){return this.alternate?'<path d="'+utils$1.escape(this.alternate)+'"/>':'<path d="'+utils$1.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(Na){this.attributes=void 0,this.attributes=Na||{}}toNode(){var Na="http://www.w3.org/2000/svg",ja=document.createElementNS(Na,"line");for(var Ba in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,Ba)&&ja.setAttribute(Ba,this.attributes[Ba]);return ja}toMarkup(){var Na="<line";for(var ja in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ja)&&(Na+=" "+ja+'="'+utils$1.escape(this.attributes[ja])+'"');return Na+="/>",Na}}function assertSymbolDomNode(La){if(La instanceof SymbolNode)return La;throw new Error("Expected symbolNode but got "+String(La)+".")}function assertSpan(La){if(La instanceof Span)return La;throw new Error("Expected span<HtmlDomNode> but got "+String(La)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(La,Na,ja,Ba,za,Ga){symbols[La][za]={font:Na,group:ja,replace:Ba},Ga&&Ba&&(symbols[La][Ba]=symbols[La][za])}var math="math",text$2="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$2,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$2,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$2,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$2,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$2,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$2,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$2,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$2,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$2,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open,"","\\langle",!0);defineSymbol(math,main,open,"","\\lvert");defineSymbol(math,main,open,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$2,main,spacing,"","\\ ");defineSymbol(text$2,main,spacing,""," ");defineSymbol(text$2,main,spacing,"","\\space");defineSymbol(text$2,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text$2,main,textord,"{","\\{");defineSymbol(text$2,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$2,main,textord,"}","\\}");defineSymbol(text$2,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text$2,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$2,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$2,main,textord,"<","\\textless",!0);defineSymbol(text$2,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$2,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$2,main,textord,"","\\textbardbl");defineSymbol(text$2,main,textord,"~","\\textasciitilde");defineSymbol(text$2,main,textord,"\\","\\textbackslash");defineSymbol(text$2,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$2,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$2,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$2,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$2,main,textord,"","\\i",!0);defineSymbol(text$2,main,textord,"","\\j",!0);defineSymbol(text$2,main,textord,"","\\ss",!0);defineSymbol(text$2,main,textord,"","\\ae",!0);defineSymbol(text$2,main,textord,"","\\oe",!0);defineSymbol(text$2,main,textord,"","\\o",!0);defineSymbol(text$2,main,textord,"","\\AE",!0);defineSymbol(text$2,main,textord,"","\\OE",!0);defineSymbol(text$2,main,textord,"","\\O",!0);defineSymbol(text$2,main,accent,"","\\'");defineSymbol(text$2,main,accent,"","\\`");defineSymbol(text$2,main,accent,"","\\^");defineSymbol(text$2,main,accent,"","\\~");defineSymbol(text$2,main,accent,"","\\=");defineSymbol(text$2,main,accent,"","\\u");defineSymbol(text$2,main,accent,"","\\.");defineSymbol(text$2,main,accent,"","\\c");defineSymbol(text$2,main,accent,"","\\r");defineSymbol(text$2,main,accent,"","\\v");defineSymbol(text$2,main,accent,"",'\\"');defineSymbol(text$2,main,accent,"","\\H");defineSymbol(text$2,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$2,main,textord,"","--",!0);defineSymbol(text$2,main,textord,"","\\textendash");defineSymbol(text$2,main,textord,"","---",!0);defineSymbol(text$2,main,textord,"","\\textemdash");defineSymbol(text$2,main,textord,"","`",!0);defineSymbol(text$2,main,textord,"","\\textquoteleft");defineSymbol(text$2,main,textord,"","'",!0);defineSymbol(text$2,main,textord,"","\\textquoteright");defineSymbol(text$2,main,textord,"","``",!0);defineSymbol(text$2,main,textord,"","\\textquotedblleft");defineSymbol(text$2,main,textord,"","''",!0);defineSymbol(text$2,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$2,main,textord,"","\\degree");defineSymbol(text$2,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$2,main,textord,"","\\pounds");defineSymbol(text$2,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$2,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$2,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$2,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$2,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$2,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$2,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$2,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$2,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$2,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$2,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$2,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$2,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$2,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(Na,ja){var Ba=Na.charCodeAt(0),za=Na.charCodeAt(1),Ga=(Ba-55296)*1024+(za-56320)+65536,Ha=ja==="math"?0:1;if(119808<=Ga&&Ga<120484){var Ya=Math.floor((Ga-119808)/26);return[wideLatinLetterData[Ya][2],wideLatinLetterData[Ya][Ha]]}else if(120782<=Ga&&Ga<=120831){var Xa=Math.floor((Ga-120782)/10);return[wideNumeralData[Xa][2],wideNumeralData[Xa][Ha]]}else{if(Ga===120485||Ga===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][Ha]];if(120486<Ga&&Ga<120782)return["",""];throw new ParseError("Unsupported character: "+Na)}},lookupSymbol=function(Na,ja,Ba){return symbols[Ba][Na]&&symbols[Ba][Na].replace&&(Na=symbols[Ba][Na].replace),{value:Na,metrics:getCharacterMetrics(Na,ja,Ba)}},makeSymbol=function(Na,ja,Ba,za,Ga){var Ha=lookupSymbol(Na,ja,Ba),Ya=Ha.metrics;Na=Ha.value;var Xa;if(Ya){var Ka=Ya.italic;(Ba==="text"||za&&za.font==="mathit")&&(Ka=0),Xa=new SymbolNode(Na,Ya.height,Ya.depth,Ka,Ya.skew,Ya.width,Ga)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+Na+"' in style '"+ja+"' and mode '"+Ba+"'")),Xa=new SymbolNode(Na,0,0,0,0,0,Ga);if(za){Xa.maxFontSize=za.sizeMultiplier,za.style.isTight()&&Xa.classes.push("mtight");var Qa=za.getColor();Qa&&(Xa.style.color=Qa)}return Xa},mathsym=function(Na,ja,Ba,za){return za===void 0&&(za=[]),Ba.font==="boldsymbol"&&lookupSymbol(Na,"Main-Bold",ja).metrics?makeSymbol(Na,"Main-Bold",ja,Ba,za.concat(["mathbf"])):Na==="\\"||symbols[ja][Na].font==="main"?makeSymbol(Na,"Main-Regular",ja,Ba,za):makeSymbol(Na,"AMS-Regular",ja,Ba,za.concat(["amsrm"]))},boldsymbol=function(Na,ja,Ba,za,Ga){return Ga!=="textord"&&lookupSymbol(Na,"Math-BoldItalic",ja).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(Na,ja,Ba){var za=Na.mode,Ga=Na.text,Ha=["mord"],Ya=za==="math"||za==="text"&&ja.font,Xa=Ya?ja.font:ja.fontFamily,Ka="",Qa="";if(Ga.charCodeAt(0)===55349&&([Ka,Qa]=wideCharacterFont(Ga,za)),Ka.length>0)return makeSymbol(Ga,Ka,za,ja,Ha.concat(Qa));if(Xa){var Va,Ua;if(Xa==="boldsymbol"){var Wa=boldsymbol(Ga,za,ja,Ha,Ba);Va=Wa.fontName,Ua=[Wa.fontClass]}else Ya?(Va=fontMap[Xa].fontName,Ua=[Xa]):(Va=retrieveTextFontName(Xa,ja.fontWeight,ja.fontShape),Ua=[Xa,ja.fontWeight,ja.fontShape]);if(lookupSymbol(Ga,Va,za).metrics)return makeSymbol(Ga,Va,za,ja,Ha.concat(Ua));if(ligatures.hasOwnProperty(Ga)&&Va.slice(0,10)==="Typewriter"){for(var Ja=[],Oo=0;Oo<Ga.length;Oo++)Ja.push(makeSymbol(Ga[Oo],Va,za,ja,Ha.concat(Ua)));return makeFragment(Ja)}}if(Ba==="mathord")return makeSymbol(Ga,"Math-Italic",za,ja,Ha.concat(["mathnormal"]));if(Ba==="textord"){var Do=symbols[za][Ga]&&symbols[za][Ga].font;if(Do==="ams"){var Mo=retrieveTextFontName("amsrm",ja.fontWeight,ja.fontShape);return makeSymbol(Ga,Mo,za,ja,Ha.concat("amsrm",ja.fontWeight,ja.fontShape))}else if(Do==="main"||!Do){var el=retrieveTextFontName("textrm",ja.fontWeight,ja.fontShape);return makeSymbol(Ga,el,za,ja,Ha.concat(ja.fontWeight,ja.fontShape))}else{var tl=retrieveTextFontName(Do,ja.fontWeight,ja.fontShape);return makeSymbol(Ga,tl,za,ja,Ha.concat(tl,ja.fontWeight,ja.fontShape))}}else throw new Error("unexpected type: "+Ba+" in makeOrd")},canCombine=(La,Na)=>{if(createClass(La.classes)!==createClass(Na.classes)||La.skew!==Na.skew||La.maxFontSize!==Na.maxFontSize)return!1;if(La.classes.length===1){var ja=La.classes[0];if(ja==="mbin"||ja==="mord")return!1}for(var Ba in La.style)if(La.style.hasOwnProperty(Ba)&&La.style[Ba]!==Na.style[Ba])return!1;for(var za in Na.style)if(Na.style.hasOwnProperty(za)&&La.style[za]!==Na.style[za])return!1;return!0},tryCombineChars=La=>{for(var Na=0;Na<La.length-1;Na++){var ja=La[Na],Ba=La[Na+1];ja instanceof SymbolNode&&Ba instanceof SymbolNode&&canCombine(ja,Ba)&&(ja.text+=Ba.text,ja.height=Math.max(ja.height,Ba.height),ja.depth=Math.max(ja.depth,Ba.depth),ja.italic=Ba.italic,La.splice(Na+1,1),Na--)}return La},sizeElementFromChildren=function(Na){for(var ja=0,Ba=0,za=0,Ga=0;Ga<Na.children.length;Ga++){var Ha=Na.children[Ga];Ha.height>ja&&(ja=Ha.height),Ha.depth>Ba&&(Ba=Ha.depth),Ha.maxFontSize>za&&(za=Ha.maxFontSize)}Na.height=ja,Na.depth=Ba,Na.maxFontSize=za},makeSpan$2=function(Na,ja,Ba,za){var Ga=new Span(Na,ja,Ba,za);return sizeElementFromChildren(Ga),Ga},makeSvgSpan=(La,Na,ja,Ba)=>new Span(La,Na,ja,Ba),makeLineSpan=function(Na,ja,Ba){var za=makeSpan$2([Na],[],ja);return za.height=Math.max(Ba||ja.fontMetrics().defaultRuleThickness,ja.minRuleThickness),za.style.borderBottomWidth=makeEm(za.height),za.maxFontSize=1,za},makeAnchor=function(Na,ja,Ba,za){var Ga=new Anchor(Na,ja,Ba,za);return sizeElementFromChildren(Ga),Ga},makeFragment=function(Na){var ja=new DocumentFragment$1(Na);return sizeElementFromChildren(ja),ja},wrapFragment=function(Na,ja){return Na instanceof DocumentFragment$1?makeSpan$2([],[Na],ja):Na},getVListChildrenAndDepth=function(Na){if(Na.positionType==="individualShift"){for(var ja=Na.children,Ba=[ja[0]],za=-ja[0].shift-ja[0].elem.depth,Ga=za,Ha=1;Ha<ja.length;Ha++){var Ya=-ja[Ha].shift-Ga-ja[Ha].elem.depth,Xa=Ya-(ja[Ha-1].elem.height+ja[Ha-1].elem.depth);Ga=Ga+Ya,Ba.push({type:"kern",size:Xa}),Ba.push(ja[Ha])}return{children:Ba,depth:za}}var Ka;if(Na.positionType==="top"){for(var Qa=Na.positionData,Va=0;Va<Na.children.length;Va++){var Ua=Na.children[Va];Qa-=Ua.type==="kern"?Ua.size:Ua.elem.height+Ua.elem.depth}Ka=Qa}else if(Na.positionType==="bottom")Ka=-Na.positionData;else{var Wa=Na.children[0];if(Wa.type!=="elem")throw new Error('First child must have type "elem".');if(Na.positionType==="shift")Ka=-Wa.elem.depth-Na.positionData;else if(Na.positionType==="firstBaseline")Ka=-Wa.elem.depth;else throw new Error("Invalid positionType "+Na.positionType+".")}return{children:Na.children,depth:Ka}},makeVList=function(Na,ja){for(var{children:Ba,depth:za}=getVListChildrenAndDepth(Na),Ga=0,Ha=0;Ha<Ba.length;Ha++){var Ya=Ba[Ha];if(Ya.type==="elem"){var Xa=Ya.elem;Ga=Math.max(Ga,Xa.maxFontSize,Xa.height)}}Ga+=2;var Ka=makeSpan$2(["pstrut"],[]);Ka.style.height=makeEm(Ga);for(var Qa=[],Va=za,Ua=za,Wa=za,Ja=0;Ja<Ba.length;Ja++){var Oo=Ba[Ja];if(Oo.type==="kern")Wa+=Oo.size;else{var Do=Oo.elem,Mo=Oo.wrapperClasses||[],el=Oo.wrapperStyle||{},tl=makeSpan$2(Mo,[Ka,Do],void 0,el);tl.style.top=makeEm(-Ga-Wa-Do.depth),Oo.marginLeft&&(tl.style.marginLeft=Oo.marginLeft),Oo.marginRight&&(tl.style.marginRight=Oo.marginRight),Qa.push(tl),Wa+=Do.height+Do.depth}Va=Math.min(Va,Wa),Ua=Math.max(Ua,Wa)}var rl=makeSpan$2(["vlist"],Qa);rl.style.height=makeEm(Ua);var il;if(Va<0){var al=makeSpan$2([],[]),ll=makeSpan$2(["vlist"],[al]);ll.style.height=makeEm(-Va);var ul=makeSpan$2(["vlist-s"],[new SymbolNode("")]);il=[makeSpan$2(["vlist-r"],[rl,ul]),makeSpan$2(["vlist-r"],[ll])]}else il=[makeSpan$2(["vlist-r"],[rl])];var ol=makeSpan$2(["vlist-t"],il);return il.length===2&&ol.classes.push("vlist-t2"),ol.height=Ua,ol.depth=-Va,ol},makeGlue=(La,Na)=>{var ja=makeSpan$2(["mspace"],[],Na),Ba=calculateSize$1(La,Na);return ja.style.marginRight=makeEm(Ba),ja},retrieveTextFontName=function(Na,ja,Ba){var za="";switch(Na){case"amsrm":za="AMS";break;case"textrm":za="Main";break;case"textsf":za="SansSerif";break;case"texttt":za="Typewriter";break;default:za=Na}var Ga;return ja==="textbf"&&Ba==="textit"?Ga="BoldItalic":ja==="textbf"?Ga="Bold":ja==="textit"?Ga="Italic":Ga="Regular",za+"-"+Ga},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(Na,ja){var[Ba,za,Ga]=svgData[Na],Ha=new PathNode(Ba),Ya=new SvgNode([Ha],{width:makeEm(za),height:makeEm(Ga),style:"width:"+makeEm(za),viewBox:"0 0 "+1e3*za+" "+1e3*Ga,preserveAspectRatio:"xMinYMin"}),Xa=makeSvgSpan(["overlay"],[Ya],ja);return Xa.height=Ga,Xa.style.height=makeEm(Ga),Xa.style.width=makeEm(za),Xa},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(La){for(var{type:Na,names:ja,props:Ba,handler:za,htmlBuilder:Ga,mathmlBuilder:Ha}=La,Ya={type:Na,numArgs:Ba.numArgs,argTypes:Ba.argTypes,allowedInArgument:!!Ba.allowedInArgument,allowedInText:!!Ba.allowedInText,allowedInMath:Ba.allowedInMath===void 0?!0:Ba.allowedInMath,numOptionalArgs:Ba.numOptionalArgs||0,infix:!!Ba.infix,primitive:!!Ba.primitive,handler:za},Xa=0;Xa<ja.length;++Xa)_functions[ja[Xa]]=Ya;Na&&(Ga&&(_htmlGroupBuilders[Na]=Ga),Ha&&(_mathmlGroupBuilders[Na]=Ha))}function defineFunctionBuilders(La){var{type:Na,htmlBuilder:ja,mathmlBuilder:Ba}=La;defineFunction({type:Na,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:ja,mathmlBuilder:Ba})}var normalizeArgument=function(Na){return Na.type==="ordgroup"&&Na.body.length===1?Na.body[0]:Na},ordargument=function(Na){return Na.type==="ordgroup"?Na.body:[Na]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(Na,ja,Ba,za){za===void 0&&(za=[null,null]);for(var Ga=[],Ha=0;Ha<Na.length;Ha++){var Ya=buildGroup$1(Na[Ha],ja);if(Ya instanceof DocumentFragment$1){var Xa=Ya.children;Ga.push(...Xa)}else Ga.push(Ya)}if(buildCommon.tryCombineChars(Ga),!Ba)return Ga;var Ka=ja;if(Na.length===1){var Qa=Na[0];Qa.type==="sizing"?Ka=ja.havingSize(Qa.size):Qa.type==="styling"&&(Ka=ja.havingStyle(styleMap$1[Qa.style]))}var Va=makeSpan$1([za[0]||"leftmost"],[],ja),Ua=makeSpan$1([za[1]||"rightmost"],[],ja),Wa=Ba==="root";return traverseNonSpaceNodes(Ga,(Ja,Oo)=>{var Do=Oo.classes[0],Mo=Ja.classes[0];Do==="mbin"&&utils$1.contains(binRightCanceller,Mo)?Oo.classes[0]="mord":Mo==="mbin"&&utils$1.contains(binLeftCanceller,Do)&&(Ja.classes[0]="mord")},{node:Va},Ua,Wa),traverseNonSpaceNodes(Ga,(Ja,Oo)=>{var Do=getTypeOfDomTree(Oo),Mo=getTypeOfDomTree(Ja),el=Do&&Mo?Ja.hasClass("mtight")?tightSpacings[Do][Mo]:spacings[Do][Mo]:null;if(el)return buildCommon.makeGlue(el,Ka)},{node:Va},Ua,Wa),Ga},traverseNonSpaceNodes=function La(Na,ja,Ba,za,Ga){za&&Na.push(za);for(var Ha=0;Ha<Na.length;Ha++){var Ya=Na[Ha],Xa=checkPartialGroup(Ya);if(Xa){La(Xa.children,ja,Ba,null,Ga);continue}var Ka=!Ya.hasClass("mspace");if(Ka){var Qa=ja(Ya,Ba.node);Qa&&(Ba.insertAfter?Ba.insertAfter(Qa):(Na.unshift(Qa),Ha++))}Ka?Ba.node=Ya:Ga&&Ya.hasClass("newline")&&(Ba.node=makeSpan$1(["leftmost"])),Ba.insertAfter=(Va=>Ua=>{Na.splice(Va+1,0,Ua),Ha++})(Ha)}za&&Na.pop()},checkPartialGroup=function(Na){return Na instanceof DocumentFragment$1||Na instanceof Anchor||Na instanceof Span&&Na.hasClass("enclosing")?Na:null},getOutermostNode=function La(Na,ja){var Ba=checkPartialGroup(Na);if(Ba){var za=Ba.children;if(za.length){if(ja==="right")return La(za[za.length-1],"right");if(ja==="left")return La(za[0],"left")}}return Na},getTypeOfDomTree=function(Na,ja){return Na?(ja&&(Na=getOutermostNode(Na,ja)),DomEnum[Na.classes[0]]||null):null},makeNullDelimiter=function(Na,ja){var Ba=["nulldelimiter"].concat(Na.baseSizingClasses());return makeSpan$1(ja.concat(Ba))},buildGroup$1=function(Na,ja,Ba){if(!Na)return makeSpan$1();if(_htmlGroupBuilders[Na.type]){var za=_htmlGroupBuilders[Na.type](Na,ja);if(Ba&&ja.size!==Ba.size){za=makeSpan$1(ja.sizingClasses(Ba),[za],ja);var Ga=ja.sizeMultiplier/Ba.sizeMultiplier;za.height*=Ga,za.depth*=Ga}return za}else throw new ParseError("Got group of unknown type: '"+Na.type+"'")};function buildHTMLUnbreakable(La,Na){var ja=makeSpan$1(["base"],La,Na),Ba=makeSpan$1(["strut"]);return Ba.style.height=makeEm(ja.height+ja.depth),ja.depth&&(Ba.style.verticalAlign=makeEm(-ja.depth)),ja.children.unshift(Ba),ja}function buildHTML(La,Na){var ja=null;La.length===1&&La[0].type==="tag"&&(ja=La[0].tag,La=La[0].body);var Ba=buildExpression$1(La,Na,"root"),za;Ba.length===2&&Ba[1].hasClass("tag")&&(za=Ba.pop());for(var Ga=[],Ha=[],Ya=0;Ya<Ba.length;Ya++)if(Ha.push(Ba[Ya]),Ba[Ya].hasClass("mbin")||Ba[Ya].hasClass("mrel")||Ba[Ya].hasClass("allowbreak")){for(var Xa=!1;Ya<Ba.length-1&&Ba[Ya+1].hasClass("mspace")&&!Ba[Ya+1].hasClass("newline");)Ya++,Ha.push(Ba[Ya]),Ba[Ya].hasClass("nobreak")&&(Xa=!0);Xa||(Ga.push(buildHTMLUnbreakable(Ha,Na)),Ha=[])}else Ba[Ya].hasClass("newline")&&(Ha.pop(),Ha.length>0&&(Ga.push(buildHTMLUnbreakable(Ha,Na)),Ha=[]),Ga.push(Ba[Ya]));Ha.length>0&&Ga.push(buildHTMLUnbreakable(Ha,Na));var Ka;ja?(Ka=buildHTMLUnbreakable(buildExpression$1(ja,Na,!0)),Ka.classes=["tag"],Ga.push(Ka)):za&&Ga.push(za);var Qa=makeSpan$1(["katex-html"],Ga);if(Qa.setAttribute("aria-hidden","true"),Ka){var Va=Ka.children[0];Va.style.height=makeEm(Qa.height+Qa.depth),Qa.depth&&(Va.style.verticalAlign=makeEm(-Qa.depth))}return Qa}function newDocumentFragment(La){return new DocumentFragment$1(La)}class MathNode{constructor(Na,ja,Ba){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=Na,this.attributes={},this.children=ja||[],this.classes=Ba||[]}setAttribute(Na,ja){this.attributes[Na]=ja}getAttribute(Na){return this.attributes[Na]}toNode(){var Na=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var ja in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ja)&&Na.setAttribute(ja,this.attributes[ja]);this.classes.length>0&&(Na.className=createClass(this.classes));for(var Ba=0;Ba<this.children.length;Ba++)if(this.children[Ba]instanceof TextNode&&this.children[Ba+1]instanceof TextNode){for(var za=this.children[Ba].toText()+this.children[++Ba].toText();this.children[Ba+1]instanceof TextNode;)za+=this.children[++Ba].toText();Na.appendChild(new TextNode(za).toNode())}else Na.appendChild(this.children[Ba].toNode());return Na}toMarkup(){var Na="<"+this.type;for(var ja in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ja)&&(Na+=" "+ja+'="',Na+=utils$1.escape(this.attributes[ja]),Na+='"');this.classes.length>0&&(Na+=' class ="'+utils$1.escape(createClass(this.classes))+'"'),Na+=">";for(var Ba=0;Ba<this.children.length;Ba++)Na+=this.children[Ba].toMarkup();return Na+="</"+this.type+">",Na}toText(){return this.children.map(Na=>Na.toText()).join("")}}class TextNode{constructor(Na){this.text=void 0,this.text=Na}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils$1.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(Na){this.width=void 0,this.character=void 0,this.width=Na,Na>=.05555&&Na<=.05556?this.character="":Na>=.1666&&Na<=.1667?this.character="":Na>=.2222&&Na<=.2223?this.character="":Na>=.2777&&Na<=.2778?this.character="":Na>=-.05556&&Na<=-.05555?this.character="":Na>=-.1667&&Na<=-.1666?this.character="":Na>=-.2223&&Na<=-.2222?this.character="":Na>=-.2778&&Na<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var Na=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return Na.setAttribute("width",makeEm(this.width)),Na}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function(Na,ja,Ba){return symbols[ja][Na]&&symbols[ja][Na].replace&&Na.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(Na)&&Ba&&(Ba.fontFamily&&Ba.fontFamily.slice(4,6)==="tt"||Ba.font&&Ba.font.slice(4,6)==="tt"))&&(Na=symbols[ja][Na].replace),new mathMLTree.TextNode(Na)},makeRow=function(Na){return Na.length===1?Na[0]:new mathMLTree.MathNode("mrow",Na)},getVariant=function(Na,ja){if(ja.fontFamily==="texttt")return"monospace";if(ja.fontFamily==="textsf")return ja.fontShape==="textit"&&ja.fontWeight==="textbf"?"sans-serif-bold-italic":ja.fontShape==="textit"?"sans-serif-italic":ja.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(ja.fontShape==="textit"&&ja.fontWeight==="textbf")return"bold-italic";if(ja.fontShape==="textit")return"italic";if(ja.fontWeight==="textbf")return"bold";var Ba=ja.font;if(!Ba||Ba==="mathnormal")return null;var za=Na.mode;if(Ba==="mathit")return"italic";if(Ba==="boldsymbol")return Na.type==="textord"?"bold":"bold-italic";if(Ba==="mathbf")return"bold";if(Ba==="mathbb")return"double-struck";if(Ba==="mathsfit")return"sans-serif-italic";if(Ba==="mathfrak")return"fraktur";if(Ba==="mathscr"||Ba==="mathcal")return"script";if(Ba==="mathsf")return"sans-serif";if(Ba==="mathtt")return"monospace";var Ga=Na.text;if(utils$1.contains(["\\imath","\\jmath"],Ga))return null;symbols[za][Ga]&&symbols[za][Ga].replace&&(Ga=symbols[za][Ga].replace);var Ha=buildCommon.fontMap[Ba].fontName;return getCharacterMetrics(Ga,Ha,za)?buildCommon.fontMap[Ba].variant:null};function isNumberPunctuation(La){if(!La)return!1;if(La.type==="mi"&&La.children.length===1){var Na=La.children[0];return Na instanceof TextNode&&Na.text==="."}else if(La.type==="mo"&&La.children.length===1&&La.getAttribute("separator")==="true"&&La.getAttribute("lspace")==="0em"&&La.getAttribute("rspace")==="0em"){var ja=La.children[0];return ja instanceof TextNode&&ja.text===","}else return!1}var buildExpression=function(Na,ja,Ba){if(Na.length===1){var za=buildGroup(Na[0],ja);return Ba&&za instanceof MathNode&&za.type==="mo"&&(za.setAttribute("lspace","0em"),za.setAttribute("rspace","0em")),[za]}for(var Ga=[],Ha,Ya=0;Ya<Na.length;Ya++){var Xa=buildGroup(Na[Ya],ja);if(Xa instanceof MathNode&&Ha instanceof MathNode){if(Xa.type==="mtext"&&Ha.type==="mtext"&&Xa.getAttribute("mathvariant")===Ha.getAttribute("mathvariant")){Ha.children.push(...Xa.children);continue}else if(Xa.type==="mn"&&Ha.type==="mn"){Ha.children.push(...Xa.children);continue}else if(isNumberPunctuation(Xa)&&Ha.type==="mn"){Ha.children.push(...Xa.children);continue}else if(Xa.type==="mn"&&isNumberPunctuation(Ha))Xa.children=[...Ha.children,...Xa.children],Ga.pop();else if((Xa.type==="msup"||Xa.type==="msub")&&Xa.children.length>=1&&(Ha.type==="mn"||isNumberPunctuation(Ha))){var Ka=Xa.children[0];Ka instanceof MathNode&&Ka.type==="mn"&&(Ka.children=[...Ha.children,...Ka.children],Ga.pop())}else if(Ha.type==="mi"&&Ha.children.length===1){var Qa=Ha.children[0];if(Qa instanceof TextNode&&Qa.text===""&&(Xa.type==="mo"||Xa.type==="mi"||Xa.type==="mn")){var Va=Xa.children[0];Va instanceof TextNode&&Va.text.length>0&&(Va.text=Va.text.slice(0,1)+""+Va.text.slice(1),Ga.pop())}}}Ga.push(Xa),Ha=Xa}return Ga},buildExpressionRow=function(Na,ja,Ba){return makeRow(buildExpression(Na,ja,Ba))},buildGroup=function(Na,ja){if(!Na)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[Na.type]){var Ba=_mathmlGroupBuilders[Na.type](Na,ja);return Ba}else throw new ParseError("Got group of unknown type: '"+Na.type+"'")};function buildMathML(La,Na,ja,Ba,za){var Ga=buildExpression(La,ja),Ha;Ga.length===1&&Ga[0]instanceof MathNode&&utils$1.contains(["mrow","mtable"],Ga[0].type)?Ha=Ga[0]:Ha=new mathMLTree.MathNode("mrow",Ga);var Ya=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(Na)]);Ya.setAttribute("encoding","application/x-tex");var Xa=new mathMLTree.MathNode("semantics",[Ha,Ya]),Ka=new mathMLTree.MathNode("math",[Xa]);Ka.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),Ba&&Ka.setAttribute("display","block");var Qa=za?"katex":"katex-mathml";return buildCommon.makeSpan([Qa],[Ka])}var optionsFromSettings=function(Na){return new Options({style:Na.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:Na.maxSize,minRuleThickness:Na.minRuleThickness})},displayWrap=function(Na,ja){if(ja.displayMode){var Ba=["katex-display"];ja.leqno&&Ba.push("leqno"),ja.fleqn&&Ba.push("fleqn"),Na=buildCommon.makeSpan(Ba,[Na])}return Na},buildTree=function(Na,ja,Ba){var za=optionsFromSettings(Ba),Ga;if(Ba.output==="mathml")return buildMathML(Na,ja,za,Ba.displayMode,!0);if(Ba.output==="html"){var Ha=buildHTML(Na,za);Ga=buildCommon.makeSpan(["katex"],[Ha])}else{var Ya=buildMathML(Na,ja,za,Ba.displayMode,!1),Xa=buildHTML(Na,za);Ga=buildCommon.makeSpan(["katex"],[Ya,Xa])}return displayWrap(Ga,Ba)},buildHTMLTree=function(Na,ja,Ba){var za=optionsFromSettings(Ba),Ga=buildHTML(Na,za),Ha=buildCommon.makeSpan(["katex"],[Ga]);return displayWrap(Ha,Ba)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function(Na){var ja=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[Na.replace(/^\\/,"")])]);return ja.setAttribute("stretchy","true"),ja},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(Na){return Na.type==="ordgroup"?Na.body.length:1},svgSpan=function(Na,ja){function Ba(){var Ya=4e5,Xa=Na.label.slice(1);if(utils$1.contains(["widehat","widecheck","widetilde","utilde"],Xa)){var Ka=Na,Qa=groupLength(Ka.base),Va,Ua,Wa;if(Qa>5)Xa==="widehat"||Xa==="widecheck"?(Va=420,Ya=2364,Wa=.42,Ua=Xa+"4"):(Va=312,Ya=2340,Wa=.34,Ua="tilde4");else{var Ja=[1,1,2,2,3,3][Qa];Xa==="widehat"||Xa==="widecheck"?(Ya=[0,1062,2364,2364,2364][Ja],Va=[0,239,300,360,420][Ja],Wa=[0,.24,.3,.3,.36,.42][Ja],Ua=Xa+Ja):(Ya=[0,600,1033,2339,2340][Ja],Va=[0,260,286,306,312][Ja],Wa=[0,.26,.286,.3,.306,.34][Ja],Ua="tilde"+Ja)}var Oo=new PathNode(Ua),Do=new SvgNode([Oo],{width:"100%",height:makeEm(Wa),viewBox:"0 0 "+Ya+" "+Va,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[Do],ja),minWidth:0,height:Wa}}else{var Mo=[],el=katexImagesData[Xa],[tl,rl,il]=el,al=il/1e3,ll=tl.length,ul,ol;if(ll===1){var cl=el[3];ul=["hide-tail"],ol=[cl]}else if(ll===2)ul=["halfarrow-left","halfarrow-right"],ol=["xMinYMin","xMaxYMin"];else if(ll===3)ul=["brace-left","brace-center","brace-right"],ol=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+ll+" children.");for(var gl=0;gl<ll;gl++){var bl=new PathNode(tl[gl]),_l=new SvgNode([bl],{width:"400em",height:makeEm(al),viewBox:"0 0 "+Ya+" "+il,preserveAspectRatio:ol[gl]+" slice"}),xl=buildCommon.makeSvgSpan([ul[gl]],[_l],ja);if(ll===1)return{span:xl,minWidth:rl,height:al};xl.style.height=makeEm(al),Mo.push(xl)}return{span:buildCommon.makeSpan(["stretchy"],Mo,ja),minWidth:rl,height:al}}}var{span:za,minWidth:Ga,height:Ha}=Ba();return za.height=Ha,za.style.height=makeEm(Ha),Ga>0&&(za.style.minWidth=makeEm(Ga)),za},encloseSpan=function(Na,ja,Ba,za,Ga){var Ha,Ya=Na.height+Na.depth+Ba+za;if(/fbox|color|angl/.test(ja)){if(Ha=buildCommon.makeSpan(["stretchy",ja],[],Ga),ja==="fbox"){var Xa=Ga.color&&Ga.getColor();Xa&&(Ha.style.borderColor=Xa)}}else{var Ka=[];/^[bx]cancel$/.test(ja)&&Ka.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(ja)&&Ka.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var Qa=new SvgNode(Ka,{width:"100%",height:makeEm(Ya)});Ha=buildCommon.makeSvgSpan([],[Qa],Ga)}return Ha.height=Ya,Ha.style.height=makeEm(Ya),Ha},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(La,Na){if(!La||La.type!==Na)throw new Error("Expected node of type "+Na+", but got "+(La?"node of type "+La.type:String(La)));return La}function assertSymbolNodeType(La){var Na=checkSymbolNodeType(La);if(!Na)throw new Error("Expected node of symbol group type, but got "+(La?"node of type "+La.type:String(La)));return Na}function checkSymbolNodeType(La){return La&&(La.type==="atom"||NON_ATOMS.hasOwnProperty(La.type))?La:null}var htmlBuilder$a=(La,Na)=>{var ja,Ba,za;La&&La.type==="supsub"?(Ba=assertNodeType(La.base,"accent"),ja=Ba.base,La.base=ja,za=assertSpan(buildGroup$1(La,Na)),La.base=Ba):(Ba=assertNodeType(La,"accent"),ja=Ba.base);var Ga=buildGroup$1(ja,Na.havingCrampedStyle()),Ha=Ba.isShifty&&utils$1.isCharacterBox(ja),Ya=0;if(Ha){var Xa=utils$1.getBaseElem(ja),Ka=buildGroup$1(Xa,Na.havingCrampedStyle());Ya=assertSymbolDomNode(Ka).skew}var Qa=Ba.label==="\\c",Va=Qa?Ga.height+Ga.depth:Math.min(Ga.height,Na.fontMetrics().xHeight),Ua;if(Ba.isStretchy)Ua=stretchy.svgSpan(Ba,Na),Ua=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ga},{type:"elem",elem:Ua,wrapperClasses:["svg-align"],wrapperStyle:Ya>0?{width:"calc(100% - "+makeEm(2*Ya)+")",marginLeft:makeEm(2*Ya)}:void 0}]},Na);else{var Wa,Ja;Ba.label==="\\vec"?(Wa=buildCommon.staticSvg("vec",Na),Ja=buildCommon.svgData.vec[1]):(Wa=buildCommon.makeOrd({mode:Ba.mode,text:Ba.label},Na,"textord"),Wa=assertSymbolDomNode(Wa),Wa.italic=0,Ja=Wa.width,Qa&&(Va+=Wa.depth)),Ua=buildCommon.makeSpan(["accent-body"],[Wa]);var Oo=Ba.label==="\\textcircled";Oo&&(Ua.classes.push("accent-full"),Va=Ga.height);var Do=Ya;Oo||(Do-=Ja/2),Ua.style.left=makeEm(Do),Ba.label==="\\textcircled"&&(Ua.style.top=".2em"),Ua=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ga},{type:"kern",size:-Va},{type:"elem",elem:Ua}]},Na)}var Mo=buildCommon.makeSpan(["mord","accent"],[Ua],Na);return za?(za.children[0]=Mo,za.height=Math.max(Mo.height,za.height),za.classes[0]="mord",za):Mo},mathmlBuilder$9=(La,Na)=>{var ja=La.isStretchy?stretchy.mathMLnode(La.label):new mathMLTree.MathNode("mo",[makeText(La.label,La.mode)]),Ba=new mathMLTree.MathNode("mover",[buildGroup(La.base,Na),ja]);return Ba.setAttribute("accent","true"),Ba},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(La=>"\\"+La).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(La,Na)=>{var ja=normalizeArgument(Na[0]),Ba=!NON_STRETCHY_ACCENT_REGEX.test(La.funcName),za=!Ba||La.funcName==="\\widehat"||La.funcName==="\\widetilde"||La.funcName==="\\widecheck";return{type:"accent",mode:La.parser.mode,label:La.funcName,isStretchy:Ba,isShifty:za,base:ja}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(La,Na)=>{var ja=Na[0],Ba=La.parser.mode;return Ba==="math"&&(La.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+La.funcName+" works only in text mode"),Ba="text"),{type:"accent",mode:Ba,label:La.funcName,isStretchy:!1,isShifty:!0,base:ja}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Na[0];return{type:"accentUnder",mode:ja.mode,label:Ba,base:za}},htmlBuilder:(La,Na)=>{var ja=buildGroup$1(La.base,Na),Ba=stretchy.svgSpan(La,Na),za=La.label==="\\utilde"?.12:0,Ga=buildCommon.makeVList({positionType:"top",positionData:ja.height,children:[{type:"elem",elem:Ba,wrapperClasses:["svg-align"]},{type:"kern",size:za},{type:"elem",elem:ja}]},Na);return buildCommon.makeSpan(["mord","accentunder"],[Ga],Na)},mathmlBuilder:(La,Na)=>{var ja=stretchy.mathMLnode(La.label),Ba=new mathMLTree.MathNode("munder",[buildGroup(La.base,Na),ja]);return Ba.setAttribute("accentunder","true"),Ba}});var paddedNode=La=>{var Na=new mathMLTree.MathNode("mpadded",La?[La]:[]);return Na.setAttribute("width","+0.6em"),Na.setAttribute("lspace","0.3em"),Na};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(La,Na,ja){var{parser:Ba,funcName:za}=La;return{type:"xArrow",mode:Ba.mode,label:za,body:Na[0],below:ja[0]}},htmlBuilder(La,Na){var ja=Na.style,Ba=Na.havingStyle(ja.sup()),za=buildCommon.wrapFragment(buildGroup$1(La.body,Ba,Na),Na),Ga=La.label.slice(0,2)==="\\x"?"x":"cd";za.classes.push(Ga+"-arrow-pad");var Ha;La.below&&(Ba=Na.havingStyle(ja.sub()),Ha=buildCommon.wrapFragment(buildGroup$1(La.below,Ba,Na),Na),Ha.classes.push(Ga+"-arrow-pad"));var Ya=stretchy.svgSpan(La,Na),Xa=-Na.fontMetrics().axisHeight+.5*Ya.height,Ka=-Na.fontMetrics().axisHeight-.5*Ya.height-.111;(za.depth>.25||La.label==="\\xleftequilibrium")&&(Ka-=za.depth);var Qa;if(Ha){var Va=-Na.fontMetrics().axisHeight+Ha.height+.5*Ya.height+.111;Qa=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:za,shift:Ka},{type:"elem",elem:Ya,shift:Xa},{type:"elem",elem:Ha,shift:Va}]},Na)}else Qa=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:za,shift:Ka},{type:"elem",elem:Ya,shift:Xa}]},Na);return Qa.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[Qa],Na)},mathmlBuilder(La,Na){var ja=stretchy.mathMLnode(La.label);ja.setAttribute("minsize",La.label.charAt(0)==="x"?"1.75em":"3.0em");var Ba;if(La.body){var za=paddedNode(buildGroup(La.body,Na));if(La.below){var Ga=paddedNode(buildGroup(La.below,Na));Ba=new mathMLTree.MathNode("munderover",[ja,Ga,za])}else Ba=new mathMLTree.MathNode("mover",[ja,za])}else if(La.below){var Ha=paddedNode(buildGroup(La.below,Na));Ba=new mathMLTree.MathNode("munder",[ja,Ha])}else Ba=paddedNode(),Ba=new mathMLTree.MathNode("mover",[ja,Ba]);return Ba}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(La,Na){var ja=buildExpression$1(La.body,Na,!0);return makeSpan([La.mclass],ja,Na)}function mathmlBuilder$8(La,Na){var ja,Ba=buildExpression(La.body,Na);return La.mclass==="minner"?ja=new mathMLTree.MathNode("mpadded",Ba):La.mclass==="mord"?La.isCharacterBox?(ja=Ba[0],ja.type="mi"):ja=new mathMLTree.MathNode("mi",Ba):(La.isCharacterBox?(ja=Ba[0],ja.type="mo"):ja=new mathMLTree.MathNode("mo",Ba),La.mclass==="mbin"?(ja.attributes.lspace="0.22em",ja.attributes.rspace="0.22em"):La.mclass==="mpunct"?(ja.attributes.lspace="0em",ja.attributes.rspace="0.17em"):La.mclass==="mopen"||La.mclass==="mclose"?(ja.attributes.lspace="0em",ja.attributes.rspace="0em"):La.mclass==="minner"&&(ja.attributes.lspace="0.0556em",ja.attributes.width="+0.1111em")),ja}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(La,Na){var{parser:ja,funcName:Ba}=La,za=Na[0];return{type:"mclass",mode:ja.mode,mclass:"m"+Ba.slice(5),body:ordargument(za),isCharacterBox:utils$1.isCharacterBox(za)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=La=>{var Na=La.type==="ordgroup"&&La.body.length?La.body[0]:La;return Na.type==="atom"&&(Na.family==="bin"||Na.family==="rel")?"m"+Na.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(La,Na){var{parser:ja}=La;return{type:"mclass",mode:ja.mode,mclass:binrelClass(Na[0]),body:ordargument(Na[1]),isCharacterBox:utils$1.isCharacterBox(Na[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(La,Na){var{parser:ja,funcName:Ba}=La,za=Na[1],Ga=Na[0],Ha;Ba!=="\\stackrel"?Ha=binrelClass(za):Ha="mrel";var Ya={type:"op",mode:za.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:Ba!=="\\stackrel",body:ordargument(za)},Xa={type:"supsub",mode:Ga.mode,base:Ya,sup:Ba==="\\underset"?null:Ga,sub:Ba==="\\underset"?Ga:null};return{type:"mclass",mode:ja.mode,mclass:Ha,body:[Xa],isCharacterBox:utils$1.isCharacterBox(Xa)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(La,Na){var{parser:ja}=La;return{type:"pmb",mode:ja.mode,mclass:binrelClass(Na[0]),body:ordargument(Na[0])}},htmlBuilder(La,Na){var ja=buildExpression$1(La.body,Na,!0),Ba=buildCommon.makeSpan([La.mclass],ja,Na);return Ba.style.textShadow="0.02em 0.01em 0.04px",Ba},mathmlBuilder(La,Na){var ja=buildExpression(La.body,Na),Ba=new mathMLTree.MathNode("mstyle",ja);return Ba.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),Ba}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=La=>La.type==="textord"&&La.text==="@",isLabelEnd=(La,Na)=>(La.type==="mathord"||La.type==="atom")&&La.text===Na;function cdArrow(La,Na,ja){var Ba=cdArrowFunctionName[La];switch(Ba){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return ja.callFunction(Ba,[Na[0]],[Na[1]]);case"\\uparrow":case"\\downarrow":{var za=ja.callFunction("\\\\cdleft",[Na[0]],[]),Ga={type:"atom",text:Ba,mode:"math",family:"rel"},Ha=ja.callFunction("\\Big",[Ga],[]),Ya=ja.callFunction("\\\\cdright",[Na[1]],[]),Xa={type:"ordgroup",mode:"math",body:[za,Ha,Ya]};return ja.callFunction("\\\\cdparent",[Xa],[])}case"\\\\cdlongequal":return ja.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var Ka={type:"textord",text:"\\Vert",mode:"math"};return ja.callFunction("\\Big",[Ka],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(La){var Na=[];for(La.gullet.beginGroup(),La.gullet.macros.set("\\cr","\\\\\\relax"),La.gullet.beginGroup();;){Na.push(La.parseExpression(!1,"\\\\")),La.gullet.endGroup(),La.gullet.beginGroup();var ja=La.fetch().text;if(ja==="&"||ja==="\\\\")La.consume();else if(ja==="\\end"){Na[Na.length-1].length===0&&Na.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",La.nextToken)}for(var Ba=[],za=[Ba],Ga=0;Ga<Na.length;Ga++){for(var Ha=Na[Ga],Ya=newCell(),Xa=0;Xa<Ha.length;Xa++)if(!isStartOfArrow(Ha[Xa]))Ya.body.push(Ha[Xa]);else{Ba.push(Ya),Xa+=1;var Ka=assertSymbolNodeType(Ha[Xa]).text,Qa=new Array(2);if(Qa[0]={type:"ordgroup",mode:"math",body:[]},Qa[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Ka)>-1))if("<>AV".indexOf(Ka)>-1)for(var Va=0;Va<2;Va++){for(var Ua=!0,Wa=Xa+1;Wa<Ha.length;Wa++){if(isLabelEnd(Ha[Wa],Ka)){Ua=!1,Xa=Wa;break}if(isStartOfArrow(Ha[Wa]))throw new ParseError("Missing a "+Ka+" character to complete a CD arrow.",Ha[Wa]);Qa[Va].body.push(Ha[Wa])}if(Ua)throw new ParseError("Missing a "+Ka+" character to complete a CD arrow.",Ha[Xa])}else throw new ParseError('Expected one of "<>AV=|." after @',Ha[Xa]);var Ja=cdArrow(Ka,Qa,La),Oo={type:"styling",body:[Ja],mode:"math",style:"display"};Ba.push(Oo),Ya=newCell()}Ga%2===0?Ba.push(Ya):Ba.shift(),Ba=[],za.push(Ba)}La.gullet.endGroup(),La.gullet.endGroup();var Do=new Array(za[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:za,arraystretch:1,addJot:!0,rowGaps:[null],cols:Do,colSeparationType:"CD",hLinesBeforeRow:new Array(za.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(La,Na){var{parser:ja,funcName:Ba}=La;return{type:"cdlabel",mode:ja.mode,side:Ba.slice(4),label:Na[0]}},htmlBuilder(La,Na){var ja=Na.havingStyle(Na.style.sup()),Ba=buildCommon.wrapFragment(buildGroup$1(La.label,ja,Na),Na);return Ba.classes.push("cd-label-"+La.side),Ba.style.bottom=makeEm(.8-Ba.depth),Ba.height=0,Ba.depth=0,Ba},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mrow",[buildGroup(La.label,Na)]);return ja=new mathMLTree.MathNode("mpadded",[ja]),ja.setAttribute("width","0"),La.side==="left"&&ja.setAttribute("lspace","-1width"),ja.setAttribute("voffset","0.7em"),ja=new mathMLTree.MathNode("mstyle",[ja]),ja.setAttribute("displaystyle","false"),ja.setAttribute("scriptlevel","1"),ja}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(La,Na){var{parser:ja}=La;return{type:"cdlabelparent",mode:ja.mode,fragment:Na[0]}},htmlBuilder(La,Na){var ja=buildCommon.wrapFragment(buildGroup$1(La.fragment,Na),Na);return ja.classes.push("cd-vert-arrow"),ja},mathmlBuilder(La,Na){return new mathMLTree.MathNode("mrow",[buildGroup(La.fragment,Na)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(La,Na){for(var{parser:ja}=La,Ba=assertNodeType(Na[0],"ordgroup"),za=Ba.body,Ga="",Ha=0;Ha<za.length;Ha++){var Ya=assertNodeType(za[Ha],"textord");Ga+=Ya.text}var Xa=parseInt(Ga),Ka;if(isNaN(Xa))throw new ParseError("\\@char has non-numeric argument "+Ga);if(Xa<0||Xa>=1114111)throw new ParseError("\\@char with invalid code point "+Ga);return Xa<=65535?Ka=String.fromCharCode(Xa):(Xa-=65536,Ka=String.fromCharCode((Xa>>10)+55296,(Xa&1023)+56320)),{type:"textord",mode:ja.mode,text:Ka}}});var htmlBuilder$8=(La,Na)=>{var ja=buildExpression$1(La.body,Na.withColor(La.color),!1);return buildCommon.makeFragment(ja)},mathmlBuilder$7=(La,Na)=>{var ja=buildExpression(La.body,Na.withColor(La.color)),Ba=new mathMLTree.MathNode("mstyle",ja);return Ba.setAttribute("mathcolor",La.color),Ba};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(La,Na){var{parser:ja}=La,Ba=assertNodeType(Na[0],"color-token").color,za=Na[1];return{type:"color",mode:ja.mode,color:Ba,body:ordargument(za)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(La,Na){var{parser:ja,breakOnTokenText:Ba}=La,za=assertNodeType(Na[0],"color-token").color;ja.gullet.macros.set("\\current@color",za);var Ga=ja.parseExpression(!0,Ba);return{type:"color",mode:ja.mode,color:za,body:Ga}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(La,Na,ja){var{parser:Ba}=La,za=Ba.gullet.future().text==="["?Ba.parseSizeGroup(!0):null,Ga=!Ba.settings.displayMode||!Ba.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:Ba.mode,newLine:Ga,size:za&&assertNodeType(za,"size").value}},htmlBuilder(La,Na){var ja=buildCommon.makeSpan(["mspace"],[],Na);return La.newLine&&(ja.classes.push("newline"),La.size&&(ja.style.marginTop=makeEm(calculateSize$1(La.size,Na)))),ja},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mspace");return La.newLine&&(ja.setAttribute("linebreak","newline"),La.size&&ja.setAttribute("height",makeEm(calculateSize$1(La.size,Na)))),ja}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=La=>{var Na=La.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(Na))throw new ParseError("Expected a control sequence",La);return Na},getRHS=La=>{var Na=La.gullet.popToken();return Na.text==="="&&(Na=La.gullet.popToken(),Na.text===" "&&(Na=La.gullet.popToken())),Na},letCommand=(La,Na,ja,Ba)=>{var za=La.gullet.macros.get(ja.text);za==null&&(ja.noexpand=!0,za={tokens:[ja],numArgs:0,unexpandable:!La.gullet.isExpandable(ja.text)}),La.gullet.macros.set(Na,za,Ba)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(La){var{parser:Na,funcName:ja}=La;Na.consumeSpaces();var Ba=Na.fetch();if(globalMap[Ba.text])return(ja==="\\global"||ja==="\\\\globallong")&&(Ba.text=globalMap[Ba.text]),assertNodeType(Na.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",Ba)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(La){var{parser:Na,funcName:ja}=La,Ba=Na.gullet.popToken(),za=Ba.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(za))throw new ParseError("Expected a control sequence",Ba);for(var Ga=0,Ha,Ya=[[]];Na.gullet.future().text!=="{";)if(Ba=Na.gullet.popToken(),Ba.text==="#"){if(Na.gullet.future().text==="{"){Ha=Na.gullet.future(),Ya[Ga].push("{");break}if(Ba=Na.gullet.popToken(),!/^[1-9]$/.test(Ba.text))throw new ParseError('Invalid argument number "'+Ba.text+'"');if(parseInt(Ba.text)!==Ga+1)throw new ParseError('Argument number "'+Ba.text+'" out of order');Ga++,Ya.push([])}else{if(Ba.text==="EOF")throw new ParseError("Expected a macro definition");Ya[Ga].push(Ba.text)}var{tokens:Xa}=Na.gullet.consumeArg();return Ha&&Xa.unshift(Ha),(ja==="\\edef"||ja==="\\xdef")&&(Xa=Na.gullet.expandTokens(Xa),Xa.reverse()),Na.gullet.macros.set(za,{tokens:Xa,numArgs:Ga,delimiters:Ya},ja===globalMap[ja]),{type:"internal",mode:Na.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(La){var{parser:Na,funcName:ja}=La,Ba=checkControlSequence(Na.gullet.popToken());Na.gullet.consumeSpaces();var za=getRHS(Na);return letCommand(Na,Ba,za,ja==="\\\\globallet"),{type:"internal",mode:Na.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(La){var{parser:Na,funcName:ja}=La,Ba=checkControlSequence(Na.gullet.popToken()),za=Na.gullet.popToken(),Ga=Na.gullet.popToken();return letCommand(Na,Ba,Ga,ja==="\\\\globalfuture"),Na.gullet.pushToken(Ga),Na.gullet.pushToken(za),{type:"internal",mode:Na.mode}}});var getMetrics=function(Na,ja,Ba){var za=symbols.math[Na]&&symbols.math[Na].replace,Ga=getCharacterMetrics(za||Na,ja,Ba);if(!Ga)throw new Error("Unsupported symbol "+Na+" and font size "+ja+".");return Ga},styleWrap=function(Na,ja,Ba,za){var Ga=Ba.havingBaseStyle(ja),Ha=buildCommon.makeSpan(za.concat(Ga.sizingClasses(Ba)),[Na],Ba),Ya=Ga.sizeMultiplier/Ba.sizeMultiplier;return Ha.height*=Ya,Ha.depth*=Ya,Ha.maxFontSize=Ga.sizeMultiplier,Ha},centerSpan=function(Na,ja,Ba){var za=ja.havingBaseStyle(Ba),Ga=(1-ja.sizeMultiplier/za.sizeMultiplier)*ja.fontMetrics().axisHeight;Na.classes.push("delimcenter"),Na.style.top=makeEm(Ga),Na.height-=Ga,Na.depth+=Ga},makeSmallDelim=function(Na,ja,Ba,za,Ga,Ha){var Ya=buildCommon.makeSymbol(Na,"Main-Regular",Ga,za),Xa=styleWrap(Ya,ja,za,Ha);return Ba&&centerSpan(Xa,za,ja),Xa},mathrmSize=function(Na,ja,Ba,za){return buildCommon.makeSymbol(Na,"Size"+ja+"-Regular",Ba,za)},makeLargeDelim=function(Na,ja,Ba,za,Ga,Ha){var Ya=mathrmSize(Na,ja,Ga,za),Xa=styleWrap(buildCommon.makeSpan(["delimsizing","size"+ja],[Ya],za),Style$1.TEXT,za,Ha);return Ba&&centerSpan(Xa,za,Style$1.TEXT),Xa},makeGlyphSpan=function(Na,ja,Ba){var za;ja==="Size1-Regular"?za="delim-size1":za="delim-size4";var Ga=buildCommon.makeSpan(["delimsizinginner",za],[buildCommon.makeSpan([],[buildCommon.makeSymbol(Na,ja,Ba)])]);return{type:"elem",elem:Ga}},makeInner=function(Na,ja,Ba){var za=fontMetricsData["Size4-Regular"][Na.charCodeAt(0)]?fontMetricsData["Size4-Regular"][Na.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][Na.charCodeAt(0)][4],Ga=new PathNode("inner",innerPath(Na,Math.round(1e3*ja))),Ha=new SvgNode([Ga],{width:makeEm(za),height:makeEm(ja),style:"width:"+makeEm(za),viewBox:"0 0 "+1e3*za+" "+Math.round(1e3*ja),preserveAspectRatio:"xMinYMin"}),Ya=buildCommon.makeSvgSpan([],[Ha],Ba);return Ya.height=ja,Ya.style.height=makeEm(ja),Ya.style.width=makeEm(za),{type:"elem",elem:Ya}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(Na,ja,Ba,za,Ga,Ha){var Ya,Xa,Ka,Qa,Va="",Ua=0;Ya=Ka=Qa=Na,Xa=null;var Wa="Size1-Regular";Na==="\\uparrow"?Ka=Qa="":Na==="\\Uparrow"?Ka=Qa="":Na==="\\downarrow"?Ya=Ka="":Na==="\\Downarrow"?Ya=Ka="":Na==="\\updownarrow"?(Ya="\\uparrow",Ka="",Qa="\\downarrow"):Na==="\\Updownarrow"?(Ya="\\Uparrow",Ka="",Qa="\\Downarrow"):utils$1.contains(verts,Na)?(Ka="",Va="vert",Ua=333):utils$1.contains(doubleVerts,Na)?(Ka="",Va="doublevert",Ua=556):Na==="["||Na==="\\lbrack"?(Ya="",Ka="",Qa="",Wa="Size4-Regular",Va="lbrack",Ua=667):Na==="]"||Na==="\\rbrack"?(Ya="",Ka="",Qa="",Wa="Size4-Regular",Va="rbrack",Ua=667):Na==="\\lfloor"||Na===""?(Ka=Ya="",Qa="",Wa="Size4-Regular",Va="lfloor",Ua=667):Na==="\\lceil"||Na===""?(Ya="",Ka=Qa="",Wa="Size4-Regular",Va="lceil",Ua=667):Na==="\\rfloor"||Na===""?(Ka=Ya="",Qa="",Wa="Size4-Regular",Va="rfloor",Ua=667):Na==="\\rceil"||Na===""?(Ya="",Ka=Qa="",Wa="Size4-Regular",Va="rceil",Ua=667):Na==="("||Na==="\\lparen"?(Ya="",Ka="",Qa="",Wa="Size4-Regular",Va="lparen",Ua=875):Na===")"||Na==="\\rparen"?(Ya="",Ka="",Qa="",Wa="Size4-Regular",Va="rparen",Ua=875):Na==="\\{"||Na==="\\lbrace"?(Ya="",Xa="",Qa="",Ka="",Wa="Size4-Regular"):Na==="\\}"||Na==="\\rbrace"?(Ya="",Xa="",Qa="",Ka="",Wa="Size4-Regular"):Na==="\\lgroup"||Na===""?(Ya="",Qa="",Ka="",Wa="Size4-Regular"):Na==="\\rgroup"||Na===""?(Ya="",Qa="",Ka="",Wa="Size4-Regular"):Na==="\\lmoustache"||Na===""?(Ya="",Qa="",Ka="",Wa="Size4-Regular"):(Na==="\\rmoustache"||Na==="")&&(Ya="",Qa="",Ka="",Wa="Size4-Regular");var Ja=getMetrics(Ya,Wa,Ga),Oo=Ja.height+Ja.depth,Do=getMetrics(Ka,Wa,Ga),Mo=Do.height+Do.depth,el=getMetrics(Qa,Wa,Ga),tl=el.height+el.depth,rl=0,il=1;if(Xa!==null){var al=getMetrics(Xa,Wa,Ga);rl=al.height+al.depth,il=2}var ll=Oo+tl+rl,ul=Math.max(0,Math.ceil((ja-ll)/(il*Mo))),ol=ll+ul*il*Mo,cl=za.fontMetrics().axisHeight;Ba&&(cl*=za.sizeMultiplier);var gl=ol/2-cl,bl=[];if(Va.length>0){var _l=ol-Oo-tl,xl=Math.round(ol*1e3),Al=tallDelim(Va,Math.round(_l*1e3)),ml=new PathNode(Va,Al),Sl=(Ua/1e3).toFixed(3)+"em",Cl=(xl/1e3).toFixed(3)+"em",Nl=new SvgNode([ml],{width:Sl,height:Cl,viewBox:"0 0 "+Ua+" "+xl}),dl=buildCommon.makeSvgSpan([],[Nl],za);dl.height=xl/1e3,dl.style.width=Sl,dl.style.height=Cl,bl.push({type:"elem",elem:dl})}else{if(bl.push(makeGlyphSpan(Qa,Wa,Ga)),bl.push(lap),Xa===null){var Rl=ol-Oo-tl+2*lapInEms;bl.push(makeInner(Ka,Rl,za))}else{var Tl=(ol-Oo-tl-rl)/2+2*lapInEms;bl.push(makeInner(Ka,Tl,za)),bl.push(lap),bl.push(makeGlyphSpan(Xa,Wa,Ga)),bl.push(lap),bl.push(makeInner(Ka,Tl,za))}bl.push(lap),bl.push(makeGlyphSpan(Ya,Wa,Ga))}var pl=za.havingBaseStyle(Style$1.TEXT),jl=buildCommon.makeVList({positionType:"bottom",positionData:gl,children:bl},pl);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[jl],pl),Style$1.TEXT,za,Ha)},vbPad=80,emPad=.08,sqrtSvg=function(Na,ja,Ba,za,Ga){var Ha=sqrtPath(Na,za,Ba),Ya=new PathNode(Na,Ha),Xa=new SvgNode([Ya],{width:"400em",height:makeEm(ja),viewBox:"0 0 400000 "+Ba,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[Xa],Ga)},makeSqrtImage=function(Na,ja){var Ba=ja.havingBaseSizing(),za=traverseSequence("\\surd",Na*Ba.sizeMultiplier,stackLargeDelimiterSequence,Ba),Ga=Ba.sizeMultiplier,Ha=Math.max(0,ja.minRuleThickness-ja.fontMetrics().sqrtRuleThickness),Ya,Xa=0,Ka=0,Qa=0,Va;return za.type==="small"?(Qa=1e3+1e3*Ha+vbPad,Na<1?Ga=1:Na<1.4&&(Ga=.7),Xa=(1+Ha+emPad)/Ga,Ka=(1+Ha)/Ga,Ya=sqrtSvg("sqrtMain",Xa,Qa,Ha,ja),Ya.style.minWidth="0.853em",Va=.833/Ga):za.type==="large"?(Qa=(1e3+vbPad)*sizeToMaxHeight[za.size],Ka=(sizeToMaxHeight[za.size]+Ha)/Ga,Xa=(sizeToMaxHeight[za.size]+Ha+emPad)/Ga,Ya=sqrtSvg("sqrtSize"+za.size,Xa,Qa,Ha,ja),Ya.style.minWidth="1.02em",Va=1/Ga):(Xa=Na+Ha+emPad,Ka=Na+Ha,Qa=Math.floor(1e3*Na+Ha)+vbPad,Ya=sqrtSvg("sqrtTall",Xa,Qa,Ha,ja),Ya.style.minWidth="0.742em",Va=1.056),Ya.height=Ka,Ya.style.height=makeEm(Xa),{span:Ya,advanceWidth:Va,ruleWidth:(ja.fontMetrics().sqrtRuleThickness+Ha)*Ga}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(Na,ja,Ba,za,Ga){if(Na==="<"||Na==="\\lt"||Na===""?Na="\\langle":(Na===">"||Na==="\\gt"||Na==="")&&(Na="\\rangle"),utils$1.contains(stackLargeDelimiters,Na)||utils$1.contains(stackNeverDelimiters,Na))return makeLargeDelim(Na,ja,!1,Ba,za,Ga);if(utils$1.contains(stackAlwaysDelimiters,Na))return makeStackedDelim(Na,sizeToMaxHeight[ja],!1,Ba,za,Ga);throw new ParseError("Illegal delimiter: '"+Na+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(Na){if(Na.type==="small")return"Main-Regular";if(Na.type==="large")return"Size"+Na.size+"-Regular";if(Na.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+Na.type+"' here.")},traverseSequence=function(Na,ja,Ba,za){for(var Ga=Math.min(2,3-za.style.size),Ha=Ga;Ha<Ba.length&&Ba[Ha].type!=="stack";Ha++){var Ya=getMetrics(Na,delimTypeToFont(Ba[Ha]),"math"),Xa=Ya.height+Ya.depth;if(Ba[Ha].type==="small"){var Ka=za.havingBaseStyle(Ba[Ha].style);Xa*=Ka.sizeMultiplier}if(Xa>ja)return Ba[Ha]}return Ba[Ba.length-1]},makeCustomSizedDelim=function(Na,ja,Ba,za,Ga,Ha){Na==="<"||Na==="\\lt"||Na===""?Na="\\langle":(Na===">"||Na==="\\gt"||Na==="")&&(Na="\\rangle");var Ya;utils$1.contains(stackNeverDelimiters,Na)?Ya=stackNeverDelimiterSequence:utils$1.contains(stackLargeDelimiters,Na)?Ya=stackLargeDelimiterSequence:Ya=stackAlwaysDelimiterSequence;var Xa=traverseSequence(Na,ja,Ya,za);return Xa.type==="small"?makeSmallDelim(Na,Xa.style,Ba,za,Ga,Ha):Xa.type==="large"?makeLargeDelim(Na,Xa.size,Ba,za,Ga,Ha):makeStackedDelim(Na,ja,Ba,za,Ga,Ha)},makeLeftRightDelim=function(Na,ja,Ba,za,Ga,Ha){var Ya=za.fontMetrics().axisHeight*za.sizeMultiplier,Xa=901,Ka=5/za.fontMetrics().ptPerEm,Qa=Math.max(ja-Ya,Ba+Ya),Va=Math.max(Qa/500*Xa,2*Qa-Ka);return makeCustomSizedDelim(Na,Va,!0,za,Ga,Ha)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(La,Na){var ja=checkSymbolNodeType(La);if(ja&&utils$1.contains(delimiters,ja.text))return ja;throw ja?new ParseError("Invalid delimiter '"+ja.text+"' after '"+Na.funcName+"'",La):new ParseError("Invalid delimiter type '"+La.type+"'",La)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(La,Na)=>{var ja=checkDelimiter(Na[0],La);return{type:"delimsizing",mode:La.parser.mode,size:delimiterSizes[La.funcName].size,mclass:delimiterSizes[La.funcName].mclass,delim:ja.text}},htmlBuilder:(La,Na)=>La.delim==="."?buildCommon.makeSpan([La.mclass]):delimiter.sizedDelim(La.delim,La.size,Na,La.mode,[La.mclass]),mathmlBuilder:La=>{var Na=[];La.delim!=="."&&Na.push(makeText(La.delim,La.mode));var ja=new mathMLTree.MathNode("mo",Na);La.mclass==="mopen"||La.mclass==="mclose"?ja.setAttribute("fence","true"):ja.setAttribute("fence","false"),ja.setAttribute("stretchy","true");var Ba=makeEm(delimiter.sizeToMaxHeight[La.size]);return ja.setAttribute("minsize",Ba),ja.setAttribute("maxsize",Ba),ja}});function assertParsed(La){if(!La.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(La,Na)=>{var ja=La.parser.gullet.macros.get("\\current@color");if(ja&&typeof ja!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:La.parser.mode,delim:checkDelimiter(Na[0],La).text,color:ja}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(La,Na)=>{var ja=checkDelimiter(Na[0],La),Ba=La.parser;++Ba.leftrightDepth;var za=Ba.parseExpression(!1);--Ba.leftrightDepth,Ba.expect("\\right",!1);var Ga=assertNodeType(Ba.parseFunction(),"leftright-right");return{type:"leftright",mode:Ba.mode,body:za,left:ja.text,right:Ga.delim,rightColor:Ga.color}},htmlBuilder:(La,Na)=>{assertParsed(La);for(var ja=buildExpression$1(La.body,Na,!0,["mopen","mclose"]),Ba=0,za=0,Ga=!1,Ha=0;Ha<ja.length;Ha++)ja[Ha].isMiddle?Ga=!0:(Ba=Math.max(ja[Ha].height,Ba),za=Math.max(ja[Ha].depth,za));Ba*=Na.sizeMultiplier,za*=Na.sizeMultiplier;var Ya;if(La.left==="."?Ya=makeNullDelimiter(Na,["mopen"]):Ya=delimiter.leftRightDelim(La.left,Ba,za,Na,La.mode,["mopen"]),ja.unshift(Ya),Ga)for(var Xa=1;Xa<ja.length;Xa++){var Ka=ja[Xa],Qa=Ka.isMiddle;Qa&&(ja[Xa]=delimiter.leftRightDelim(Qa.delim,Ba,za,Qa.options,La.mode,[]))}var Va;if(La.right===".")Va=makeNullDelimiter(Na,["mclose"]);else{var Ua=La.rightColor?Na.withColor(La.rightColor):Na;Va=delimiter.leftRightDelim(La.right,Ba,za,Ua,La.mode,["mclose"])}return ja.push(Va),buildCommon.makeSpan(["minner"],ja,Na)},mathmlBuilder:(La,Na)=>{assertParsed(La);var ja=buildExpression(La.body,Na);if(La.left!=="."){var Ba=new mathMLTree.MathNode("mo",[makeText(La.left,La.mode)]);Ba.setAttribute("fence","true"),ja.unshift(Ba)}if(La.right!=="."){var za=new mathMLTree.MathNode("mo",[makeText(La.right,La.mode)]);za.setAttribute("fence","true"),La.rightColor&&za.setAttribute("mathcolor",La.rightColor),ja.push(za)}return makeRow(ja)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(La,Na)=>{var ja=checkDelimiter(Na[0],La);if(!La.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",ja);return{type:"middle",mode:La.parser.mode,delim:ja.text}},htmlBuilder:(La,Na)=>{var ja;if(La.delim===".")ja=makeNullDelimiter(Na,[]);else{ja=delimiter.sizedDelim(La.delim,1,Na,La.mode,[]);var Ba={delim:La.delim,options:Na};ja.isMiddle=Ba}return ja},mathmlBuilder:(La,Na)=>{var ja=La.delim==="\\vert"||La.delim==="|"?makeText("|","text"):makeText(La.delim,La.mode),Ba=new mathMLTree.MathNode("mo",[ja]);return Ba.setAttribute("fence","true"),Ba.setAttribute("lspace","0.05em"),Ba.setAttribute("rspace","0.05em"),Ba}});var htmlBuilder$7=(La,Na)=>{var ja=buildCommon.wrapFragment(buildGroup$1(La.body,Na),Na),Ba=La.label.slice(1),za=Na.sizeMultiplier,Ga,Ha=0,Ya=utils$1.isCharacterBox(La.body);if(Ba==="sout")Ga=buildCommon.makeSpan(["stretchy","sout"]),Ga.height=Na.fontMetrics().defaultRuleThickness/za,Ha=-.5*Na.fontMetrics().xHeight;else if(Ba==="phase"){var Xa=calculateSize$1({number:.6,unit:"pt"},Na),Ka=calculateSize$1({number:.35,unit:"ex"},Na),Qa=Na.havingBaseSizing();za=za/Qa.sizeMultiplier;var Va=ja.height+ja.depth+Xa+Ka;ja.style.paddingLeft=makeEm(Va/2+Xa);var Ua=Math.floor(1e3*Va*za),Wa=phasePath(Ua),Ja=new SvgNode([new PathNode("phase",Wa)],{width:"400em",height:makeEm(Ua/1e3),viewBox:"0 0 400000 "+Ua,preserveAspectRatio:"xMinYMin slice"});Ga=buildCommon.makeSvgSpan(["hide-tail"],[Ja],Na),Ga.style.height=makeEm(Va),Ha=ja.depth+Xa+Ka}else{/cancel/.test(Ba)?Ya||ja.classes.push("cancel-pad"):Ba==="angl"?ja.classes.push("anglpad"):ja.classes.push("boxpad");var Oo=0,Do=0,Mo=0;/box/.test(Ba)?(Mo=Math.max(Na.fontMetrics().fboxrule,Na.minRuleThickness),Oo=Na.fontMetrics().fboxsep+(Ba==="colorbox"?0:Mo),Do=Oo):Ba==="angl"?(Mo=Math.max(Na.fontMetrics().defaultRuleThickness,Na.minRuleThickness),Oo=4*Mo,Do=Math.max(0,.25-ja.depth)):(Oo=Ya?.2:0,Do=Oo),Ga=stretchy.encloseSpan(ja,Ba,Oo,Do,Na),/fbox|boxed|fcolorbox/.test(Ba)?(Ga.style.borderStyle="solid",Ga.style.borderWidth=makeEm(Mo)):Ba==="angl"&&Mo!==.049&&(Ga.style.borderTopWidth=makeEm(Mo),Ga.style.borderRightWidth=makeEm(Mo)),Ha=ja.depth+Do,La.backgroundColor&&(Ga.style.backgroundColor=La.backgroundColor,La.borderColor&&(Ga.style.borderColor=La.borderColor))}var el;if(La.backgroundColor)el=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ga,shift:Ha},{type:"elem",elem:ja,shift:0}]},Na);else{var tl=/cancel|phase/.test(Ba)?["svg-align"]:[];el=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ja,shift:0},{type:"elem",elem:Ga,shift:Ha,wrapperClasses:tl}]},Na)}return/cancel/.test(Ba)&&(el.height=ja.height,el.depth=ja.depth),/cancel/.test(Ba)&&!Ya?buildCommon.makeSpan(["mord","cancel-lap"],[el],Na):buildCommon.makeSpan(["mord"],[el],Na)},mathmlBuilder$6=(La,Na)=>{var ja=0,Ba=new mathMLTree.MathNode(La.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(La.body,Na)]);switch(La.label){case"\\cancel":Ba.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":Ba.setAttribute("notation","downdiagonalstrike");break;case"\\phase":Ba.setAttribute("notation","phasorangle");break;case"\\sout":Ba.setAttribute("notation","horizontalstrike");break;case"\\fbox":Ba.setAttribute("notation","box");break;case"\\angl":Ba.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(ja=Na.fontMetrics().fboxsep*Na.fontMetrics().ptPerEm,Ba.setAttribute("width","+"+2*ja+"pt"),Ba.setAttribute("height","+"+2*ja+"pt"),Ba.setAttribute("lspace",ja+"pt"),Ba.setAttribute("voffset",ja+"pt"),La.label==="\\fcolorbox"){var za=Math.max(Na.fontMetrics().fboxrule,Na.minRuleThickness);Ba.setAttribute("style","border: "+za+"em solid "+String(La.borderColor))}break;case"\\xcancel":Ba.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return La.backgroundColor&&Ba.setAttribute("mathbackground",La.backgroundColor),Ba};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(La,Na,ja){var{parser:Ba,funcName:za}=La,Ga=assertNodeType(Na[0],"color-token").color,Ha=Na[1];return{type:"enclose",mode:Ba.mode,label:za,backgroundColor:Ga,body:Ha}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(La,Na,ja){var{parser:Ba,funcName:za}=La,Ga=assertNodeType(Na[0],"color-token").color,Ha=assertNodeType(Na[1],"color-token").color,Ya=Na[2];return{type:"enclose",mode:Ba.mode,label:za,backgroundColor:Ha,borderColor:Ga,body:Ya}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(La,Na){var{parser:ja}=La;return{type:"enclose",mode:ja.mode,label:"\\fbox",body:Na[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(La,Na){var{parser:ja,funcName:Ba}=La,za=Na[0];return{type:"enclose",mode:ja.mode,label:Ba,body:za}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(La,Na){var{parser:ja}=La;return{type:"enclose",mode:ja.mode,label:"\\angl",body:Na[0]}}});var _environments={};function defineEnvironment(La){for(var{type:Na,names:ja,props:Ba,handler:za,htmlBuilder:Ga,mathmlBuilder:Ha}=La,Ya={type:Na,numArgs:Ba.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:za},Xa=0;Xa<ja.length;++Xa)_environments[ja[Xa]]=Ya;Ga&&(_htmlGroupBuilders[Na]=Ga),Ha&&(_mathmlGroupBuilders[Na]=Ha)}var _macros={};function defineMacro(La,Na){_macros[La]=Na}function getHLines(La){var Na=[];La.consumeSpaces();var ja=La.fetch().text;for(ja==="\\relax"&&(La.consume(),La.consumeSpaces(),ja=La.fetch().text);ja==="\\hline"||ja==="\\hdashline";)La.consume(),Na.push(ja==="\\hdashline"),La.consumeSpaces(),ja=La.fetch().text;return Na}var validateAmsEnvironmentContext=La=>{var Na=La.parser.settings;if(!Na.displayMode)throw new ParseError("{"+La.envName+"} can be used only in display mode.")};function getAutoTag(La){if(La.indexOf("ed")===-1)return La.indexOf("*")===-1}function parseArray(La,Na,ja){var{hskipBeforeAndAfter:Ba,addJot:za,cols:Ga,arraystretch:Ha,colSeparationType:Ya,autoTag:Xa,singleRow:Ka,emptySingleRow:Qa,maxNumCols:Va,leqno:Ua}=Na;if(La.gullet.beginGroup(),Ka||La.gullet.macros.set("\\cr","\\\\\\relax"),!Ha){var Wa=La.gullet.expandMacroAsText("\\arraystretch");if(Wa==null)Ha=1;else if(Ha=parseFloat(Wa),!Ha||Ha<0)throw new ParseError("Invalid \\arraystretch: "+Wa)}La.gullet.beginGroup();var Ja=[],Oo=[Ja],Do=[],Mo=[],el=Xa!=null?[]:void 0;function tl(){Xa&&La.gullet.macros.set("\\@eqnsw","1",!0)}function rl(){el&&(La.gullet.macros.get("\\df@tag")?(el.push(La.subparse([new Token("\\df@tag")])),La.gullet.macros.set("\\df@tag",void 0,!0)):el.push(!!Xa&&La.gullet.macros.get("\\@eqnsw")==="1"))}for(tl(),Mo.push(getHLines(La));;){var il=La.parseExpression(!1,Ka?"\\end":"\\\\");La.gullet.endGroup(),La.gullet.beginGroup(),il={type:"ordgroup",mode:La.mode,body:il},ja&&(il={type:"styling",mode:La.mode,style:ja,body:[il]}),Ja.push(il);var al=La.fetch().text;if(al==="&"){if(Va&&Ja.length===Va){if(Ka||Ya)throw new ParseError("Too many tab characters: &",La.nextToken);La.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}La.consume()}else if(al==="\\end"){rl(),Ja.length===1&&il.type==="styling"&&il.body[0].body.length===0&&(Oo.length>1||!Qa)&&Oo.pop(),Mo.length<Oo.length+1&&Mo.push([]);break}else if(al==="\\\\"){La.consume();var ll=void 0;La.gullet.future().text!==" "&&(ll=La.parseSizeGroup(!0)),Do.push(ll?ll.value:null),rl(),Mo.push(getHLines(La)),Ja=[],Oo.push(Ja),tl()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",La.nextToken)}return La.gullet.endGroup(),La.gullet.endGroup(),{type:"array",mode:La.mode,addJot:za,arraystretch:Ha,body:Oo,cols:Ga,rowGaps:Do,hskipBeforeAndAfter:Ba,hLinesBeforeRow:Mo,colSeparationType:Ya,tags:el,leqno:Ua}}function dCellStyle(La){return La.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function(Na,ja){var Ba,za,Ga=Na.body.length,Ha=Na.hLinesBeforeRow,Ya=0,Xa=new Array(Ga),Ka=[],Qa=Math.max(ja.fontMetrics().arrayRuleWidth,ja.minRuleThickness),Va=1/ja.fontMetrics().ptPerEm,Ua=5*Va;if(Na.colSeparationType&&Na.colSeparationType==="small"){var Wa=ja.havingStyle(Style$1.SCRIPT).sizeMultiplier;Ua=.2778*(Wa/ja.sizeMultiplier)}var Ja=Na.colSeparationType==="CD"?calculateSize$1({number:3,unit:"ex"},ja):12*Va,Oo=3*Va,Do=Na.arraystretch*Ja,Mo=.7*Do,el=.3*Do,tl=0;function rl(Du){for(var Zu=0;Zu<Du.length;++Zu)Zu>0&&(tl+=.25),Ka.push({pos:tl,isDashed:Du[Zu]})}for(rl(Ha[0]),Ba=0;Ba<Na.body.length;++Ba){var il=Na.body[Ba],al=Mo,ll=el;Ya<il.length&&(Ya=il.length);var ul=new Array(il.length);for(za=0;za<il.length;++za){var ol=buildGroup$1(il[za],ja);ll<ol.depth&&(ll=ol.depth),al<ol.height&&(al=ol.height),ul[za]=ol}var cl=Na.rowGaps[Ba],gl=0;cl&&(gl=calculateSize$1(cl,ja),gl>0&&(gl+=el,ll<gl&&(ll=gl),gl=0)),Na.addJot&&(ll+=Oo),ul.height=al,ul.depth=ll,tl+=al,ul.pos=tl,tl+=ll+gl,Xa[Ba]=ul,rl(Ha[Ba+1])}var bl=tl/2+ja.fontMetrics().axisHeight,_l=Na.cols||[],xl=[],Al,ml,Sl=[];if(Na.tags&&Na.tags.some(Du=>Du))for(Ba=0;Ba<Ga;++Ba){var Cl=Xa[Ba],Nl=Cl.pos-bl,dl=Na.tags[Ba],Rl=void 0;dl===!0?Rl=buildCommon.makeSpan(["eqn-num"],[],ja):dl===!1?Rl=buildCommon.makeSpan([],[],ja):Rl=buildCommon.makeSpan([],buildExpression$1(dl,ja,!0),ja),Rl.depth=Cl.depth,Rl.height=Cl.height,Sl.push({type:"elem",elem:Rl,shift:Nl})}for(za=0,ml=0;za<Ya||ml<_l.length;++za,++ml){for(var Tl=_l[ml]||{},pl=!0;Tl.type==="separator";){if(pl||(Al=buildCommon.makeSpan(["arraycolsep"],[]),Al.style.width=makeEm(ja.fontMetrics().doubleRuleSep),xl.push(Al)),Tl.separator==="|"||Tl.separator===":"){var jl=Tl.separator==="|"?"solid":"dashed",Ll=buildCommon.makeSpan(["vertical-separator"],[],ja);Ll.style.height=makeEm(tl),Ll.style.borderRightWidth=makeEm(Qa),Ll.style.borderRightStyle=jl,Ll.style.margin="0 "+makeEm(-Qa/2);var Dl=tl-bl;Dl&&(Ll.style.verticalAlign=makeEm(-Dl)),xl.push(Ll)}else throw new ParseError("Invalid separator type: "+Tl.separator);ml++,Tl=_l[ml]||{},pl=!1}if(!(za>=Ya)){var $l=void 0;(za>0||Na.hskipBeforeAndAfter)&&($l=utils$1.deflt(Tl.pregap,Ua),$l!==0&&(Al=buildCommon.makeSpan(["arraycolsep"],[]),Al.style.width=makeEm($l),xl.push(Al)));var eu=[];for(Ba=0;Ba<Ga;++Ba){var uu=Xa[Ba],su=uu[za];if(su){var pu=uu.pos-bl;su.depth=uu.depth,su.height=uu.height,eu.push({type:"elem",elem:su,shift:pu})}}eu=buildCommon.makeVList({positionType:"individualShift",children:eu},ja),eu=buildCommon.makeSpan(["col-align-"+(Tl.align||"c")],[eu]),xl.push(eu),(za<Ya-1||Na.hskipBeforeAndAfter)&&($l=utils$1.deflt(Tl.postgap,Ua),$l!==0&&(Al=buildCommon.makeSpan(["arraycolsep"],[]),Al.style.width=makeEm($l),xl.push(Al)))}}if(Xa=buildCommon.makeSpan(["mtable"],xl),Ka.length>0){for(var Yl=buildCommon.makeLineSpan("hline",ja,Qa),ru=buildCommon.makeLineSpan("hdashline",ja,Qa),lu=[{type:"elem",elem:Xa,shift:0}];Ka.length>0;){var fu=Ka.pop(),bu=fu.pos-bl;fu.isDashed?lu.push({type:"elem",elem:ru,shift:bu}):lu.push({type:"elem",elem:Yl,shift:bu})}Xa=buildCommon.makeVList({positionType:"individualShift",children:lu},ja)}if(Sl.length===0)return buildCommon.makeSpan(["mord"],[Xa],ja);var xu=buildCommon.makeVList({positionType:"individualShift",children:Sl},ja);return xu=buildCommon.makeSpan(["tag"],[xu],ja),buildCommon.makeFragment([Xa,xu])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function(Na,ja){for(var Ba=[],za=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),Ga=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),Ha=0;Ha<Na.body.length;Ha++){for(var Ya=Na.body[Ha],Xa=[],Ka=0;Ka<Ya.length;Ka++)Xa.push(new mathMLTree.MathNode("mtd",[buildGroup(Ya[Ka],ja)]));Na.tags&&Na.tags[Ha]&&(Xa.unshift(za),Xa.push(za),Na.leqno?Xa.unshift(Ga):Xa.push(Ga)),Ba.push(new mathMLTree.MathNode("mtr",Xa))}var Qa=new mathMLTree.MathNode("mtable",Ba),Va=Na.arraystretch===.5?.1:.16+Na.arraystretch-1+(Na.addJot?.09:0);Qa.setAttribute("rowspacing",makeEm(Va));var Ua="",Wa="";if(Na.cols&&Na.cols.length>0){var Ja=Na.cols,Oo="",Do=!1,Mo=0,el=Ja.length;Ja[0].type==="separator"&&(Ua+="top ",Mo=1),Ja[Ja.length-1].type==="separator"&&(Ua+="bottom ",el-=1);for(var tl=Mo;tl<el;tl++)Ja[tl].type==="align"?(Wa+=alignMap[Ja[tl].align],Do&&(Oo+="none "),Do=!0):Ja[tl].type==="separator"&&Do&&(Oo+=Ja[tl].separator==="|"?"solid ":"dashed ",Do=!1);Qa.setAttribute("columnalign",Wa.trim()),/[sd]/.test(Oo)&&Qa.setAttribute("columnlines",Oo.trim())}if(Na.colSeparationType==="align"){for(var rl=Na.cols||[],il="",al=1;al<rl.length;al++)il+=al%2?"0em ":"1em ";Qa.setAttribute("columnspacing",il.trim())}else Na.colSeparationType==="alignat"||Na.colSeparationType==="gather"?Qa.setAttribute("columnspacing","0em"):Na.colSeparationType==="small"?Qa.setAttribute("columnspacing","0.2778em"):Na.colSeparationType==="CD"?Qa.setAttribute("columnspacing","0.5em"):Qa.setAttribute("columnspacing","1em");var ll="",ul=Na.hLinesBeforeRow;Ua+=ul[0].length>0?"left ":"",Ua+=ul[ul.length-1].length>0?"right ":"";for(var ol=1;ol<ul.length-1;ol++)ll+=ul[ol].length===0?"none ":ul[ol][0]?"dashed ":"solid ";return/[sd]/.test(ll)&&Qa.setAttribute("rowlines",ll.trim()),Ua!==""&&(Qa=new mathMLTree.MathNode("menclose",[Qa]),Qa.setAttribute("notation",Ua.trim())),Na.arraystretch&&Na.arraystretch<1&&(Qa=new mathMLTree.MathNode("mstyle",[Qa]),Qa.setAttribute("scriptlevel","1")),Qa},alignedHandler=function(Na,ja){Na.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(Na);var Ba=[],za=Na.envName.indexOf("at")>-1?"alignat":"align",Ga=Na.envName==="split",Ha=parseArray(Na.parser,{cols:Ba,addJot:!0,autoTag:Ga?void 0:getAutoTag(Na.envName),emptySingleRow:!0,colSeparationType:za,maxNumCols:Ga?2:void 0,leqno:Na.parser.settings.leqno},"display"),Ya,Xa=0,Ka={type:"ordgroup",mode:Na.mode,body:[]};if(ja[0]&&ja[0].type==="ordgroup"){for(var Qa="",Va=0;Va<ja[0].body.length;Va++){var Ua=assertNodeType(ja[0].body[Va],"textord");Qa+=Ua.text}Ya=Number(Qa),Xa=Ya*2}var Wa=!Xa;Ha.body.forEach(function(Mo){for(var el=1;el<Mo.length;el+=2){var tl=assertNodeType(Mo[el],"styling"),rl=assertNodeType(tl.body[0],"ordgroup");rl.body.unshift(Ka)}if(Wa)Xa<Mo.length&&(Xa=Mo.length);else{var il=Mo.length/2;if(Ya<il)throw new ParseError("Too many math in a row: "+("expected "+Ya+", but got "+il),Mo[0])}});for(var Ja=0;Ja<Xa;++Ja){var Oo="r",Do=0;Ja%2===1?Oo="l":Ja>0&&Wa&&(Do=1),Ba[Ja]={type:"align",align:Oo,pregap:Do,postgap:0}}return Ha.colSeparationType=Wa?"align":"alignat",Ha};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(La,Na){var ja=checkSymbolNodeType(Na[0]),Ba=ja?[Na[0]]:assertNodeType(Na[0],"ordgroup").body,za=Ba.map(function(Ha){var Ya=assertSymbolNodeType(Ha),Xa=Ya.text;if("lcr".indexOf(Xa)!==-1)return{type:"align",align:Xa};if(Xa==="|")return{type:"separator",separator:"|"};if(Xa===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+Xa,Ha)}),Ga={cols:za,hskipBeforeAndAfter:!0,maxNumCols:za.length};return parseArray(La.parser,Ga,dCellStyle(La.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(La){var Na={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[La.envName.replace("*","")],ja="c",Ba={hskipBeforeAndAfter:!1,cols:[{type:"align",align:ja}]};if(La.envName.charAt(La.envName.length-1)==="*"){var za=La.parser;if(za.consumeSpaces(),za.fetch().text==="["){if(za.consume(),za.consumeSpaces(),ja=za.fetch().text,"lcr".indexOf(ja)===-1)throw new ParseError("Expected l or c or r",za.nextToken);za.consume(),za.consumeSpaces(),za.expect("]"),za.consume(),Ba.cols=[{type:"align",align:ja}]}}var Ga=parseArray(La.parser,Ba,dCellStyle(La.envName)),Ha=Math.max(0,...Ga.body.map(Ya=>Ya.length));return Ga.cols=new Array(Ha).fill({type:"align",align:ja}),Na?{type:"leftright",mode:La.mode,body:[Ga],left:Na[0],right:Na[1],rightColor:void 0}:Ga},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(La){var Na={arraystretch:.5},ja=parseArray(La.parser,Na,"script");return ja.colSeparationType="small",ja},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(La,Na){var ja=checkSymbolNodeType(Na[0]),Ba=ja?[Na[0]]:assertNodeType(Na[0],"ordgroup").body,za=Ba.map(function(Ha){var Ya=assertSymbolNodeType(Ha),Xa=Ya.text;if("lc".indexOf(Xa)!==-1)return{type:"align",align:Xa};throw new ParseError("Unknown column alignment: "+Xa,Ha)});if(za.length>1)throw new ParseError("{subarray} can contain only one column");var Ga={cols:za,hskipBeforeAndAfter:!1,arraystretch:.5};if(Ga=parseArray(La.parser,Ga,"script"),Ga.body.length>0&&Ga.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return Ga},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(La){var Na={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},ja=parseArray(La.parser,Na,dCellStyle(La.envName));return{type:"leftright",mode:La.mode,body:[ja],left:La.envName.indexOf("r")>-1?".":"\\{",right:La.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(La){utils$1.contains(["gather","gather*"],La.envName)&&validateAmsEnvironmentContext(La);var Na={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(La.envName),emptySingleRow:!0,leqno:La.parser.settings.leqno};return parseArray(La.parser,Na,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(La){validateAmsEnvironmentContext(La);var Na={autoTag:getAutoTag(La.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:La.parser.settings.leqno};return parseArray(La.parser,Na,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(La){return validateAmsEnvironmentContext(La),parseCD(La.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(La,Na){throw new ParseError(La.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(La,Na){var{parser:ja,funcName:Ba}=La,za=Na[0];if(za.type!=="ordgroup")throw new ParseError("Invalid environment name",za);for(var Ga="",Ha=0;Ha<za.body.length;++Ha)Ga+=assertNodeType(za.body[Ha],"textord").text;if(Ba==="\\begin"){if(!environments.hasOwnProperty(Ga))throw new ParseError("No such environment: "+Ga,za);var Ya=environments[Ga],{args:Xa,optArgs:Ka}=ja.parseArguments("\\begin{"+Ga+"}",Ya),Qa={mode:ja.mode,envName:Ga,parser:ja},Va=Ya.handler(Qa,Xa,Ka);ja.expect("\\end",!1);var Ua=ja.nextToken,Wa=assertNodeType(ja.parseFunction(),"environment");if(Wa.name!==Ga)throw new ParseError("Mismatch: \\begin{"+Ga+"} matched by \\end{"+Wa.name+"}",Ua);return Va}return{type:"environment",mode:ja.mode,name:Ga,nameGroup:za}}});var htmlBuilder$5=(La,Na)=>{var ja=La.font,Ba=Na.withFont(ja);return buildGroup$1(La.body,Ba)},mathmlBuilder$4=(La,Na)=>{var ja=La.font,Ba=Na.withFont(ja);return buildGroup(La.body,Ba)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=normalizeArgument(Na[0]),Ga=Ba;return Ga in fontAliases&&(Ga=fontAliases[Ga]),{type:"font",mode:ja.mode,font:Ga.slice(1),body:za}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(La,Na)=>{var{parser:ja}=La,Ba=Na[0],za=utils$1.isCharacterBox(Ba);return{type:"mclass",mode:ja.mode,mclass:binrelClass(Ba),body:[{type:"font",mode:ja.mode,font:"boldsymbol",body:Ba}],isCharacterBox:za}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(La,Na)=>{var{parser:ja,funcName:Ba,breakOnTokenText:za}=La,{mode:Ga}=ja,Ha=ja.parseExpression(!0,za),Ya="math"+Ba.slice(1);return{type:"font",mode:Ga,font:Ya,body:{type:"ordgroup",mode:ja.mode,body:Ha}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(La,Na)=>{var ja=Na;return La==="display"?ja=ja.id>=Style$1.SCRIPT.id?ja.text():Style$1.DISPLAY:La==="text"&&ja.size===Style$1.DISPLAY.size?ja=Style$1.TEXT:La==="script"?ja=Style$1.SCRIPT:La==="scriptscript"&&(ja=Style$1.SCRIPTSCRIPT),ja},htmlBuilder$4=(La,Na)=>{var ja=adjustStyle(La.size,Na.style),Ba=ja.fracNum(),za=ja.fracDen(),Ga;Ga=Na.havingStyle(Ba);var Ha=buildGroup$1(La.numer,Ga,Na);if(La.continued){var Ya=8.5/Na.fontMetrics().ptPerEm,Xa=3.5/Na.fontMetrics().ptPerEm;Ha.height=Ha.height<Ya?Ya:Ha.height,Ha.depth=Ha.depth<Xa?Xa:Ha.depth}Ga=Na.havingStyle(za);var Ka=buildGroup$1(La.denom,Ga,Na),Qa,Va,Ua;La.hasBarLine?(La.barSize?(Va=calculateSize$1(La.barSize,Na),Qa=buildCommon.makeLineSpan("frac-line",Na,Va)):Qa=buildCommon.makeLineSpan("frac-line",Na),Va=Qa.height,Ua=Qa.height):(Qa=null,Va=0,Ua=Na.fontMetrics().defaultRuleThickness);var Wa,Ja,Oo;ja.size===Style$1.DISPLAY.size||La.size==="display"?(Wa=Na.fontMetrics().num1,Va>0?Ja=3*Ua:Ja=7*Ua,Oo=Na.fontMetrics().denom1):(Va>0?(Wa=Na.fontMetrics().num2,Ja=Ua):(Wa=Na.fontMetrics().num3,Ja=3*Ua),Oo=Na.fontMetrics().denom2);var Do;if(Qa){var el=Na.fontMetrics().axisHeight;Wa-Ha.depth-(el+.5*Va)<Ja&&(Wa+=Ja-(Wa-Ha.depth-(el+.5*Va))),el-.5*Va-(Ka.height-Oo)<Ja&&(Oo+=Ja-(el-.5*Va-(Ka.height-Oo)));var tl=-(el-.5*Va);Do=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ka,shift:Oo},{type:"elem",elem:Qa,shift:tl},{type:"elem",elem:Ha,shift:-Wa}]},Na)}else{var Mo=Wa-Ha.depth-(Ka.height-Oo);Mo<Ja&&(Wa+=.5*(Ja-Mo),Oo+=.5*(Ja-Mo)),Do=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ka,shift:Oo},{type:"elem",elem:Ha,shift:-Wa}]},Na)}Ga=Na.havingStyle(ja),Do.height*=Ga.sizeMultiplier/Na.sizeMultiplier,Do.depth*=Ga.sizeMultiplier/Na.sizeMultiplier;var rl;ja.size===Style$1.DISPLAY.size?rl=Na.fontMetrics().delim1:ja.size===Style$1.SCRIPTSCRIPT.size?rl=Na.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:rl=Na.fontMetrics().delim2;var il,al;return La.leftDelim==null?il=makeNullDelimiter(Na,["mopen"]):il=delimiter.customSizedDelim(La.leftDelim,rl,!0,Na.havingStyle(ja),La.mode,["mopen"]),La.continued?al=buildCommon.makeSpan([]):La.rightDelim==null?al=makeNullDelimiter(Na,["mclose"]):al=delimiter.customSizedDelim(La.rightDelim,rl,!0,Na.havingStyle(ja),La.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(Ga.sizingClasses(Na)),[il,buildCommon.makeSpan(["mfrac"],[Do]),al],Na)},mathmlBuilder$3=(La,Na)=>{var ja=new mathMLTree.MathNode("mfrac",[buildGroup(La.numer,Na),buildGroup(La.denom,Na)]);if(!La.hasBarLine)ja.setAttribute("linethickness","0px");else if(La.barSize){var Ba=calculateSize$1(La.barSize,Na);ja.setAttribute("linethickness",makeEm(Ba))}var za=adjustStyle(La.size,Na.style);if(za.size!==Na.style.size){ja=new mathMLTree.MathNode("mstyle",[ja]);var Ga=za.size===Style$1.DISPLAY.size?"true":"false";ja.setAttribute("displaystyle",Ga),ja.setAttribute("scriptlevel","0")}if(La.leftDelim!=null||La.rightDelim!=null){var Ha=[];if(La.leftDelim!=null){var Ya=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(La.leftDelim.replace("\\",""))]);Ya.setAttribute("fence","true"),Ha.push(Ya)}if(Ha.push(ja),La.rightDelim!=null){var Xa=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(La.rightDelim.replace("\\",""))]);Xa.setAttribute("fence","true"),Ha.push(Xa)}return makeRow(Ha)}return ja};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Na[0],Ga=Na[1],Ha,Ya=null,Xa=null,Ka="auto";switch(Ba){case"\\dfrac":case"\\frac":case"\\tfrac":Ha=!0;break;case"\\\\atopfrac":Ha=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Ha=!1,Ya="(",Xa=")";break;case"\\\\bracefrac":Ha=!1,Ya="\\{",Xa="\\}";break;case"\\\\brackfrac":Ha=!1,Ya="[",Xa="]";break;default:throw new Error("Unrecognized genfrac command")}switch(Ba){case"\\dfrac":case"\\dbinom":Ka="display";break;case"\\tfrac":case"\\tbinom":Ka="text";break}return{type:"genfrac",mode:ja.mode,continued:!1,numer:za,denom:Ga,hasBarLine:Ha,leftDelim:Ya,rightDelim:Xa,size:Ka,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Na[0],Ga=Na[1];return{type:"genfrac",mode:ja.mode,continued:!0,numer:za,denom:Ga,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(La){var{parser:Na,funcName:ja,token:Ba}=La,za;switch(ja){case"\\over":za="\\frac";break;case"\\choose":za="\\binom";break;case"\\atop":za="\\\\atopfrac";break;case"\\brace":za="\\\\bracefrac";break;case"\\brack":za="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:Na.mode,replaceWith:za,token:Ba}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(Na){var ja=null;return Na.length>0&&(ja=Na,ja=ja==="."?null:ja),ja};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(La,Na){var{parser:ja}=La,Ba=Na[4],za=Na[5],Ga=normalizeArgument(Na[0]),Ha=Ga.type==="atom"&&Ga.family==="open"?delimFromValue(Ga.text):null,Ya=normalizeArgument(Na[1]),Xa=Ya.type==="atom"&&Ya.family==="close"?delimFromValue(Ya.text):null,Ka=assertNodeType(Na[2],"size"),Qa,Va=null;Ka.isBlank?Qa=!0:(Va=Ka.value,Qa=Va.number>0);var Ua="auto",Wa=Na[3];if(Wa.type==="ordgroup"){if(Wa.body.length>0){var Ja=assertNodeType(Wa.body[0],"textord");Ua=stylArray[Number(Ja.text)]}}else Wa=assertNodeType(Wa,"textord"),Ua=stylArray[Number(Wa.text)];return{type:"genfrac",mode:ja.mode,numer:Ba,denom:za,continued:!1,hasBarLine:Qa,barSize:Va,leftDelim:Ha,rightDelim:Xa,size:Ua}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(La,Na){var{parser:ja,funcName:Ba,token:za}=La;return{type:"infix",mode:ja.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(Na[0],"size").value,token:za}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Na[0],Ga=assert(assertNodeType(Na[1],"infix").size),Ha=Na[2],Ya=Ga.number>0;return{type:"genfrac",mode:ja.mode,numer:za,denom:Ha,continued:!1,hasBarLine:Ya,barSize:Ga,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(La,Na)=>{var ja=Na.style,Ba,za;La.type==="supsub"?(Ba=La.sup?buildGroup$1(La.sup,Na.havingStyle(ja.sup()),Na):buildGroup$1(La.sub,Na.havingStyle(ja.sub()),Na),za=assertNodeType(La.base,"horizBrace")):za=assertNodeType(La,"horizBrace");var Ga=buildGroup$1(za.base,Na.havingBaseStyle(Style$1.DISPLAY)),Ha=stretchy.svgSpan(za,Na),Ya;if(za.isOver?(Ya=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ga},{type:"kern",size:.1},{type:"elem",elem:Ha}]},Na),Ya.children[0].children[0].children[1].classes.push("svg-align")):(Ya=buildCommon.makeVList({positionType:"bottom",positionData:Ga.depth+.1+Ha.height,children:[{type:"elem",elem:Ha},{type:"kern",size:.1},{type:"elem",elem:Ga}]},Na),Ya.children[0].children[0].children[0].classes.push("svg-align")),Ba){var Xa=buildCommon.makeSpan(["mord",za.isOver?"mover":"munder"],[Ya],Na);za.isOver?Ya=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Xa},{type:"kern",size:.2},{type:"elem",elem:Ba}]},Na):Ya=buildCommon.makeVList({positionType:"bottom",positionData:Xa.depth+.2+Ba.height+Ba.depth,children:[{type:"elem",elem:Ba},{type:"kern",size:.2},{type:"elem",elem:Xa}]},Na)}return buildCommon.makeSpan(["mord",za.isOver?"mover":"munder"],[Ya],Na)},mathmlBuilder$2=(La,Na)=>{var ja=stretchy.mathMLnode(La.label);return new mathMLTree.MathNode(La.isOver?"mover":"munder",[buildGroup(La.base,Na),ja])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(La,Na){var{parser:ja,funcName:Ba}=La;return{type:"horizBrace",mode:ja.mode,label:Ba,isOver:/^\\over/.test(Ba),base:Na[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(La,Na)=>{var{parser:ja}=La,Ba=Na[1],za=assertNodeType(Na[0],"url").url;return ja.settings.isTrusted({command:"\\href",url:za})?{type:"href",mode:ja.mode,href:za,body:ordargument(Ba)}:ja.formatUnsupportedCmd("\\href")},htmlBuilder:(La,Na)=>{var ja=buildExpression$1(La.body,Na,!1);return buildCommon.makeAnchor(La.href,[],ja,Na)},mathmlBuilder:(La,Na)=>{var ja=buildExpressionRow(La.body,Na);return ja instanceof MathNode||(ja=new MathNode("mrow",[ja])),ja.setAttribute("href",La.href),ja}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(La,Na)=>{var{parser:ja}=La,Ba=assertNodeType(Na[0],"url").url;if(!ja.settings.isTrusted({command:"\\url",url:Ba}))return ja.formatUnsupportedCmd("\\url");for(var za=[],Ga=0;Ga<Ba.length;Ga++){var Ha=Ba[Ga];Ha==="~"&&(Ha="\\textasciitilde"),za.push({type:"textord",mode:"text",text:Ha})}var Ya={type:"text",mode:ja.mode,font:"\\texttt",body:za};return{type:"href",mode:ja.mode,href:Ba,body:ordargument(Ya)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(La,Na){var{parser:ja}=La;return{type:"hbox",mode:ja.mode,body:ordargument(Na[0])}},htmlBuilder(La,Na){var ja=buildExpression$1(La.body,Na,!1);return buildCommon.makeFragment(ja)},mathmlBuilder(La,Na){return new mathMLTree.MathNode("mrow",buildExpression(La.body,Na))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(La,Na)=>{var{parser:ja,funcName:Ba,token:za}=La,Ga=assertNodeType(Na[0],"raw").string,Ha=Na[1];ja.settings.strict&&ja.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var Ya,Xa={};switch(Ba){case"\\htmlClass":Xa.class=Ga,Ya={command:"\\htmlClass",class:Ga};break;case"\\htmlId":Xa.id=Ga,Ya={command:"\\htmlId",id:Ga};break;case"\\htmlStyle":Xa.style=Ga,Ya={command:"\\htmlStyle",style:Ga};break;case"\\htmlData":{for(var Ka=Ga.split(","),Qa=0;Qa<Ka.length;Qa++){var Va=Ka[Qa].split("=");if(Va.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");Xa["data-"+Va[0].trim()]=Va[1].trim()}Ya={command:"\\htmlData",attributes:Xa};break}default:throw new Error("Unrecognized html command")}return ja.settings.isTrusted(Ya)?{type:"html",mode:ja.mode,attributes:Xa,body:ordargument(Ha)}:ja.formatUnsupportedCmd(Ba)},htmlBuilder:(La,Na)=>{var ja=buildExpression$1(La.body,Na,!1),Ba=["enclosing"];La.attributes.class&&Ba.push(...La.attributes.class.trim().split(/\s+/));var za=buildCommon.makeSpan(Ba,ja,Na);for(var Ga in La.attributes)Ga!=="class"&&La.attributes.hasOwnProperty(Ga)&&za.setAttribute(Ga,La.attributes[Ga]);return za},mathmlBuilder:(La,Na)=>buildExpressionRow(La.body,Na)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(La,Na)=>{var{parser:ja}=La;return{type:"htmlmathml",mode:ja.mode,html:ordargument(Na[0]),mathml:ordargument(Na[1])}},htmlBuilder:(La,Na)=>{var ja=buildExpression$1(La.html,Na,!1);return buildCommon.makeFragment(ja)},mathmlBuilder:(La,Na)=>buildExpressionRow(La.mathml,Na)});var sizeData=function(Na){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(Na))return{number:+Na,unit:"bp"};var ja=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(Na);if(!ja)throw new ParseError("Invalid size: '"+Na+"' in \\includegraphics");var Ba={number:+(ja[1]+ja[2]),unit:ja[3]};if(!validUnit(Ba))throw new ParseError("Invalid unit: '"+Ba.unit+"' in \\includegraphics.");return Ba};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(La,Na,ja)=>{var{parser:Ba}=La,za={number:0,unit:"em"},Ga={number:.9,unit:"em"},Ha={number:0,unit:"em"},Ya="";if(ja[0])for(var Xa=assertNodeType(ja[0],"raw").string,Ka=Xa.split(","),Qa=0;Qa<Ka.length;Qa++){var Va=Ka[Qa].split("=");if(Va.length===2){var Ua=Va[1].trim();switch(Va[0].trim()){case"alt":Ya=Ua;break;case"width":za=sizeData(Ua);break;case"height":Ga=sizeData(Ua);break;case"totalheight":Ha=sizeData(Ua);break;default:throw new ParseError("Invalid key: '"+Va[0]+"' in \\includegraphics.")}}}var Wa=assertNodeType(Na[0],"url").url;return Ya===""&&(Ya=Wa,Ya=Ya.replace(/^.*[\\/]/,""),Ya=Ya.substring(0,Ya.lastIndexOf("."))),Ba.settings.isTrusted({command:"\\includegraphics",url:Wa})?{type:"includegraphics",mode:Ba.mode,alt:Ya,width:za,height:Ga,totalheight:Ha,src:Wa}:Ba.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(La,Na)=>{var ja=calculateSize$1(La.height,Na),Ba=0;La.totalheight.number>0&&(Ba=calculateSize$1(La.totalheight,Na)-ja);var za=0;La.width.number>0&&(za=calculateSize$1(La.width,Na));var Ga={height:makeEm(ja+Ba)};za>0&&(Ga.width=makeEm(za)),Ba>0&&(Ga.verticalAlign=makeEm(-Ba));var Ha=new Img(La.src,La.alt,Ga);return Ha.height=ja,Ha.depth=Ba,Ha},mathmlBuilder:(La,Na)=>{var ja=new mathMLTree.MathNode("mglyph",[]);ja.setAttribute("alt",La.alt);var Ba=calculateSize$1(La.height,Na),za=0;if(La.totalheight.number>0&&(za=calculateSize$1(La.totalheight,Na)-Ba,ja.setAttribute("valign",makeEm(-za))),ja.setAttribute("height",makeEm(Ba+za)),La.width.number>0){var Ga=calculateSize$1(La.width,Na);ja.setAttribute("width",makeEm(Ga))}return ja.setAttribute("src",La.src),ja}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(La,Na){var{parser:ja,funcName:Ba}=La,za=assertNodeType(Na[0],"size");if(ja.settings.strict){var Ga=Ba[1]==="m",Ha=za.value.unit==="mu";Ga?(Ha||ja.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+Ba+" supports only mu units, "+("not "+za.value.unit+" units")),ja.mode!=="math"&&ja.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+Ba+" works only in math mode")):Ha&&ja.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+Ba+" doesn't support mu units")}return{type:"kern",mode:ja.mode,dimension:za.value}},htmlBuilder(La,Na){return buildCommon.makeGlue(La.dimension,Na)},mathmlBuilder(La,Na){var ja=calculateSize$1(La.dimension,Na);return new mathMLTree.SpaceNode(ja)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Na[0];return{type:"lap",mode:ja.mode,alignment:Ba.slice(5),body:za}},htmlBuilder:(La,Na)=>{var ja;La.alignment==="clap"?(ja=buildCommon.makeSpan([],[buildGroup$1(La.body,Na)]),ja=buildCommon.makeSpan(["inner"],[ja],Na)):ja=buildCommon.makeSpan(["inner"],[buildGroup$1(La.body,Na)]);var Ba=buildCommon.makeSpan(["fix"],[]),za=buildCommon.makeSpan([La.alignment],[ja,Ba],Na),Ga=buildCommon.makeSpan(["strut"]);return Ga.style.height=makeEm(za.height+za.depth),za.depth&&(Ga.style.verticalAlign=makeEm(-za.depth)),za.children.unshift(Ga),za=buildCommon.makeSpan(["thinbox"],[za],Na),buildCommon.makeSpan(["mord","vbox"],[za],Na)},mathmlBuilder:(La,Na)=>{var ja=new mathMLTree.MathNode("mpadded",[buildGroup(La.body,Na)]);if(La.alignment!=="rlap"){var Ba=La.alignment==="llap"?"-1":"-0.5";ja.setAttribute("lspace",Ba+"width")}return ja.setAttribute("width","0px"),ja}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(La,Na){var{funcName:ja,parser:Ba}=La,za=Ba.mode;Ba.switchMode("math");var Ga=ja==="\\("?"\\)":"$",Ha=Ba.parseExpression(!1,Ga);return Ba.expect(Ga),Ba.switchMode(za),{type:"styling",mode:Ba.mode,style:"text",body:Ha}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(La,Na){throw new ParseError("Mismatched "+La.funcName)}});var chooseMathStyle=(La,Na)=>{switch(Na.style.size){case Style$1.DISPLAY.size:return La.display;case Style$1.TEXT.size:return La.text;case Style$1.SCRIPT.size:return La.script;case Style$1.SCRIPTSCRIPT.size:return La.scriptscript;default:return La.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(La,Na)=>{var{parser:ja}=La;return{type:"mathchoice",mode:ja.mode,display:ordargument(Na[0]),text:ordargument(Na[1]),script:ordargument(Na[2]),scriptscript:ordargument(Na[3])}},htmlBuilder:(La,Na)=>{var ja=chooseMathStyle(La,Na),Ba=buildExpression$1(ja,Na,!1);return buildCommon.makeFragment(Ba)},mathmlBuilder:(La,Na)=>{var ja=chooseMathStyle(La,Na);return buildExpressionRow(ja,Na)}});var assembleSupSub=(La,Na,ja,Ba,za,Ga,Ha)=>{La=buildCommon.makeSpan([],[La]);var Ya=ja&&utils$1.isCharacterBox(ja),Xa,Ka;if(Na){var Qa=buildGroup$1(Na,Ba.havingStyle(za.sup()),Ba);Ka={elem:Qa,kern:Math.max(Ba.fontMetrics().bigOpSpacing1,Ba.fontMetrics().bigOpSpacing3-Qa.depth)}}if(ja){var Va=buildGroup$1(ja,Ba.havingStyle(za.sub()),Ba);Xa={elem:Va,kern:Math.max(Ba.fontMetrics().bigOpSpacing2,Ba.fontMetrics().bigOpSpacing4-Va.height)}}var Ua;if(Ka&&Xa){var Wa=Ba.fontMetrics().bigOpSpacing5+Xa.elem.height+Xa.elem.depth+Xa.kern+La.depth+Ha;Ua=buildCommon.makeVList({positionType:"bottom",positionData:Wa,children:[{type:"kern",size:Ba.fontMetrics().bigOpSpacing5},{type:"elem",elem:Xa.elem,marginLeft:makeEm(-Ga)},{type:"kern",size:Xa.kern},{type:"elem",elem:La},{type:"kern",size:Ka.kern},{type:"elem",elem:Ka.elem,marginLeft:makeEm(Ga)},{type:"kern",size:Ba.fontMetrics().bigOpSpacing5}]},Ba)}else if(Xa){var Ja=La.height-Ha;Ua=buildCommon.makeVList({positionType:"top",positionData:Ja,children:[{type:"kern",size:Ba.fontMetrics().bigOpSpacing5},{type:"elem",elem:Xa.elem,marginLeft:makeEm(-Ga)},{type:"kern",size:Xa.kern},{type:"elem",elem:La}]},Ba)}else if(Ka){var Oo=La.depth+Ha;Ua=buildCommon.makeVList({positionType:"bottom",positionData:Oo,children:[{type:"elem",elem:La},{type:"kern",size:Ka.kern},{type:"elem",elem:Ka.elem,marginLeft:makeEm(Ga)},{type:"kern",size:Ba.fontMetrics().bigOpSpacing5}]},Ba)}else return La;var Do=[Ua];if(Xa&&Ga!==0&&!Ya){var Mo=buildCommon.makeSpan(["mspace"],[],Ba);Mo.style.marginRight=makeEm(Ga),Do.unshift(Mo)}return buildCommon.makeSpan(["mop","op-limits"],Do,Ba)},noSuccessor=["\\smallint"],htmlBuilder$2=(La,Na)=>{var ja,Ba,za=!1,Ga;La.type==="supsub"?(ja=La.sup,Ba=La.sub,Ga=assertNodeType(La.base,"op"),za=!0):Ga=assertNodeType(La,"op");var Ha=Na.style,Ya=!1;Ha.size===Style$1.DISPLAY.size&&Ga.symbol&&!utils$1.contains(noSuccessor,Ga.name)&&(Ya=!0);var Xa;if(Ga.symbol){var Ka=Ya?"Size2-Regular":"Size1-Regular",Qa="";if((Ga.name==="\\oiint"||Ga.name==="\\oiiint")&&(Qa=Ga.name.slice(1),Ga.name=Qa==="oiint"?"\\iint":"\\iiint"),Xa=buildCommon.makeSymbol(Ga.name,Ka,"math",Na,["mop","op-symbol",Ya?"large-op":"small-op"]),Qa.length>0){var Va=Xa.italic,Ua=buildCommon.staticSvg(Qa+"Size"+(Ya?"2":"1"),Na);Xa=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Xa,shift:0},{type:"elem",elem:Ua,shift:Ya?.08:0}]},Na),Ga.name="\\"+Qa,Xa.classes.unshift("mop"),Xa.italic=Va}}else if(Ga.body){var Wa=buildExpression$1(Ga.body,Na,!0);Wa.length===1&&Wa[0]instanceof SymbolNode?(Xa=Wa[0],Xa.classes[0]="mop"):Xa=buildCommon.makeSpan(["mop"],Wa,Na)}else{for(var Ja=[],Oo=1;Oo<Ga.name.length;Oo++)Ja.push(buildCommon.mathsym(Ga.name[Oo],Ga.mode,Na));Xa=buildCommon.makeSpan(["mop"],Ja,Na)}var Do=0,Mo=0;return(Xa instanceof SymbolNode||Ga.name==="\\oiint"||Ga.name==="\\oiiint")&&!Ga.suppressBaseShift&&(Do=(Xa.height-Xa.depth)/2-Na.fontMetrics().axisHeight,Mo=Xa.italic),za?assembleSupSub(Xa,ja,Ba,Na,Ha,Mo,Do):(Do&&(Xa.style.position="relative",Xa.style.top=makeEm(Do)),Xa)},mathmlBuilder$1=(La,Na)=>{var ja;if(La.symbol)ja=new MathNode("mo",[makeText(La.name,La.mode)]),utils$1.contains(noSuccessor,La.name)&&ja.setAttribute("largeop","false");else if(La.body)ja=new MathNode("mo",buildExpression(La.body,Na));else{ja=new MathNode("mi",[new TextNode(La.name.slice(1))]);var Ba=new MathNode("mo",[makeText("","text")]);La.parentIsSupSub?ja=new MathNode("mrow",[ja,Ba]):ja=newDocumentFragment([ja,Ba])}return ja},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Ba;return za.length===1&&(za=singleCharBigOps[za]),{type:"op",mode:ja.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:za}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(La,Na)=>{var{parser:ja}=La,Ba=Na[0];return{type:"op",mode:ja.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(Ba)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(La){var{parser:Na,funcName:ja}=La;return{type:"op",mode:Na.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:ja}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(La){var{parser:Na,funcName:ja}=La;return{type:"op",mode:Na.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:ja}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(La){var{parser:Na,funcName:ja}=La,Ba=ja;return Ba.length===1&&(Ba=singleCharIntegrals[Ba]),{type:"op",mode:Na.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:Ba}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(La,Na)=>{var ja,Ba,za=!1,Ga;La.type==="supsub"?(ja=La.sup,Ba=La.sub,Ga=assertNodeType(La.base,"operatorname"),za=!0):Ga=assertNodeType(La,"operatorname");var Ha;if(Ga.body.length>0){for(var Ya=Ga.body.map(Va=>{var Ua=Va.text;return typeof Ua=="string"?{type:"textord",mode:Va.mode,text:Ua}:Va}),Xa=buildExpression$1(Ya,Na.withFont("mathrm"),!0),Ka=0;Ka<Xa.length;Ka++){var Qa=Xa[Ka];Qa instanceof SymbolNode&&(Qa.text=Qa.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}Ha=buildCommon.makeSpan(["mop"],Xa,Na)}else Ha=buildCommon.makeSpan(["mop"],[],Na);return za?assembleSupSub(Ha,ja,Ba,Na,Na.style,0,0):Ha},mathmlBuilder=(La,Na)=>{for(var ja=buildExpression(La.body,Na.withFont("mathrm")),Ba=!0,za=0;za<ja.length;za++){var Ga=ja[za];if(!(Ga instanceof mathMLTree.SpaceNode))if(Ga instanceof mathMLTree.MathNode)switch(Ga.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var Ha=Ga.children[0];Ga.children.length===1&&Ha instanceof mathMLTree.TextNode?Ha.text=Ha.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):Ba=!1;break}default:Ba=!1}else Ba=!1}if(Ba){var Ya=ja.map(Qa=>Qa.toText()).join("");ja=[new mathMLTree.TextNode(Ya)]}var Xa=new mathMLTree.MathNode("mi",ja);Xa.setAttribute("mathvariant","normal");var Ka=new mathMLTree.MathNode("mo",[makeText("","text")]);return La.parentIsSupSub?new mathMLTree.MathNode("mrow",[Xa,Ka]):mathMLTree.newDocumentFragment([Xa,Ka])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(La,Na)=>{var{parser:ja,funcName:Ba}=La,za=Na[0];return{type:"operatorname",mode:ja.mode,body:ordargument(za),alwaysHandleSupSub:Ba==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(La,Na){return La.semisimple?buildCommon.makeFragment(buildExpression$1(La.body,Na,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(La.body,Na,!0),Na)},mathmlBuilder(La,Na){return buildExpressionRow(La.body,Na,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(La,Na){var{parser:ja}=La,Ba=Na[0];return{type:"overline",mode:ja.mode,body:Ba}},htmlBuilder(La,Na){var ja=buildGroup$1(La.body,Na.havingCrampedStyle()),Ba=buildCommon.makeLineSpan("overline-line",Na),za=Na.fontMetrics().defaultRuleThickness,Ga=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ja},{type:"kern",size:3*za},{type:"elem",elem:Ba},{type:"kern",size:za}]},Na);return buildCommon.makeSpan(["mord","overline"],[Ga],Na)},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);ja.setAttribute("stretchy","true");var Ba=new mathMLTree.MathNode("mover",[buildGroup(La.body,Na),ja]);return Ba.setAttribute("accent","true"),Ba}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(La,Na)=>{var{parser:ja}=La,Ba=Na[0];return{type:"phantom",mode:ja.mode,body:ordargument(Ba)}},htmlBuilder:(La,Na)=>{var ja=buildExpression$1(La.body,Na.withPhantom(),!1);return buildCommon.makeFragment(ja)},mathmlBuilder:(La,Na)=>{var ja=buildExpression(La.body,Na);return new mathMLTree.MathNode("mphantom",ja)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(La,Na)=>{var{parser:ja}=La,Ba=Na[0];return{type:"hphantom",mode:ja.mode,body:Ba}},htmlBuilder:(La,Na)=>{var ja=buildCommon.makeSpan([],[buildGroup$1(La.body,Na.withPhantom())]);if(ja.height=0,ja.depth=0,ja.children)for(var Ba=0;Ba<ja.children.length;Ba++)ja.children[Ba].height=0,ja.children[Ba].depth=0;return ja=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ja}]},Na),buildCommon.makeSpan(["mord"],[ja],Na)},mathmlBuilder:(La,Na)=>{var ja=buildExpression(ordargument(La.body),Na),Ba=new mathMLTree.MathNode("mphantom",ja),za=new mathMLTree.MathNode("mpadded",[Ba]);return za.setAttribute("height","0px"),za.setAttribute("depth","0px"),za}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(La,Na)=>{var{parser:ja}=La,Ba=Na[0];return{type:"vphantom",mode:ja.mode,body:Ba}},htmlBuilder:(La,Na)=>{var ja=buildCommon.makeSpan(["inner"],[buildGroup$1(La.body,Na.withPhantom())]),Ba=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[ja,Ba],Na)},mathmlBuilder:(La,Na)=>{var ja=buildExpression(ordargument(La.body),Na),Ba=new mathMLTree.MathNode("mphantom",ja),za=new mathMLTree.MathNode("mpadded",[Ba]);return za.setAttribute("width","0px"),za}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(La,Na){var{parser:ja}=La,Ba=assertNodeType(Na[0],"size").value,za=Na[1];return{type:"raisebox",mode:ja.mode,dy:Ba,body:za}},htmlBuilder(La,Na){var ja=buildGroup$1(La.body,Na),Ba=calculateSize$1(La.dy,Na);return buildCommon.makeVList({positionType:"shift",positionData:-Ba,children:[{type:"elem",elem:ja}]},Na)},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mpadded",[buildGroup(La.body,Na)]),Ba=La.dy.number+La.dy.unit;return ja.setAttribute("voffset",Ba),ja}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(La){var{parser:Na}=La;return{type:"internal",mode:Na.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(La,Na,ja){var{parser:Ba}=La,za=ja[0],Ga=assertNodeType(Na[0],"size"),Ha=assertNodeType(Na[1],"size");return{type:"rule",mode:Ba.mode,shift:za&&assertNodeType(za,"size").value,width:Ga.value,height:Ha.value}},htmlBuilder(La,Na){var ja=buildCommon.makeSpan(["mord","rule"],[],Na),Ba=calculateSize$1(La.width,Na),za=calculateSize$1(La.height,Na),Ga=La.shift?calculateSize$1(La.shift,Na):0;return ja.style.borderRightWidth=makeEm(Ba),ja.style.borderTopWidth=makeEm(za),ja.style.bottom=makeEm(Ga),ja.width=Ba,ja.height=za+Ga,ja.depth=-Ga,ja.maxFontSize=za*1.125*Na.sizeMultiplier,ja},mathmlBuilder(La,Na){var ja=calculateSize$1(La.width,Na),Ba=calculateSize$1(La.height,Na),za=La.shift?calculateSize$1(La.shift,Na):0,Ga=Na.color&&Na.getColor()||"black",Ha=new mathMLTree.MathNode("mspace");Ha.setAttribute("mathbackground",Ga),Ha.setAttribute("width",makeEm(ja)),Ha.setAttribute("height",makeEm(Ba));var Ya=new mathMLTree.MathNode("mpadded",[Ha]);return za>=0?Ya.setAttribute("height",makeEm(za)):(Ya.setAttribute("height",makeEm(za)),Ya.setAttribute("depth",makeEm(-za))),Ya.setAttribute("voffset",makeEm(za)),Ya}});function sizingGroup(La,Na,ja){for(var Ba=buildExpression$1(La,Na,!1),za=Na.sizeMultiplier/ja.sizeMultiplier,Ga=0;Ga<Ba.length;Ga++){var Ha=Ba[Ga].classes.indexOf("sizing");Ha<0?Array.prototype.push.apply(Ba[Ga].classes,Na.sizingClasses(ja)):Ba[Ga].classes[Ha+1]==="reset-size"+Na.size&&(Ba[Ga].classes[Ha+1]="reset-size"+ja.size),Ba[Ga].height*=za,Ba[Ga].depth*=za}return buildCommon.makeFragment(Ba)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(La,Na)=>{var ja=Na.havingSize(La.size);return sizingGroup(La.body,ja,Na)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(La,Na)=>{var{breakOnTokenText:ja,funcName:Ba,parser:za}=La,Ga=za.parseExpression(!1,ja);return{type:"sizing",mode:za.mode,size:sizeFuncs.indexOf(Ba)+1,body:Ga}},htmlBuilder,mathmlBuilder:(La,Na)=>{var ja=Na.havingSize(La.size),Ba=buildExpression(La.body,ja),za=new mathMLTree.MathNode("mstyle",Ba);return za.setAttribute("mathsize",makeEm(ja.sizeMultiplier)),za}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(La,Na,ja)=>{var{parser:Ba}=La,za=!1,Ga=!1,Ha=ja[0]&&assertNodeType(ja[0],"ordgroup");if(Ha)for(var Ya="",Xa=0;Xa<Ha.body.length;++Xa){var Ka=Ha.body[Xa];if(Ya=Ka.text,Ya==="t")za=!0;else if(Ya==="b")Ga=!0;else{za=!1,Ga=!1;break}}else za=!0,Ga=!0;var Qa=Na[0];return{type:"smash",mode:Ba.mode,body:Qa,smashHeight:za,smashDepth:Ga}},htmlBuilder:(La,Na)=>{var ja=buildCommon.makeSpan([],[buildGroup$1(La.body,Na)]);if(!La.smashHeight&&!La.smashDepth)return ja;if(La.smashHeight&&(ja.height=0,ja.children))for(var Ba=0;Ba<ja.children.length;Ba++)ja.children[Ba].height=0;if(La.smashDepth&&(ja.depth=0,ja.children))for(var za=0;za<ja.children.length;za++)ja.children[za].depth=0;var Ga=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ja}]},Na);return buildCommon.makeSpan(["mord"],[Ga],Na)},mathmlBuilder:(La,Na)=>{var ja=new mathMLTree.MathNode("mpadded",[buildGroup(La.body,Na)]);return La.smashHeight&&ja.setAttribute("height","0px"),La.smashDepth&&ja.setAttribute("depth","0px"),ja}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(La,Na,ja){var{parser:Ba}=La,za=ja[0],Ga=Na[0];return{type:"sqrt",mode:Ba.mode,body:Ga,index:za}},htmlBuilder(La,Na){var ja=buildGroup$1(La.body,Na.havingCrampedStyle());ja.height===0&&(ja.height=Na.fontMetrics().xHeight),ja=buildCommon.wrapFragment(ja,Na);var Ba=Na.fontMetrics(),za=Ba.defaultRuleThickness,Ga=za;Na.style.id<Style$1.TEXT.id&&(Ga=Na.fontMetrics().xHeight);var Ha=za+Ga/4,Ya=ja.height+ja.depth+Ha+za,{span:Xa,ruleWidth:Ka,advanceWidth:Qa}=delimiter.sqrtImage(Ya,Na),Va=Xa.height-Ka;Va>ja.height+ja.depth+Ha&&(Ha=(Ha+Va-ja.height-ja.depth)/2);var Ua=Xa.height-ja.height-Ha-Ka;ja.style.paddingLeft=makeEm(Qa);var Wa=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ja,wrapperClasses:["svg-align"]},{type:"kern",size:-(ja.height+Ua)},{type:"elem",elem:Xa},{type:"kern",size:Ka}]},Na);if(La.index){var Ja=Na.havingStyle(Style$1.SCRIPTSCRIPT),Oo=buildGroup$1(La.index,Ja,Na),Do=.6*(Wa.height-Wa.depth),Mo=buildCommon.makeVList({positionType:"shift",positionData:-Do,children:[{type:"elem",elem:Oo}]},Na),el=buildCommon.makeSpan(["root"],[Mo]);return buildCommon.makeSpan(["mord","sqrt"],[el,Wa],Na)}else return buildCommon.makeSpan(["mord","sqrt"],[Wa],Na)},mathmlBuilder(La,Na){var{body:ja,index:Ba}=La;return Ba?new mathMLTree.MathNode("mroot",[buildGroup(ja,Na),buildGroup(Ba,Na)]):new mathMLTree.MathNode("msqrt",[buildGroup(ja,Na)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(La,Na){var{breakOnTokenText:ja,funcName:Ba,parser:za}=La,Ga=za.parseExpression(!0,ja),Ha=Ba.slice(1,Ba.length-5);return{type:"styling",mode:za.mode,style:Ha,body:Ga}},htmlBuilder(La,Na){var ja=styleMap[La.style],Ba=Na.havingStyle(ja).withFont("");return sizingGroup(La.body,Ba,Na)},mathmlBuilder(La,Na){var ja=styleMap[La.style],Ba=Na.havingStyle(ja),za=buildExpression(La.body,Ba),Ga=new mathMLTree.MathNode("mstyle",za),Ha={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},Ya=Ha[La.style];return Ga.setAttribute("scriptlevel",Ya[0]),Ga.setAttribute("displaystyle",Ya[1]),Ga}});var htmlBuilderDelegate=function(Na,ja){var Ba=Na.base;if(Ba)if(Ba.type==="op"){var za=Ba.limits&&(ja.style.size===Style$1.DISPLAY.size||Ba.alwaysHandleSupSub);return za?htmlBuilder$2:null}else if(Ba.type==="operatorname"){var Ga=Ba.alwaysHandleSupSub&&(ja.style.size===Style$1.DISPLAY.size||Ba.limits);return Ga?htmlBuilder$1:null}else{if(Ba.type==="accent")return utils$1.isCharacterBox(Ba.base)?htmlBuilder$a:null;if(Ba.type==="horizBrace"){var Ha=!Na.sub;return Ha===Ba.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(La,Na){var ja=htmlBuilderDelegate(La,Na);if(ja)return ja(La,Na);var{base:Ba,sup:za,sub:Ga}=La,Ha=buildGroup$1(Ba,Na),Ya,Xa,Ka=Na.fontMetrics(),Qa=0,Va=0,Ua=Ba&&utils$1.isCharacterBox(Ba);if(za){var Wa=Na.havingStyle(Na.style.sup());Ya=buildGroup$1(za,Wa,Na),Ua||(Qa=Ha.height-Wa.fontMetrics().supDrop*Wa.sizeMultiplier/Na.sizeMultiplier)}if(Ga){var Ja=Na.havingStyle(Na.style.sub());Xa=buildGroup$1(Ga,Ja,Na),Ua||(Va=Ha.depth+Ja.fontMetrics().subDrop*Ja.sizeMultiplier/Na.sizeMultiplier)}var Oo;Na.style===Style$1.DISPLAY?Oo=Ka.sup1:Na.style.cramped?Oo=Ka.sup3:Oo=Ka.sup2;var Do=Na.sizeMultiplier,Mo=makeEm(.5/Ka.ptPerEm/Do),el=null;if(Xa){var tl=La.base&&La.base.type==="op"&&La.base.name&&(La.base.name==="\\oiint"||La.base.name==="\\oiiint");(Ha instanceof SymbolNode||tl)&&(el=makeEm(-Ha.italic))}var rl;if(Ya&&Xa){Qa=Math.max(Qa,Oo,Ya.depth+.25*Ka.xHeight),Va=Math.max(Va,Ka.sub2);var il=Ka.defaultRuleThickness,al=4*il;if(Qa-Ya.depth-(Xa.height-Va)<al){Va=al-(Qa-Ya.depth)+Xa.height;var ll=.8*Ka.xHeight-(Qa-Ya.depth);ll>0&&(Qa+=ll,Va-=ll)}var ul=[{type:"elem",elem:Xa,shift:Va,marginRight:Mo,marginLeft:el},{type:"elem",elem:Ya,shift:-Qa,marginRight:Mo}];rl=buildCommon.makeVList({positionType:"individualShift",children:ul},Na)}else if(Xa){Va=Math.max(Va,Ka.sub1,Xa.height-.8*Ka.xHeight);var ol=[{type:"elem",elem:Xa,marginLeft:el,marginRight:Mo}];rl=buildCommon.makeVList({positionType:"shift",positionData:Va,children:ol},Na)}else if(Ya)Qa=Math.max(Qa,Oo,Ya.depth+.25*Ka.xHeight),rl=buildCommon.makeVList({positionType:"shift",positionData:-Qa,children:[{type:"elem",elem:Ya,marginRight:Mo}]},Na);else throw new Error("supsub must have either sup or sub.");var cl=getTypeOfDomTree(Ha,"right")||"mord";return buildCommon.makeSpan([cl],[Ha,buildCommon.makeSpan(["msupsub"],[rl])],Na)},mathmlBuilder(La,Na){var ja=!1,Ba,za;La.base&&La.base.type==="horizBrace"&&(za=!!La.sup,za===La.base.isOver&&(ja=!0,Ba=La.base.isOver)),La.base&&(La.base.type==="op"||La.base.type==="operatorname")&&(La.base.parentIsSupSub=!0);var Ga=[buildGroup(La.base,Na)];La.sub&&Ga.push(buildGroup(La.sub,Na)),La.sup&&Ga.push(buildGroup(La.sup,Na));var Ha;if(ja)Ha=Ba?"mover":"munder";else if(La.sub)if(La.sup){var Ka=La.base;Ka&&Ka.type==="op"&&Ka.limits&&Na.style===Style$1.DISPLAY||Ka&&Ka.type==="operatorname"&&Ka.alwaysHandleSupSub&&(Na.style===Style$1.DISPLAY||Ka.limits)?Ha="munderover":Ha="msubsup"}else{var Xa=La.base;Xa&&Xa.type==="op"&&Xa.limits&&(Na.style===Style$1.DISPLAY||Xa.alwaysHandleSupSub)||Xa&&Xa.type==="operatorname"&&Xa.alwaysHandleSupSub&&(Xa.limits||Na.style===Style$1.DISPLAY)?Ha="munder":Ha="msub"}else{var Ya=La.base;Ya&&Ya.type==="op"&&Ya.limits&&(Na.style===Style$1.DISPLAY||Ya.alwaysHandleSupSub)||Ya&&Ya.type==="operatorname"&&Ya.alwaysHandleSupSub&&(Ya.limits||Na.style===Style$1.DISPLAY)?Ha="mover":Ha="msup"}return new mathMLTree.MathNode(Ha,Ga)}});defineFunctionBuilders({type:"atom",htmlBuilder(La,Na){return buildCommon.mathsym(La.text,La.mode,Na,["m"+La.family])},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mo",[makeText(La.text,La.mode)]);if(La.family==="bin"){var Ba=getVariant(La,Na);Ba==="bold-italic"&&ja.setAttribute("mathvariant",Ba)}else La.family==="punct"?ja.setAttribute("separator","true"):(La.family==="open"||La.family==="close")&&ja.setAttribute("stretchy","false");return ja}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(La,Na){return buildCommon.makeOrd(La,Na,"mathord")},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mi",[makeText(La.text,La.mode,Na)]),Ba=getVariant(La,Na)||"italic";return Ba!==defaultVariant[ja.type]&&ja.setAttribute("mathvariant",Ba),ja}});defineFunctionBuilders({type:"textord",htmlBuilder(La,Na){return buildCommon.makeOrd(La,Na,"textord")},mathmlBuilder(La,Na){var ja=makeText(La.text,La.mode,Na),Ba=getVariant(La,Na)||"normal",za;return La.mode==="text"?za=new mathMLTree.MathNode("mtext",[ja]):/[0-9]/.test(La.text)?za=new mathMLTree.MathNode("mn",[ja]):La.text==="\\prime"?za=new mathMLTree.MathNode("mo",[ja]):za=new mathMLTree.MathNode("mi",[ja]),Ba!==defaultVariant[za.type]&&za.setAttribute("mathvariant",Ba),za}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(La,Na){if(regularSpace.hasOwnProperty(La.text)){var ja=regularSpace[La.text].className||"";if(La.mode==="text"){var Ba=buildCommon.makeOrd(La,Na,"textord");return Ba.classes.push(ja),Ba}else return buildCommon.makeSpan(["mspace",ja],[buildCommon.mathsym(La.text,La.mode,Na)],Na)}else{if(cssSpace.hasOwnProperty(La.text))return buildCommon.makeSpan(["mspace",cssSpace[La.text]],[],Na);throw new ParseError('Unknown type of space "'+La.text+'"')}},mathmlBuilder(La,Na){var ja;if(regularSpace.hasOwnProperty(La.text))ja=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(La.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+La.text+'"')}return ja}});var pad=()=>{var La=new mathMLTree.MathNode("mtd",[]);return La.setAttribute("width","50%"),La};defineFunctionBuilders({type:"tag",mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(La.body,Na)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(La.tag,Na)])])]);return ja.setAttribute("width","100%"),ja}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(La,Na)=>{var ja=La.font;if(ja){if(textFontFamilies[ja])return Na.withTextFontFamily(textFontFamilies[ja]);if(textFontWeights[ja])return Na.withTextFontWeight(textFontWeights[ja]);if(ja==="\\emph")return Na.fontShape==="textit"?Na.withTextFontShape("textup"):Na.withTextFontShape("textit")}else return Na;return Na.withTextFontShape(textFontShapes[ja])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(La,Na){var{parser:ja,funcName:Ba}=La,za=Na[0];return{type:"text",mode:ja.mode,body:ordargument(za),font:Ba}},htmlBuilder(La,Na){var ja=optionsWithFont(La,Na),Ba=buildExpression$1(La.body,ja,!0);return buildCommon.makeSpan(["mord","text"],Ba,ja)},mathmlBuilder(La,Na){var ja=optionsWithFont(La,Na);return buildExpressionRow(La.body,ja)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(La,Na){var{parser:ja}=La;return{type:"underline",mode:ja.mode,body:Na[0]}},htmlBuilder(La,Na){var ja=buildGroup$1(La.body,Na),Ba=buildCommon.makeLineSpan("underline-line",Na),za=Na.fontMetrics().defaultRuleThickness,Ga=buildCommon.makeVList({positionType:"top",positionData:ja.height,children:[{type:"kern",size:za},{type:"elem",elem:Ba},{type:"kern",size:3*za},{type:"elem",elem:ja}]},Na);return buildCommon.makeSpan(["mord","underline"],[Ga],Na)},mathmlBuilder(La,Na){var ja=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);ja.setAttribute("stretchy","true");var Ba=new mathMLTree.MathNode("munder",[buildGroup(La.body,Na),ja]);return Ba.setAttribute("accentunder","true"),Ba}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(La,Na){var{parser:ja}=La;return{type:"vcenter",mode:ja.mode,body:Na[0]}},htmlBuilder(La,Na){var ja=buildGroup$1(La.body,Na),Ba=Na.fontMetrics().axisHeight,za=.5*(ja.height-Ba-(ja.depth+Ba));return buildCommon.makeVList({positionType:"shift",positionData:za,children:[{type:"elem",elem:ja}]},Na)},mathmlBuilder(La,Na){return new mathMLTree.MathNode("mpadded",[buildGroup(La.body,Na)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(La,Na,ja){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(La,Na){for(var ja=makeVerb(La),Ba=[],za=Na.havingStyle(Na.style.text()),Ga=0;Ga<ja.length;Ga++){var Ha=ja[Ga];Ha==="~"&&(Ha="\\textasciitilde"),Ba.push(buildCommon.makeSymbol(Ha,"Typewriter-Regular",La.mode,za,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(za.sizingClasses(Na)),buildCommon.tryCombineChars(Ba),za)},mathmlBuilder(La,Na){var ja=new mathMLTree.TextNode(makeVerb(La)),Ba=new mathMLTree.MathNode("mtext",[ja]);return Ba.setAttribute("mathvariant","monospace"),Ba}});var makeVerb=La=>La.body.replace(/ /g,La.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(Na,ja){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=Na,this.settings=ja,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(Na,ja){this.catcodes[Na]=ja}lex(){var Na=this.input,ja=this.tokenRegex.lastIndex;if(ja===Na.length)return new Token("EOF",new SourceLocation(this,ja,ja));var Ba=this.tokenRegex.exec(Na);if(Ba===null||Ba.index!==ja)throw new ParseError("Unexpected character: '"+Na[ja]+"'",new Token(Na[ja],new SourceLocation(this,ja,ja+1)));var za=Ba[6]||Ba[3]||(Ba[2]?"\\ ":" ");if(this.catcodes[za]===14){var Ga=Na.indexOf(`
`,this.tokenRegex.lastIndex);return Ga===-1?(this.tokenRegex.lastIndex=Na.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=Ga+1,this.lex()}return new Token(za,new SourceLocation(this,ja,this.tokenRegex.lastIndex))}}class Namespace{constructor(Na,ja){Na===void 0&&(Na={}),ja===void 0&&(ja={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=ja,this.builtins=Na,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var Na=this.undefStack.pop();for(var ja in Na)Na.hasOwnProperty(ja)&&(Na[ja]==null?delete this.current[ja]:this.current[ja]=Na[ja])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(Na){return this.current.hasOwnProperty(Na)||this.builtins.hasOwnProperty(Na)}get(Na){return this.current.hasOwnProperty(Na)?this.current[Na]:this.builtins[Na]}set(Na,ja,Ba){if(Ba===void 0&&(Ba=!1),Ba){for(var za=0;za<this.undefStack.length;za++)delete this.undefStack[za][Na];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][Na]=ja)}else{var Ga=this.undefStack[this.undefStack.length-1];Ga&&!Ga.hasOwnProperty(Na)&&(Ga[Na]=this.current[Na])}ja==null?delete this.current[Na]:this.current[Na]=ja}}var macros=_macros;defineMacro("\\noexpand",function(La){var Na=La.popToken();return La.isExpandable(Na.text)&&(Na.noexpand=!0,Na.treatAsRelax=!0),{tokens:[Na],numArgs:0}});defineMacro("\\expandafter",function(La){var Na=La.popToken();return La.expandOnce(!0),{tokens:[Na],numArgs:0}});defineMacro("\\@firstoftwo",function(La){var Na=La.consumeArgs(2);return{tokens:Na[0],numArgs:0}});defineMacro("\\@secondoftwo",function(La){var Na=La.consumeArgs(2);return{tokens:Na[1],numArgs:0}});defineMacro("\\@ifnextchar",function(La){var Na=La.consumeArgs(3);La.consumeSpaces();var ja=La.future();return Na[0].length===1&&Na[0][0].text===ja.text?{tokens:Na[1],numArgs:0}:{tokens:Na[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(La){var Na=La.consumeArgs(2);return La.mode==="text"?{tokens:Na[0],numArgs:0}:{tokens:Na[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(La){var Na=La.popToken(),ja,Ba="";if(Na.text==="'")ja=8,Na=La.popToken();else if(Na.text==='"')ja=16,Na=La.popToken();else if(Na.text==="`")if(Na=La.popToken(),Na.text[0]==="\\")Ba=Na.text.charCodeAt(1);else{if(Na.text==="EOF")throw new ParseError("\\char` missing argument");Ba=Na.text.charCodeAt(0)}else ja=10;if(ja){if(Ba=digitToNumber[Na.text],Ba==null||Ba>=ja)throw new ParseError("Invalid base-"+ja+" digit "+Na.text);for(var za;(za=digitToNumber[La.future().text])!=null&&za<ja;)Ba*=ja,Ba+=za,La.popToken()}return"\\@char{"+Ba+"}"});var newcommand=(La,Na,ja,Ba)=>{var za=La.consumeArg().tokens;if(za.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var Ga=za[0].text,Ha=La.isDefined(Ga);if(Ha&&!Na)throw new ParseError("\\newcommand{"+Ga+"} attempting to redefine "+(Ga+"; use \\renewcommand"));if(!Ha&&!ja)throw new ParseError("\\renewcommand{"+Ga+"} when command "+Ga+" does not yet exist; use \\newcommand");var Ya=0;if(za=La.consumeArg().tokens,za.length===1&&za[0].text==="["){for(var Xa="",Ka=La.expandNextToken();Ka.text!=="]"&&Ka.text!=="EOF";)Xa+=Ka.text,Ka=La.expandNextToken();if(!Xa.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+Xa);Ya=parseInt(Xa),za=La.consumeArg().tokens}return Ha&&Ba||La.macros.set(Ga,{tokens:za,numArgs:Ya}),""};defineMacro("\\newcommand",La=>newcommand(La,!1,!0,!1));defineMacro("\\renewcommand",La=>newcommand(La,!0,!1,!1));defineMacro("\\providecommand",La=>newcommand(La,!0,!0,!0));defineMacro("\\message",La=>{var Na=La.consumeArgs(1)[0];return console.log(Na.reverse().map(ja=>ja.text).join("")),""});defineMacro("\\errmessage",La=>{var Na=La.consumeArgs(1)[0];return console.error(Na.reverse().map(ja=>ja.text).join("")),""});defineMacro("\\show",La=>{var Na=La.popToken(),ja=Na.text;return console.log(Na,La.macros.get(ja),functions[ja],symbols.math[ja],symbols.text[ja]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(La){var Na="\\dotso",ja=La.expandAfterFuture().text;return ja in dotsByToken?Na=dotsByToken[ja]:(ja.slice(0,4)==="\\not"||ja in symbols.math&&utils$1.contains(["bin","rel"],symbols.math[ja].group))&&(Na="\\dotsb"),Na});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(La){var Na=La.future().text;return Na in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(La){var Na=La.future().text;return Na in spaceAfterDots&&Na!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(La){var Na=La.future().text;return Na in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",La=>{if(La.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=La=>Na=>{var ja=Na.consumeArg().tokens,Ba=Na.consumeArg().tokens,za=Na.consumeArg().tokens,Ga=Na.consumeArg().tokens,Ha=Na.macros.get("|"),Ya=Na.macros.get("\\|");Na.macros.beginGroup();var Xa=Va=>Ua=>{La&&(Ua.macros.set("|",Ha),za.length&&Ua.macros.set("\\|",Ya));var Wa=Va;if(!Va&&za.length){var Ja=Ua.future();Ja.text==="|"&&(Ua.popToken(),Wa=!0)}return{tokens:Wa?za:Ba,numArgs:0}};Na.macros.set("|",Xa(!1)),za.length&&Na.macros.set("\\|",Xa(!0));var Ka=Na.consumeArg().tokens,Qa=Na.expandTokens([...Ga,...Ka,...ja]);return Na.macros.endGroup(),{tokens:Qa.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(Na,ja,Ba){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=ja,this.expansionCount=0,this.feed(Na),this.macros=new Namespace(macros,ja.macros),this.mode=Ba,this.stack=[]}feed(Na){this.lexer=new Lexer(Na,this.settings)}switchMode(Na){this.mode=Na}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(Na){this.stack.push(Na)}pushTokens(Na){this.stack.push(...Na)}scanArgument(Na){var ja,Ba,za;if(Na){if(this.consumeSpaces(),this.future().text!=="[")return null;ja=this.popToken(),{tokens:za,end:Ba}=this.consumeArg(["]"])}else({tokens:za,start:ja,end:Ba}=this.consumeArg());return this.pushToken(new Token("EOF",Ba.loc)),this.pushTokens(za),ja.range(Ba,"")}consumeSpaces(){for(;;){var Na=this.future();if(Na.text===" ")this.stack.pop();else break}}consumeArg(Na){var ja=[],Ba=Na&&Na.length>0;Ba||this.consumeSpaces();var za=this.future(),Ga,Ha=0,Ya=0;do{if(Ga=this.popToken(),ja.push(Ga),Ga.text==="{")++Ha;else if(Ga.text==="}"){if(--Ha,Ha===-1)throw new ParseError("Extra }",Ga)}else if(Ga.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(Na&&Ba?Na[Ya]:"}")+"'",Ga);if(Na&&Ba)if((Ha===0||Ha===1&&Na[Ya]==="{")&&Ga.text===Na[Ya]){if(++Ya,Ya===Na.length){ja.splice(-Ya,Ya);break}}else Ya=0}while(Ha!==0||Ba);return za.text==="{"&&ja[ja.length-1].text==="}"&&(ja.pop(),ja.shift()),ja.reverse(),{tokens:ja,start:za,end:Ga}}consumeArgs(Na,ja){if(ja){if(ja.length!==Na+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var Ba=ja[0],za=0;za<Ba.length;za++){var Ga=this.popToken();if(Ba[za]!==Ga.text)throw new ParseError("Use of the macro doesn't match its definition",Ga)}}for(var Ha=[],Ya=0;Ya<Na;Ya++)Ha.push(this.consumeArg(ja&&ja[Ya+1]).tokens);return Ha}countExpansion(Na){if(this.expansionCount+=Na,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(Na){var ja=this.popToken(),Ba=ja.text,za=ja.noexpand?null:this._getExpansion(Ba);if(za==null||Na&&za.unexpandable){if(Na&&za==null&&Ba[0]==="\\"&&!this.isDefined(Ba))throw new ParseError("Undefined control sequence: "+Ba);return this.pushToken(ja),!1}this.countExpansion(1);var Ga=za.tokens,Ha=this.consumeArgs(za.numArgs,za.delimiters);if(za.numArgs){Ga=Ga.slice();for(var Ya=Ga.length-1;Ya>=0;--Ya){var Xa=Ga[Ya];if(Xa.text==="#"){if(Ya===0)throw new ParseError("Incomplete placeholder at end of macro body",Xa);if(Xa=Ga[--Ya],Xa.text==="#")Ga.splice(Ya+1,1);else if(/^[1-9]$/.test(Xa.text))Ga.splice(Ya,2,...Ha[+Xa.text-1]);else throw new ParseError("Not a valid argument number",Xa)}}}return this.pushTokens(Ga),Ga.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var Na=this.stack.pop();return Na.treatAsRelax&&(Na.text="\\relax"),Na}throw new Error}expandMacro(Na){return this.macros.has(Na)?this.expandTokens([new Token(Na)]):void 0}expandTokens(Na){var ja=[],Ba=this.stack.length;for(this.pushTokens(Na);this.stack.length>Ba;)if(this.expandOnce(!0)===!1){var za=this.stack.pop();za.treatAsRelax&&(za.noexpand=!1,za.treatAsRelax=!1),ja.push(za)}return this.countExpansion(ja.length),ja}expandMacroAsText(Na){var ja=this.expandMacro(Na);return ja&&ja.map(Ba=>Ba.text).join("")}_getExpansion(Na){var ja=this.macros.get(Na);if(ja==null)return ja;if(Na.length===1){var Ba=this.lexer.catcodes[Na];if(Ba!=null&&Ba!==13)return}var za=typeof ja=="function"?ja(this):ja;if(typeof za=="string"){var Ga=0;if(za.indexOf("#")!==-1)for(var Ha=za.replace(/##/g,"");Ha.indexOf("#"+(Ga+1))!==-1;)++Ga;for(var Ya=new Lexer(za,this.settings),Xa=[],Ka=Ya.lex();Ka.text!=="EOF";)Xa.push(Ka),Ka=Ya.lex();Xa.reverse();var Qa={tokens:Xa,numArgs:Ga};return Qa}return za}isDefined(Na){return this.macros.has(Na)||functions.hasOwnProperty(Na)||symbols.math.hasOwnProperty(Na)||symbols.text.hasOwnProperty(Na)||implicitCommands.hasOwnProperty(Na)}isExpandable(Na){var ja=this.macros.get(Na);return ja!=null?typeof ja=="string"||typeof ja=="function"||!ja.unexpandable:functions.hasOwnProperty(Na)&&!functions[Na].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(Na,ja){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(Na,ja,this.mode),this.settings=ja,this.leftrightDepth=0}expect(Na,ja){if(ja===void 0&&(ja=!0),this.fetch().text!==Na)throw new ParseError("Expected '"+Na+"', got '"+this.fetch().text+"'",this.fetch());ja&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(Na){this.mode=Na,this.gullet.switchMode(Na)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var Na=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),Na}finally{this.gullet.endGroups()}}subparse(Na){var ja=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(Na);var Ba=this.parseExpression(!1);return this.expect("}"),this.nextToken=ja,Ba}parseExpression(Na,ja){for(var Ba=[];;){this.mode==="math"&&this.consumeSpaces();var za=this.fetch();if(Parser.endOfExpression.indexOf(za.text)!==-1||ja&&za.text===ja||Na&&functions[za.text]&&functions[za.text].infix)break;var Ga=this.parseAtom(ja);if(Ga){if(Ga.type==="internal")continue}else break;Ba.push(Ga)}return this.mode==="text"&&this.formLigatures(Ba),this.handleInfixNodes(Ba)}handleInfixNodes(Na){for(var ja=-1,Ba,za=0;za<Na.length;za++)if(Na[za].type==="infix"){if(ja!==-1)throw new ParseError("only one infix operator per group",Na[za].token);ja=za,Ba=Na[za].replaceWith}if(ja!==-1&&Ba){var Ga,Ha,Ya=Na.slice(0,ja),Xa=Na.slice(ja+1);Ya.length===1&&Ya[0].type==="ordgroup"?Ga=Ya[0]:Ga={type:"ordgroup",mode:this.mode,body:Ya},Xa.length===1&&Xa[0].type==="ordgroup"?Ha=Xa[0]:Ha={type:"ordgroup",mode:this.mode,body:Xa};var Ka;return Ba==="\\\\abovefrac"?Ka=this.callFunction(Ba,[Ga,Na[ja],Ha],[]):Ka=this.callFunction(Ba,[Ga,Ha],[]),[Ka]}else return Na}handleSupSubscript(Na){var ja=this.fetch(),Ba=ja.text;this.consume(),this.consumeSpaces();var za;do{var Ga;za=this.parseGroup(Na)}while(((Ga=za)==null?void 0:Ga.type)==="internal");if(!za)throw new ParseError("Expected group after '"+Ba+"'",ja);return za}formatUnsupportedCmd(Na){for(var ja=[],Ba=0;Ba<Na.length;Ba++)ja.push({type:"textord",mode:"text",text:Na[Ba]});var za={type:"text",mode:this.mode,body:ja},Ga={type:"color",mode:this.mode,color:this.settings.errorColor,body:[za]};return Ga}parseAtom(Na){var ja=this.parseGroup("atom",Na);if(ja?.type==="internal"||this.mode==="text")return ja;for(var Ba,za;;){this.consumeSpaces();var Ga=this.fetch();if(Ga.text==="\\limits"||Ga.text==="\\nolimits"){if(ja&&ja.type==="op"){var Ha=Ga.text==="\\limits";ja.limits=Ha,ja.alwaysHandleSupSub=!0}else if(ja&&ja.type==="operatorname")ja.alwaysHandleSupSub&&(ja.limits=Ga.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",Ga);this.consume()}else if(Ga.text==="^"){if(Ba)throw new ParseError("Double superscript",Ga);Ba=this.handleSupSubscript("superscript")}else if(Ga.text==="_"){if(za)throw new ParseError("Double subscript",Ga);za=this.handleSupSubscript("subscript")}else if(Ga.text==="'"){if(Ba)throw new ParseError("Double superscript",Ga);var Ya={type:"textord",mode:this.mode,text:"\\prime"},Xa=[Ya];for(this.consume();this.fetch().text==="'";)Xa.push(Ya),this.consume();this.fetch().text==="^"&&Xa.push(this.handleSupSubscript("superscript")),Ba={type:"ordgroup",mode:this.mode,body:Xa}}else if(uSubsAndSups[Ga.text]){var Ka=unicodeSubRegEx.test(Ga.text),Qa=[];for(Qa.push(new Token(uSubsAndSups[Ga.text])),this.consume();;){var Va=this.fetch().text;if(!uSubsAndSups[Va]||unicodeSubRegEx.test(Va)!==Ka)break;Qa.unshift(new Token(uSubsAndSups[Va])),this.consume()}var Ua=this.subparse(Qa);Ka?za={type:"ordgroup",mode:"math",body:Ua}:Ba={type:"ordgroup",mode:"math",body:Ua}}else break}return Ba||za?{type:"supsub",mode:this.mode,base:ja,sup:Ba,sub:za}:ja}parseFunction(Na,ja){var Ba=this.fetch(),za=Ba.text,Ga=functions[za];if(!Ga)return null;if(this.consume(),ja&&ja!=="atom"&&!Ga.allowedInArgument)throw new ParseError("Got function '"+za+"' with no arguments"+(ja?" as "+ja:""),Ba);if(this.mode==="text"&&!Ga.allowedInText)throw new ParseError("Can't use function '"+za+"' in text mode",Ba);if(this.mode==="math"&&Ga.allowedInMath===!1)throw new ParseError("Can't use function '"+za+"' in math mode",Ba);var{args:Ha,optArgs:Ya}=this.parseArguments(za,Ga);return this.callFunction(za,Ha,Ya,Ba,Na)}callFunction(Na,ja,Ba,za,Ga){var Ha={funcName:Na,parser:this,token:za,breakOnTokenText:Ga},Ya=functions[Na];if(Ya&&Ya.handler)return Ya.handler(Ha,ja,Ba);throw new ParseError("No function handler for "+Na)}parseArguments(Na,ja){var Ba=ja.numArgs+ja.numOptionalArgs;if(Ba===0)return{args:[],optArgs:[]};for(var za=[],Ga=[],Ha=0;Ha<Ba;Ha++){var Ya=ja.argTypes&&ja.argTypes[Ha],Xa=Ha<ja.numOptionalArgs;(ja.primitive&&Ya==null||ja.type==="sqrt"&&Ha===1&&Ga[0]==null)&&(Ya="primitive");var Ka=this.parseGroupOfType("argument to '"+Na+"'",Ya,Xa);if(Xa)Ga.push(Ka);else if(Ka!=null)za.push(Ka);else throw new ParseError("Null argument, please report this as a bug")}return{args:za,optArgs:Ga}}parseGroupOfType(Na,ja,Ba){switch(ja){case"color":return this.parseColorGroup(Ba);case"size":return this.parseSizeGroup(Ba);case"url":return this.parseUrlGroup(Ba);case"math":case"text":return this.parseArgumentGroup(Ba,ja);case"hbox":{var za=this.parseArgumentGroup(Ba,"text");return za!=null?{type:"styling",mode:za.mode,body:[za],style:"text"}:null}case"raw":{var Ga=this.parseStringGroup("raw",Ba);return Ga!=null?{type:"raw",mode:"text",string:Ga.text}:null}case"primitive":{if(Ba)throw new ParseError("A primitive argument cannot be optional");var Ha=this.parseGroup(Na);if(Ha==null)throw new ParseError("Expected group as "+Na,this.fetch());return Ha}case"original":case null:case void 0:return this.parseArgumentGroup(Ba);default:throw new ParseError("Unknown group type as "+Na,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(Na,ja){var Ba=this.gullet.scanArgument(ja);if(Ba==null)return null;for(var za="",Ga;(Ga=this.fetch()).text!=="EOF";)za+=Ga.text,this.consume();return this.consume(),Ba.text=za,Ba}parseRegexGroup(Na,ja){for(var Ba=this.fetch(),za=Ba,Ga="",Ha;(Ha=this.fetch()).text!=="EOF"&&Na.test(Ga+Ha.text);)za=Ha,Ga+=za.text,this.consume();if(Ga==="")throw new ParseError("Invalid "+ja+": '"+Ba.text+"'",Ba);return Ba.range(za,Ga)}parseColorGroup(Na){var ja=this.parseStringGroup("color",Na);if(ja==null)return null;var Ba=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(ja.text);if(!Ba)throw new ParseError("Invalid color: '"+ja.text+"'",ja);var za=Ba[0];return/^[0-9a-f]{6}$/i.test(za)&&(za="#"+za),{type:"color-token",mode:this.mode,color:za}}parseSizeGroup(Na){var ja,Ba=!1;if(this.gullet.consumeSpaces(),!Na&&this.gullet.future().text!=="{"?ja=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):ja=this.parseStringGroup("size",Na),!ja)return null;!Na&&ja.text.length===0&&(ja.text="0pt",Ba=!0);var za=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(ja.text);if(!za)throw new ParseError("Invalid size: '"+ja.text+"'",ja);var Ga={number:+(za[1]+za[2]),unit:za[3]};if(!validUnit(Ga))throw new ParseError("Invalid unit: '"+Ga.unit+"'",ja);return{type:"size",mode:this.mode,value:Ga,isBlank:Ba}}parseUrlGroup(Na){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var ja=this.parseStringGroup("url",Na);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),ja==null)return null;var Ba=ja.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:Ba}}parseArgumentGroup(Na,ja){var Ba=this.gullet.scanArgument(Na);if(Ba==null)return null;var za=this.mode;ja&&this.switchMode(ja),this.gullet.beginGroup();var Ga=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var Ha={type:"ordgroup",mode:this.mode,loc:Ba.loc,body:Ga};return ja&&this.switchMode(za),Ha}parseGroup(Na,ja){var Ba=this.fetch(),za=Ba.text,Ga;if(za==="{"||za==="\\begingroup"){this.consume();var Ha=za==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Ya=this.parseExpression(!1,Ha),Xa=this.fetch();this.expect(Ha),this.gullet.endGroup(),Ga={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(Ba,Xa),body:Ya,semisimple:za==="\\begingroup"||void 0}}else if(Ga=this.parseFunction(ja,Na)||this.parseSymbol(),Ga==null&&za[0]==="\\"&&!implicitCommands.hasOwnProperty(za)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+za,Ba);Ga=this.formatUnsupportedCmd(za),this.consume()}return Ga}formLigatures(Na){for(var ja=Na.length-1,Ba=0;Ba<ja;++Ba){var za=Na[Ba],Ga=za.text;Ga==="-"&&Na[Ba+1].text==="-"&&(Ba+1<ja&&Na[Ba+2].text==="-"?(Na.splice(Ba,3,{type:"textord",mode:"text",loc:SourceLocation.range(za,Na[Ba+2]),text:"---"}),ja-=2):(Na.splice(Ba,2,{type:"textord",mode:"text",loc:SourceLocation.range(za,Na[Ba+1]),text:"--"}),ja-=1)),(Ga==="'"||Ga==="`")&&Na[Ba+1].text===Ga&&(Na.splice(Ba,2,{type:"textord",mode:"text",loc:SourceLocation.range(za,Na[Ba+1]),text:Ga+Ga}),ja-=1)}}parseSymbol(){var Na=this.fetch(),ja=Na.text;if(/^\\verb[^a-zA-Z]/.test(ja)){this.consume();var Ba=ja.slice(5),za=Ba.charAt(0)==="*";if(za&&(Ba=Ba.slice(1)),Ba.length<2||Ba.charAt(0)!==Ba.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return Ba=Ba.slice(1,-1),{type:"verb",mode:"text",body:Ba,star:za}}unicodeSymbols.hasOwnProperty(ja[0])&&!symbols[this.mode][ja[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+ja[0]+'" used in math mode',Na),ja=unicodeSymbols[ja[0]]+ja.slice(1));var Ga=combiningDiacriticalMarksEndRegex.exec(ja);Ga&&(ja=ja.substring(0,Ga.index),ja==="i"?ja="":ja==="j"&&(ja=""));var Ha;if(symbols[this.mode][ja]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(ja)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+ja[0]+'" used in math mode',Na);var Ya=symbols[this.mode][ja].group,Xa=SourceLocation.range(Na),Ka;if(ATOMS.hasOwnProperty(Ya)){var Qa=Ya;Ka={type:"atom",mode:this.mode,family:Qa,loc:Xa,text:ja}}else Ka={type:Ya,mode:this.mode,loc:Xa,text:ja};Ha=Ka}else if(ja.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(ja.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+ja[0]+'" used in math mode',Na):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+ja[0]+'"'+(" ("+ja.charCodeAt(0)+")"),Na)),Ha={type:"textord",mode:"text",loc:SourceLocation.range(Na),text:ja};else return null;if(this.consume(),Ga)for(var Va=0;Va<Ga[0].length;Va++){var Ua=Ga[0][Va];if(!unicodeAccents[Ua])throw new ParseError("Unknown accent ' "+Ua+"'",Na);var Wa=unicodeAccents[Ua][this.mode]||unicodeAccents[Ua].text;if(!Wa)throw new ParseError("Accent "+Ua+" unsupported in "+this.mode+" mode",Na);Ha={type:"accent",mode:this.mode,loc:SourceLocation.range(Na),label:Wa,isStretchy:!1,isShifty:!0,base:Ha}}return Ha}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(Na,ja){if(!(typeof Na=="string"||Na instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var Ba=new Parser(Na,ja);delete Ba.gullet.macros.current["\\df@tag"];var za=Ba.parse();if(delete Ba.gullet.macros.current["\\current@color"],delete Ba.gullet.macros.current["\\color"],Ba.gullet.macros.get("\\df@tag")){if(!ja.displayMode)throw new ParseError("\\tag works only in display equations");za=[{type:"tag",mode:"text",body:za,tag:Ba.subparse([new Token("\\df@tag")])}]}return za},render=function(Na,ja,Ba){ja.textContent="";var za=renderToDomTree(Na,Ba).toNode();ja.appendChild(za)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(Na,ja){var Ba=renderToDomTree(Na,ja).toMarkup();return Ba},generateParseTree=function(Na,ja){var Ba=new Settings$1(ja);return parseTree(Na,Ba)},renderError=function(Na,ja,Ba){if(Ba.throwOnError||!(Na instanceof ParseError))throw Na;var za=buildCommon.makeSpan(["katex-error"],[new SymbolNode(ja)]);return za.setAttribute("title",Na.toString()),za.setAttribute("style","color:"+Ba.errorColor),za},renderToDomTree=function(Na,ja){var Ba=new Settings$1(ja);try{var za=parseTree(Na,Ba);return buildTree(za,Na,Ba)}catch(Ga){return renderError(Ga,Na,Ba)}},renderToHTMLTree=function(Na,ja){var Ba=new Settings$1(ja);try{var za=parseTree(Na,Ba);return buildHTMLTree(za,Na,Ba)}catch(Ga){return renderError(Ga,Na,Ba)}},version="0.16.22",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$1={};function remarkMath(La){const Na=this,ja=La||emptyOptions$1,Ba=Na.data(),za=Ba.micromarkExtensions||(Ba.micromarkExtensions=[]),Ga=Ba.fromMarkdownExtensions||(Ba.fromMarkdownExtensions=[]),Ha=Ba.toMarkdownExtensions||(Ba.toMarkdownExtensions=[]);za.push(math$1(ja)),Ga.push(mathFromMarkdown()),Ha.push(mathToMarkdown(ja))}function fromDom(La,Na){return transform(La,{})||{type:"root",children:[]}}function transform(La,Na){const ja=one(La,Na);return ja&&Na.afterTransform&&Na.afterTransform(La,ja),ja}function one(La,Na){switch(La.nodeType){case 1:return element$1(La,Na);case 3:return text(La);case 8:return comment(La);case 9:return root(La,Na);case 10:return doctype();case 11:return root(La,Na);default:return}}function root(La,Na){return{type:"root",children:all(La,Na)}}function doctype(){return{type:"doctype"}}function text(La){return{type:"text",value:La.nodeValue||""}}function comment(La){return{type:"comment",value:La.nodeValue||""}}function element$1(La,Na){const ja=La.namespaceURI,Ba=ja===webNamespaces.svg?s:h,za=ja===webNamespaces.html?La.tagName.toLowerCase():La.tagName,Ga=ja===webNamespaces.html&&za==="template"?La.content:La,Ha=La.getAttributeNames(),Ya={};let Xa=-1;for(;++Xa<Ha.length;)Ya[Ha[Xa]]=La.getAttribute(Ha[Xa])||"";return Ba(za,Ya,all(Ga,Na))}function all(La,Na){const ja=La.childNodes,Ba=[];let za=-1;for(;++za<ja.length;){const Ga=transform(ja[za],Na);Ga!==void 0&&Ba.push(Ga)}return Ba}new DOMParser;function fromHtmlIsomorphic(La,Na){const ja=parseFragment(La);return fromDom(ja)}function parseFragment(La){const Na=document.createElement("template");return Na.innerHTML=La,Na.content}const findAfter=(function(La,Na,ja){const Ba=convert(ja);if(!La||!La.type||!La.children)throw new Error("Expected parent node");if(typeof Na=="number"){if(Na<0||Na===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(Na=La.children.indexOf(Na),Na<0)throw new Error("Expected child node or index");for(;++Na<La.children.length;)if(Ba(La.children[Na],Na,La))return La.children[Na]}),convertElement=(function(La){if(La==null)return element;if(typeof La=="string")return tagNameFactory(La);if(typeof La=="object")return anyFactory(La);if(typeof La=="function")return castFactory(La);throw new Error("Expected function, string, or array as `test`")});function anyFactory(La){const Na=[];let ja=-1;for(;++ja<La.length;)Na[ja]=convertElement(La[ja]);return castFactory(Ba);function Ba(...za){let Ga=-1;for(;++Ga<Na.length;)if(Na[Ga].apply(this,za))return!0;return!1}}function tagNameFactory(La){return castFactory(Na);function Na(ja){return ja.tagName===La}}function castFactory(La){return Na;function Na(ja,Ba,za){return!!(looksLikeAnElement(ja)&&La.call(this,ja,typeof Ba=="number"?Ba:void 0,za||void 0))}}function element(La){return!!(La&&typeof La=="object"&&"type"in La&&La.type==="element"&&"tagName"in La&&typeof La.tagName=="string")}function looksLikeAnElement(La){return La!==null&&typeof La=="object"&&"type"in La&&"tagName"in La}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(La,Na){const ja=Na||{},Ba="children"in La?La.children:[],za=blockOrCaption(La),Ga=inferWhitespace(La,{whitespace:ja.whitespace||"normal"}),Ha=[];(La.type==="text"||La.type==="comment")&&Ha.push(...collectText(La,{breakBefore:!0,breakAfter:!0}));let Ya=-1;for(;++Ya<Ba.length;)Ha.push(...renderedTextCollection(Ba[Ya],La,{whitespace:Ga,breakBefore:Ya?void 0:za,breakAfter:Ya<Ba.length-1?br(Ba[Ya+1]):za}));const Xa=[];let Ka;for(Ya=-1;++Ya<Ha.length;){const Qa=Ha[Ya];typeof Qa=="number"?Ka!==void 0&&Qa>Ka&&(Ka=Qa):Qa&&(Ka!==void 0&&Ka>-1&&Xa.push(`
`.repeat(Ka)||" "),Ka=-1,Xa.push(Qa))}return Xa.join("")}function renderedTextCollection(La,Na,ja){return La.type==="element"?collectElement(La,Na,ja):La.type==="text"?ja.whitespace==="normal"?collectText(La,ja):collectPreText(La):[]}function collectElement(La,Na,ja){const Ba=inferWhitespace(La,ja),za=La.children||[];let Ga=-1,Ha=[];if(notRendered(La))return Ha;let Ya,Xa;for(br(La)||row(La)&&findAfter(Na,La,row)?Xa=`
`:p(La)?(Ya=2,Xa=2):blockOrCaption(La)&&(Ya=1,Xa=1);++Ga<za.length;)Ha=Ha.concat(renderedTextCollection(za[Ga],La,{whitespace:Ba,breakBefore:Ga?void 0:Ya,breakAfter:Ga<za.length-1?br(za[Ga+1]):Xa}));return cell(La)&&findAfter(Na,La,cell)&&Ha.push("	"),Ya&&Ha.unshift(Ya),Xa&&Ha.push(Xa),Ha}function collectText(La,Na){const ja=String(La.value),Ba=[],za=[];let Ga=0;for(;Ga<=ja.length;){searchLineFeeds.lastIndex=Ga;const Xa=searchLineFeeds.exec(ja),Ka=Xa&&"index"in Xa?Xa.index:ja.length;Ba.push(trimAndCollapseSpacesAndTabs(ja.slice(Ga,Ka).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),Ga===0?Na.breakBefore:!0,Ka===ja.length?Na.breakAfter:!0)),Ga=Ka+1}let Ha=-1,Ya;for(;++Ha<Ba.length;)Ba[Ha].charCodeAt(Ba[Ha].length-1)===8203||Ha<Ba.length-1&&Ba[Ha+1].charCodeAt(0)===8203?(za.push(Ba[Ha]),Ya=void 0):Ba[Ha]?(typeof Ya=="number"&&za.push(Ya),za.push(Ba[Ha]),Ya=0):(Ha===0||Ha===Ba.length-1)&&za.push(0);return za}function collectPreText(La){return[String(La.value)]}function trimAndCollapseSpacesAndTabs(La,Na,ja){const Ba=[];let za=0,Ga;for(;za<La.length;){searchTabOrSpaces.lastIndex=za;const Ha=searchTabOrSpaces.exec(La);Ga=Ha?Ha.index:La.length,!za&&!Ga&&Ha&&!Na&&Ba.push(""),za!==Ga&&Ba.push(La.slice(za,Ga)),za=Ha?Ga+Ha[0].length:Ga}return za!==Ga&&!ja&&Ba.push(""),Ba.join(" ")}function inferWhitespace(La,Na){if(La.type==="element"){const ja=La.properties||{};switch(La.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return ja.wrap?"pre-wrap":"pre";case"td":case"th":return ja.noWrap?"nowrap":Na.whitespace;case"textarea":return"pre-wrap"}}return Na.whitespace}function hidden(La){return!!(La.properties||{}).hidden}function isCell(La){return La.tagName==="td"||La.tagName==="th"}function closedDialog(La){return La.tagName==="dialog"&&!(La.properties||{}).open}const emptyOptions={},emptyClasses=[];function rehypeKatex(La){const Na=La||emptyOptions;return function(ja,Ba){visitParents(ja,"element",function(za,Ga){const Ha=Array.isArray(za.properties.className)?za.properties.className:emptyClasses,Ya=Ha.includes("language-math"),Xa=Ha.includes("math-display"),Ka=Ha.includes("math-inline");let Qa=Xa;if(!Ya&&!Xa&&!Ka)return;let Va=Ga[Ga.length-1],Ua=za;if(za.tagName==="code"&&Ya&&Va&&Va.type==="element"&&Va.tagName==="pre"&&(Ua=Va,Va=Ga[Ga.length-2],Qa=!0),!Va)return;const Wa=toText(Ua,{whitespace:"pre"});let Ja;try{Ja=katex.renderToString(Wa,{...Na,displayMode:Qa,throwOnError:!0})}catch(Do){const Mo=Do,el=Mo.name.toLowerCase();Ba.message("Could not render math with KaTeX",{ancestors:[...Ga,za],cause:Mo,place:za.position,ruleId:el,source:"rehype-katex"});try{Ja=katex.renderToString(Wa,{...Na,displayMode:Qa,strict:"ignore",throwOnError:!1})}catch{Ja=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(Na.errorColor||"#cc0000"),title:String(Do)},children:[{type:"text",value:Wa}]}]}}typeof Ja=="string"&&(Ja=fromHtmlIsomorphic(Ja).children);const Oo=Va.children.indexOf(Ua);return Va.children.splice(Oo,1,...Ja),SKIP})}}async function openUrl(La,Na){await invoke("plugin:opener|open_url",{url:La,with:Na})}function Markdown({children:La}){const Na=La.replace(/\\\[(.*?)\\\]/gs,"$$$1$$").replace(/\\\((.*?)\\\)/gs,"$$$1$");return jsxRuntimeExports.jsx(Markdown$1,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeRaw,rehypeSanitize,rehypeKatex],components:COMPONENTS,children:Na})}function createResource(La){let Na="pending",ja;const Ba=La.then(za=>{Na="success",ja=za},za=>{Na="error",ja=za});return{read(){if(Na==="pending")throw Ba;if(Na==="error")throw ja;return ja}}}const HighlightedPre=React.memo(({children:La,language:Na,...ja})=>{const za=React.useMemo(()=>createResource((async()=>{const{codeToTokens:Ha,bundledLanguages:Ya}=await __vitePreload(async()=>{const{codeToTokens:Ka,bundledLanguages:Qa}=await import("./index-B6a1GuuR.js");return{codeToTokens:Ka,bundledLanguages:Qa}},[]);if(!(Na in Ya))return null;const{tokens:Xa}=await Ha(La,{lang:Na,defaultColor:!1,themes:{light:"github-light",dark:"github-dark"}});return{tokens:Xa}})()),[La,Na]).read();if(!za)return jsxRuntimeExports.jsx("pre",{...ja,children:La});const{tokens:Ga}=za;return jsxRuntimeExports.jsx("pre",{...ja,children:jsxRuntimeExports.jsx("code",{children:Ga.map((Ha,Ya)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:Ha.map((Xa,Ka)=>{const Qa=typeof Xa.htmlStyle=="string"?void 0:Xa.htmlStyle;return jsxRuntimeExports.jsx("span",{className:"text-shiki-light bg-shiki-light-bg dark:text-shiki-dark dark:bg-shiki-dark-bg",style:Qa,children:Xa.content},Ka)})}),Ya!==Ga.length-1&&`
`]},Ya))})})});HighlightedPre.displayName="HighlightedCode";const CodeBlock=({children:La,className:Na,language:ja,...Ba})=>{const za=typeof La=="string"?La:childrenTakeAllStringContents(La),Ga=cn("w-full whitespace-pre-wrap rounded-md border bg-background/50 p-4 font-mono text-sm [scrollbar-width:none]",Na);return jsxRuntimeExports.jsxs("div",{className:"group/code relative",children:[jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("pre",{className:Ga,...Ba,children:La}),children:jsxRuntimeExports.jsx(HighlightedPre,{language:ja,className:Ga,children:za})}),jsxRuntimeExports.jsx("div",{className:"invisible absolute right-2 top-2 flex space-x-1 rounded-lg p-1 opacity-0 transition-all duration-200 group-hover/code:visible group-hover/code:opacity-100",children:jsxRuntimeExports.jsx(CopyButton,{content:za,copyMessage:"Copied code to clipboard"})})]})};function childrenTakeAllStringContents(La){if(typeof La=="string")return La;if(La?.props?.children){const Na=La.props.children;return Array.isArray(Na)?Na.map(ja=>childrenTakeAllStringContents(ja)).join(""):childrenTakeAllStringContents(Na)}return""}const COMPONENTS={h1:withClass("h1","text-2xl font-semibold mb-4 mt-6"),h2:withClass("h2","font-semibold text-xl mb-3 mt-5"),h3:withClass("h3","font-semibold text-lg mb-2 mt-4"),h4:withClass("h4","font-semibold text-base mb-2 mt-3"),h5:withClass("h5","font-medium mb-1 mt-2"),strong:withClass("strong","font-semibold"),a:({children:La,href:Na,...ja})=>{const Ba=async za=>{if(za.preventDefault(),Na)try{await openUrl(Na)}catch(Ga){console.error("Failed to open URL:",Ga)}};return jsxRuntimeExports.jsx("a",{href:Na,className:"text-gray-600 underline underline-offset-2 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 cursor-pointer",onClick:Ba,...ja,children:La})},blockquote:withClass("blockquote","border-l-4 border-primary pl-4 my-4 italic"),code:({children:La,className:Na,...ja})=>{const Ba=/language-(\w+)/.exec(Na||"");return Ba?jsxRuntimeExports.jsx(CodeBlock,{className:Na,language:Ba[1],...ja,children:La}):jsxRuntimeExports.jsx("code",{className:cn("font-mono [:not(pre)>&]:rounded-md [:not(pre)>&]:bg-background/50 [:not(pre)>&]:px-1 [:not(pre)>&]:py-0.5"),...ja,children:La})},pre:({children:La})=>La,ol:withClass("ol","list-decimal pl-6 my-2 space-y-1"),ul:withClass("ul","list-disc pl-6 my-2 space-y-1"),li:withClass("li","my-0 leading-tight"),table:withClass("table","w-full border-collapse overflow-y-auto rounded-md border border-foreground/20 my-4"),thead:withClass("thead","bg-foreground/10"),th:withClass("th","border border-foreground/20 px-4 py-1 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right"),td:withClass("td","border border-foreground/20 px-4 py-1 text-left [&[align=center]]:text-center [&[align=right]]:text-right"),tr:withClass("tr","m-0 border-t p-0 even:bg-muted/50"),p:withClass("p","whitespace-pre-wrap my-3"),hr:withClass("hr","border-foreground/20 my-6"),img:withClass("img","max-w-full h-auto rounded-md my-4"),input:({node:La,...Na})=>La.properties.type==="checkbox"?jsxRuntimeExports.jsx("input",{type:"checkbox",className:"mr-2",...Na,disabled:!0}):jsxRuntimeExports.jsx("input",{...Na})};function withClass(La,Na){const ja=({...Ba})=>jsxRuntimeExports.jsx(La,{className:Na,...Ba});return ja.displayName=La,ja}const QuickActions=({actions:La,onActionClick:Na,onAddAction:ja,onRemoveAction:Ba,isManaging:za,setIsManaging:Ga,show:Ha,setShow:Ya})=>{const[Xa,Ka]=reactExports.useState(""),Qa=()=>{ja(Xa.trim()),Ka("")};return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-5",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-500",children:"Quick Actions/Smart Conversation Helpers"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ha?jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"h-auto px-2 py-1 text-xs",onClick:()=>Ga(!za),children:[jsxRuntimeExports.jsx(Settings2,{className:"w-3.5 h-3.5 mr-1"}),za?"Done":"Manage"]}):null,jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>{Ya(!Ha),Ga(!1)},children:Ha?jsxRuntimeExports.jsx(EyeOff,{className:"w-3.5 h-3.5"}):jsxRuntimeExports.jsx(Eye,{className:"w-3.5 h-3.5"})})]})]}),Ha&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[La.map(Va=>jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"text-xs h-7 pr-2",onClick:()=>{za||Na(Va)},children:[Va,za&&jsxRuntimeExports.jsx("button",{onClick:Ua=>{Ua.stopPropagation(),Ba(Va)},className:"ml-2 cursor-pointer text-gray-400 hover:text-red-500",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]})},Va)),za&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:Xa,onChange:Va=>Ka(Va.target.value),placeholder:"Add new...",className:"h-7 text-xs w-32",onKeyDown:Va=>{Va.key==="Enter"&&(Va.preventDefault(),Qa())}}),jsxRuntimeExports.jsxs(Button,{size:"sm",className:"h-7 text-xs",onClick:Qa,disabled:!Xa.trim(),children:[jsxRuntimeExports.jsx(Plus,{className:"w-3.5 h-3.5 mr-1"}),"Add"]})]})]})]})},OperationSection=({lastTranscription:La,lastAIResponse:Na,isAIProcessing:ja,conversation:Ba,startNewConversation:za,quickActions:Ga,addQuickAction:Ha,removeQuickAction:Ya,isManagingQuickActions:Xa,setIsManagingQuickActions:Ka,showQuickActions:Qa,setShowQuickActions:Va,handleQuickActionClick:Ua})=>{const[Wa,Ja]=reactExports.useState(!0);return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[(Na||ja)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(QuickActions,{actions:Ga,onActionClick:Ua,onAddAction:Ha,onRemoveAction:Ya,isManaging:Xa,setIsManaging:Ka,show:Qa,setShow:Va}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-xs",children:`AI Assistant - answering to "${La}"`})]}),jsxRuntimeExports.jsx(Card,{className:"p-3 bg-transparent",children:ja&&!Na?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("p",{className:"text-xs italic",children:"Generating response..."})]}):jsxRuntimeExports.jsxs("p",{className:"text-md leading-relaxed whitespace-pre-wrap",children:[Na?jsxRuntimeExports.jsx(Markdown,{children:Na}):null,ja&&jsxRuntimeExports.jsx("span",{className:"inline-block w-2 h-4 animate-pulse ml-1"})]})})]})]}),Ba.messages.length>2&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-md w-full cursor-pointer",onClick:()=>Ja(!Wa),children:"Conversations"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>Ja(!Wa),children:Wa?jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{za(),Ja(!1)},children:"Start New"})]})]}),Wa?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ba.messages.length>2&&Ba?.messages?.slice(2).sort((Oo,Do)=>Do.timestamp-Oo.timestamp).map(Oo=>jsxRuntimeExports.jsxs("div",{className:"space-y-3 flex flex-row gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start gap-2",children:jsxRuntimeExports.jsx("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center",children:Oo.role==="user"?jsxRuntimeExports.jsx(Headphones,{className:"h-4 w-4 text-muted-foreground"}):jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4 text-muted-foreground"})})}),jsxRuntimeExports.jsx(Card,{className:"p-3 bg-transparent",children:jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:jsxRuntimeExports.jsx(Markdown,{children:Oo.content})})})]}))}):null]})]})},Context=({useSystemPrompt:La,setUseSystemPrompt:Na,contextContent:ja,setContextContent:Ba})=>{const[za,Ga]=reactExports.useState(!1),[Ha,Ya]=reactExports.useState(""),Xa=Va=>{const Ua=getPromptTemplateById(Va);Ua&&(Ba(Ua.prompt),Ya(""))},Ka=()=>La?"System Prompt":"Custom System Prompt + Context",Qa=()=>La?"Using the default system prompt from settings":"Create a custom system prompt with specific context. Define how the AI should behave AND provide the knowledge it needs (meeting notes, translation rules, resume details, etc.).";return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>Ga(!za),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-xs",children:Ka()}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:Qa()})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:()=>Ga(!za),className:"h-8 w-8 p-0",children:za?jsxRuntimeExports.jsx(ArrowUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ArrowDown,{className:"w-4 h-4"})})]}),za?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4 border-t border-input/50 pt-4",children:[jsxRuntimeExports.jsx(Header,{title:La?"System Prompt":"Custom System Prompt + Context",description:`Toggle to use the ${La?"custom system prompt":"default system prompt"} from settings`}),jsxRuntimeExports.jsx(Switch,{checked:La,onCheckedChange:Na})]}),!La&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"space-y-1 w-full flex justify-end",children:jsxRuntimeExports.jsxs(Select,{value:Ha,onValueChange:Xa,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"max-w-54",children:[jsxRuntimeExports.jsx(Wand,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"auto-prefill"})]}),jsxRuntimeExports.jsx(SelectContent,{children:jsxRuntimeExports.jsxs(SelectGroup,{children:[jsxRuntimeExports.jsx(SelectLabel,{className:"py-2",children:"Select a template above to instantly populate the textarea with a ready-to-use prompt"}),PROMPT_TEMPLATES.map(Va=>jsxRuntimeExports.jsx(SelectItem,{value:Va.id,children:Va.name},Va.id))]})})]})}),jsxRuntimeExports.jsx(Textarea,{placeholder:`Write a complete system prompt with context. Include both instructions and knowledge:\r
\r
Example:\r
You are a meeting assistant. Be concise and professional. Use the following meeting notes to answer questions:\r
\r
[Meeting Notes]\r
- Project deadline: Dec 15th\r
- Budget approved: $50k\r
- Team: John (dev), Sarah (design), Mike (PM)\r
- Next review: Friday 2PM\r
\r
Answer questions about this meeting content and help with follow-up tasks.`,value:ja,onChange:Va=>Ba(Va.target.value),className:"min-h-54 resize-none border-1 border-input/50 focus:border-primary/50 transition-colors"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70",children:" Tip: This replaces the system prompt entirely. Include both AI instructions (how to behave) and specific context/knowledge it should use."})]})]}):null]})},VadConfigPanel=({vadConfig:La,onUpdate:Na})=>{const[ja,Ba]=reactExports.useState(!1),[za,Ga]=reactExports.useState(La),Ha=Ya=>{const Xa={...za,...Ya};Ga(Xa),Na(Xa)};return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-2 hover:bg-accent/50 rounded-md transition-colors",onClick:()=>Ba(!ja),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings$2,{className:"w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm",children:"Audio Detection Settings"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:za.enabled?"Voice Activity Detection enabled":`Continuous recording (max ${za.max_recording_duration_secs/60} min)`})]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:ja?jsxRuntimeExports.jsx(ArrowUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ArrowDown,{className:"w-4 h-4"})})]}),ja&&jsxRuntimeExports.jsxs(Card,{className:"p-4 space-y-4 bg-muted/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4 pb-3 border-b border-border/50",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium",children:"Voice Activity Detection (VAD)"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:za.enabled?"Automatically detect and capture speech":"Record continuously up to maximum duration"})]}),jsxRuntimeExports.jsx(Switch,{checked:za.enabled,onCheckedChange:Ya=>Ha({enabled:Ya})})]}),za.enabled?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{className:"text-xs font-medium flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Speech Sensitivity"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground font-normal",children:(za.sensitivity_rms*1e3).toFixed(1)})]}),jsxRuntimeExports.jsx(Slider,{value:[za.sensitivity_rms*1e3],onValueChange:([Ya])=>Ha({sensitivity_rms:Ya/1e3}),min:1,max:10,step:.5,className:"w-full"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower = more sensitive (picks up quieter sounds)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{className:"text-xs font-medium flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Silence Duration to End Speech"}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground font-normal",children:[(za.silence_chunks*za.hop_size/44100).toFixed(1),"s"]})]}),jsxRuntimeExports.jsx(Slider,{value:[za.silence_chunks],onValueChange:([Ya])=>Ha({silence_chunks:Math.round(Ya)}),min:20,max:90,step:5,className:"w-full"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"How long to wait after speech stops before processing"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{className:"text-xs font-medium flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Background Noise Reduction"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground font-normal",children:(za.noise_gate_threshold*1e3).toFixed(1)})]}),jsxRuntimeExports.jsx(Slider,{value:[za.noise_gate_threshold*1e3],onValueChange:([Ya])=>Ha({noise_gate_threshold:Ya/1e3}),min:0,max:5,step:.1,className:"w-full"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Filters out low-level background noise"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{className:"text-xs font-medium flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Maximum Recording Duration"}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground font-normal",children:[za.max_recording_duration_secs/60," minutes"]})]}),jsxRuntimeExports.jsx(Slider,{value:[za.max_recording_duration_secs/60],onValueChange:([Ya])=>Ha({max_recording_duration_secs:Math.round(Ya*60)}),min:1,max:3,step:.5,className:"w-full"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Recording will automatically stop after this duration (max 3 minutes)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$2,{className:"text-xs font-medium flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Background Noise Reduction"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground font-normal",children:(za.noise_gate_threshold*1e3).toFixed(1)})]}),jsxRuntimeExports.jsx(Slider,{value:[za.noise_gate_threshold*1e3],onValueChange:([Ya])=>Ha({noise_gate_threshold:Ya/1e3}),min:0,max:5,step:.1,className:"w-full"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Filters out low-level background noise"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2 border-t border-border/50",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>{const Ya={enabled:!0,hop_size:1024,sensitivity_rms:.012,peak_threshold:.035,silence_chunks:18,min_speech_chunks:7,pre_speech_chunks:12,noise_gate_threshold:.003,max_recording_duration_secs:180};Ga(Ya),Na(Ya)},className:"w-full",children:"Reset to Defaults"})})]})]})},PermissionFlow=({onPermissionGranted:La,onPermissionDenied:Na})=>{const[ja,Ba]=reactExports.useState("checking"),[za,Ga]=reactExports.useState(0);reactExports.useEffect(()=>{Ha()},[]);const Ha=async()=>{try{Ba("checking"),await invoke("check_system_audio_access")?(Ba("granted"),setTimeout(()=>La(),500)):(Ba("denied"),Na())}catch(Ka){console.error("Permission check failed:",Ka),Ba("denied"),Na()}},Ya=async()=>{try{Ba("requesting"),await invoke("request_system_audio_access");let Ka=0;const Qa=20,Va=setInterval(async()=>{Ka++,Ga(Ka);try{await invoke("check_system_audio_access")?(clearInterval(Va),Ba("granted"),setTimeout(()=>La(),500)):Ka>=Qa&&(clearInterval(Va),Ba("denied"),Na())}catch(Ua){console.error("Permission poll failed:",Ua)}},1e3)}catch(Ka){console.error("Permission request failed:",Ka),Ba("denied"),Na()}},Xa=()=>{switch(ja){case"checking":return jsxRuntimeExports.jsx(Card,{className:"p-6 bg-blue-50 border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Loader,{className:"w-6 h-6 text-blue-600 animate-spin flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-blue-900 mb-1",children:"Checking Permissions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-800 leading-relaxed",children:"Verifying system audio access permissions..."})]})]})});case"granted":return jsxRuntimeExports.jsx(Card,{className:"p-6 bg-green-50 border-green-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-green-900 mb-1",children:"Permission Granted!"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-800 leading-relaxed",children:"System audio access is enabled. Starting capture..."})]})]})});case"requesting":return jsxRuntimeExports.jsx(Card,{className:"p-6 bg-orange-50 border-orange-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Loader,{className:"w-6 h-6 text-orange-600 animate-spin flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-orange-900 mb-2",children:"Waiting for Permission"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-800 leading-relaxed mb-3",children:"System Settings should have opened. Please:"}),jsxRuntimeExports.jsxs("ol",{className:"text-xs text-orange-800 space-y-1 list-decimal list-inside mb-3",children:[jsxRuntimeExports.jsxs("li",{children:["Go to ",jsxRuntimeExports.jsx("strong",{children:"Privacy & Security"})]}),jsxRuntimeExports.jsxs("li",{children:["Select ",jsxRuntimeExports.jsx("strong",{children:"Screen & System Audio Recording"})]}),jsxRuntimeExports.jsxs("li",{children:["Find ",jsxRuntimeExports.jsx("strong",{children:"Scribe"})," and enable it"]}),jsxRuntimeExports.jsx("li",{className:"font-semibold text-orange-900",children:"Return here - we'll detect it automatically!"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-orange-700",children:["Checking... (",za,"/20)"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:Ha,className:"text-xs",children:"Check Now"})]})]})]})});case"denied":return jsxRuntimeExports.jsx(Card,{className:"p-6 bg-red-50 border-red-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(ShieldAlert,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-red-900 mb-2",children:"Permission Required"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-800 leading-relaxed mb-3",children:"Scribe needs permission to capture system audio. This is required for the system audio feature to work."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button,{onClick:Ya,className:"w-full",size:"sm",children:"Grant Permission"}),jsxRuntimeExports.jsxs("details",{className:"text-xs text-red-800",children:[jsxRuntimeExports.jsx("summary",{className:"cursor-pointer font-medium mb-2",children:"Manual Setup Instructions"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2 pl-2",children:[jsxRuntimeExports.jsxs("li",{children:["Open ",jsxRuntimeExports.jsx("strong",{children:"System Settings"})]}),jsxRuntimeExports.jsxs("li",{children:["Navigate to ",jsxRuntimeExports.jsx("strong",{children:"Privacy & Security"})]}),jsxRuntimeExports.jsxs("li",{children:["Click on"," ",jsxRuntimeExports.jsx("strong",{children:"Screen & System Audio Recording"})]}),jsxRuntimeExports.jsxs("li",{children:["Find ",jsxRuntimeExports.jsx("strong",{children:"Scribe"})," in the list"]}),jsxRuntimeExports.jsxs("li",{children:["Toggle the switch to ",jsxRuntimeExports.jsx("strong",{children:"ON"})]}),jsxRuntimeExports.jsx("li",{children:"Restart Scribe if needed"})]})]})]})]})]})})}};return jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Xa()})},SystemAudio=La=>{const{capturing:Na,isProcessing:ja,isAIProcessing:Ba,lastTranscription:za,lastAIResponse:Ga,error:Ha,setupRequired:Ya,startCapture:Xa,stopCapture:Ka,isPopoverOpen:Qa,setIsPopoverOpen:Va,useSystemPrompt:Ua,setUseSystemPrompt:Wa,contextContent:Ja,setContextContent:Oo,startNewConversation:Do,conversation:Mo,resizeWindow:el,handleSetup:tl,quickActions:rl,addQuickAction:il,removeQuickAction:al,isManagingQuickActions:ll,setIsManagingQuickActions:ul,showQuickActions:ol,setShowQuickActions:cl,handleQuickActionClick:gl,vadConfig:bl,updateVadConfiguration:_l,isContinuousMode:xl,isRecordingInContinuousMode:Al,recordingProgress:ml,manualStopAndSend:Sl,startContinuousRecording:Cl,ignoreContinuousRecording:Nl,scrollAreaRef:dl}=La,Rl=navigator.platform.toLowerCase(),Tl=async()=>{Na?await Ka():await Xa()},pl=()=>Ya?jsxRuntimeExports.jsx(CircleAlert,{className:"text-orange-500"}):Ha&&!Ya?jsxRuntimeExports.jsx(CircleAlert,{className:"text-red-500"}):ja?jsxRuntimeExports.jsx(Loader,{className:"animate-spin"}):Na?jsxRuntimeExports.jsx(AudioLines,{className:"text-green-500 animate-pulse"}):jsxRuntimeExports.jsx(Headphones,{}),jl=()=>Ya?"Setup required - Click for instructions":Ha&&!Ya?`Error: ${Ha}`:ja?"Transcribing audio...":Na?"Stop system audio capture":"Start system audio capture";return jsxRuntimeExports.jsxs(Popover,{open:Qa,onOpenChange:Ll=>{Na&&!Ll||Va(Ll)},children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{size:"icon",title:jl(),onClick:Tl,className:`${Na?"bg-green-50 hover:bg-green-100":""} ${Ha?"bg-red-100 hover:bg-red-200":""}`,children:pl()})}),Na||Ya||Ha?jsxRuntimeExports.jsx(PopoverContent,{align:"end",side:"bottom",className:"select-none w-screen p-0 border overflow-hidden border-input/50",sideOffset:8,children:jsxRuntimeExports.jsxs(ScrollArea,{className:"h-[calc(100vh-4rem)]",ref:dl,children:[Na&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end gap-2 p-3 border-b bg-muted/30",children:jsxRuntimeExports.jsx(Button,{variant:"destructive",size:"sm",title:xl?"Stop recording and process":"Stop capture",onClick:async()=>{if(!(ja||Ba))try{xl?await Sl():await Ka()}catch(Ll){console.error("Failed to stop recording:",Ll)}},disabled:ja||Ba,children:"Stop recording"})}),jsxRuntimeExports.jsxs("div",{className:`p-6 ${!za&&!Ga?"space-y-6":"space-y-4"}`,children:[!za&&!Ga&&jsxRuntimeExports.jsx(Header$1,{setupRequired:Ya,setIsPopoverOpen:Va,resizeWindow:el,capturing:Na}),xl&&jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[ja||Ba?jsxRuntimeExports.jsx(Loader,{className:"w-5 h-5 animate-spin mt-0.5"}):Al?jsxRuntimeExports.jsx(AudioLines,{className:"w-5 h-5 animate-pulse mt-0.5"}):jsxRuntimeExports.jsx(AudioLines,{className:"w-5 h-5 mt-0.5 opacity-50"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm mb-1",children:ja||Ba?"Processing Your Audio...":Al?"Recording Audio (Continuous Mode)":"Continuous Mode (Not Recording)"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:ja||Ba?"Transcribing and generating AI response...":Al?`Recording up to ${bl.max_recording_duration_secs}s. You can stop anytime.`:"Click Start to begin recording, or adjust settings below."})]})]}),Al&&!ja&&!Ba&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:["Duration: ",ml,"s"]}),jsxRuntimeExports.jsxs("span",{children:["Max: ",bl.max_recording_duration_secs,"s"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:`${ml/bl.max_recording_duration_secs*100}%`}})})]}),!ja&&!Ba&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:Al?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{onClick:Nl,variant:"outline",className:"col-span-1",children:"Ignore"}),jsxRuntimeExports.jsx(Button,{onClick:Sl,variant:"default",className:"col-span-2",children:"Stop & Send"})]}):jsxRuntimeExports.jsxs(Button,{onClick:Cl,variant:"default",className:"col-span-3",size:"lg",children:[jsxRuntimeExports.jsx(AudioLines,{className:"w-4 h-4 mr-2"}),"Start Recording"]})})]})}),Ha&&!Ya&&jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-500 mt-1 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 w-full",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h3",{className:"font-semibold text-xs mb-1 text-red-700",children:"Audio Capture Error"})}),jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-red-800",children:Ha})})]})]})}),Ya?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(PermissionFlow,{onPermissionGranted:()=>{Xa()},onPermissionDenied:()=>{}}),jsxRuntimeExports.jsx(SetupInstructions,{setupRequired:Ya,handleSetup:tl})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(OperationSection,{lastTranscription:za,lastAIResponse:Ga,isAIProcessing:Ba,conversation:Mo,startNewConversation:Do,quickActions:rl,addQuickAction:il,removeQuickAction:al,isManagingQuickActions:ll,setIsManagingQuickActions:ul,showQuickActions:ol,setShowQuickActions:cl,handleQuickActionClick:gl}),jsxRuntimeExports.jsx(Context,{useSystemPrompt:Ua,setUseSystemPrompt:Wa,contextContent:Ja,setContextContent:Oo}),jsxRuntimeExports.jsx(VadConfigPanel,{vadConfig:bl,onUpdate:_l})]}),!Ya&&Rl.includes("mac")&&jsxRuntimeExports.jsx(SetupInstructions,{setupRequired:Ya,handleSetup:tl}),jsxRuntimeExports.jsx(Warning,{})]})]})}):null]})};var dist$1={},dist={},assetPath={},hasRequiredAssetPath;function requireAssetPath(){if(hasRequiredAssetPath)return assetPath;hasRequiredAssetPath=1,Object.defineProperty(assetPath,"__esModule",{value:!0}),assetPath.baseAssetPath=void 0;const Na=typeof window<"u"&&typeof window.document<"u"?window.document.currentScript:null;let ja="/";return Na&&(ja=Na.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")),assetPath.baseAssetPath=ja,assetPath}var defaultModelFetcher={},hasRequiredDefaultModelFetcher;function requireDefaultModelFetcher(){if(hasRequiredDefaultModelFetcher)return defaultModelFetcher;hasRequiredDefaultModelFetcher=1,Object.defineProperty(defaultModelFetcher,"__esModule",{value:!0}),defaultModelFetcher.defaultModelFetcher=void 0;const La=Na=>fetch(Na).then(ja=>ja.arrayBuffer());return defaultModelFetcher.defaultModelFetcher=La,defaultModelFetcher}var frameProcessor={},logging={},hasRequiredLogging;function requireLogging(){return hasRequiredLogging||(hasRequiredLogging=1,(function(La){Object.defineProperty(La,"__esModule",{value:!0}),La.log=La.LOG_PREFIX=void 0,La.LOG_PREFIX="[VAD]";const Na=["error","debug","warn"];function ja(za){return(...Ga)=>{console[za](La.LOG_PREFIX,...Ga)}}const Ba=Na.reduce((za,Ga)=>(za[Ga]=ja(Ga),za),{});La.log=Ba})(logging)),logging}var messages={},hasRequiredMessages;function requireMessages(){if(hasRequiredMessages)return messages;hasRequiredMessages=1,Object.defineProperty(messages,"__esModule",{value:!0}),messages.Message=void 0;var La;return(function(Na){Na.AudioFrame="AUDIO_FRAME",Na.SpeechStart="SPEECH_START",Na.VADMisfire="VAD_MISFIRE",Na.SpeechEnd="SPEECH_END",Na.SpeechStop="SPEECH_STOP",Na.SpeechRealStart="SPEECH_REAL_START",Na.FrameProcessed="FRAME_PROCESSED"})(La||(messages.Message=La={})),messages}var hasRequiredFrameProcessor;function requireFrameProcessor(){if(hasRequiredFrameProcessor)return frameProcessor;hasRequiredFrameProcessor=1,Object.defineProperty(frameProcessor,"__esModule",{value:!0}),frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultV5FrameProcessorOptions=frameProcessor.defaultLegacyFrameProcessorOptions=void 0;const La=requireLogging(),Na=requireMessages(),ja=[512,1024,1536];frameProcessor.defaultLegacyFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1},frameProcessor.defaultV5FrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:3,redemptionFrames:24,frameSamples:512,minSpeechFrames:9,submitUserSpeechOnPause:!1};function Ba(Ha){ja.includes(Ha.frameSamples)||La.log.warn("You are using an unusual frame size"),(Ha.positiveSpeechThreshold<0||Ha.positiveSpeechThreshold>1)&&La.log.error("positiveSpeechThreshold should be a number between 0 and 1"),(Ha.negativeSpeechThreshold<0||Ha.negativeSpeechThreshold>Ha.positiveSpeechThreshold)&&La.log.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),Ha.preSpeechPadFrames<0&&La.log.error("preSpeechPadFrames should be positive"),Ha.redemptionFrames<0&&La.log.error("redemptionFrames should be positive")}frameProcessor.validateOptions=Ba;const za=Ha=>{const Ya=Ha.reduce((Ka,Qa)=>(Ka.push(Ka.at(-1)+Qa.length),Ka),[0]),Xa=new Float32Array(Ya.at(-1));return Ha.forEach((Ka,Qa)=>{const Va=Ya[Qa];Xa.set(Ka,Va)}),Xa};class Ga{constructor(Ya,Xa,Ka){this.modelProcessFunc=Ya,this.modelResetFunc=Xa,this.options=Ka,this.speaking=!1,this.redemptionCounter=0,this.speechFrameCount=0,this.active=!1,this.speechRealStartFired=!1,this.reset=()=>{this.speaking=!1,this.speechRealStartFired=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0,this.speechFrameCount=0},this.pause=Qa=>{this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment(Qa):this.reset()},this.resume=()=>{this.active=!0},this.endSegment=Qa=>{const Va=this.audioBuffer;this.audioBuffer=[];const Ua=this.speaking;if(this.reset(),Ua)if(Va.reduce((Ja,Oo)=>Oo.isSpeech?Ja+1:Ja,0)>=this.options.minSpeechFrames){const Ja=za(Va.map(Oo=>Oo.frame));Qa({msg:Na.Message.SpeechEnd,audio:Ja})}else Qa({msg:Na.Message.VADMisfire});return{}},this.process=async(Qa,Va)=>{if(!this.active)return;const Ua=await this.modelProcessFunc(Qa),Wa=Ua.isSpeech>=this.options.positiveSpeechThreshold;if(Va({probs:Ua,msg:Na.Message.FrameProcessed,frame:Qa}),this.audioBuffer.push({frame:Qa,isSpeech:Wa}),Wa&&(this.speechFrameCount++,this.redemptionCounter=0),Wa&&!this.speaking&&(this.speaking=!0,Va({msg:Na.Message.SpeechStart})),this.speaking&&this.speechFrameCount===this.options.minSpeechFrames&&!this.speechRealStartFired&&(this.speechRealStartFired=!0,Va({msg:Na.Message.SpeechRealStart})),Ua.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speechFrameCount=0,this.speaking=!1,this.speechRealStartFired=!1;const Ja=this.audioBuffer;if(this.audioBuffer=[],Ja.reduce((Do,Mo)=>Mo.isSpeech?Do+1:Do,0)>=this.options.minSpeechFrames){const Do=za(Ja.map(Mo=>Mo.frame));Va({msg:Na.Message.SpeechEnd,audio:Do})}else Va({msg:Na.Message.VADMisfire})}if(!this.speaking){for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();this.speechFrameCount=0}},this.audioBuffer=[],this.reset()}}return frameProcessor.FrameProcessor=Ga,frameProcessor}var nonRealTimeVad={},ortWeb_min={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(La,Na,ja)=>{if(Na&&typeof Na.init=="function"&&typeof Na.createSessionHandler=="function"){const Ba=backends[La];if(Ba===void 0)backends[La]={backend:Na,priority:ja};else{if(Ba.priority>ja)return;if(Ba.priority===ja&&Ba.backend!==Na)throw new Error(`cannot register backend "${La}" using priority ${ja}`)}if(ja>=0){const za=backendsSortedByPriority.indexOf(La);za!==-1&&backendsSortedByPriority.splice(za,1);for(let Ga=0;Ga<backendsSortedByPriority.length;Ga++)if(backends[backendsSortedByPriority[Ga]].priority<=ja){backendsSortedByPriority.splice(Ga,0,La);return}backendsSortedByPriority.push(La)}return}throw new TypeError("not a valid backend")},resolveBackend=async La=>{const Na=La.length===0?backendsSortedByPriority:La,ja=[];for(const Ba of Na){const za=backends[Ba];if(za){if(za.initialized)return za.backend;if(za.aborted)continue;const Ga=!!za.initPromise;try{return Ga||(za.initPromise=za.backend.init()),await za.initPromise,za.initialized=!0,za.backend}catch(Ha){Ga||ja.push({name:Ba,err:Ha}),za.aborted=!0}finally{delete za.initPromise}}}throw new Error(`no available backend found. ERR: ${ja.map(Ba=>`[${Ba.name}] ${Ba.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(Na){if(Na!==void 0){if(typeof Na!="string"||["verbose","info","warning","error","fatal"].indexOf(Na)===-1)throw new Error(`Unsupported logging level: ${Na}`);this.logLevelInternal=Na}}get logLevel(){return this.logLevelInternal}}const env=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=La=>{let Na=1;for(let ja=0;ja<La.length;ja++){const Ba=La[ja];if(typeof Ba!="number"||!Number.isSafeInteger(Ba))throw new TypeError(`dims[${ja}] must be an integer, got: ${Ba}`);if(Ba<0)throw new RangeError(`dims[${ja}] must be a non-negative integer, got: ${Ba}`);Na*=Ba}return Na};let Tensor$1=class qf{constructor(Na,ja,Ba){let za,Ga,Ha;if(typeof Na=="string")if(za=Na,Ha=Ba,Na==="string"){if(!Array.isArray(ja))throw new TypeError("A string tensor's data must be a string array.");Ga=ja}else{const Xa=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(Na);if(Xa===void 0)throw new TypeError(`Unsupported tensor type: ${Na}.`);if(Array.isArray(ja))Ga=Xa.from(ja);else if(ja instanceof Xa)Ga=ja;else throw new TypeError(`A ${za} tensor's data must be type of ${Xa}`)}else if(Ha=ja,Array.isArray(Na)){if(Na.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const Xa=typeof Na[0];if(Xa==="string")za="string",Ga=Na;else if(Xa==="boolean")za="bool",Ga=Uint8Array.from(Na);else throw new TypeError(`Invalid element type of data array: ${Xa}.`)}else{const Xa=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(Na.constructor);if(Xa===void 0)throw new TypeError(`Unsupported type for tensor data: ${Na.constructor}.`);za=Xa,Ga=Na}if(Ha===void 0)Ha=[Ga.length];else if(!Array.isArray(Ha))throw new TypeError("A tensor's dims must be a number array");const Ya=calculateSize(Ha);if(Ya!==Ga.length)throw new Error(`Tensor's size(${Ya}) does not match data length(${Ga.length}).`);this.dims=Ha,this.type=za,this.data=Ga,this.size=Ya}static bufferToTensor(Na,ja){if(Na===void 0)throw new Error("Image buffer must be defined");if(ja.height===void 0||ja.width===void 0)throw new Error("Image height and width must be defined");const{height:Ba,width:za}=ja,Ga=ja.norm;let Ha,Ya;Ga===void 0||Ga.mean===void 0?Ha=255:Ha=Ga.mean,Ga===void 0||Ga.bias===void 0?Ya=0:Ya=Ga.bias;const Xa=ja.bitmapFormat!==void 0?ja.bitmapFormat:"RGBA",Ka=ja.tensorFormat!==void 0&&ja.tensorFormat!==void 0?ja.tensorFormat:"RGB",Qa=Ba*za,Va=Ka==="RGBA"?new Float32Array(Qa*4):new Float32Array(Qa*3);let Ua=4,Wa=0,Ja=1,Oo=2,Do=3,Mo=0,el=Qa,tl=Qa*2,rl=-1;Xa==="RGB"&&(Ua=3,Wa=0,Ja=1,Oo=2,Do=-1),Ka==="RGBA"?rl=Qa*3:Ka==="RBG"?(Mo=0,tl=Qa,el=Qa*2):Ka==="BGR"&&(tl=0,el=Qa,Mo=Qa*2);for(let al=0;al<Qa;al++,Wa+=Ua,Oo+=Ua,Ja+=Ua,Do+=Ua)Va[Mo++]=(Na[Wa]+Ya)/Ha,Va[el++]=(Na[Ja]+Ya)/Ha,Va[tl++]=(Na[Oo]+Ya)/Ha,rl!==-1&&Do!==-1&&(Va[rl++]=(Na[Do]+Ya)/Ha);return Ka==="RGBA"?new qf("float32",Va,[1,4,Ba,za]):new qf("float32",Va,[1,3,Ba,za])}static async fromImage(Na,ja){const Ba=typeof HTMLImageElement<"u"&&Na instanceof HTMLImageElement,za=typeof ImageData<"u"&&Na instanceof ImageData,Ga=typeof ImageBitmap<"u"&&Na instanceof ImageBitmap,Ha=typeof String<"u"&&(Na instanceof String||typeof Na=="string");let Ya,Xa={};if(Ba){const Ka=document.createElement("canvas"),Qa=Ka.getContext("2d");if(Qa!=null){let Va=Na.naturalHeight,Ua=Na.naturalWidth;if(ja!==void 0&&ja.resizedHeight!==void 0&&ja.resizedWidth!==void 0&&(Va=ja.resizedHeight,Ua=ja.resizedWidth),ja!==void 0){if(Xa=ja,ja.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(Xa.tensorFormat="RGBA",ja.height!==void 0&&ja.height!==Va)throw new Error("Image input config height doesn't match HTMLImageElement height");if(Xa.height=Va,ja.width!==void 0&&ja.width!==Ua)throw new Error("Image input config width doesn't match HTMLImageElement width");Xa.width=Ua}else Xa.tensorFormat="RGBA",Xa.height=Va,Xa.width=Ua;Ka.width=Ua,Ka.height=Va,Qa.drawImage(Na,0,0,Ua,Va),Ya=Qa.getImageData(0,0,Ua,Va).data}else throw new Error("Can not access image data")}else if(za){const Ka="RGBA";let Qa,Va;if(ja!==void 0&&ja.resizedWidth!==void 0&&ja.resizedHeight!==void 0?(Qa=ja.resizedHeight,Va=ja.resizedWidth):(Qa=Na.height,Va=Na.width),ja!==void 0){if(Xa=ja,ja.bitmapFormat!==void 0&&ja.bitmapFormat!==Ka)throw new Error("Image input config format must be RGBA for ImageData");Xa.bitmapFormat="RGBA"}else Xa.bitmapFormat="RGBA";if(Xa.height=Qa,Xa.width=Va,ja!==void 0){const Ua=document.createElement("canvas");Ua.width=Va,Ua.height=Qa;const Wa=Ua.getContext("2d");if(Wa!=null)Wa.putImageData(Na,0,0),Ya=Wa.getImageData(0,0,Va,Qa).data;else throw new Error("Can not access image data")}else Ya=Na.data}else if(Ga){if(ja===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(ja.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const Ka=document.createElement("canvas").getContext("2d");if(Ka!=null){const Qa=Na.height,Va=Na.width;if(Ka.drawImage(Na,0,0,Va,Qa),Ya=Ka.getImageData(0,0,Va,Qa).data,ja!==void 0){if(ja.height!==void 0&&ja.height!==Qa)throw new Error("Image input config height doesn't match ImageBitmap height");if(Xa.height=Qa,ja.width!==void 0&&ja.width!==Va)throw new Error("Image input config width doesn't match ImageBitmap width");Xa.width=Va}else Xa.height=Qa,Xa.width=Va;return qf.bufferToTensor(Ya,Xa)}else throw new Error("Can not access image data")}else{if(Ha)return new Promise((Ka,Qa)=>{const Va=document.createElement("canvas"),Ua=Va.getContext("2d");if(!Na||!Ua)return Qa();const Wa=new Image;Wa.crossOrigin="Anonymous",Wa.src=Na,Wa.onload=()=>{Va.width=Wa.width,Va.height=Wa.height,Ua.drawImage(Wa,0,0,Va.width,Va.height);const Ja=Ua.getImageData(0,0,Va.width,Va.height);if(ja!==void 0){if(ja.height!==void 0&&ja.height!==Va.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(Xa.height=Va.height,ja.width!==void 0&&ja.width!==Va.width)throw new Error("Image input config width doesn't match ImageBitmap width");Xa.width=Va.width}else Xa.height=Va.height,Xa.width=Va.width;Ka(qf.bufferToTensor(Ja.data,Xa))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(Ya!==void 0)return qf.bufferToTensor(Ya,Xa);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(Na){var ja,Ba;const za=document.createElement("canvas").getContext("2d");let Ga;if(za!=null){const Ha=this.dims[3],Ya=this.dims[2],Xa=this.dims[1],Ka=Na!==void 0&&Na.format!==void 0?Na.format:"RGB",Qa=Na!==void 0&&((ja=Na.norm)===null||ja===void 0?void 0:ja.mean)!==void 0?Na.norm.mean:255,Va=Na!==void 0&&((Ba=Na.norm)===null||Ba===void 0?void 0:Ba.bias)!==void 0?Na.norm.bias:0,Ua=Ya*Ha;if(Na!==void 0){if(Na.height!==void 0&&Na.height!==Ya)throw new Error("Image output config height doesn't match tensor height");if(Na.width!==void 0&&Na.width!==Ha)throw new Error("Image output config width doesn't match tensor width");if(Na.format!==void 0&&Xa===4&&Na.format!=="RGBA"||Xa===3&&Na.format!=="RGB"&&Na.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const Wa=4;let Ja=0,Oo=1,Do=2,Mo=3,el=0,tl=Ua,rl=Ua*2,il=-1;Ka==="RGBA"?(el=0,tl=Ua,rl=Ua*2,il=Ua*3):Ka==="RGB"?(el=0,tl=Ua,rl=Ua*2):Ka==="RBG"&&(el=0,rl=Ua,tl=Ua*2),Ga=za.createImageData(Ha,Ya);for(let al=0;al<Ya*Ha;Ja+=Wa,Oo+=Wa,Do+=Wa,Mo+=Wa,al++)Ga.data[Ja]=(this.data[el++]-Va)*Qa,Ga.data[Oo]=(this.data[tl++]-Va)*Qa,Ga.data[Do]=(this.data[rl++]-Va)*Qa,Ga.data[Mo]=il===-1?255:(this.data[il++]-Va)*Qa}else throw new Error("Can not access image data");return Ga}reshape(Na){return new qf(this.type,this.data,Na)}};const Tensor=Tensor$1;let InferenceSession$1=class Yx{constructor(Na){this.handler=Na}async run(Na,ja,Ba){const za={};let Ga={};if(typeof Na!="object"||Na===null||Na instanceof Tensor||Array.isArray(Na))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let Ha=!0;if(typeof ja=="object"){if(ja===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(ja instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(ja)){if(ja.length===0)throw new TypeError("'fetches' cannot be an empty array.");Ha=!1;for(const Ka of ja){if(typeof Ka!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(Ka)===-1)throw new RangeError(`'fetches' contains invalid output name: ${Ka}.`);za[Ka]=null}if(typeof Ba=="object"&&Ba!==null)Ga=Ba;else if(typeof Ba<"u")throw new TypeError("'options' must be an object.")}else{let Ka=!1;const Qa=Object.getOwnPropertyNames(ja);for(const Va of this.outputNames)if(Qa.indexOf(Va)!==-1){const Ua=ja[Va];(Ua===null||Ua instanceof Tensor)&&(Ka=!0,Ha=!1,za[Va]=Ua)}if(Ka){if(typeof Ba=="object"&&Ba!==null)Ga=Ba;else if(typeof Ba<"u")throw new TypeError("'options' must be an object.")}else Ga=ja}}else if(typeof ja<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const Ka of this.inputNames)if(typeof Na[Ka]>"u")throw new Error(`input '${Ka}' is missing in 'feeds'.`);if(Ha)for(const Ka of this.outputNames)za[Ka]=null;const Ya=await this.handler.run(Na,za,Ga),Xa={};for(const Ka in Ya)Object.hasOwnProperty.call(Ya,Ka)&&(Xa[Ka]=new Tensor(Ya[Ka].type,Ya[Ka].data,Ya[Ka].dims));return Xa}static async create(Na,ja,Ba,za){let Ga,Ha={};if(typeof Na=="string"){if(Ga=Na,typeof ja=="object"&&ja!==null)Ha=ja;else if(typeof ja<"u")throw new TypeError("'options' must be an object.")}else if(Na instanceof Uint8Array){if(Ga=Na,typeof ja=="object"&&ja!==null)Ha=ja;else if(typeof ja<"u")throw new TypeError("'options' must be an object.")}else if(Na instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&Na instanceof SharedArrayBuffer){const Va=Na;let Ua=0,Wa=Na.byteLength;if(typeof ja=="object"&&ja!==null)Ha=ja;else if(typeof ja=="number"){if(Ua=ja,!Number.isSafeInteger(Ua))throw new RangeError("'byteOffset' must be an integer.");if(Ua<0||Ua>=Va.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${Va.byteLength}).`);if(Wa=Na.byteLength-Ua,typeof Ba=="number"){if(Wa=Ba,!Number.isSafeInteger(Wa))throw new RangeError("'byteLength' must be an integer.");if(Wa<=0||Ua+Wa>Va.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${Va.byteLength-Ua}].`);if(typeof za=="object"&&za!==null)Ha=za;else if(typeof za<"u")throw new TypeError("'options' must be an object.")}else if(typeof Ba<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof ja<"u")throw new TypeError("'options' must be an object.");Ga=new Uint8Array(Va,Ua,Wa)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const Xa=(Ha.executionProviders||[]).map(Va=>typeof Va=="string"?Va:Va.name),Qa=await(await resolveBackend(Xa)).createSessionHandler(Ga,Ha);return new Yx(Qa)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/var hasRequiredOrtWeb_min;function requireOrtWeb_min(){return hasRequiredOrtWeb_min||(hasRequiredOrtWeb_min=1,(function(module,exports){(function(La,Na){module.exports=Na(require$$0)})(self,(__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(La,Na,ja)=>{var Ba,za=(Ba=(Ba=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(Ga){function Ha(){return Nl.buffer!=Rl&&ru(Nl.buffer),Tl}function Ya(){return Nl.buffer!=Rl&&ru(Nl.buffer),pl}function Xa(){return Nl.buffer!=Rl&&ru(Nl.buffer),jl}function Ka(){return Nl.buffer!=Rl&&ru(Nl.buffer),Ll}function Qa(){return Nl.buffer!=Rl&&ru(Nl.buffer),Dl}var Va,Ua,Wa;Ga=Ga||{},Va||(Va=Ga!==void 0?Ga:{}),Va.ready=new Promise((function(fl,yl){Ua=fl,Wa=yl}));var Ja,Oo,Do,Mo,el,tl,rl=Object.assign({},Va),il="./this.program",al=(fl,yl)=>{throw yl},ll=typeof window=="object",ul=typeof importScripts=="function",ol=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",cl=Va.ENVIRONMENT_IS_PTHREAD||!1,gl="";function bl(fl){return Va.locateFile?Va.locateFile(fl,gl):gl+fl}if(ol){let fl;gl=ul?ja(908).dirname(gl)+"/":"//",tl=()=>{el||(Mo=ja(1384),el=ja(908))},Ja=function(yl,wl){return tl(),yl=el.normalize(yl),Mo.readFileSync(yl,wl?void 0:"utf8")},Do=yl=>((yl=Ja(yl,!0)).buffer||(yl=new Uint8Array(yl)),yl),Oo=(yl,wl,kl)=>{tl(),yl=el.normalize(yl),Mo.readFile(yl,(function(zl,Xl){zl?kl(zl):wl(Xl.buffer)}))},1<process.argv.length&&(il=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(yl){if(!(yl instanceof _u))throw yl})),process.on("unhandledRejection",(function(yl){throw yl})),al=(yl,wl)=>{if(ic())throw process.exitCode=yl,wl;wl instanceof _u||Sl("exiting due to exception: "+wl),process.exit(yl)},Va.inspect=function(){return"[Emscripten Module object]"};try{fl=ja(9925)}catch(yl){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),yl}ja.g.Worker=fl.Worker}else(ll||ul)&&(ul?gl=self.location.href:typeof document<"u"&&document.currentScript&&(gl=document.currentScript.src),Ba&&(gl=Ba),gl=gl.indexOf("blob:")!==0?gl.substr(0,gl.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ol||(Ja=fl=>{var yl=new XMLHttpRequest;return yl.open("GET",fl,!1),yl.send(null),yl.responseText},ul&&(Do=fl=>{var yl=new XMLHttpRequest;return yl.open("GET",fl,!1),yl.responseType="arraybuffer",yl.send(null),new Uint8Array(yl.response)}),Oo=(fl,yl,wl)=>{var kl=new XMLHttpRequest;kl.open("GET",fl,!0),kl.responseType="arraybuffer",kl.onload=()=>{kl.status==200||kl.status==0&&kl.response?yl(kl.response):wl()},kl.onerror=wl,kl.send(null)}));ol&&typeof performance>"u"&&(ja.g.performance=ja(6953).performance);var _l=console.log.bind(console),xl=console.warn.bind(console);ol&&(tl(),_l=fl=>Mo.writeSync(1,fl+`
`),xl=fl=>Mo.writeSync(2,fl+`
`));var Al,ml=Va.print||_l,Sl=Va.printErr||xl;Object.assign(Va,rl),rl=null,Va.thisProgram&&(il=Va.thisProgram),Va.quit&&(al=Va.quit),Va.wasmBinary&&(Al=Va.wasmBinary);var Cl=Va.noExitRuntime||!1;typeof WebAssembly!="object"&&Au("no native wasm support detected");var Nl,dl,Rl,Tl,pl,jl,Ll,Dl,$l=!1,eu=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function uu(fl,yl,wl){var kl=(yl>>>=0)+wl;for(wl=yl;fl[wl]&&!(wl>=kl);)++wl;if(16<wl-yl&&fl.buffer&&eu)return eu.decode(fl.buffer instanceof SharedArrayBuffer?fl.slice(yl,wl):fl.subarray(yl,wl));for(kl="";yl<wl;){var zl=fl[yl++];if(128&zl){var Xl=63&fl[yl++];if((224&zl)==192)kl+=String.fromCharCode((31&zl)<<6|Xl);else{var ou=63&fl[yl++];65536>(zl=(240&zl)==224?(15&zl)<<12|Xl<<6|ou:(7&zl)<<18|Xl<<12|ou<<6|63&fl[yl++])?kl+=String.fromCharCode(zl):(zl-=65536,kl+=String.fromCharCode(55296|zl>>10,56320|1023&zl))}}else kl+=String.fromCharCode(zl)}return kl}function su(fl,yl){return(fl>>>=0)?uu(Ya(),fl,yl):""}function pu(fl,yl,wl,kl){if(!(0<kl))return 0;var zl=wl>>>=0;kl=wl+kl-1;for(var Xl=0;Xl<fl.length;++Xl){var ou=fl.charCodeAt(Xl);if(55296<=ou&&57343>=ou&&(ou=65536+((1023&ou)<<10)|1023&fl.charCodeAt(++Xl)),127>=ou){if(wl>=kl)break;yl[wl++>>>0]=ou}else{if(2047>=ou){if(wl+1>=kl)break;yl[wl++>>>0]=192|ou>>6}else{if(65535>=ou){if(wl+2>=kl)break;yl[wl++>>>0]=224|ou>>12}else{if(wl+3>=kl)break;yl[wl++>>>0]=240|ou>>18,yl[wl++>>>0]=128|ou>>12&63}yl[wl++>>>0]=128|ou>>6&63}yl[wl++>>>0]=128|63&ou}}return yl[wl>>>0]=0,wl-zl}function Yl(fl){for(var yl=0,wl=0;wl<fl.length;++wl){var kl=fl.charCodeAt(wl);127>=kl?yl++:2047>=kl?yl+=2:55296<=kl&&57343>=kl?(yl+=4,++wl):yl+=3}return yl}function ru(fl){Rl=fl,Va.HEAP8=Tl=new Int8Array(fl),Va.HEAP16=new Int16Array(fl),Va.HEAP32=jl=new Int32Array(fl),Va.HEAPU8=pl=new Uint8Array(fl),Va.HEAPU16=new Uint16Array(fl),Va.HEAPU32=Ll=new Uint32Array(fl),Va.HEAPF32=new Float32Array(fl),Va.HEAPF64=Dl=new Float64Array(fl)}cl&&(Rl=Va.buffer);var lu=Va.INITIAL_MEMORY||16777216;if(cl)Nl=Va.wasmMemory,Rl=Va.buffer;else if(Va.wasmMemory)Nl=Va.wasmMemory;else if(!((Nl=new WebAssembly.Memory({initial:lu/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Sl("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),ol&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Nl&&(Rl=Nl.buffer),lu=Rl.byteLength,ru(Rl);var fu,bu=[],xu=[],Du=[],Zu=[];function ic(){return Cl||!1}function Mu(){var fl=Va.preRun.shift();bu.unshift(fl)}var gu,Pu=0,hc=null;function Au(fl){throw cl?postMessage({cmd:"onAbort",arg:fl}):Va.onAbort&&Va.onAbort(fl),Sl(fl="Aborted("+fl+")"),$l=!0,fl=new WebAssembly.RuntimeError(fl+". Build with -sASSERTIONS for more info."),Wa(fl),fl}function Ql(){return gu.startsWith("data:application/octet-stream;base64,")}function iu(){var fl=gu;try{if(fl==gu&&Al)return new Uint8Array(Al);if(Do)return Do(fl);throw"both async and sync fetching of the wasm failed"}catch(yl){Au(yl)}}gu="ort-wasm-threaded.wasm",Ql()||(gu=bl(gu));var Su={};function _u(fl){this.name="ExitStatus",this.message="Program terminated with exit("+fl+")",this.status=fl}function qu(fl){(fl=hu.Vb[fl])||Au(),hu.mc(fl)}function au(fl){var yl=hu.Cc();if(!yl)return 6;hu.ac.push(yl),hu.Vb[fl.Ub]=yl,yl.Ub=fl.Ub;var wl={cmd:"run",start_routine:fl.Ic,arg:fl.zc,pthread_ptr:fl.Ub};return yl.$b=()=>{wl.time=performance.now(),yl.postMessage(wl,fl.Nc)},yl.loaded&&(yl.$b(),delete yl.$b),0}function cu(fl){if(cl)return mu(1,1,fl);ic()||(hu.oc(),Va.onExit&&Va.onExit(fl),$l=!0),al(fl,new _u(fl))}function wu(fl,yl){if(!yl&&cl)throw Lu(fl),"unwind";ic()||cl||(Dh(),ec(Du),Kf(0),Ad[1].length&&If(1,10),Ad[2].length&&If(2,10),hu.oc()),cu(fl)}var hu={Yb:[],ac:[],qc:[],Vb:{},fc:function(){cl&&hu.Ec()},Pc:function(){},Ec:function(){hu.receiveObjectTransfer=hu.Gc,hu.threadInitTLS=hu.pc,hu.setExitStatus=hu.nc,Cl=!1},nc:function(){},oc:function(){for(var fl of Object.values(hu.Vb))hu.mc(fl);for(fl of hu.Yb)fl.terminate();hu.Yb=[]},mc:function(fl){var yl=fl.Ub;delete hu.Vb[yl],hu.Yb.push(fl),hu.ac.splice(hu.ac.indexOf(fl),1),fl.Ub=0,Cd(yl)},Gc:function(){},pc:function(){hu.qc.forEach((fl=>fl()))},Fc:function(fl,yl){fl.onmessage=wl=>{var kl=(wl=wl.data).cmd;if(fl.Ub&&(hu.Bc=fl.Ub),wl.targetThread&&wl.targetThread!=Ld()){var zl=hu.Vb[wl.Qc];zl?zl.postMessage(wl,wl.transferList):Sl('Internal error! Worker sent a message "'+kl+'" to target pthread '+wl.targetThread+", but that thread no longer exists!")}else kl==="processProxyingQueue"?Pl(wl.queue):kl==="spawnThread"?au(wl):kl==="cleanupThread"?qu(wl.thread):kl==="killThread"?(wl=wl.thread,kl=hu.Vb[wl],delete hu.Vb[wl],kl.terminate(),Cd(wl),hu.ac.splice(hu.ac.indexOf(kl),1),kl.Ub=0):kl==="cancelThread"?hu.Vb[wl.thread].postMessage({cmd:"cancel"}):kl==="loaded"?(fl.loaded=!0,yl&&yl(fl),fl.$b&&(fl.$b(),delete fl.$b)):kl==="print"?ml("Thread "+wl.threadId+": "+wl.text):kl==="printErr"?Sl("Thread "+wl.threadId+": "+wl.text):kl==="alert"?alert("Thread "+wl.threadId+": "+wl.text):wl.target==="setimmediate"?fl.postMessage(wl):kl==="onAbort"?Va.onAbort&&Va.onAbort(wl.arg):kl&&Sl("worker sent an unknown command "+kl);hu.Bc=void 0},fl.onerror=wl=>{throw Sl("worker sent an error! "+wl.filename+":"+wl.lineno+": "+wl.message),wl},ol&&(fl.on("message",(function(wl){fl.onmessage({data:wl})})),fl.on("error",(function(wl){fl.onerror(wl)})),fl.on("detachedExit",(function(){}))),fl.postMessage({cmd:"load",urlOrBlob:Va.mainScriptUrlOrBlob||Ba,wasmMemory:Nl,wasmModule:dl})},yc:function(){var fl=bl("ort-wasm-threaded.worker.js");hu.Yb.push(new Worker(fl))},Cc:function(){return hu.Yb.length==0&&(hu.yc(),hu.Fc(hu.Yb[0])),hu.Yb.pop()}};function ec(fl){for(;0<fl.length;)fl.shift()(Va)}function sc(fl){var yl=ju();return fl=fl(),zu(yl),fl}function Lu(fl){if(cl)return mu(2,0,fl);try{wu(fl)}catch(yl){yl instanceof _u||yl=="unwind"||al(1,yl)}}Va.PThread=hu,Va.establishStackSpace=function(){var fl=Ld(),yl=Xa()[fl+44>>2>>>0];fl=Xa()[fl+48>>2>>>0],Lh(yl,yl-fl),zu(yl)};var Ku=[];function Yu(fl){var yl=Ku[fl];return yl||(fl>=Ku.length&&(Ku.length=fl+1),Ku[fl]=yl=fu.get(fl)),yl}Va.invokeEntryPoint=function(fl,yl){fl=Yu(fl)(yl),ic()?hu.nc(fl):N0(fl)};var sd,bd,uc=[],Ou=0,Cu=0;function Ru(fl){this.Zb=fl,this.Sb=fl-24,this.xc=function(yl){Ka()[this.Sb+4>>2>>>0]=yl},this.bc=function(){return Ka()[this.Sb+4>>2>>>0]},this.wc=function(yl){Ka()[this.Sb+8>>2>>>0]=yl},this.Dc=function(){return Ka()[this.Sb+8>>2>>>0]},this.rc=function(){Xa()[this.Sb>>2>>>0]=0},this.hc=function(yl){yl=yl?1:0,Ha()[this.Sb+12>>0>>>0]=yl},this.uc=function(){return Ha()[this.Sb+12>>0>>>0]!=0},this.ic=function(yl){yl=yl?1:0,Ha()[this.Sb+13>>0>>>0]=yl},this.kc=function(){return Ha()[this.Sb+13>>0>>>0]!=0},this.fc=function(yl,wl){this.cc(0),this.xc(yl),this.wc(wl),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(Xa(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(Xa(),this.Sb>>2,1)===1},this.cc=function(yl){Ka()[this.Sb+16>>2>>>0]=yl},this.tc=function(){return Ka()[this.Sb+16>>2>>>0]},this.vc=function(){if(Qf(this.bc()))return Ka()[this.Zb>>2>>>0];var yl=this.tc();return yl!==0?yl:this.Zb}}function Dd(fl){return qc(new Ru(fl).Sb)}function xd(fl,yl,wl,kl){return cl?mu(3,1,fl,yl,wl,kl):Jd(fl,yl,wl,kl)}function Jd(fl,yl,wl,kl){if(typeof SharedArrayBuffer>"u")return Sl("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var zl=[];return cl&&zl.length===0?xd(fl,yl,wl,kl):(fl={Ic:wl,Ub:fl,zc:kl,Nc:zl},cl?(fl.Oc="spawnThread",postMessage(fl,zl),0):au(fl))}function Af(fl,yl,wl){return cl?mu(4,1,fl,yl,wl):0}function Wc(fl,yl){if(cl)return mu(5,1,fl,yl)}function vc(fl,yl){if(cl)return mu(6,1,fl,yl)}function Ic(fl,yl,wl){if(cl)return mu(7,1,fl,yl,wl)}function od(fl,yl,wl){return cl?mu(8,1,fl,yl,wl):0}function Md(fl,yl){if(cl)return mu(9,1,fl,yl)}function Cf(fl,yl,wl){if(cl)return mu(10,1,fl,yl,wl)}function Rf(fl,yl,wl,kl){if(cl)return mu(11,1,fl,yl,wl,kl)}function ef(fl,yl,wl,kl){if(cl)return mu(12,1,fl,yl,wl,kl)}function yd(fl,yl,wl,kl){if(cl)return mu(13,1,fl,yl,wl,kl)}function Pd(fl){if(cl)return mu(14,1,fl)}function El(fl,yl){if(cl)return mu(15,1,fl,yl)}function Il(fl,yl,wl){if(cl)return mu(16,1,fl,yl,wl)}function Pl(fl){Atomics.store(Xa(),fl>>2,1),Ld()&&Ph(fl),Atomics.compareExchange(Xa(),fl>>2,1,0)}function Bl(fl){return Ka()[fl>>>2]+4294967296*Xa()[fl+4>>>2]}function Ul(fl,yl,wl,kl,zl,Xl){return cl?mu(17,1,fl,yl,wl,kl,zl,Xl):-52}function Zl(fl,yl,wl,kl,zl,Xl){if(cl)return mu(18,1,fl,yl,wl,kl,zl,Xl)}function du(fl){var yl=Yl(fl)+1,wl=kh(yl);return wl&&pu(fl,Ha(),wl,yl),wl}function yu(fl,yl,wl){function kl(Fu){return(Fu=Fu.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Fu[1]:"GMT"}if(cl)return mu(19,1,fl,yl,wl);var zl=new Date().getFullYear(),Xl=new Date(zl,0,1),ou=new Date(zl,6,1);zl=Xl.getTimezoneOffset();var vu=ou.getTimezoneOffset(),$u=Math.max(zl,vu);Xa()[fl>>2>>>0]=60*$u,Xa()[yl>>2>>>0]=+(zl!=vu),fl=kl(Xl),yl=kl(ou),fl=du(fl),yl=du(yl),vu<zl?(Ka()[wl>>2>>>0]=fl,Ka()[wl+4>>2>>>0]=yl):(Ka()[wl>>2>>>0]=yl,Ka()[wl+4>>2>>>0]=fl)}function mu(fl,yl){var wl=arguments.length-2,kl=arguments;return sc((()=>{for(var zl=jh(8*wl),Xl=zl>>3,ou=0;ou<wl;ou++){var vu=kl[2+ou];Qa()[Xl+ou>>>0]=vu}return Mh(fl,wl,zl,yl)}))}Va.executeNotifiedProxyingQueue=Pl,bd=ol?()=>{var fl=process.hrtime();return 1e3*fl[0]+fl[1]/1e6}:cl?()=>performance.now()-Va.__performance_now_clock_drift:()=>performance.now();var Bu,nc=[],wc={};function Ac(){if(!Bu){var fl,yl={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:il||"./this.program"};for(fl in wc)wc[fl]===void 0?delete yl[fl]:yl[fl]=wc[fl];var wl=[];for(fl in yl)wl.push(fl+"="+yl[fl]);Bu=wl}return Bu}function Wl(fl,yl){if(cl)return mu(20,1,fl,yl);var wl=0;return Ac().forEach((function(kl,zl){var Xl=yl+wl;for(zl=Ka()[fl+4*zl>>2>>>0]=Xl,Xl=0;Xl<kl.length;++Xl)Ha()[zl++>>0>>>0]=kl.charCodeAt(Xl);Ha()[zl>>0>>>0]=0,wl+=kl.length+1})),0}function Uu(fl,yl){if(cl)return mu(21,1,fl,yl);var wl=Ac();Ka()[fl>>2>>>0]=wl.length;var kl=0;return wl.forEach((function(zl){kl+=zl.length+1})),Ka()[yl>>2>>>0]=kl,0}function Ju(fl){return cl?mu(22,1,fl):52}function zc(fl,yl,wl,kl){return cl?mu(23,1,fl,yl,wl,kl):52}function ld(fl,yl,wl,kl,zl){return cl?mu(24,1,fl,yl,wl,kl,zl):70}var Ad=[null,[],[]];function If(fl,yl){var wl=Ad[fl];yl===0||yl===10?((fl===1?ml:Sl)(uu(wl,0)),wl.length=0):wl.push(yl)}function Yf(fl,yl,wl,kl){if(cl)return mu(25,1,fl,yl,wl,kl);for(var zl=0,Xl=0;Xl<wl;Xl++){var ou=Ka()[yl>>2>>>0],vu=Ka()[yl+4>>2>>>0];yl+=8;for(var $u=0;$u<vu;$u++)If(fl,Ya()[ou+$u>>>0]);zl+=vu}return Ka()[kl>>2>>>0]=zl,0}var Uc=0;function Nf(fl){return fl%4==0&&(fl%100!=0||fl%400==0)}var Vc=[31,29,31,30,31,30,31,31,30,31,30,31],Oh=[31,28,31,30,31,30,31,31,30,31,30,31];function R0(fl,yl,wl,kl){function zl(Kl,Hu,mc){for(Kl=typeof Kl=="number"?Kl.toString():Kl||"";Kl.length<Hu;)Kl=mc[0]+Kl;return Kl}function Xl(Kl,Hu){return zl(Kl,Hu,"0")}function ou(Kl,Hu){function mc(rf){return 0>rf?-1:0<rf?1:0}var _d;return(_d=mc(Kl.getFullYear()-Hu.getFullYear()))===0&&(_d=mc(Kl.getMonth()-Hu.getMonth()))===0&&(_d=mc(Kl.getDate()-Hu.getDate())),_d}function vu(Kl){switch(Kl.getDay()){case 0:return new Date(Kl.getFullYear()-1,11,29);case 1:return Kl;case 2:return new Date(Kl.getFullYear(),0,3);case 3:return new Date(Kl.getFullYear(),0,2);case 4:return new Date(Kl.getFullYear(),0,1);case 5:return new Date(Kl.getFullYear()-1,11,31);case 6:return new Date(Kl.getFullYear()-1,11,30)}}function $u(Kl){var Hu=Kl.Wb;for(Kl=new Date(new Date(Kl.Xb+1900,0,1).getTime());0<Hu;){var mc=Kl.getMonth(),_d=(Nf(Kl.getFullYear())?Vc:Oh)[mc];if(!(Hu>_d-Kl.getDate())){Kl.setDate(Kl.getDate()+Hu);break}Hu-=_d-Kl.getDate()+1,Kl.setDate(1),11>mc?Kl.setMonth(mc+1):(Kl.setMonth(0),Kl.setFullYear(Kl.getFullYear()+1))}return mc=new Date(Kl.getFullYear()+1,0,4),Hu=vu(new Date(Kl.getFullYear(),0,4)),mc=vu(mc),0>=ou(Hu,Kl)?0>=ou(mc,Kl)?Kl.getFullYear()+1:Kl.getFullYear():Kl.getFullYear()-1}var Fu=Xa()[kl+40>>2>>>0];for(var bc in kl={Lc:Xa()[kl>>2>>>0],Kc:Xa()[kl+4>>2>>>0],dc:Xa()[kl+8>>2>>>0],jc:Xa()[kl+12>>2>>>0],ec:Xa()[kl+16>>2>>>0],Xb:Xa()[kl+20>>2>>>0],Tb:Xa()[kl+24>>2>>>0],Wb:Xa()[kl+28>>2>>>0],Rc:Xa()[kl+32>>2>>>0],Jc:Xa()[kl+36>>2>>>0],Mc:Fu?su(Fu):""},wl=su(wl),Fu={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})wl=wl.replace(new RegExp(bc,"g"),Fu[bc]);var Kc="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Gc="January February March April May June July August September October November December".split(" ");for(bc in Fu={"%a":function(Kl){return Kc[Kl.Tb].substring(0,3)},"%A":function(Kl){return Kc[Kl.Tb]},"%b":function(Kl){return Gc[Kl.ec].substring(0,3)},"%B":function(Kl){return Gc[Kl.ec]},"%C":function(Kl){return Xl((Kl.Xb+1900)/100|0,2)},"%d":function(Kl){return Xl(Kl.jc,2)},"%e":function(Kl){return zl(Kl.jc,2," ")},"%g":function(Kl){return $u(Kl).toString().substring(2)},"%G":function(Kl){return $u(Kl)},"%H":function(Kl){return Xl(Kl.dc,2)},"%I":function(Kl){return(Kl=Kl.dc)==0?Kl=12:12<Kl&&(Kl-=12),Xl(Kl,2)},"%j":function(Kl){for(var Hu=0,mc=0;mc<=Kl.ec-1;Hu+=(Nf(Kl.Xb+1900)?Vc:Oh)[mc++]);return Xl(Kl.jc+Hu,3)},"%m":function(Kl){return Xl(Kl.ec+1,2)},"%M":function(Kl){return Xl(Kl.Kc,2)},"%n":function(){return`
`},"%p":function(Kl){return 0<=Kl.dc&&12>Kl.dc?"AM":"PM"},"%S":function(Kl){return Xl(Kl.Lc,2)},"%t":function(){return"	"},"%u":function(Kl){return Kl.Tb||7},"%U":function(Kl){return Xl(Math.floor((Kl.Wb+7-Kl.Tb)/7),2)},"%V":function(Kl){var Hu=Math.floor((Kl.Wb+7-(Kl.Tb+6)%7)/7);if(2>=(Kl.Tb+371-Kl.Wb-2)%7&&Hu++,Hu)Hu==53&&((mc=(Kl.Tb+371-Kl.Wb)%7)==4||mc==3&&Nf(Kl.Xb)||(Hu=1));else{Hu=52;var mc=(Kl.Tb+7-Kl.Wb-1)%7;(mc==4||mc==5&&Nf(Kl.Xb%400-1))&&Hu++}return Xl(Hu,2)},"%w":function(Kl){return Kl.Tb},"%W":function(Kl){return Xl(Math.floor((Kl.Wb+7-(Kl.Tb+6)%7)/7),2)},"%y":function(Kl){return(Kl.Xb+1900).toString().substring(2)},"%Y":function(Kl){return Kl.Xb+1900},"%z":function(Kl){var Hu=0<=(Kl=Kl.Jc);return Kl=Math.abs(Kl)/60,(Hu?"+":"-")+("0000"+(Kl/60*100+Kl%60)).slice(-4)},"%Z":function(Kl){return Kl.Mc},"%%":function(){return"%"}},wl=wl.replace(/%%/g,"\0\0"),Fu)wl.includes(bc)&&(wl=wl.replace(new RegExp(bc,"g"),Fu[bc](kl)));return bc=(function(Kl){var Hu=Array(Yl(Kl)+1);return pu(Kl,Hu,0,Hu.length),Hu})(wl=wl.replace(/\0\0/g,"%")),bc.length>yl?0:((function(Kl,Hu){Ha().set(Kl,Hu>>>0)})(bc,fl),bc.length-1)}hu.fc();var Wf=[null,cu,Lu,xd,Af,Wc,vc,Ic,od,Md,Cf,Rf,ef,yd,Pd,El,Il,Ul,Zl,yu,Wl,Uu,Ju,zc,ld,Yf],I0={b:function(fl){return kh(fl+24)+24},n:function(fl){return(fl=new Ru(fl)).uc()||(fl.hc(!0),Ou--),fl.ic(!1),uc.push(fl),fl.sc(),fl.vc()},ma:function(fl){throw Sl("Unexpected exception thrown, this is not properly supported - aborting"),$l=!0,fl},x:function(){Gu(0);var fl=uc.pop();if(fl.Hc()&&!fl.kc()){var yl=fl.Dc();yl&&Yu(yl)(fl.Zb),Dd(fl.Zb)}Cu=0},e:function(){var fl=Cu;if(!fl)return Uc=0;var yl=new Ru(fl);yl.cc(fl);var wl=yl.bc();if(!wl)return Uc=0,fl;for(var kl=Array.prototype.slice.call(arguments),zl=0;zl<kl.length;zl++){var Xl=kl[zl];if(Xl===0||Xl===wl)break;if(jd(Xl,wl,yl.Sb+16))return Uc=Xl,fl}return Uc=wl,fl},l:function(){var fl=Cu;if(!fl)return Uc=0;var yl=new Ru(fl);yl.cc(fl);var wl=yl.bc();if(!wl)return Uc=0,fl;for(var kl=Array.prototype.slice.call(arguments),zl=0;zl<kl.length;zl++){var Xl=kl[zl];if(Xl===0||Xl===wl)break;if(jd(Xl,wl,yl.Sb+16))return Uc=Xl,fl}return Uc=wl,fl},h:function(){var fl=Cu;if(!fl)return Uc=0;var yl=new Ru(fl);yl.cc(fl);var wl=yl.bc();if(!wl)return Uc=0,fl;for(var kl=Array.prototype.slice.call(arguments),zl=0;zl<kl.length;zl++){var Xl=kl[zl];if(Xl===0||Xl===wl)break;if(jd(Xl,wl,yl.Sb+16))return Uc=Xl,fl}return Uc=wl,fl},t:Dd,M:function(){var fl=uc.pop();fl||Au("no exception to throw");var yl=fl.Zb;throw fl.kc()||(uc.push(fl),fl.ic(!0),fl.hc(!1),Ou++),Cu=yl,yl},c:function(fl,yl,wl){throw new Ru(fl).fc(yl,wl),Cu=fl,Ou++,fl},pa:function(){return Ou},Fa:function(fl){Xf(fl,!ul,1,!ll),hu.pc()},T:function(fl){cl?postMessage({cmd:"cleanupThread",thread:fl}):qu(fl)},xa:Jd,j:function(fl){throw Cu||(Cu=fl),fl},H:Af,Ma:Wc,ua:vc,wa:Ic,oa:od,Ka:Md,Ca:Cf,Ja:Rf,V:ef,va:yd,sa:Pd,La:El,ta:Il,Ta:function(){},X:function(){Au("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){Au("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(fl,yl,wl,kl){if(fl==yl)setTimeout((()=>Pl(kl)));else if(cl)postMessage({targetThread:fl,cmd:"processProxyingQueue",queue:kl});else{if(!(fl=hu.Vb[fl]))return;fl.postMessage({cmd:"processProxyingQueue",queue:kl})}return 1},Ea:function(){return-1},Pa:function(fl,yl){fl=new Date(1e3*Bl(fl)),Xa()[yl>>2>>>0]=fl.getUTCSeconds(),Xa()[yl+4>>2>>>0]=fl.getUTCMinutes(),Xa()[yl+8>>2>>>0]=fl.getUTCHours(),Xa()[yl+12>>2>>>0]=fl.getUTCDate(),Xa()[yl+16>>2>>>0]=fl.getUTCMonth(),Xa()[yl+20>>2>>>0]=fl.getUTCFullYear()-1900,Xa()[yl+24>>2>>>0]=fl.getUTCDay(),fl=(fl.getTime()-Date.UTC(fl.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,Xa()[yl+28>>2>>>0]=fl},Qa:function(fl,yl){fl=new Date(1e3*Bl(fl)),Xa()[yl>>2>>>0]=fl.getSeconds(),Xa()[yl+4>>2>>>0]=fl.getMinutes(),Xa()[yl+8>>2>>>0]=fl.getHours(),Xa()[yl+12>>2>>>0]=fl.getDate(),Xa()[yl+16>>2>>>0]=fl.getMonth(),Xa()[yl+20>>2>>>0]=fl.getFullYear()-1900,Xa()[yl+24>>2>>>0]=fl.getDay();var wl=new Date(fl.getFullYear(),0,1),kl=(fl.getTime()-wl.getTime())/864e5|0;Xa()[yl+28>>2>>>0]=kl,Xa()[yl+36>>2>>>0]=-60*fl.getTimezoneOffset(),kl=new Date(fl.getFullYear(),6,1).getTimezoneOffset(),fl=0|(kl!=(wl=wl.getTimezoneOffset())&&fl.getTimezoneOffset()==Math.min(wl,kl)),Xa()[yl+32>>2>>>0]=fl},Ra:function(fl){var yl=new Date(Xa()[fl+20>>2>>>0]+1900,Xa()[fl+16>>2>>>0],Xa()[fl+12>>2>>>0],Xa()[fl+8>>2>>>0],Xa()[fl+4>>2>>>0],Xa()[fl>>2>>>0],0),wl=Xa()[fl+32>>2>>>0],kl=yl.getTimezoneOffset(),zl=new Date(yl.getFullYear(),0,1),Xl=new Date(yl.getFullYear(),6,1).getTimezoneOffset(),ou=zl.getTimezoneOffset(),vu=Math.min(ou,Xl);return 0>wl?Xa()[fl+32>>2>>>0]=+(Xl!=ou&&vu==kl):0<wl!=(vu==kl)&&(Xl=Math.max(ou,Xl),yl.setTime(yl.getTime()+6e4*((0<wl?vu:Xl)-kl))),Xa()[fl+24>>2>>>0]=yl.getDay(),wl=(yl.getTime()-zl.getTime())/864e5|0,Xa()[fl+28>>2>>>0]=wl,Xa()[fl>>2>>>0]=yl.getSeconds(),Xa()[fl+4>>2>>>0]=yl.getMinutes(),Xa()[fl+8>>2>>>0]=yl.getHours(),Xa()[fl+12>>2>>>0]=yl.getDate(),Xa()[fl+16>>2>>>0]=yl.getMonth(),yl.getTime()/1e3|0},Aa:Ul,Ba:Zl,Sa:function fl(yl,wl,kl){fl.Ac||(fl.Ac=!0,yu(yl,wl,kl))},y:function(){Au("")},U:function(){if(!ol&&!ul){var fl="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";sd||(sd={}),sd[fl]||(sd[fl]=1,ol&&(fl="warning: "+fl),Sl(fl))}},ra:function(){return 4294901760},B:bd,Ia:function(fl,yl,wl){Ya().copyWithin(fl>>>0,yl>>>0,yl+wl>>>0)},F:function(){return ol?ja(3993).cpus().length:navigator.hardwareConcurrency},Da:function(fl,yl,wl){nc.length=yl,wl>>=3;for(var kl=0;kl<yl;kl++)nc[kl]=Qa()[wl+kl>>>0];return(0>fl?Su[-fl-1]:Wf[fl]).apply(null,nc)},qa:function(fl){var yl=Ya().length;if((fl>>>=0)<=yl||4294901760<fl)return!1;for(var wl=1;4>=wl;wl*=2){var kl=yl*(1+.2/wl);kl=Math.min(kl,fl+100663296);var zl=Math;kl=Math.max(fl,kl),zl=zl.min.call(zl,4294901760,kl+(65536-kl%65536)%65536);e:{try{Nl.grow(zl-Rl.byteLength+65535>>>16),ru(Nl.buffer);var Xl=1;break e}catch{}Xl=void 0}if(Xl)return!0}return!1},Na:function(){throw"unwind"},Ga:Wl,Ha:Uu,J:wu,I:Ju,S:zc,ga:ld,R:Yf,d:function(){return Uc},na:function fl(yl,wl){fl.lc||(fl.lc=(function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var zl=new Uint8Array(1);return()=>(crypto.getRandomValues(zl),zl[0])}if(ol)try{var Xl=ja(Object((function(){var ou=new Error("Cannot find module 'crypto'");throw ou.code="MODULE_NOT_FOUND",ou})()));return()=>Xl.randomBytes(1)[0]}catch{}return()=>Au("randomDevice")})());for(var kl=0;kl<wl;kl++)Ha()[yl+kl>>0>>>0]=fl.lc();return 0},ia:function(fl,yl,wl){var kl=ju();try{return Yu(fl)(yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},ja:function(fl,yl,wl){var kl=ju();try{return Yu(fl)(yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},K:function(fl){var yl=ju();try{return Yu(fl)()}catch(wl){if(zu(yl),wl!==wl+0)throw wl;Gu(1,0)}},f:function(fl,yl){var wl=ju();try{return Yu(fl)(yl)}catch(kl){if(zu(wl),kl!==kl+0)throw kl;Gu(1,0)}},P:function(fl,yl,wl){var kl=ju();try{return Yu(fl)(yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},Q:function(fl,yl,wl){var kl=ju();try{return Yu(fl)(yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},k:function(fl,yl,wl){var kl=ju();try{return Yu(fl)(yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},p:function(fl,yl,wl,kl){var zl=ju();try{return Yu(fl)(yl,wl,kl)}catch(Xl){if(zu(zl),Xl!==Xl+0)throw Xl;Gu(1,0)}},q:function(fl,yl,wl,kl,zl){var Xl=ju();try{return Yu(fl)(yl,wl,kl,zl)}catch(ou){if(zu(Xl),ou!==ou+0)throw ou;Gu(1,0)}},N:function(fl,yl,wl,kl,zl,Xl){var ou=ju();try{return Yu(fl)(yl,wl,kl,zl,Xl)}catch(vu){if(zu(ou),vu!==vu+0)throw vu;Gu(1,0)}},s:function(fl,yl,wl,kl,zl,Xl){var ou=ju();try{return Yu(fl)(yl,wl,kl,zl,Xl)}catch(vu){if(zu(ou),vu!==vu+0)throw vu;Gu(1,0)}},w:function(fl,yl,wl,kl,zl,Xl,ou){var vu=ju();try{return Yu(fl)(yl,wl,kl,zl,Xl,ou)}catch($u){if(zu(vu),$u!==$u+0)throw $u;Gu(1,0)}},L:function(fl,yl,wl,kl,zl,Xl,ou,vu){var $u=ju();try{return Yu(fl)(yl,wl,kl,zl,Xl,ou,vu)}catch(Fu){if(zu($u),Fu!==Fu+0)throw Fu;Gu(1,0)}},E:function(fl,yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc,Kc){var Gc=ju();try{return Yu(fl)(yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc,Kc)}catch(Kl){if(zu(Gc),Kl!==Kl+0)throw Kl;Gu(1,0)}},aa:function(fl,yl,wl,kl,zl,Xl,ou,vu){var $u=ju();try{return eh(fl,yl,wl,kl,zl,Xl,ou,vu)}catch(Fu){if(zu($u),Fu!==Fu+0)throw Fu;Gu(1,0)}},_:function(fl,yl,wl,kl,zl,Xl,ou){var vu=ju();try{return $d(fl,yl,wl,kl,zl,Xl,ou)}catch($u){if(zu(vu),$u!==$u+0)throw $u;Gu(1,0)}},Z:function(fl,yl,wl,kl,zl){var Xl=ju();try{return nf(fl,yl,wl,kl,zl)}catch(ou){if(zu(Xl),ou!==ou+0)throw ou;Gu(1,0)}},ca:function(fl,yl,wl,kl){var zl=ju();try{return tf(fl,yl,wl,kl)}catch(Xl){if(zu(zl),Xl!==Xl+0)throw Xl;Gu(1,0)}},$:function(fl){var yl=ju();try{return Zf(fl)}catch(wl){if(zu(yl),wl!==wl+0)throw wl;Gu(1,0)}},ba:function(fl,yl){var wl=ju();try{return ud(fl,yl)}catch(kl){if(zu(wl),kl!==kl+0)throw kl;Gu(1,0)}},Y:function(fl,yl,wl){var kl=ju();try{return Fd(fl,yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},g:function(fl){var yl=ju();try{Yu(fl)()}catch(wl){if(zu(yl),wl!==wl+0)throw wl;Gu(1,0)}},r:function(fl,yl){var wl=ju();try{Yu(fl)(yl)}catch(kl){if(zu(wl),kl!==kl+0)throw kl;Gu(1,0)}},i:function(fl,yl,wl){var kl=ju();try{Yu(fl)(yl,wl)}catch(zl){if(zu(kl),zl!==zl+0)throw zl;Gu(1,0)}},ha:function(fl,yl,wl,kl){var zl=ju();try{Yu(fl)(yl,wl,kl)}catch(Xl){if(zu(zl),Xl!==Xl+0)throw Xl;Gu(1,0)}},m:function(fl,yl,wl,kl){var zl=ju();try{Yu(fl)(yl,wl,kl)}catch(Xl){if(zu(zl),Xl!==Xl+0)throw Xl;Gu(1,0)}},v:function(fl,yl,wl,kl,zl){var Xl=ju();try{Yu(fl)(yl,wl,kl,zl)}catch(ou){if(zu(Xl),ou!==ou+0)throw ou;Gu(1,0)}},u:function(fl,yl,wl,kl,zl,Xl){var ou=ju();try{Yu(fl)(yl,wl,kl,zl,Xl)}catch(vu){if(zu(ou),vu!==vu+0)throw vu;Gu(1,0)}},O:function(fl,yl,wl,kl,zl,Xl,ou){var vu=ju();try{Yu(fl)(yl,wl,kl,zl,Xl,ou)}catch($u){if(zu(vu),$u!==$u+0)throw $u;Gu(1,0)}},A:function(fl,yl,wl,kl,zl,Xl,ou,vu){var $u=ju();try{Yu(fl)(yl,wl,kl,zl,Xl,ou,vu)}catch(Fu){if(zu($u),Fu!==Fu+0)throw Fu;Gu(1,0)}},ka:function(fl,yl,wl,kl,zl,Xl,ou,vu,$u){var Fu=ju();try{Yu(fl)(yl,wl,kl,zl,Xl,ou,vu,$u)}catch(bc){if(zu(Fu),bc!==bc+0)throw bc;Gu(1,0)}},C:function(fl,yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc){var Kc=ju();try{Yu(fl)(yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc)}catch(Gc){if(zu(Kc),Gc!==Gc+0)throw Gc;Gu(1,0)}},D:function(fl,yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc,Kc,Gc,Kl,Hu,mc){var _d=ju();try{Yu(fl)(yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc,Kc,Gc,Kl,Hu,mc)}catch(rf){if(zu(_d),rf!==rf+0)throw rf;Gu(1,0)}},fa:function(fl,yl,wl,kl,zl,Xl,ou,vu){var $u=ju();try{$h(fl,yl,wl,kl,zl,Xl,ou,vu)}catch(Fu){if(zu($u),Fu!==Fu+0)throw Fu;Gu(1,0)}},da:function(fl,yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc,Kc){var Gc=ju();try{Fh(fl,yl,wl,kl,zl,Xl,ou,vu,$u,Fu,bc,Kc)}catch(Kl){if(zu(Gc),Kl!==Kl+0)throw Kl;Gu(1,0)}},ea:function(fl,yl,wl,kl,zl,Xl){var ou=ju();try{Jf(fl,yl,wl,kl,zl,Xl)}catch(vu){if(zu(ou),vu!==vu+0)throw vu;Gu(1,0)}},o:function(fl){return fl},a:Nl||Va.wasmMemory,G:function(fl){Uc=fl},la:R0,z:function(fl,yl,wl,kl){return R0(fl,yl,wl,kl)}};(function(){function fl(zl,Xl){Va.asm=zl.exports,hu.qc.push(Va.asm.sb),fu=Va.asm.ub,xu.unshift(Va.asm.Va),dl=Xl,cl||(Pu--,Va.monitorRunDependencies&&Va.monitorRunDependencies(Pu),Pu==0&&hc&&(zl=hc,hc=null,zl()))}function yl(zl){fl(zl.instance,zl.module)}function wl(zl){return(function(){if(!Al&&(ll||ul)){if(typeof fetch=="function"&&!gu.startsWith("file://"))return fetch(gu,{credentials:"same-origin"}).then((function(Xl){if(!Xl.ok)throw"failed to load wasm binary file at '"+gu+"'";return Xl.arrayBuffer()})).catch((function(){return iu()}));if(Oo)return new Promise((function(Xl,ou){Oo(gu,(function(vu){Xl(new Uint8Array(vu))}),ou)}))}return Promise.resolve().then((function(){return iu()}))})().then((function(Xl){return WebAssembly.instantiate(Xl,kl)})).then((function(Xl){return Xl})).then(zl,(function(Xl){Sl("failed to asynchronously prepare wasm: "+Xl),Au(Xl)}))}var kl={a:I0};if(cl||(Pu++,Va.monitorRunDependencies&&Va.monitorRunDependencies(Pu)),Va.instantiateWasm)try{return Va.instantiateWasm(kl,fl)}catch(zl){return Sl("Module.instantiateWasm callback failed with error: "+zl),!1}(Al||typeof WebAssembly.instantiateStreaming!="function"||Ql()||gu.startsWith("file://")||ol||typeof fetch!="function"?wl(yl):fetch(gu,{credentials:"same-origin"}).then((function(zl){return WebAssembly.instantiateStreaming(zl,kl).then(yl,(function(Xl){return Sl("wasm streaming compile failed: "+Xl),Sl("falling back to ArrayBuffer instantiation"),wl(yl)}))}))).catch(Wa)})(),Va.___wasm_call_ctors=function(){return(Va.___wasm_call_ctors=Va.asm.Va).apply(null,arguments)},Va._OrtInit=function(){return(Va._OrtInit=Va.asm.Wa).apply(null,arguments)},Va._OrtCreateSessionOptions=function(){return(Va._OrtCreateSessionOptions=Va.asm.Xa).apply(null,arguments)},Va._OrtAppendExecutionProvider=function(){return(Va._OrtAppendExecutionProvider=Va.asm.Ya).apply(null,arguments)},Va._OrtAddSessionConfigEntry=function(){return(Va._OrtAddSessionConfigEntry=Va.asm.Za).apply(null,arguments)},Va._OrtReleaseSessionOptions=function(){return(Va._OrtReleaseSessionOptions=Va.asm._a).apply(null,arguments)},Va._OrtCreateSession=function(){return(Va._OrtCreateSession=Va.asm.$a).apply(null,arguments)},Va._OrtReleaseSession=function(){return(Va._OrtReleaseSession=Va.asm.ab).apply(null,arguments)},Va._OrtGetInputCount=function(){return(Va._OrtGetInputCount=Va.asm.bb).apply(null,arguments)},Va._OrtGetOutputCount=function(){return(Va._OrtGetOutputCount=Va.asm.cb).apply(null,arguments)},Va._OrtGetInputName=function(){return(Va._OrtGetInputName=Va.asm.db).apply(null,arguments)},Va._OrtGetOutputName=function(){return(Va._OrtGetOutputName=Va.asm.eb).apply(null,arguments)},Va._OrtFree=function(){return(Va._OrtFree=Va.asm.fb).apply(null,arguments)},Va._OrtCreateTensor=function(){return(Va._OrtCreateTensor=Va.asm.gb).apply(null,arguments)},Va._OrtGetTensorData=function(){return(Va._OrtGetTensorData=Va.asm.hb).apply(null,arguments)},Va._OrtReleaseTensor=function(){return(Va._OrtReleaseTensor=Va.asm.ib).apply(null,arguments)},Va._OrtCreateRunOptions=function(){return(Va._OrtCreateRunOptions=Va.asm.jb).apply(null,arguments)},Va._OrtAddRunConfigEntry=function(){return(Va._OrtAddRunConfigEntry=Va.asm.kb).apply(null,arguments)},Va._OrtReleaseRunOptions=function(){return(Va._OrtReleaseRunOptions=Va.asm.lb).apply(null,arguments)},Va._OrtRun=function(){return(Va._OrtRun=Va.asm.mb).apply(null,arguments)},Va._OrtEndProfiling=function(){return(Va._OrtEndProfiling=Va.asm.nb).apply(null,arguments)};var Ld=Va._pthread_self=function(){return(Ld=Va._pthread_self=Va.asm.ob).apply(null,arguments)},kh=Va._malloc=function(){return(kh=Va._malloc=Va.asm.pb).apply(null,arguments)},qc=Va._free=function(){return(qc=Va._free=Va.asm.qb).apply(null,arguments)},Kf=Va._fflush=function(){return(Kf=Va._fflush=Va.asm.rb).apply(null,arguments)};Va.__emscripten_tls_init=function(){return(Va.__emscripten_tls_init=Va.asm.sb).apply(null,arguments)};var Dh=Va.___funcs_on_exit=function(){return(Dh=Va.___funcs_on_exit=Va.asm.tb).apply(null,arguments)},Xf=Va.__emscripten_thread_init=function(){return(Xf=Va.__emscripten_thread_init=Va.asm.vb).apply(null,arguments)};Va.__emscripten_thread_crashed=function(){return(Va.__emscripten_thread_crashed=Va.asm.wb).apply(null,arguments)};var vd,Mh=Va._emscripten_run_in_main_runtime_thread_js=function(){return(Mh=Va._emscripten_run_in_main_runtime_thread_js=Va.asm.xb).apply(null,arguments)},Ph=Va.__emscripten_proxy_execute_task_queue=function(){return(Ph=Va.__emscripten_proxy_execute_task_queue=Va.asm.yb).apply(null,arguments)},Cd=Va.__emscripten_thread_free_data=function(){return(Cd=Va.__emscripten_thread_free_data=Va.asm.zb).apply(null,arguments)},N0=Va.__emscripten_thread_exit=function(){return(N0=Va.__emscripten_thread_exit=Va.asm.Ab).apply(null,arguments)},Gu=Va._setThrew=function(){return(Gu=Va._setThrew=Va.asm.Bb).apply(null,arguments)},Lh=Va._emscripten_stack_set_limits=function(){return(Lh=Va._emscripten_stack_set_limits=Va.asm.Cb).apply(null,arguments)},ju=Va.stackSave=function(){return(ju=Va.stackSave=Va.asm.Db).apply(null,arguments)},zu=Va.stackRestore=function(){return(zu=Va.stackRestore=Va.asm.Eb).apply(null,arguments)},jh=Va.stackAlloc=function(){return(jh=Va.stackAlloc=Va.asm.Fb).apply(null,arguments)},jd=Va.___cxa_can_catch=function(){return(jd=Va.___cxa_can_catch=Va.asm.Gb).apply(null,arguments)},Qf=Va.___cxa_is_pointer_type=function(){return(Qf=Va.___cxa_is_pointer_type=Va.asm.Hb).apply(null,arguments)},Zf=Va.dynCall_j=function(){return(Zf=Va.dynCall_j=Va.asm.Ib).apply(null,arguments)},$d=Va.dynCall_iiiiij=function(){return($d=Va.dynCall_iiiiij=Va.asm.Jb).apply(null,arguments)},Fd=Va.dynCall_jii=function(){return(Fd=Va.dynCall_jii=Va.asm.Kb).apply(null,arguments)},$h=Va.dynCall_viiiiij=function(){return($h=Va.dynCall_viiiiij=Va.asm.Lb).apply(null,arguments)},Jf=Va.dynCall_vjji=function(){return(Jf=Va.dynCall_vjji=Va.asm.Mb).apply(null,arguments)},Fh=Va.dynCall_viiijjjii=function(){return(Fh=Va.dynCall_viiijjjii=Va.asm.Nb).apply(null,arguments)},tf=Va.dynCall_iij=function(){return(tf=Va.dynCall_iij=Va.asm.Ob).apply(null,arguments)},ud=Va.dynCall_ji=function(){return(ud=Va.dynCall_ji=Va.asm.Pb).apply(null,arguments)},eh=Va.dynCall_iiiiiij=function(){return(eh=Va.dynCall_iiiiiij=Va.asm.Qb).apply(null,arguments)},nf=Va.dynCall_iiij=function(){return(nf=Va.dynCall_iiij=Va.asm.Rb).apply(null,arguments)};function Ed(){function fl(){if(!vd&&(vd=!0,Va.calledRun=!0,!$l)&&(cl||ec(xu),Ua(Va),Va.onRuntimeInitialized&&Va.onRuntimeInitialized(),!cl)){if(Va.postRun)for(typeof Va.postRun=="function"&&(Va.postRun=[Va.postRun]);Va.postRun.length;){var yl=Va.postRun.shift();Zu.unshift(yl)}ec(Zu)}}if(!(0<Pu))if(cl)Ua(Va),cl||ec(xu),postMessage({cmd:"loaded"});else{if(Va.preRun)for(typeof Va.preRun=="function"&&(Va.preRun=[Va.preRun]);Va.preRun.length;)Mu();ec(bu),0<Pu||(Va.setStatus?(Va.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Va.setStatus("")}),1),fl()}),1)):fl())}}if(Va.UTF8ToString=su,Va.stringToUTF8=function(fl,yl,wl){return pu(fl,Ya(),yl,wl)},Va.lengthBytesUTF8=Yl,Va.keepRuntimeAlive=ic,Va.wasmMemory=Nl,Va.stackSave=ju,Va.stackRestore=zu,Va.stackAlloc=jh,Va.ExitStatus=_u,Va.PThread=hu,hc=function fl(){vd||Ed(),vd||(hc=fl)},Va.preInit)for(typeof Va.preInit=="function"&&(Va.preInit=[Va.preInit]);0<Va.preInit.length;)Va.preInit.pop()();return Ed(),Ga.ready});La.exports=za},932:(La,Na,ja)=>{var Ba,za=(Ba=(Ba=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(Ga){var Ha,Ya,Xa;Ga=Ga||{},Ha||(Ha=Ga!==void 0?Ga:{}),Ha.ready=new Promise((function(El,Il){Ya=El,Xa=Il}));var Ka,Qa,Va,Ua,Wa,Ja,Oo=Object.assign({},Ha),Do="./this.program",Mo=(El,Il)=>{throw Il},el=typeof window=="object",tl=typeof importScripts=="function",rl=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",il="";rl?(il=tl?ja(908).dirname(il)+"/":"//",Ja=()=>{Wa||(Ua=ja(1384),Wa=ja(908))},Ka=function(El,Il){return Ja(),El=Wa.normalize(El),Ua.readFileSync(El,Il?void 0:"utf8")},Va=El=>((El=Ka(El,!0)).buffer||(El=new Uint8Array(El)),El),Qa=(El,Il,Pl)=>{Ja(),El=Wa.normalize(El),Ua.readFile(El,(function(Bl,Ul){Bl?Pl(Bl):Il(Ul.buffer)}))},1<process.argv.length&&(Do=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(El){if(!(El instanceof xu))throw El})),process.on("unhandledRejection",(function(El){throw El})),Mo=(El,Il)=>{if(ol||0<eu)throw process.exitCode=El,Il;Il instanceof xu||ul("exiting due to exception: "+Il),process.exit(El)},Ha.inspect=function(){return"[Emscripten Module object]"}):(el||tl)&&(tl?il=self.location.href:typeof document<"u"&&document.currentScript&&(il=document.currentScript.src),Ba&&(il=Ba),il=il.indexOf("blob:")!==0?il.substr(0,il.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Ka=El=>{var Il=new XMLHttpRequest;return Il.open("GET",El,!1),Il.send(null),Il.responseText},tl&&(Va=El=>{var Il=new XMLHttpRequest;return Il.open("GET",El,!1),Il.responseType="arraybuffer",Il.send(null),new Uint8Array(Il.response)}),Qa=(El,Il,Pl)=>{var Bl=new XMLHttpRequest;Bl.open("GET",El,!0),Bl.responseType="arraybuffer",Bl.onload=()=>{Bl.status==200||Bl.status==0&&Bl.response?Il(Bl.response):Pl()},Bl.onerror=Pl,Bl.send(null)});var al,ll=Ha.print||console.log.bind(console),ul=Ha.printErr||console.warn.bind(console);Object.assign(Ha,Oo),Oo=null,Ha.thisProgram&&(Do=Ha.thisProgram),Ha.quit&&(Mo=Ha.quit),Ha.wasmBinary&&(al=Ha.wasmBinary);var ol=Ha.noExitRuntime||!1;typeof WebAssembly!="object"&&ru("no native wasm support detected");var cl,gl,bl,_l,xl,Al,ml=!1,Sl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Cl(El,Il,Pl){var Bl=(Il>>>=0)+Pl;for(Pl=Il;El[Pl]&&!(Pl>=Bl);)++Pl;if(16<Pl-Il&&El.buffer&&Sl)return Sl.decode(El.subarray(Il,Pl));for(Bl="";Il<Pl;){var Ul=El[Il++];if(128&Ul){var Zl=63&El[Il++];if((224&Ul)==192)Bl+=String.fromCharCode((31&Ul)<<6|Zl);else{var du=63&El[Il++];65536>(Ul=(240&Ul)==224?(15&Ul)<<12|Zl<<6|du:(7&Ul)<<18|Zl<<12|du<<6|63&El[Il++])?Bl+=String.fromCharCode(Ul):(Ul-=65536,Bl+=String.fromCharCode(55296|Ul>>10,56320|1023&Ul))}}else Bl+=String.fromCharCode(Ul)}return Bl}function Nl(El,Il){return(El>>>=0)?Cl(_l,El,Il):""}function dl(El,Il,Pl,Bl){if(!(0<Bl))return 0;var Ul=Pl>>>=0;Bl=Pl+Bl-1;for(var Zl=0;Zl<El.length;++Zl){var du=El.charCodeAt(Zl);if(55296<=du&&57343>=du&&(du=65536+((1023&du)<<10)|1023&El.charCodeAt(++Zl)),127>=du){if(Pl>=Bl)break;Il[Pl++>>>0]=du}else{if(2047>=du){if(Pl+1>=Bl)break;Il[Pl++>>>0]=192|du>>6}else{if(65535>=du){if(Pl+2>=Bl)break;Il[Pl++>>>0]=224|du>>12}else{if(Pl+3>=Bl)break;Il[Pl++>>>0]=240|du>>18,Il[Pl++>>>0]=128|du>>12&63}Il[Pl++>>>0]=128|du>>6&63}Il[Pl++>>>0]=128|63&du}}return Il[Pl>>>0]=0,Pl-Ul}function Rl(El){for(var Il=0,Pl=0;Pl<El.length;++Pl){var Bl=El.charCodeAt(Pl);127>=Bl?Il++:2047>=Bl?Il+=2:55296<=Bl&&57343>=Bl?(Il+=4,++Pl):Il+=3}return Il}function Tl(){var El=cl.buffer;gl=El,Ha.HEAP8=bl=new Int8Array(El),Ha.HEAP16=new Int16Array(El),Ha.HEAP32=xl=new Int32Array(El),Ha.HEAPU8=_l=new Uint8Array(El),Ha.HEAPU16=new Uint16Array(El),Ha.HEAPU32=Al=new Uint32Array(El),Ha.HEAPF32=new Float32Array(El),Ha.HEAPF64=new Float64Array(El)}var pl,jl=[],Ll=[],Dl=[],$l=[],eu=0;function uu(){var El=Ha.preRun.shift();jl.unshift(El)}var su,pu=0,Yl=null;function ru(El){throw Ha.onAbort&&Ha.onAbort(El),ul(El="Aborted("+El+")"),ml=!0,El=new WebAssembly.RuntimeError(El+". Build with -sASSERTIONS for more info."),Xa(El),El}function lu(){return su.startsWith("data:application/octet-stream;base64,")}if(su="ort-wasm.wasm",!lu()){var fu=su;su=Ha.locateFile?Ha.locateFile(fu,il):il+fu}function bu(){var El=su;try{if(El==su&&al)return new Uint8Array(al);if(Va)return Va(El);throw"both async and sync fetching of the wasm failed"}catch(Il){ru(Il)}}function xu(El){this.name="ExitStatus",this.message="Program terminated with exit("+El+")",this.status=El}function Du(El){for(;0<El.length;)El.shift()(Ha)}var Zu=[],ic=0,Mu=0;function gu(El){this.Db=El,this.zb=El-24,this.Ub=function(Il){Al[this.zb+4>>2>>>0]=Il},this.Eb=function(){return Al[this.zb+4>>2>>>0]},this.Sb=function(Il){Al[this.zb+8>>2>>>0]=Il},this.Wb=function(){return Al[this.zb+8>>2>>>0]},this.Tb=function(){xl[this.zb>>2>>>0]=0},this.Ib=function(Il){bl[this.zb+12>>0>>>0]=Il?1:0},this.Pb=function(){return bl[this.zb+12>>0>>>0]!=0},this.Jb=function(Il){bl[this.zb+13>>0>>>0]=Il?1:0},this.Lb=function(){return bl[this.zb+13>>0>>>0]!=0},this.Rb=function(Il,Pl){this.Fb(0),this.Ub(Il),this.Sb(Pl),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){xl[this.zb>>2>>>0]+=1},this.Xb=function(){var Il=xl[this.zb>>2>>>0];return xl[this.zb>>2>>>0]=Il-1,Il===1},this.Fb=function(Il){Al[this.zb+16>>2>>>0]=Il},this.Ob=function(){return Al[this.zb+16>>2>>>0]},this.Qb=function(){if(Jd(this.Eb()))return Al[this.Db>>2>>>0];var Il=this.Ob();return Il!==0?Il:this.Db}}function Pu(El){return sd(new gu(El).zb)}var hc=[];function Au(El){var Il=hc[El];return Il||(El>=hc.length&&(hc.length=El+1),hc[El]=Il=pl.get(El)),Il}function Ql(El){var Il=Rl(El)+1,Pl=Yu(Il);return Pl&&dl(El,bl,Pl,Il),Pl}var iu={};function Su(){if(!_u){var El,Il={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Do||"./this.program"};for(El in iu)iu[El]===void 0?delete Il[El]:Il[El]=iu[El];var Pl=[];for(El in Il)Pl.push(El+"="+Il[El]);_u=Pl}return _u}var _u,qu=[null,[],[]];function au(El,Il){var Pl=qu[El];Il===0||Il===10?((El===1?ll:ul)(Cl(Pl,0)),Pl.length=0):Pl.push(Il)}var cu=0;function wu(El){return El%4==0&&(El%100!=0||El%400==0)}var hu=[31,29,31,30,31,30,31,31,30,31,30,31],ec=[31,28,31,30,31,30,31,31,30,31,30,31];function sc(El,Il,Pl,Bl){function Ul(Wl,Uu,Ju){for(Wl=typeof Wl=="number"?Wl.toString():Wl||"";Wl.length<Uu;)Wl=Ju[0]+Wl;return Wl}function Zl(Wl,Uu){return Ul(Wl,Uu,"0")}function du(Wl,Uu){function Ju(ld){return 0>ld?-1:0<ld?1:0}var zc;return(zc=Ju(Wl.getFullYear()-Uu.getFullYear()))===0&&(zc=Ju(Wl.getMonth()-Uu.getMonth()))===0&&(zc=Ju(Wl.getDate()-Uu.getDate())),zc}function yu(Wl){switch(Wl.getDay()){case 0:return new Date(Wl.getFullYear()-1,11,29);case 1:return Wl;case 2:return new Date(Wl.getFullYear(),0,3);case 3:return new Date(Wl.getFullYear(),0,2);case 4:return new Date(Wl.getFullYear(),0,1);case 5:return new Date(Wl.getFullYear()-1,11,31);case 6:return new Date(Wl.getFullYear()-1,11,30)}}function mu(Wl){var Uu=Wl.Bb;for(Wl=new Date(new Date(Wl.Cb+1900,0,1).getTime());0<Uu;){var Ju=Wl.getMonth(),zc=(wu(Wl.getFullYear())?hu:ec)[Ju];if(!(Uu>zc-Wl.getDate())){Wl.setDate(Wl.getDate()+Uu);break}Uu-=zc-Wl.getDate()+1,Wl.setDate(1),11>Ju?Wl.setMonth(Ju+1):(Wl.setMonth(0),Wl.setFullYear(Wl.getFullYear()+1))}return Ju=new Date(Wl.getFullYear()+1,0,4),Uu=yu(new Date(Wl.getFullYear(),0,4)),Ju=yu(Ju),0>=du(Uu,Wl)?0>=du(Ju,Wl)?Wl.getFullYear()+1:Wl.getFullYear():Wl.getFullYear()-1}var Bu=xl[Bl+40>>2>>>0];for(var nc in Bl={$b:xl[Bl>>2>>>0],Zb:xl[Bl+4>>2>>>0],Gb:xl[Bl+8>>2>>>0],Kb:xl[Bl+12>>2>>>0],Hb:xl[Bl+16>>2>>>0],Cb:xl[Bl+20>>2>>>0],Ab:xl[Bl+24>>2>>>0],Bb:xl[Bl+28>>2>>>0],bc:xl[Bl+32>>2>>>0],Yb:xl[Bl+36>>2>>>0],ac:Bu?Nl(Bu):""},Pl=Nl(Pl),Bu={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Pl=Pl.replace(new RegExp(nc,"g"),Bu[nc]);var wc="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ac="January February March April May June July August September October November December".split(" ");for(nc in Bu={"%a":function(Wl){return wc[Wl.Ab].substring(0,3)},"%A":function(Wl){return wc[Wl.Ab]},"%b":function(Wl){return Ac[Wl.Hb].substring(0,3)},"%B":function(Wl){return Ac[Wl.Hb]},"%C":function(Wl){return Zl((Wl.Cb+1900)/100|0,2)},"%d":function(Wl){return Zl(Wl.Kb,2)},"%e":function(Wl){return Ul(Wl.Kb,2," ")},"%g":function(Wl){return mu(Wl).toString().substring(2)},"%G":function(Wl){return mu(Wl)},"%H":function(Wl){return Zl(Wl.Gb,2)},"%I":function(Wl){return(Wl=Wl.Gb)==0?Wl=12:12<Wl&&(Wl-=12),Zl(Wl,2)},"%j":function(Wl){for(var Uu=0,Ju=0;Ju<=Wl.Hb-1;Uu+=(wu(Wl.Cb+1900)?hu:ec)[Ju++]);return Zl(Wl.Kb+Uu,3)},"%m":function(Wl){return Zl(Wl.Hb+1,2)},"%M":function(Wl){return Zl(Wl.Zb,2)},"%n":function(){return`
`},"%p":function(Wl){return 0<=Wl.Gb&&12>Wl.Gb?"AM":"PM"},"%S":function(Wl){return Zl(Wl.$b,2)},"%t":function(){return"	"},"%u":function(Wl){return Wl.Ab||7},"%U":function(Wl){return Zl(Math.floor((Wl.Bb+7-Wl.Ab)/7),2)},"%V":function(Wl){var Uu=Math.floor((Wl.Bb+7-(Wl.Ab+6)%7)/7);if(2>=(Wl.Ab+371-Wl.Bb-2)%7&&Uu++,Uu)Uu==53&&((Ju=(Wl.Ab+371-Wl.Bb)%7)==4||Ju==3&&wu(Wl.Cb)||(Uu=1));else{Uu=52;var Ju=(Wl.Ab+7-Wl.Bb-1)%7;(Ju==4||Ju==5&&wu(Wl.Cb%400-1))&&Uu++}return Zl(Uu,2)},"%w":function(Wl){return Wl.Ab},"%W":function(Wl){return Zl(Math.floor((Wl.Bb+7-(Wl.Ab+6)%7)/7),2)},"%y":function(Wl){return(Wl.Cb+1900).toString().substring(2)},"%Y":function(Wl){return Wl.Cb+1900},"%z":function(Wl){var Uu=0<=(Wl=Wl.Yb);return Wl=Math.abs(Wl)/60,(Uu?"+":"-")+("0000"+(Wl/60*100+Wl%60)).slice(-4)},"%Z":function(Wl){return Wl.ac},"%%":function(){return"%"}},Pl=Pl.replace(/%%/g,"\0\0"),Bu)Pl.includes(nc)&&(Pl=Pl.replace(new RegExp(nc,"g"),Bu[nc](Bl)));return nc=(function(Wl){var Uu=Array(Rl(Wl)+1);return dl(Wl,Uu,0,Uu.length),Uu})(Pl=Pl.replace(/\0\0/g,"%")),nc.length>Il?0:(bl.set(nc,El>>>0),nc.length-1)}var Lu={a:function(El){return Yu(El+24)+24},m:function(El){return(El=new gu(El)).Pb()||(El.Ib(!0),ic--),El.Jb(!1),Zu.push(El),El.Nb(),El.Qb()},ia:function(El){throw ul("Unexpected exception thrown, this is not properly supported - aborting"),ml=!0,El},w:function(){Ou(0);var El=Zu.pop();if(El.Xb()&&!El.Lb()){var Il=El.Wb();Il&&Au(Il)(El.Db),Pu(El.Db)}Mu=0},d:function(){var El=Mu;if(!El)return cu=0;var Il=new gu(El);Il.Fb(El);var Pl=Il.Eb();if(!Pl)return cu=0,El;for(var Bl=Array.prototype.slice.call(arguments),Ul=0;Ul<Bl.length;Ul++){var Zl=Bl[Ul];if(Zl===0||Zl===Pl)break;if(xd(Zl,Pl,Il.zb+16))return cu=Zl,El}return cu=Pl,El},k:function(){var El=Mu;if(!El)return cu=0;var Il=new gu(El);Il.Fb(El);var Pl=Il.Eb();if(!Pl)return cu=0,El;for(var Bl=Array.prototype.slice.call(arguments),Ul=0;Ul<Bl.length;Ul++){var Zl=Bl[Ul];if(Zl===0||Zl===Pl)break;if(xd(Zl,Pl,Il.zb+16))return cu=Zl,El}return cu=Pl,El},g:function(){var El=Mu;if(!El)return cu=0;var Il=new gu(El);Il.Fb(El);var Pl=Il.Eb();if(!Pl)return cu=0,El;for(var Bl=Array.prototype.slice.call(arguments),Ul=0;Ul<Bl.length;Ul++){var Zl=Bl[Ul];if(Zl===0||Zl===Pl)break;if(xd(Zl,Pl,Il.zb+16))return cu=Zl,El}return cu=Pl,El},s:Pu,L:function(){var El=Zu.pop();El||ru("no exception to throw");var Il=El.Db;throw El.Lb()||(Zu.push(El),El.Jb(!0),El.Ib(!1),ic++),Mu=Il,Il},b:function(El,Il,Pl){throw new gu(El).Rb(Il,Pl),Mu=El,ic++,El},la:function(){return ic},i:function(El){throw Mu||(Mu=El),El},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){ru("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){ru("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(El,Il){El=new Date(1e3*(Al[El>>>2]+4294967296*xl[El+4>>>2])),xl[Il>>2>>>0]=El.getUTCSeconds(),xl[Il+4>>2>>>0]=El.getUTCMinutes(),xl[Il+8>>2>>>0]=El.getUTCHours(),xl[Il+12>>2>>>0]=El.getUTCDate(),xl[Il+16>>2>>>0]=El.getUTCMonth(),xl[Il+20>>2>>>0]=El.getUTCFullYear()-1900,xl[Il+24>>2>>>0]=El.getUTCDay(),xl[Il+28>>2>>>0]=(El.getTime()-Date.UTC(El.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(El,Il){El=new Date(1e3*(Al[El>>>2]+4294967296*xl[El+4>>>2])),xl[Il>>2>>>0]=El.getSeconds(),xl[Il+4>>2>>>0]=El.getMinutes(),xl[Il+8>>2>>>0]=El.getHours(),xl[Il+12>>2>>>0]=El.getDate(),xl[Il+16>>2>>>0]=El.getMonth(),xl[Il+20>>2>>>0]=El.getFullYear()-1900,xl[Il+24>>2>>>0]=El.getDay();var Pl=new Date(El.getFullYear(),0,1);xl[Il+28>>2>>>0]=(El.getTime()-Pl.getTime())/864e5|0,xl[Il+36>>2>>>0]=-60*El.getTimezoneOffset();var Bl=new Date(El.getFullYear(),6,1).getTimezoneOffset();Pl=Pl.getTimezoneOffset(),xl[Il+32>>2>>>0]=0|(Bl!=Pl&&El.getTimezoneOffset()==Math.min(Pl,Bl))},Fa:function(El){var Il=new Date(xl[El+20>>2>>>0]+1900,xl[El+16>>2>>>0],xl[El+12>>2>>>0],xl[El+8>>2>>>0],xl[El+4>>2>>>0],xl[El>>2>>>0],0),Pl=xl[El+32>>2>>>0],Bl=Il.getTimezoneOffset(),Ul=new Date(Il.getFullYear(),0,1),Zl=new Date(Il.getFullYear(),6,1).getTimezoneOffset(),du=Ul.getTimezoneOffset(),yu=Math.min(du,Zl);return 0>Pl?xl[El+32>>2>>>0]=+(Zl!=du&&yu==Bl):0<Pl!=(yu==Bl)&&(Zl=Math.max(du,Zl),Il.setTime(Il.getTime()+6e4*((0<Pl?yu:Zl)-Bl))),xl[El+24>>2>>>0]=Il.getDay(),xl[El+28>>2>>>0]=(Il.getTime()-Ul.getTime())/864e5|0,xl[El>>2>>>0]=Il.getSeconds(),xl[El+4>>2>>>0]=Il.getMinutes(),xl[El+8>>2>>>0]=Il.getHours(),xl[El+12>>2>>>0]=Il.getDate(),xl[El+16>>2>>>0]=Il.getMonth(),Il.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function El(Il,Pl,Bl){El.Vb||(El.Vb=!0,(function(Ul,Zl,du){function yu(Ac){return(Ac=Ac.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Ac[1]:"GMT"}var mu=new Date().getFullYear(),Bu=new Date(mu,0,1),nc=new Date(mu,6,1);mu=Bu.getTimezoneOffset();var wc=nc.getTimezoneOffset();xl[Ul>>2>>>0]=60*Math.max(mu,wc),xl[Zl>>2>>>0]=+(mu!=wc),Ul=yu(Bu),Zl=yu(nc),Ul=Ql(Ul),Zl=Ql(Zl),wc<mu?(Al[du>>2>>>0]=Ul,Al[du+4>>2>>>0]=Zl):(Al[du>>2>>>0]=Zl,Al[du+4>>2>>>0]=Ul)})(Il,Pl,Bl))},B:function(){ru("")},ma:function(){return 4294901760},I:rl?()=>{var El=process.hrtime();return 1e3*El[0]+El[1]/1e6}:()=>performance.now(),xa:function(El,Il,Pl){_l.copyWithin(El>>>0,Il>>>0,Il+Pl>>>0)},G:function(El){var Il=_l.length;if(4294901760<(El>>>=0))return!1;for(var Pl=1;4>=Pl;Pl*=2){var Bl=Il*(1+.2/Pl);Bl=Math.min(Bl,El+100663296);var Ul=Math;Bl=Math.max(El,Bl),Ul=Ul.min.call(Ul,4294901760,Bl+(65536-Bl%65536)%65536);e:{try{cl.grow(Ul-gl.byteLength+65535>>>16),Tl();var Zl=1;break e}catch{}Zl=void 0}if(Zl)return!0}return!1},va:function(El,Il){var Pl=0;return Su().forEach((function(Bl,Ul){var Zl=Il+Pl;for(Ul=Al[El+4*Ul>>2>>>0]=Zl,Zl=0;Zl<Bl.length;++Zl)bl[Ul++>>0>>>0]=Bl.charCodeAt(Zl);bl[Ul>>0>>>0]=0,Pl+=Bl.length+1})),0},wa:function(El,Il){var Pl=Su();Al[El>>2>>>0]=Pl.length;var Bl=0;return Pl.forEach((function(Ul){Bl+=Ul.length+1})),Al[Il>>2>>>0]=Bl,0},ba:function(El){ol||0<eu||(uc(),Du(Dl),bd(0),qu[1].length&&au(1,10),qu[2].length&&au(2,10)),ol||0<eu||(Ha.onExit&&Ha.onExit(El),ml=!0),Mo(El,new xu(El))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(El,Il,Pl,Bl){for(var Ul=0,Zl=0;Zl<Pl;Zl++){var du=Al[Il>>2>>>0],yu=Al[Il+4>>2>>>0];Il+=8;for(var mu=0;mu<yu;mu++)au(El,_l[du+mu>>>0]);Ul+=yu}return Al[Bl>>2>>>0]=Ul,0},c:function(){return cu},ja:function El(Il,Pl){El.Mb||(El.Mb=(function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Ul=new Uint8Array(1);return()=>(crypto.getRandomValues(Ul),Ul[0])}if(rl)try{var Zl=ja(Object((function(){var du=new Error("Cannot find module 'crypto'");throw du.code="MODULE_NOT_FOUND",du})()));return()=>Zl.randomBytes(1)[0]}catch{}return()=>ru("randomDevice")})());for(var Bl=0;Bl<Pl;Bl++)bl[Il+Bl>>0>>>0]=El.Mb();return 0},ea:function(El,Il,Pl){var Bl=Cu();try{return Au(El)(Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},fa:function(El,Il,Pl){var Bl=Cu();try{return Au(El)(Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},J:function(El){var Il=Cu();try{return Au(El)()}catch(Pl){if(Ru(Il),Pl!==Pl+0)throw Pl;Ou(1,0)}},e:function(El,Il){var Pl=Cu();try{return Au(El)(Il)}catch(Bl){if(Ru(Pl),Bl!==Bl+0)throw Bl;Ou(1,0)}},N:function(El,Il,Pl){var Bl=Cu();try{return Au(El)(Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},O:function(El,Il,Pl){var Bl=Cu();try{return Au(El)(Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},j:function(El,Il,Pl){var Bl=Cu();try{return Au(El)(Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},o:function(El,Il,Pl,Bl){var Ul=Cu();try{return Au(El)(Il,Pl,Bl)}catch(Zl){if(Ru(Ul),Zl!==Zl+0)throw Zl;Ou(1,0)}},p:function(El,Il,Pl,Bl,Ul){var Zl=Cu();try{return Au(El)(Il,Pl,Bl,Ul)}catch(du){if(Ru(Zl),du!==du+0)throw du;Ou(1,0)}},M:function(El,Il,Pl,Bl,Ul,Zl){var du=Cu();try{return Au(El)(Il,Pl,Bl,Ul,Zl)}catch(yu){if(Ru(du),yu!==yu+0)throw yu;Ou(1,0)}},r:function(El,Il,Pl,Bl,Ul,Zl){var du=Cu();try{return Au(El)(Il,Pl,Bl,Ul,Zl)}catch(yu){if(Ru(du),yu!==yu+0)throw yu;Ou(1,0)}},v:function(El,Il,Pl,Bl,Ul,Zl,du){var yu=Cu();try{return Au(El)(Il,Pl,Bl,Ul,Zl,du)}catch(mu){if(Ru(yu),mu!==mu+0)throw mu;Ou(1,0)}},K:function(El,Il,Pl,Bl,Ul,Zl,du,yu){var mu=Cu();try{return Au(El)(Il,Pl,Bl,Ul,Zl,du,yu)}catch(Bu){if(Ru(mu),Bu!==Bu+0)throw Bu;Ou(1,0)}},D:function(El,Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc,wc){var Ac=Cu();try{return Au(El)(Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc,wc)}catch(Wl){if(Ru(Ac),Wl!==Wl+0)throw Wl;Ou(1,0)}},X:function(El,Il,Pl,Bl,Ul,Zl,du,yu){var mu=Cu();try{return ef(El,Il,Pl,Bl,Ul,Zl,du,yu)}catch(Bu){if(Ru(mu),Bu!==Bu+0)throw Bu;Ou(1,0)}},V:function(El,Il,Pl,Bl,Ul,Zl,du){var yu=Cu();try{return Wc(El,Il,Pl,Bl,Ul,Zl,du)}catch(mu){if(Ru(yu),mu!==mu+0)throw mu;Ou(1,0)}},U:function(El,Il,Pl,Bl,Ul){var Zl=Cu();try{return yd(El,Il,Pl,Bl,Ul)}catch(du){if(Ru(Zl),du!==du+0)throw du;Ou(1,0)}},Z:function(El,Il,Pl,Bl){var Ul=Cu();try{return Cf(El,Il,Pl,Bl)}catch(Zl){if(Ru(Ul),Zl!==Zl+0)throw Zl;Ou(1,0)}},W:function(El){var Il=Cu();try{return Af(El)}catch(Pl){if(Ru(Il),Pl!==Pl+0)throw Pl;Ou(1,0)}},Y:function(El,Il){var Pl=Cu();try{return Rf(El,Il)}catch(Bl){if(Ru(Pl),Bl!==Bl+0)throw Bl;Ou(1,0)}},T:function(El,Il,Pl){var Bl=Cu();try{return vc(El,Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},f:function(El){var Il=Cu();try{Au(El)()}catch(Pl){if(Ru(Il),Pl!==Pl+0)throw Pl;Ou(1,0)}},q:function(El,Il){var Pl=Cu();try{Au(El)(Il)}catch(Bl){if(Ru(Pl),Bl!==Bl+0)throw Bl;Ou(1,0)}},h:function(El,Il,Pl){var Bl=Cu();try{Au(El)(Il,Pl)}catch(Ul){if(Ru(Bl),Ul!==Ul+0)throw Ul;Ou(1,0)}},da:function(El,Il,Pl,Bl){var Ul=Cu();try{Au(El)(Il,Pl,Bl)}catch(Zl){if(Ru(Ul),Zl!==Zl+0)throw Zl;Ou(1,0)}},l:function(El,Il,Pl,Bl){var Ul=Cu();try{Au(El)(Il,Pl,Bl)}catch(Zl){if(Ru(Ul),Zl!==Zl+0)throw Zl;Ou(1,0)}},t:function(El,Il,Pl,Bl,Ul){var Zl=Cu();try{Au(El)(Il,Pl,Bl,Ul)}catch(du){if(Ru(Zl),du!==du+0)throw du;Ou(1,0)}},u:function(El,Il,Pl,Bl,Ul,Zl){var du=Cu();try{Au(El)(Il,Pl,Bl,Ul,Zl)}catch(yu){if(Ru(du),yu!==yu+0)throw yu;Ou(1,0)}},x:function(El,Il,Pl,Bl,Ul,Zl,du){var yu=Cu();try{Au(El)(Il,Pl,Bl,Ul,Zl,du)}catch(mu){if(Ru(yu),mu!==mu+0)throw mu;Ou(1,0)}},z:function(El,Il,Pl,Bl,Ul,Zl,du,yu){var mu=Cu();try{Au(El)(Il,Pl,Bl,Ul,Zl,du,yu)}catch(Bu){if(Ru(mu),Bu!==Bu+0)throw Bu;Ou(1,0)}},ga:function(El,Il,Pl,Bl,Ul,Zl,du,yu,mu){var Bu=Cu();try{Au(El)(Il,Pl,Bl,Ul,Zl,du,yu,mu)}catch(nc){if(Ru(Bu),nc!==nc+0)throw nc;Ou(1,0)}},A:function(El,Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc){var wc=Cu();try{Au(El)(Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc)}catch(Ac){if(Ru(wc),Ac!==Ac+0)throw Ac;Ou(1,0)}},C:function(El,Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc,wc,Ac,Wl,Uu,Ju){var zc=Cu();try{Au(El)(Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc,wc,Ac,Wl,Uu,Ju)}catch(ld){if(Ru(zc),ld!==ld+0)throw ld;Ou(1,0)}},aa:function(El,Il,Pl,Bl,Ul,Zl,du,yu){var mu=Cu();try{Ic(El,Il,Pl,Bl,Ul,Zl,du,yu)}catch(Bu){if(Ru(mu),Bu!==Bu+0)throw Bu;Ou(1,0)}},_:function(El,Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc,wc){var Ac=Cu();try{Md(El,Il,Pl,Bl,Ul,Zl,du,yu,mu,Bu,nc,wc)}catch(Wl){if(Ru(Ac),Wl!==Wl+0)throw Wl;Ou(1,0)}},$:function(El,Il,Pl,Bl,Ul,Zl){var du=Cu();try{od(El,Il,Pl,Bl,Ul,Zl)}catch(yu){if(Ru(du),yu!==yu+0)throw yu;Ou(1,0)}},n:function(El){return El},F:function(El){cu=El},ha:sc,y:function(El,Il,Pl,Bl){return sc(El,Il,Pl,Bl)}};(function(){function El(Ul){Ha.asm=Ul.exports,cl=Ha.asm.Ka,Tl(),pl=Ha.asm.ib,Ll.unshift(Ha.asm.La),pu--,Ha.monitorRunDependencies&&Ha.monitorRunDependencies(pu),pu==0&&Yl&&(Ul=Yl,Yl=null,Ul())}function Il(Ul){El(Ul.instance)}function Pl(Ul){return(function(){if(!al&&(el||tl)){if(typeof fetch=="function"&&!su.startsWith("file://"))return fetch(su,{credentials:"same-origin"}).then((function(Zl){if(!Zl.ok)throw"failed to load wasm binary file at '"+su+"'";return Zl.arrayBuffer()})).catch((function(){return bu()}));if(Qa)return new Promise((function(Zl,du){Qa(su,(function(yu){Zl(new Uint8Array(yu))}),du)}))}return Promise.resolve().then((function(){return bu()}))})().then((function(Zl){return WebAssembly.instantiate(Zl,Bl)})).then((function(Zl){return Zl})).then(Ul,(function(Zl){ul("failed to asynchronously prepare wasm: "+Zl),ru(Zl)}))}var Bl={a:Lu};if(pu++,Ha.monitorRunDependencies&&Ha.monitorRunDependencies(pu),Ha.instantiateWasm)try{return Ha.instantiateWasm(Bl,El)}catch(Ul){return ul("Module.instantiateWasm callback failed with error: "+Ul),!1}(al||typeof WebAssembly.instantiateStreaming!="function"||lu()||su.startsWith("file://")||rl||typeof fetch!="function"?Pl(Il):fetch(su,{credentials:"same-origin"}).then((function(Ul){return WebAssembly.instantiateStreaming(Ul,Bl).then(Il,(function(Zl){return ul("wasm streaming compile failed: "+Zl),ul("falling back to ArrayBuffer instantiation"),Pl(Il)}))}))).catch(Xa)})(),Ha.___wasm_call_ctors=function(){return(Ha.___wasm_call_ctors=Ha.asm.La).apply(null,arguments)},Ha._OrtInit=function(){return(Ha._OrtInit=Ha.asm.Ma).apply(null,arguments)},Ha._OrtCreateSessionOptions=function(){return(Ha._OrtCreateSessionOptions=Ha.asm.Na).apply(null,arguments)},Ha._OrtAppendExecutionProvider=function(){return(Ha._OrtAppendExecutionProvider=Ha.asm.Oa).apply(null,arguments)},Ha._OrtAddSessionConfigEntry=function(){return(Ha._OrtAddSessionConfigEntry=Ha.asm.Pa).apply(null,arguments)},Ha._OrtReleaseSessionOptions=function(){return(Ha._OrtReleaseSessionOptions=Ha.asm.Qa).apply(null,arguments)},Ha._OrtCreateSession=function(){return(Ha._OrtCreateSession=Ha.asm.Ra).apply(null,arguments)},Ha._OrtReleaseSession=function(){return(Ha._OrtReleaseSession=Ha.asm.Sa).apply(null,arguments)},Ha._OrtGetInputCount=function(){return(Ha._OrtGetInputCount=Ha.asm.Ta).apply(null,arguments)},Ha._OrtGetOutputCount=function(){return(Ha._OrtGetOutputCount=Ha.asm.Ua).apply(null,arguments)},Ha._OrtGetInputName=function(){return(Ha._OrtGetInputName=Ha.asm.Va).apply(null,arguments)},Ha._OrtGetOutputName=function(){return(Ha._OrtGetOutputName=Ha.asm.Wa).apply(null,arguments)},Ha._OrtFree=function(){return(Ha._OrtFree=Ha.asm.Xa).apply(null,arguments)},Ha._OrtCreateTensor=function(){return(Ha._OrtCreateTensor=Ha.asm.Ya).apply(null,arguments)},Ha._OrtGetTensorData=function(){return(Ha._OrtGetTensorData=Ha.asm.Za).apply(null,arguments)},Ha._OrtReleaseTensor=function(){return(Ha._OrtReleaseTensor=Ha.asm._a).apply(null,arguments)},Ha._OrtCreateRunOptions=function(){return(Ha._OrtCreateRunOptions=Ha.asm.$a).apply(null,arguments)},Ha._OrtAddRunConfigEntry=function(){return(Ha._OrtAddRunConfigEntry=Ha.asm.ab).apply(null,arguments)},Ha._OrtReleaseRunOptions=function(){return(Ha._OrtReleaseRunOptions=Ha.asm.bb).apply(null,arguments)},Ha._OrtRun=function(){return(Ha._OrtRun=Ha.asm.cb).apply(null,arguments)},Ha._OrtEndProfiling=function(){return(Ha._OrtEndProfiling=Ha.asm.db).apply(null,arguments)};var Ku,Yu=Ha._malloc=function(){return(Yu=Ha._malloc=Ha.asm.eb).apply(null,arguments)},sd=Ha._free=function(){return(sd=Ha._free=Ha.asm.fb).apply(null,arguments)},bd=Ha._fflush=function(){return(bd=Ha._fflush=Ha.asm.gb).apply(null,arguments)},uc=Ha.___funcs_on_exit=function(){return(uc=Ha.___funcs_on_exit=Ha.asm.hb).apply(null,arguments)},Ou=Ha._setThrew=function(){return(Ou=Ha._setThrew=Ha.asm.jb).apply(null,arguments)},Cu=Ha.stackSave=function(){return(Cu=Ha.stackSave=Ha.asm.kb).apply(null,arguments)},Ru=Ha.stackRestore=function(){return(Ru=Ha.stackRestore=Ha.asm.lb).apply(null,arguments)},Dd=Ha.stackAlloc=function(){return(Dd=Ha.stackAlloc=Ha.asm.mb).apply(null,arguments)},xd=Ha.___cxa_can_catch=function(){return(xd=Ha.___cxa_can_catch=Ha.asm.nb).apply(null,arguments)},Jd=Ha.___cxa_is_pointer_type=function(){return(Jd=Ha.___cxa_is_pointer_type=Ha.asm.ob).apply(null,arguments)},Af=Ha.dynCall_j=function(){return(Af=Ha.dynCall_j=Ha.asm.pb).apply(null,arguments)},Wc=Ha.dynCall_iiiiij=function(){return(Wc=Ha.dynCall_iiiiij=Ha.asm.qb).apply(null,arguments)},vc=Ha.dynCall_jii=function(){return(vc=Ha.dynCall_jii=Ha.asm.rb).apply(null,arguments)},Ic=Ha.dynCall_viiiiij=function(){return(Ic=Ha.dynCall_viiiiij=Ha.asm.sb).apply(null,arguments)},od=Ha.dynCall_vjji=function(){return(od=Ha.dynCall_vjji=Ha.asm.tb).apply(null,arguments)},Md=Ha.dynCall_viiijjjii=function(){return(Md=Ha.dynCall_viiijjjii=Ha.asm.ub).apply(null,arguments)},Cf=Ha.dynCall_iij=function(){return(Cf=Ha.dynCall_iij=Ha.asm.vb).apply(null,arguments)},Rf=Ha.dynCall_ji=function(){return(Rf=Ha.dynCall_ji=Ha.asm.wb).apply(null,arguments)},ef=Ha.dynCall_iiiiiij=function(){return(ef=Ha.dynCall_iiiiiij=Ha.asm.xb).apply(null,arguments)},yd=Ha.dynCall_iiij=function(){return(yd=Ha.dynCall_iiij=Ha.asm.yb).apply(null,arguments)};function Pd(){function El(){if(!Ku&&(Ku=!0,Ha.calledRun=!0,!ml)){if(Du(Ll),Ya(Ha),Ha.onRuntimeInitialized&&Ha.onRuntimeInitialized(),Ha.postRun)for(typeof Ha.postRun=="function"&&(Ha.postRun=[Ha.postRun]);Ha.postRun.length;){var Il=Ha.postRun.shift();$l.unshift(Il)}Du($l)}}if(!(0<pu)){if(Ha.preRun)for(typeof Ha.preRun=="function"&&(Ha.preRun=[Ha.preRun]);Ha.preRun.length;)uu();Du(jl),0<pu||(Ha.setStatus?(Ha.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Ha.setStatus("")}),1),El()}),1)):El())}}if(Ha.UTF8ToString=Nl,Ha.stringToUTF8=function(El,Il,Pl){return dl(El,_l,Il,Pl)},Ha.lengthBytesUTF8=Rl,Ha.stackSave=Cu,Ha.stackRestore=Ru,Ha.stackAlloc=Dd,Yl=function El(){Ku||Pd(),Ku||(Yl=El)},Ha.preInit)for(typeof Ha.preInit=="function"&&(Ha.preInit=[Ha.preInit]);0<Ha.preInit.length;)Ha.preInit.pop()();return Pd(),Ga.ready});La.exports=za},4537:La=>{La.exports=function(Na,ja){for(var Ba=new Array(arguments.length-1),za=0,Ga=2,Ha=!0;Ga<arguments.length;)Ba[za++]=arguments[Ga++];return new Promise((function(Ya,Xa){Ba[za]=function(Ka){if(Ha)if(Ha=!1,Ka)Xa(Ka);else{for(var Qa=new Array(arguments.length-1),Va=0;Va<Qa.length;)Qa[Va++]=arguments[Va];Ya.apply(null,Qa)}};try{Na.apply(ja||null,Ba)}catch(Ka){Ha&&(Ha=!1,Xa(Ka))}}))}},7419:(La,Na)=>{var ja=Na;ja.length=function(Ya){var Xa=Ya.length;if(!Xa)return 0;for(var Ka=0;--Xa%4>1&&Ya.charAt(Xa)==="=";)++Ka;return Math.ceil(3*Ya.length)/4-Ka};for(var Ba=new Array(64),za=new Array(123),Ga=0;Ga<64;)za[Ba[Ga]=Ga<26?Ga+65:Ga<52?Ga+71:Ga<62?Ga-4:Ga-59|43]=Ga++;ja.encode=function(Ya,Xa,Ka){for(var Qa,Va=null,Ua=[],Wa=0,Ja=0;Xa<Ka;){var Oo=Ya[Xa++];switch(Ja){case 0:Ua[Wa++]=Ba[Oo>>2],Qa=(3&Oo)<<4,Ja=1;break;case 1:Ua[Wa++]=Ba[Qa|Oo>>4],Qa=(15&Oo)<<2,Ja=2;break;case 2:Ua[Wa++]=Ba[Qa|Oo>>6],Ua[Wa++]=Ba[63&Oo],Ja=0}Wa>8191&&((Va||(Va=[])).push(String.fromCharCode.apply(String,Ua)),Wa=0)}return Ja&&(Ua[Wa++]=Ba[Qa],Ua[Wa++]=61,Ja===1&&(Ua[Wa++]=61)),Va?(Wa&&Va.push(String.fromCharCode.apply(String,Ua.slice(0,Wa))),Va.join("")):String.fromCharCode.apply(String,Ua.slice(0,Wa))};var Ha="invalid encoding";ja.decode=function(Ya,Xa,Ka){for(var Qa,Va=Ka,Ua=0,Wa=0;Wa<Ya.length;){var Ja=Ya.charCodeAt(Wa++);if(Ja===61&&Ua>1)break;if((Ja=za[Ja])===void 0)throw Error(Ha);switch(Ua){case 0:Qa=Ja,Ua=1;break;case 1:Xa[Ka++]=Qa<<2|(48&Ja)>>4,Qa=Ja,Ua=2;break;case 2:Xa[Ka++]=(15&Qa)<<4|(60&Ja)>>2,Qa=Ja,Ua=3;break;case 3:Xa[Ka++]=(3&Qa)<<6|Ja,Ua=0}}if(Ua===1)throw Error(Ha);return Ka-Va},ja.test=function(Ya){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(Ya)}},9211:La=>{function Na(){this._listeners={}}La.exports=Na,Na.prototype.on=function(ja,Ba,za){return(this._listeners[ja]||(this._listeners[ja]=[])).push({fn:Ba,ctx:za||this}),this},Na.prototype.off=function(ja,Ba){if(ja===void 0)this._listeners={};else if(Ba===void 0)this._listeners[ja]=[];else for(var za=this._listeners[ja],Ga=0;Ga<za.length;)za[Ga].fn===Ba?za.splice(Ga,1):++Ga;return this},Na.prototype.emit=function(ja){var Ba=this._listeners[ja];if(Ba){for(var za=[],Ga=1;Ga<arguments.length;)za.push(arguments[Ga++]);for(Ga=0;Ga<Ba.length;)Ba[Ga].fn.apply(Ba[Ga++].ctx,za)}return this}},945:La=>{function Na(Ha){return typeof Float32Array<"u"?(function(){var Ya=new Float32Array([-0]),Xa=new Uint8Array(Ya.buffer),Ka=Xa[3]===128;function Qa(Ja,Oo,Do){Ya[0]=Ja,Oo[Do]=Xa[0],Oo[Do+1]=Xa[1],Oo[Do+2]=Xa[2],Oo[Do+3]=Xa[3]}function Va(Ja,Oo,Do){Ya[0]=Ja,Oo[Do]=Xa[3],Oo[Do+1]=Xa[2],Oo[Do+2]=Xa[1],Oo[Do+3]=Xa[0]}function Ua(Ja,Oo){return Xa[0]=Ja[Oo],Xa[1]=Ja[Oo+1],Xa[2]=Ja[Oo+2],Xa[3]=Ja[Oo+3],Ya[0]}function Wa(Ja,Oo){return Xa[3]=Ja[Oo],Xa[2]=Ja[Oo+1],Xa[1]=Ja[Oo+2],Xa[0]=Ja[Oo+3],Ya[0]}Ha.writeFloatLE=Ka?Qa:Va,Ha.writeFloatBE=Ka?Va:Qa,Ha.readFloatLE=Ka?Ua:Wa,Ha.readFloatBE=Ka?Wa:Ua})():(function(){function Ya(Ka,Qa,Va,Ua){var Wa=Qa<0?1:0;if(Wa&&(Qa=-Qa),Qa===0)Ka(1/Qa>0?0:2147483648,Va,Ua);else if(isNaN(Qa))Ka(2143289344,Va,Ua);else if(Qa>34028234663852886e22)Ka((Wa<<31|2139095040)>>>0,Va,Ua);else if(Qa<11754943508222875e-54)Ka((Wa<<31|Math.round(Qa/1401298464324817e-60))>>>0,Va,Ua);else{var Ja=Math.floor(Math.log(Qa)/Math.LN2);Ka((Wa<<31|Ja+127<<23|8388607&Math.round(Qa*Math.pow(2,-Ja)*8388608))>>>0,Va,Ua)}}function Xa(Ka,Qa,Va){var Ua=Ka(Qa,Va),Wa=2*(Ua>>31)+1,Ja=Ua>>>23&255,Oo=8388607&Ua;return Ja===255?Oo?NaN:Wa*(1/0):Ja===0?1401298464324817e-60*Wa*Oo:Wa*Math.pow(2,Ja-150)*(Oo+8388608)}Ha.writeFloatLE=Ya.bind(null,ja),Ha.writeFloatBE=Ya.bind(null,Ba),Ha.readFloatLE=Xa.bind(null,za),Ha.readFloatBE=Xa.bind(null,Ga)})(),typeof Float64Array<"u"?(function(){var Ya=new Float64Array([-0]),Xa=new Uint8Array(Ya.buffer),Ka=Xa[7]===128;function Qa(Ja,Oo,Do){Ya[0]=Ja,Oo[Do]=Xa[0],Oo[Do+1]=Xa[1],Oo[Do+2]=Xa[2],Oo[Do+3]=Xa[3],Oo[Do+4]=Xa[4],Oo[Do+5]=Xa[5],Oo[Do+6]=Xa[6],Oo[Do+7]=Xa[7]}function Va(Ja,Oo,Do){Ya[0]=Ja,Oo[Do]=Xa[7],Oo[Do+1]=Xa[6],Oo[Do+2]=Xa[5],Oo[Do+3]=Xa[4],Oo[Do+4]=Xa[3],Oo[Do+5]=Xa[2],Oo[Do+6]=Xa[1],Oo[Do+7]=Xa[0]}function Ua(Ja,Oo){return Xa[0]=Ja[Oo],Xa[1]=Ja[Oo+1],Xa[2]=Ja[Oo+2],Xa[3]=Ja[Oo+3],Xa[4]=Ja[Oo+4],Xa[5]=Ja[Oo+5],Xa[6]=Ja[Oo+6],Xa[7]=Ja[Oo+7],Ya[0]}function Wa(Ja,Oo){return Xa[7]=Ja[Oo],Xa[6]=Ja[Oo+1],Xa[5]=Ja[Oo+2],Xa[4]=Ja[Oo+3],Xa[3]=Ja[Oo+4],Xa[2]=Ja[Oo+5],Xa[1]=Ja[Oo+6],Xa[0]=Ja[Oo+7],Ya[0]}Ha.writeDoubleLE=Ka?Qa:Va,Ha.writeDoubleBE=Ka?Va:Qa,Ha.readDoubleLE=Ka?Ua:Wa,Ha.readDoubleBE=Ka?Wa:Ua})():(function(){function Ya(Ka,Qa,Va,Ua,Wa,Ja){var Oo=Ua<0?1:0;if(Oo&&(Ua=-Ua),Ua===0)Ka(0,Wa,Ja+Qa),Ka(1/Ua>0?0:2147483648,Wa,Ja+Va);else if(isNaN(Ua))Ka(0,Wa,Ja+Qa),Ka(2146959360,Wa,Ja+Va);else if(Ua>17976931348623157e292)Ka(0,Wa,Ja+Qa),Ka((Oo<<31|2146435072)>>>0,Wa,Ja+Va);else{var Do;if(Ua<22250738585072014e-324)Ka((Do=Ua/5e-324)>>>0,Wa,Ja+Qa),Ka((Oo<<31|Do/4294967296)>>>0,Wa,Ja+Va);else{var Mo=Math.floor(Math.log(Ua)/Math.LN2);Mo===1024&&(Mo=1023),Ka(4503599627370496*(Do=Ua*Math.pow(2,-Mo))>>>0,Wa,Ja+Qa),Ka((Oo<<31|Mo+1023<<20|1048576*Do&1048575)>>>0,Wa,Ja+Va)}}}function Xa(Ka,Qa,Va,Ua,Wa){var Ja=Ka(Ua,Wa+Qa),Oo=Ka(Ua,Wa+Va),Do=2*(Oo>>31)+1,Mo=Oo>>>20&2047,el=4294967296*(1048575&Oo)+Ja;return Mo===2047?el?NaN:Do*(1/0):Mo===0?5e-324*Do*el:Do*Math.pow(2,Mo-1075)*(el+4503599627370496)}Ha.writeDoubleLE=Ya.bind(null,ja,0,4),Ha.writeDoubleBE=Ya.bind(null,Ba,4,0),Ha.readDoubleLE=Xa.bind(null,za,0,4),Ha.readDoubleBE=Xa.bind(null,Ga,4,0)})(),Ha}function ja(Ha,Ya,Xa){Ya[Xa]=255&Ha,Ya[Xa+1]=Ha>>>8&255,Ya[Xa+2]=Ha>>>16&255,Ya[Xa+3]=Ha>>>24}function Ba(Ha,Ya,Xa){Ya[Xa]=Ha>>>24,Ya[Xa+1]=Ha>>>16&255,Ya[Xa+2]=Ha>>>8&255,Ya[Xa+3]=255&Ha}function za(Ha,Ya){return(Ha[Ya]|Ha[Ya+1]<<8|Ha[Ya+2]<<16|Ha[Ya+3]<<24)>>>0}function Ga(Ha,Ya){return(Ha[Ya]<<24|Ha[Ya+1]<<16|Ha[Ya+2]<<8|Ha[Ya+3])>>>0}La.exports=Na(Na)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(La){}return null}module.exports=inquire},6662:La=>{La.exports=function(Na,ja,Ba){var za=Ba||8192,Ga=za>>>1,Ha=null,Ya=za;return function(Xa){if(Xa<1||Xa>Ga)return Na(Xa);Ya+Xa>za&&(Ha=Na(za),Ya=0);var Ka=ja.call(Ha,Ya,Ya+=Xa);return 7&Ya&&(Ya=1+(7|Ya)),Ka}}},4997:(La,Na)=>{var ja=Na;ja.length=function(Ba){for(var za=0,Ga=0,Ha=0;Ha<Ba.length;++Ha)(Ga=Ba.charCodeAt(Ha))<128?za+=1:Ga<2048?za+=2:(64512&Ga)==55296&&(64512&Ba.charCodeAt(Ha+1))==56320?(++Ha,za+=4):za+=3;return za},ja.read=function(Ba,za,Ga){if(Ga-za<1)return"";for(var Ha,Ya=null,Xa=[],Ka=0;za<Ga;)(Ha=Ba[za++])<128?Xa[Ka++]=Ha:Ha>191&&Ha<224?Xa[Ka++]=(31&Ha)<<6|63&Ba[za++]:Ha>239&&Ha<365?(Ha=((7&Ha)<<18|(63&Ba[za++])<<12|(63&Ba[za++])<<6|63&Ba[za++])-65536,Xa[Ka++]=55296+(Ha>>10),Xa[Ka++]=56320+(1023&Ha)):Xa[Ka++]=(15&Ha)<<12|(63&Ba[za++])<<6|63&Ba[za++],Ka>8191&&((Ya||(Ya=[])).push(String.fromCharCode.apply(String,Xa)),Ka=0);return Ya?(Ka&&Ya.push(String.fromCharCode.apply(String,Xa.slice(0,Ka))),Ya.join("")):String.fromCharCode.apply(String,Xa.slice(0,Ka))},ja.write=function(Ba,za,Ga){for(var Ha,Ya,Xa=Ga,Ka=0;Ka<Ba.length;++Ka)(Ha=Ba.charCodeAt(Ka))<128?za[Ga++]=Ha:Ha<2048?(za[Ga++]=Ha>>6|192,za[Ga++]=63&Ha|128):(64512&Ha)==55296&&(64512&(Ya=Ba.charCodeAt(Ka+1)))==56320?(Ha=65536+((1023&Ha)<<10)+(1023&Ya),++Ka,za[Ga++]=Ha>>18|240,za[Ga++]=Ha>>12&63|128,za[Ga++]=Ha>>6&63|128,za[Ga++]=63&Ha|128):(za[Ga++]=Ha>>12|224,za[Ga++]=Ha>>6&63|128,za[Ga++]=63&Ha|128);return Ga-Xa}},3442:(La,Na)=>{Na.__esModule=!0;var ja=(function(){function Ba(za){if(!za)throw new TypeError("Invalid argument; `value` has no value.");this.value=Ba.EMPTY,za&&Ba.isGuid(za)&&(this.value=za)}return Ba.isGuid=function(za){var Ga=za.toString();return za&&(za instanceof Ba||Ba.validator.test(Ga))},Ba.create=function(){return new Ba([Ba.gen(2),Ba.gen(1),Ba.gen(1),Ba.gen(1),Ba.gen(3)].join("-"))},Ba.createEmpty=function(){return new Ba("emptyguid")},Ba.parse=function(za){return new Ba(za)},Ba.raw=function(){return[Ba.gen(2),Ba.gen(1),Ba.gen(1),Ba.gen(1),Ba.gen(3)].join("-")},Ba.gen=function(za){for(var Ga="",Ha=0;Ha<za;Ha++)Ga+=(65536*(1+Math.random())|0).toString(16).substring(1);return Ga},Ba.prototype.equals=function(za){return Ba.isGuid(za)&&this.value===za.toString()},Ba.prototype.isEmpty=function(){return this.value===Ba.EMPTY},Ba.prototype.toString=function(){return this.value},Ba.prototype.toJSON=function(){return{value:this.value}},Ba.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),Ba.EMPTY="00000000-0000-0000-0000-000000000000",Ba})();Na.Guid=ja},3720:La=>{La.exports=ja;var Na=null;try{Na=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ja(ol,cl,gl){this.low=0|ol,this.high=0|cl,this.unsigned=!!gl}function Ba(ol){return(ol&&ol.__isLong__)===!0}ja.prototype.__isLong__,Object.defineProperty(ja.prototype,"__isLong__",{value:!0}),ja.isLong=Ba;var za={},Ga={};function Ha(ol,cl){var gl,bl,_l;return cl?(_l=0<=(ol>>>=0)&&ol<256)&&(bl=Ga[ol])?bl:(gl=Xa(ol,(0|ol)<0?-1:0,!0),_l&&(Ga[ol]=gl),gl):(_l=-128<=(ol|=0)&&ol<128)&&(bl=za[ol])?bl:(gl=Xa(ol,ol<0?-1:0,!1),_l&&(za[ol]=gl),gl)}function Ya(ol,cl){if(isNaN(ol))return cl?Mo:Do;if(cl){if(ol<0)return Mo;if(ol>=Wa)return al}else{if(ol<=-Ja)return ll;if(ol+1>=Ja)return il}return ol<0?Ya(-ol,cl).neg():Xa(ol%Ua|0,ol/Ua|0,cl)}function Xa(ol,cl,gl){return new ja(ol,cl,gl)}ja.fromInt=Ha,ja.fromNumber=Ya,ja.fromBits=Xa;var Ka=Math.pow;function Qa(ol,cl,gl){if(ol.length===0)throw Error("empty string");if(ol==="NaN"||ol==="Infinity"||ol==="+Infinity"||ol==="-Infinity")return Do;if(typeof cl=="number"?(gl=cl,cl=!1):cl=!!cl,(gl=gl||10)<2||36<gl)throw RangeError("radix");var bl;if((bl=ol.indexOf("-"))>0)throw Error("interior hyphen");if(bl===0)return Qa(ol.substring(1),cl,gl).neg();for(var _l=Ya(Ka(gl,8)),xl=Do,Al=0;Al<ol.length;Al+=8){var ml=Math.min(8,ol.length-Al),Sl=parseInt(ol.substring(Al,Al+ml),gl);if(ml<8){var Cl=Ya(Ka(gl,ml));xl=xl.mul(Cl).add(Ya(Sl))}else xl=(xl=xl.mul(_l)).add(Ya(Sl))}return xl.unsigned=cl,xl}function Va(ol,cl){return typeof ol=="number"?Ya(ol,cl):typeof ol=="string"?Qa(ol,cl):Xa(ol.low,ol.high,typeof cl=="boolean"?cl:ol.unsigned)}ja.fromString=Qa,ja.fromValue=Va;var Ua=4294967296,Wa=Ua*Ua,Ja=Wa/2,Oo=Ha(1<<24),Do=Ha(0);ja.ZERO=Do;var Mo=Ha(0,!0);ja.UZERO=Mo;var el=Ha(1);ja.ONE=el;var tl=Ha(1,!0);ja.UONE=tl;var rl=Ha(-1);ja.NEG_ONE=rl;var il=Xa(-1,2147483647,!1);ja.MAX_VALUE=il;var al=Xa(-1,-1,!0);ja.MAX_UNSIGNED_VALUE=al;var ll=Xa(0,-2147483648,!1);ja.MIN_VALUE=ll;var ul=ja.prototype;ul.toInt=function(){return this.unsigned?this.low>>>0:this.low},ul.toNumber=function(){return this.unsigned?(this.high>>>0)*Ua+(this.low>>>0):this.high*Ua+(this.low>>>0)},ul.toString=function(ol){if((ol=ol||10)<2||36<ol)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ll)){var cl=Ya(ol),gl=this.div(cl),bl=gl.mul(cl).sub(this);return gl.toString(ol)+bl.toInt().toString(ol)}return"-"+this.neg().toString(ol)}for(var _l=Ya(Ka(ol,6),this.unsigned),xl=this,Al="";;){var ml=xl.div(_l),Sl=(xl.sub(ml.mul(_l)).toInt()>>>0).toString(ol);if((xl=ml).isZero())return Sl+Al;for(;Sl.length<6;)Sl="0"+Sl;Al=""+Sl+Al}},ul.getHighBits=function(){return this.high},ul.getHighBitsUnsigned=function(){return this.high>>>0},ul.getLowBits=function(){return this.low},ul.getLowBitsUnsigned=function(){return this.low>>>0},ul.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ll)?64:this.neg().getNumBitsAbs();for(var ol=this.high!=0?this.high:this.low,cl=31;cl>0&&(ol&1<<cl)==0;cl--);return this.high!=0?cl+33:cl+1},ul.isZero=function(){return this.high===0&&this.low===0},ul.eqz=ul.isZero,ul.isNegative=function(){return!this.unsigned&&this.high<0},ul.isPositive=function(){return this.unsigned||this.high>=0},ul.isOdd=function(){return(1&this.low)==1},ul.isEven=function(){return(1&this.low)==0},ul.equals=function(ol){return Ba(ol)||(ol=Va(ol)),(this.unsigned===ol.unsigned||this.high>>>31!=1||ol.high>>>31!=1)&&this.high===ol.high&&this.low===ol.low},ul.eq=ul.equals,ul.notEquals=function(ol){return!this.eq(ol)},ul.neq=ul.notEquals,ul.ne=ul.notEquals,ul.lessThan=function(ol){return this.comp(ol)<0},ul.lt=ul.lessThan,ul.lessThanOrEqual=function(ol){return this.comp(ol)<=0},ul.lte=ul.lessThanOrEqual,ul.le=ul.lessThanOrEqual,ul.greaterThan=function(ol){return this.comp(ol)>0},ul.gt=ul.greaterThan,ul.greaterThanOrEqual=function(ol){return this.comp(ol)>=0},ul.gte=ul.greaterThanOrEqual,ul.ge=ul.greaterThanOrEqual,ul.compare=function(ol){if(Ba(ol)||(ol=Va(ol)),this.eq(ol))return 0;var cl=this.isNegative(),gl=ol.isNegative();return cl&&!gl?-1:!cl&&gl?1:this.unsigned?ol.high>>>0>this.high>>>0||ol.high===this.high&&ol.low>>>0>this.low>>>0?-1:1:this.sub(ol).isNegative()?-1:1},ul.comp=ul.compare,ul.negate=function(){return!this.unsigned&&this.eq(ll)?ll:this.not().add(el)},ul.neg=ul.negate,ul.add=function(ol){Ba(ol)||(ol=Va(ol));var cl=this.high>>>16,gl=65535&this.high,bl=this.low>>>16,_l=65535&this.low,xl=ol.high>>>16,Al=65535&ol.high,ml=ol.low>>>16,Sl=0,Cl=0,Nl=0,dl=0;return Nl+=(dl+=_l+(65535&ol.low))>>>16,Cl+=(Nl+=bl+ml)>>>16,Sl+=(Cl+=gl+Al)>>>16,Sl+=cl+xl,Xa((Nl&=65535)<<16|(dl&=65535),(Sl&=65535)<<16|(Cl&=65535),this.unsigned)},ul.subtract=function(ol){return Ba(ol)||(ol=Va(ol)),this.add(ol.neg())},ul.sub=ul.subtract,ul.multiply=function(ol){if(this.isZero())return Do;if(Ba(ol)||(ol=Va(ol)),Na)return Xa(Na.mul(this.low,this.high,ol.low,ol.high),Na.get_high(),this.unsigned);if(ol.isZero())return Do;if(this.eq(ll))return ol.isOdd()?ll:Do;if(ol.eq(ll))return this.isOdd()?ll:Do;if(this.isNegative())return ol.isNegative()?this.neg().mul(ol.neg()):this.neg().mul(ol).neg();if(ol.isNegative())return this.mul(ol.neg()).neg();if(this.lt(Oo)&&ol.lt(Oo))return Ya(this.toNumber()*ol.toNumber(),this.unsigned);var cl=this.high>>>16,gl=65535&this.high,bl=this.low>>>16,_l=65535&this.low,xl=ol.high>>>16,Al=65535&ol.high,ml=ol.low>>>16,Sl=65535&ol.low,Cl=0,Nl=0,dl=0,Rl=0;return dl+=(Rl+=_l*Sl)>>>16,Nl+=(dl+=bl*Sl)>>>16,dl&=65535,Nl+=(dl+=_l*ml)>>>16,Cl+=(Nl+=gl*Sl)>>>16,Nl&=65535,Cl+=(Nl+=bl*ml)>>>16,Nl&=65535,Cl+=(Nl+=_l*Al)>>>16,Cl+=cl*Sl+gl*ml+bl*Al+_l*xl,Xa((dl&=65535)<<16|(Rl&=65535),(Cl&=65535)<<16|(Nl&=65535),this.unsigned)},ul.mul=ul.multiply,ul.divide=function(ol){if(Ba(ol)||(ol=Va(ol)),ol.isZero())throw Error("division by zero");var cl,gl,bl;if(Na)return this.unsigned||this.high!==-2147483648||ol.low!==-1||ol.high!==-1?Xa((this.unsigned?Na.div_u:Na.div_s)(this.low,this.high,ol.low,ol.high),Na.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Mo:Do;if(this.unsigned){if(ol.unsigned||(ol=ol.toUnsigned()),ol.gt(this))return Mo;if(ol.gt(this.shru(1)))return tl;bl=Mo}else{if(this.eq(ll))return ol.eq(el)||ol.eq(rl)?ll:ol.eq(ll)?el:(cl=this.shr(1).div(ol).shl(1)).eq(Do)?ol.isNegative()?el:rl:(gl=this.sub(ol.mul(cl)),bl=cl.add(gl.div(ol)));if(ol.eq(ll))return this.unsigned?Mo:Do;if(this.isNegative())return ol.isNegative()?this.neg().div(ol.neg()):this.neg().div(ol).neg();if(ol.isNegative())return this.div(ol.neg()).neg();bl=Do}for(gl=this;gl.gte(ol);){cl=Math.max(1,Math.floor(gl.toNumber()/ol.toNumber()));for(var _l=Math.ceil(Math.log(cl)/Math.LN2),xl=_l<=48?1:Ka(2,_l-48),Al=Ya(cl),ml=Al.mul(ol);ml.isNegative()||ml.gt(gl);)ml=(Al=Ya(cl-=xl,this.unsigned)).mul(ol);Al.isZero()&&(Al=el),bl=bl.add(Al),gl=gl.sub(ml)}return bl},ul.div=ul.divide,ul.modulo=function(ol){return Ba(ol)||(ol=Va(ol)),Na?Xa((this.unsigned?Na.rem_u:Na.rem_s)(this.low,this.high,ol.low,ol.high),Na.get_high(),this.unsigned):this.sub(this.div(ol).mul(ol))},ul.mod=ul.modulo,ul.rem=ul.modulo,ul.not=function(){return Xa(~this.low,~this.high,this.unsigned)},ul.and=function(ol){return Ba(ol)||(ol=Va(ol)),Xa(this.low&ol.low,this.high&ol.high,this.unsigned)},ul.or=function(ol){return Ba(ol)||(ol=Va(ol)),Xa(this.low|ol.low,this.high|ol.high,this.unsigned)},ul.xor=function(ol){return Ba(ol)||(ol=Va(ol)),Xa(this.low^ol.low,this.high^ol.high,this.unsigned)},ul.shiftLeft=function(ol){return Ba(ol)&&(ol=ol.toInt()),(ol&=63)==0?this:ol<32?Xa(this.low<<ol,this.high<<ol|this.low>>>32-ol,this.unsigned):Xa(0,this.low<<ol-32,this.unsigned)},ul.shl=ul.shiftLeft,ul.shiftRight=function(ol){return Ba(ol)&&(ol=ol.toInt()),(ol&=63)==0?this:ol<32?Xa(this.low>>>ol|this.high<<32-ol,this.high>>ol,this.unsigned):Xa(this.high>>ol-32,this.high>=0?0:-1,this.unsigned)},ul.shr=ul.shiftRight,ul.shiftRightUnsigned=function(ol){if(Ba(ol)&&(ol=ol.toInt()),(ol&=63)==0)return this;var cl=this.high;return ol<32?Xa(this.low>>>ol|cl<<32-ol,cl>>>ol,this.unsigned):Xa(ol===32?cl:cl>>>ol-32,0,this.unsigned)},ul.shru=ul.shiftRightUnsigned,ul.shr_u=ul.shiftRightUnsigned,ul.toSigned=function(){return this.unsigned?Xa(this.low,this.high,!1):this},ul.toUnsigned=function(){return this.unsigned?this:Xa(this.low,this.high,!0)},ul.toBytes=function(ol){return ol?this.toBytesLE():this.toBytesBE()},ul.toBytesLE=function(){var ol=this.high,cl=this.low;return[255&cl,cl>>>8&255,cl>>>16&255,cl>>>24,255&ol,ol>>>8&255,ol>>>16&255,ol>>>24]},ul.toBytesBE=function(){var ol=this.high,cl=this.low;return[ol>>>24,ol>>>16&255,ol>>>8&255,255&ol,cl>>>24,cl>>>16&255,cl>>>8&255,255&cl]},ja.fromBytes=function(ol,cl,gl){return gl?ja.fromBytesLE(ol,cl):ja.fromBytesBE(ol,cl)},ja.fromBytesLE=function(ol,cl){return new ja(ol[0]|ol[1]<<8|ol[2]<<16|ol[3]<<24,ol[4]|ol[5]<<8|ol[6]<<16|ol[7]<<24,cl)},ja.fromBytesBE=function(ol,cl){return new ja(ol[4]<<24|ol[5]<<16|ol[6]<<8|ol[7],ol[0]<<24|ol[1]<<16|ol[2]<<8|ol[3],cl)}},1446:(La,Na,ja)=>{var Ba,za,Ga,Ha=ja(2100),Ya=Ha.Reader,Xa=Ha.Writer,Ka=Ha.util,Qa=Ha.roots.default||(Ha.roots.default={});Qa.onnx=((Ga={}).Version=(Ba={},(za=Object.create(Ba))[Ba[0]="_START_VERSION"]=0,za[Ba[1]="IR_VERSION_2017_10_10"]=1,za[Ba[2]="IR_VERSION_2017_10_30"]=2,za[Ba[3]="IR_VERSION_2017_11_3"]=3,za[Ba[4]="IR_VERSION_2019_1_22"]=4,za[Ba[5]="IR_VERSION"]=5,za),Ga.AttributeProto=(function(){function Va(Ua){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.name="",Va.prototype.refAttrName="",Va.prototype.docString="",Va.prototype.type=0,Va.prototype.f=0,Va.prototype.i=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Va.prototype.s=Ka.newBuffer([]),Va.prototype.t=null,Va.prototype.g=null,Va.prototype.floats=Ka.emptyArray,Va.prototype.ints=Ka.emptyArray,Va.prototype.strings=Ka.emptyArray,Va.prototype.tensors=Ka.emptyArray,Va.prototype.graphs=Ka.emptyArray,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.name!=null&&Ua.hasOwnProperty("name")&&Wa.uint32(10).string(Ua.name),Ua.f!=null&&Ua.hasOwnProperty("f")&&Wa.uint32(21).float(Ua.f),Ua.i!=null&&Ua.hasOwnProperty("i")&&Wa.uint32(24).int64(Ua.i),Ua.s!=null&&Ua.hasOwnProperty("s")&&Wa.uint32(34).bytes(Ua.s),Ua.t!=null&&Ua.hasOwnProperty("t")&&Qa.onnx.TensorProto.encode(Ua.t,Wa.uint32(42).fork()).ldelim(),Ua.g!=null&&Ua.hasOwnProperty("g")&&Qa.onnx.GraphProto.encode(Ua.g,Wa.uint32(50).fork()).ldelim(),Ua.floats!=null&&Ua.floats.length){Wa.uint32(58).fork();for(var Ja=0;Ja<Ua.floats.length;++Ja)Wa.float(Ua.floats[Ja]);Wa.ldelim()}if(Ua.ints!=null&&Ua.ints.length){for(Wa.uint32(66).fork(),Ja=0;Ja<Ua.ints.length;++Ja)Wa.int64(Ua.ints[Ja]);Wa.ldelim()}if(Ua.strings!=null&&Ua.strings.length)for(Ja=0;Ja<Ua.strings.length;++Ja)Wa.uint32(74).bytes(Ua.strings[Ja]);if(Ua.tensors!=null&&Ua.tensors.length)for(Ja=0;Ja<Ua.tensors.length;++Ja)Qa.onnx.TensorProto.encode(Ua.tensors[Ja],Wa.uint32(82).fork()).ldelim();if(Ua.graphs!=null&&Ua.graphs.length)for(Ja=0;Ja<Ua.graphs.length;++Ja)Qa.onnx.GraphProto.encode(Ua.graphs[Ja],Wa.uint32(90).fork()).ldelim();return Ua.docString!=null&&Ua.hasOwnProperty("docString")&&Wa.uint32(106).string(Ua.docString),Ua.type!=null&&Ua.hasOwnProperty("type")&&Wa.uint32(160).int32(Ua.type),Ua.refAttrName!=null&&Ua.hasOwnProperty("refAttrName")&&Wa.uint32(170).string(Ua.refAttrName),Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.AttributeProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.name=Ua.string();break;case 21:Oo.refAttrName=Ua.string();break;case 13:Oo.docString=Ua.string();break;case 20:Oo.type=Ua.int32();break;case 2:Oo.f=Ua.float();break;case 3:Oo.i=Ua.int64();break;case 4:Oo.s=Ua.bytes();break;case 5:Oo.t=Qa.onnx.TensorProto.decode(Ua,Ua.uint32());break;case 6:Oo.g=Qa.onnx.GraphProto.decode(Ua,Ua.uint32());break;case 7:if(Oo.floats&&Oo.floats.length||(Oo.floats=[]),(7&Do)==2)for(var Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.floats.push(Ua.float());else Oo.floats.push(Ua.float());break;case 8:if(Oo.ints&&Oo.ints.length||(Oo.ints=[]),(7&Do)==2)for(Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.ints.push(Ua.int64());else Oo.ints.push(Ua.int64());break;case 9:Oo.strings&&Oo.strings.length||(Oo.strings=[]),Oo.strings.push(Ua.bytes());break;case 10:Oo.tensors&&Oo.tensors.length||(Oo.tensors=[]),Oo.tensors.push(Qa.onnx.TensorProto.decode(Ua,Ua.uint32()));break;case 11:Oo.graphs&&Oo.graphs.length||(Oo.graphs=[]),Oo.graphs.push(Qa.onnx.GraphProto.decode(Ua,Ua.uint32()));break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.name!=null&&Ua.hasOwnProperty("name")&&!Ka.isString(Ua.name))return"name: string expected";if(Ua.refAttrName!=null&&Ua.hasOwnProperty("refAttrName")&&!Ka.isString(Ua.refAttrName))return"refAttrName: string expected";if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&!Ka.isString(Ua.docString))return"docString: string expected";if(Ua.type!=null&&Ua.hasOwnProperty("type"))switch(Ua.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(Ua.f!=null&&Ua.hasOwnProperty("f")&&typeof Ua.f!="number")return"f: number expected";if(Ua.i!=null&&Ua.hasOwnProperty("i")&&!(Ka.isInteger(Ua.i)||Ua.i&&Ka.isInteger(Ua.i.low)&&Ka.isInteger(Ua.i.high)))return"i: integer|Long expected";if(Ua.s!=null&&Ua.hasOwnProperty("s")&&!(Ua.s&&typeof Ua.s.length=="number"||Ka.isString(Ua.s)))return"s: buffer expected";if(Ua.t!=null&&Ua.hasOwnProperty("t")&&(Ja=Qa.onnx.TensorProto.verify(Ua.t)))return"t."+Ja;if(Ua.g!=null&&Ua.hasOwnProperty("g")&&(Ja=Qa.onnx.GraphProto.verify(Ua.g)))return"g."+Ja;if(Ua.floats!=null&&Ua.hasOwnProperty("floats")){if(!Array.isArray(Ua.floats))return"floats: array expected";for(var Wa=0;Wa<Ua.floats.length;++Wa)if(typeof Ua.floats[Wa]!="number")return"floats: number[] expected"}if(Ua.ints!=null&&Ua.hasOwnProperty("ints")){if(!Array.isArray(Ua.ints))return"ints: array expected";for(Wa=0;Wa<Ua.ints.length;++Wa)if(!(Ka.isInteger(Ua.ints[Wa])||Ua.ints[Wa]&&Ka.isInteger(Ua.ints[Wa].low)&&Ka.isInteger(Ua.ints[Wa].high)))return"ints: integer|Long[] expected"}if(Ua.strings!=null&&Ua.hasOwnProperty("strings")){if(!Array.isArray(Ua.strings))return"strings: array expected";for(Wa=0;Wa<Ua.strings.length;++Wa)if(!(Ua.strings[Wa]&&typeof Ua.strings[Wa].length=="number"||Ka.isString(Ua.strings[Wa])))return"strings: buffer[] expected"}if(Ua.tensors!=null&&Ua.hasOwnProperty("tensors")){if(!Array.isArray(Ua.tensors))return"tensors: array expected";for(Wa=0;Wa<Ua.tensors.length;++Wa)if(Ja=Qa.onnx.TensorProto.verify(Ua.tensors[Wa]))return"tensors."+Ja}if(Ua.graphs!=null&&Ua.hasOwnProperty("graphs")){if(!Array.isArray(Ua.graphs))return"graphs: array expected";for(Wa=0;Wa<Ua.graphs.length;++Wa){var Ja;if(Ja=Qa.onnx.GraphProto.verify(Ua.graphs[Wa]))return"graphs."+Ja}}return null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.AttributeProto)return Ua;var Wa=new Qa.onnx.AttributeProto;switch(Ua.name!=null&&(Wa.name=String(Ua.name)),Ua.refAttrName!=null&&(Wa.refAttrName=String(Ua.refAttrName)),Ua.docString!=null&&(Wa.docString=String(Ua.docString)),Ua.type){case"UNDEFINED":case 0:Wa.type=0;break;case"FLOAT":case 1:Wa.type=1;break;case"INT":case 2:Wa.type=2;break;case"STRING":case 3:Wa.type=3;break;case"TENSOR":case 4:Wa.type=4;break;case"GRAPH":case 5:Wa.type=5;break;case"FLOATS":case 6:Wa.type=6;break;case"INTS":case 7:Wa.type=7;break;case"STRINGS":case 8:Wa.type=8;break;case"TENSORS":case 9:Wa.type=9;break;case"GRAPHS":case 10:Wa.type=10}if(Ua.f!=null&&(Wa.f=Number(Ua.f)),Ua.i!=null&&(Ka.Long?(Wa.i=Ka.Long.fromValue(Ua.i)).unsigned=!1:typeof Ua.i=="string"?Wa.i=parseInt(Ua.i,10):typeof Ua.i=="number"?Wa.i=Ua.i:typeof Ua.i=="object"&&(Wa.i=new Ka.LongBits(Ua.i.low>>>0,Ua.i.high>>>0).toNumber())),Ua.s!=null&&(typeof Ua.s=="string"?Ka.base64.decode(Ua.s,Wa.s=Ka.newBuffer(Ka.base64.length(Ua.s)),0):Ua.s.length&&(Wa.s=Ua.s)),Ua.t!=null){if(typeof Ua.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");Wa.t=Qa.onnx.TensorProto.fromObject(Ua.t)}if(Ua.g!=null){if(typeof Ua.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");Wa.g=Qa.onnx.GraphProto.fromObject(Ua.g)}if(Ua.floats){if(!Array.isArray(Ua.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");Wa.floats=[];for(var Ja=0;Ja<Ua.floats.length;++Ja)Wa.floats[Ja]=Number(Ua.floats[Ja])}if(Ua.ints){if(!Array.isArray(Ua.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(Wa.ints=[],Ja=0;Ja<Ua.ints.length;++Ja)Ka.Long?(Wa.ints[Ja]=Ka.Long.fromValue(Ua.ints[Ja])).unsigned=!1:typeof Ua.ints[Ja]=="string"?Wa.ints[Ja]=parseInt(Ua.ints[Ja],10):typeof Ua.ints[Ja]=="number"?Wa.ints[Ja]=Ua.ints[Ja]:typeof Ua.ints[Ja]=="object"&&(Wa.ints[Ja]=new Ka.LongBits(Ua.ints[Ja].low>>>0,Ua.ints[Ja].high>>>0).toNumber())}if(Ua.strings){if(!Array.isArray(Ua.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(Wa.strings=[],Ja=0;Ja<Ua.strings.length;++Ja)typeof Ua.strings[Ja]=="string"?Ka.base64.decode(Ua.strings[Ja],Wa.strings[Ja]=Ka.newBuffer(Ka.base64.length(Ua.strings[Ja])),0):Ua.strings[Ja].length&&(Wa.strings[Ja]=Ua.strings[Ja])}if(Ua.tensors){if(!Array.isArray(Ua.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(Wa.tensors=[],Ja=0;Ja<Ua.tensors.length;++Ja){if(typeof Ua.tensors[Ja]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");Wa.tensors[Ja]=Qa.onnx.TensorProto.fromObject(Ua.tensors[Ja])}}if(Ua.graphs){if(!Array.isArray(Ua.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(Wa.graphs=[],Ja=0;Ja<Ua.graphs.length;++Ja){if(typeof Ua.graphs[Ja]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");Wa.graphs[Ja]=Qa.onnx.GraphProto.fromObject(Ua.graphs[Ja])}}return Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.floats=[],Ja.ints=[],Ja.strings=[],Ja.tensors=[],Ja.graphs=[]),Wa.defaults){if(Ja.name="",Ja.f=0,Ka.Long){var Oo=new Ka.Long(0,0,!1);Ja.i=Wa.longs===String?Oo.toString():Wa.longs===Number?Oo.toNumber():Oo}else Ja.i=Wa.longs===String?"0":0;Wa.bytes===String?Ja.s="":(Ja.s=[],Wa.bytes!==Array&&(Ja.s=Ka.newBuffer(Ja.s))),Ja.t=null,Ja.g=null,Ja.docString="",Ja.type=Wa.enums===String?"UNDEFINED":0,Ja.refAttrName=""}if(Ua.name!=null&&Ua.hasOwnProperty("name")&&(Ja.name=Ua.name),Ua.f!=null&&Ua.hasOwnProperty("f")&&(Ja.f=Wa.json&&!isFinite(Ua.f)?String(Ua.f):Ua.f),Ua.i!=null&&Ua.hasOwnProperty("i")&&(typeof Ua.i=="number"?Ja.i=Wa.longs===String?String(Ua.i):Ua.i:Ja.i=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.i):Wa.longs===Number?new Ka.LongBits(Ua.i.low>>>0,Ua.i.high>>>0).toNumber():Ua.i),Ua.s!=null&&Ua.hasOwnProperty("s")&&(Ja.s=Wa.bytes===String?Ka.base64.encode(Ua.s,0,Ua.s.length):Wa.bytes===Array?Array.prototype.slice.call(Ua.s):Ua.s),Ua.t!=null&&Ua.hasOwnProperty("t")&&(Ja.t=Qa.onnx.TensorProto.toObject(Ua.t,Wa)),Ua.g!=null&&Ua.hasOwnProperty("g")&&(Ja.g=Qa.onnx.GraphProto.toObject(Ua.g,Wa)),Ua.floats&&Ua.floats.length){Ja.floats=[];for(var Do=0;Do<Ua.floats.length;++Do)Ja.floats[Do]=Wa.json&&!isFinite(Ua.floats[Do])?String(Ua.floats[Do]):Ua.floats[Do]}if(Ua.ints&&Ua.ints.length)for(Ja.ints=[],Do=0;Do<Ua.ints.length;++Do)typeof Ua.ints[Do]=="number"?Ja.ints[Do]=Wa.longs===String?String(Ua.ints[Do]):Ua.ints[Do]:Ja.ints[Do]=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.ints[Do]):Wa.longs===Number?new Ka.LongBits(Ua.ints[Do].low>>>0,Ua.ints[Do].high>>>0).toNumber():Ua.ints[Do];if(Ua.strings&&Ua.strings.length)for(Ja.strings=[],Do=0;Do<Ua.strings.length;++Do)Ja.strings[Do]=Wa.bytes===String?Ka.base64.encode(Ua.strings[Do],0,Ua.strings[Do].length):Wa.bytes===Array?Array.prototype.slice.call(Ua.strings[Do]):Ua.strings[Do];if(Ua.tensors&&Ua.tensors.length)for(Ja.tensors=[],Do=0;Do<Ua.tensors.length;++Do)Ja.tensors[Do]=Qa.onnx.TensorProto.toObject(Ua.tensors[Do],Wa);if(Ua.graphs&&Ua.graphs.length)for(Ja.graphs=[],Do=0;Do<Ua.graphs.length;++Do)Ja.graphs[Do]=Qa.onnx.GraphProto.toObject(Ua.graphs[Do],Wa);return Ua.docString!=null&&Ua.hasOwnProperty("docString")&&(Ja.docString=Ua.docString),Ua.type!=null&&Ua.hasOwnProperty("type")&&(Ja.type=Wa.enums===String?Qa.onnx.AttributeProto.AttributeType[Ua.type]:Ua.type),Ua.refAttrName!=null&&Ua.hasOwnProperty("refAttrName")&&(Ja.refAttrName=Ua.refAttrName),Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va.AttributeType=(function(){var Ua={},Wa=Object.create(Ua);return Wa[Ua[0]="UNDEFINED"]=0,Wa[Ua[1]="FLOAT"]=1,Wa[Ua[2]="INT"]=2,Wa[Ua[3]="STRING"]=3,Wa[Ua[4]="TENSOR"]=4,Wa[Ua[5]="GRAPH"]=5,Wa[Ua[6]="FLOATS"]=6,Wa[Ua[7]="INTS"]=7,Wa[Ua[8]="STRINGS"]=8,Wa[Ua[9]="TENSORS"]=9,Wa[Ua[10]="GRAPHS"]=10,Wa})(),Va})(),Ga.ValueInfoProto=(function(){function Va(Ua){if(Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.name="",Va.prototype.type=null,Va.prototype.docString="",Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){return Wa||(Wa=Xa.create()),Ua.name!=null&&Ua.hasOwnProperty("name")&&Wa.uint32(10).string(Ua.name),Ua.type!=null&&Ua.hasOwnProperty("type")&&Qa.onnx.TypeProto.encode(Ua.type,Wa.uint32(18).fork()).ldelim(),Ua.docString!=null&&Ua.hasOwnProperty("docString")&&Wa.uint32(26).string(Ua.docString),Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.ValueInfoProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.name=Ua.string();break;case 2:Oo.type=Qa.onnx.TypeProto.decode(Ua,Ua.uint32());break;case 3:Oo.docString=Ua.string();break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.name!=null&&Ua.hasOwnProperty("name")&&!Ka.isString(Ua.name))return"name: string expected";if(Ua.type!=null&&Ua.hasOwnProperty("type")){var Wa=Qa.onnx.TypeProto.verify(Ua.type);if(Wa)return"type."+Wa}return Ua.docString!=null&&Ua.hasOwnProperty("docString")&&!Ka.isString(Ua.docString)?"docString: string expected":null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.ValueInfoProto)return Ua;var Wa=new Qa.onnx.ValueInfoProto;if(Ua.name!=null&&(Wa.name=String(Ua.name)),Ua.type!=null){if(typeof Ua.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");Wa.type=Qa.onnx.TypeProto.fromObject(Ua.type)}return Ua.docString!=null&&(Wa.docString=String(Ua.docString)),Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};return Wa.defaults&&(Ja.name="",Ja.type=null,Ja.docString=""),Ua.name!=null&&Ua.hasOwnProperty("name")&&(Ja.name=Ua.name),Ua.type!=null&&Ua.hasOwnProperty("type")&&(Ja.type=Qa.onnx.TypeProto.toObject(Ua.type,Wa)),Ua.docString!=null&&Ua.hasOwnProperty("docString")&&(Ja.docString=Ua.docString),Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga.NodeProto=(function(){function Va(Ua){if(this.input=[],this.output=[],this.attribute=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.input=Ka.emptyArray,Va.prototype.output=Ka.emptyArray,Va.prototype.name="",Va.prototype.opType="",Va.prototype.domain="",Va.prototype.attribute=Ka.emptyArray,Va.prototype.docString="",Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.input!=null&&Ua.input.length)for(var Ja=0;Ja<Ua.input.length;++Ja)Wa.uint32(10).string(Ua.input[Ja]);if(Ua.output!=null&&Ua.output.length)for(Ja=0;Ja<Ua.output.length;++Ja)Wa.uint32(18).string(Ua.output[Ja]);if(Ua.name!=null&&Ua.hasOwnProperty("name")&&Wa.uint32(26).string(Ua.name),Ua.opType!=null&&Ua.hasOwnProperty("opType")&&Wa.uint32(34).string(Ua.opType),Ua.attribute!=null&&Ua.attribute.length)for(Ja=0;Ja<Ua.attribute.length;++Ja)Qa.onnx.AttributeProto.encode(Ua.attribute[Ja],Wa.uint32(42).fork()).ldelim();return Ua.docString!=null&&Ua.hasOwnProperty("docString")&&Wa.uint32(50).string(Ua.docString),Ua.domain!=null&&Ua.hasOwnProperty("domain")&&Wa.uint32(58).string(Ua.domain),Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.NodeProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.input&&Oo.input.length||(Oo.input=[]),Oo.input.push(Ua.string());break;case 2:Oo.output&&Oo.output.length||(Oo.output=[]),Oo.output.push(Ua.string());break;case 3:Oo.name=Ua.string();break;case 4:Oo.opType=Ua.string();break;case 7:Oo.domain=Ua.string();break;case 5:Oo.attribute&&Oo.attribute.length||(Oo.attribute=[]),Oo.attribute.push(Qa.onnx.AttributeProto.decode(Ua,Ua.uint32()));break;case 6:Oo.docString=Ua.string();break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.input!=null&&Ua.hasOwnProperty("input")){if(!Array.isArray(Ua.input))return"input: array expected";for(var Wa=0;Wa<Ua.input.length;++Wa)if(!Ka.isString(Ua.input[Wa]))return"input: string[] expected"}if(Ua.output!=null&&Ua.hasOwnProperty("output")){if(!Array.isArray(Ua.output))return"output: array expected";for(Wa=0;Wa<Ua.output.length;++Wa)if(!Ka.isString(Ua.output[Wa]))return"output: string[] expected"}if(Ua.name!=null&&Ua.hasOwnProperty("name")&&!Ka.isString(Ua.name))return"name: string expected";if(Ua.opType!=null&&Ua.hasOwnProperty("opType")&&!Ka.isString(Ua.opType))return"opType: string expected";if(Ua.domain!=null&&Ua.hasOwnProperty("domain")&&!Ka.isString(Ua.domain))return"domain: string expected";if(Ua.attribute!=null&&Ua.hasOwnProperty("attribute")){if(!Array.isArray(Ua.attribute))return"attribute: array expected";for(Wa=0;Wa<Ua.attribute.length;++Wa){var Ja=Qa.onnx.AttributeProto.verify(Ua.attribute[Wa]);if(Ja)return"attribute."+Ja}}return Ua.docString!=null&&Ua.hasOwnProperty("docString")&&!Ka.isString(Ua.docString)?"docString: string expected":null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.NodeProto)return Ua;var Wa=new Qa.onnx.NodeProto;if(Ua.input){if(!Array.isArray(Ua.input))throw TypeError(".onnx.NodeProto.input: array expected");Wa.input=[];for(var Ja=0;Ja<Ua.input.length;++Ja)Wa.input[Ja]=String(Ua.input[Ja])}if(Ua.output){if(!Array.isArray(Ua.output))throw TypeError(".onnx.NodeProto.output: array expected");for(Wa.output=[],Ja=0;Ja<Ua.output.length;++Ja)Wa.output[Ja]=String(Ua.output[Ja])}if(Ua.name!=null&&(Wa.name=String(Ua.name)),Ua.opType!=null&&(Wa.opType=String(Ua.opType)),Ua.domain!=null&&(Wa.domain=String(Ua.domain)),Ua.attribute){if(!Array.isArray(Ua.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(Wa.attribute=[],Ja=0;Ja<Ua.attribute.length;++Ja){if(typeof Ua.attribute[Ja]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");Wa.attribute[Ja]=Qa.onnx.AttributeProto.fromObject(Ua.attribute[Ja])}}return Ua.docString!=null&&(Wa.docString=String(Ua.docString)),Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.input=[],Ja.output=[],Ja.attribute=[]),Wa.defaults&&(Ja.name="",Ja.opType="",Ja.docString="",Ja.domain=""),Ua.input&&Ua.input.length){Ja.input=[];for(var Oo=0;Oo<Ua.input.length;++Oo)Ja.input[Oo]=Ua.input[Oo]}if(Ua.output&&Ua.output.length)for(Ja.output=[],Oo=0;Oo<Ua.output.length;++Oo)Ja.output[Oo]=Ua.output[Oo];if(Ua.name!=null&&Ua.hasOwnProperty("name")&&(Ja.name=Ua.name),Ua.opType!=null&&Ua.hasOwnProperty("opType")&&(Ja.opType=Ua.opType),Ua.attribute&&Ua.attribute.length)for(Ja.attribute=[],Oo=0;Oo<Ua.attribute.length;++Oo)Ja.attribute[Oo]=Qa.onnx.AttributeProto.toObject(Ua.attribute[Oo],Wa);return Ua.docString!=null&&Ua.hasOwnProperty("docString")&&(Ja.docString=Ua.docString),Ua.domain!=null&&Ua.hasOwnProperty("domain")&&(Ja.domain=Ua.domain),Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga.ModelProto=(function(){function Va(Ua){if(this.opsetImport=[],this.metadataProps=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.irVersion=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Va.prototype.opsetImport=Ka.emptyArray,Va.prototype.producerName="",Va.prototype.producerVersion="",Va.prototype.domain="",Va.prototype.modelVersion=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Va.prototype.docString="",Va.prototype.graph=null,Va.prototype.metadataProps=Ka.emptyArray,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.irVersion!=null&&Ua.hasOwnProperty("irVersion")&&Wa.uint32(8).int64(Ua.irVersion),Ua.producerName!=null&&Ua.hasOwnProperty("producerName")&&Wa.uint32(18).string(Ua.producerName),Ua.producerVersion!=null&&Ua.hasOwnProperty("producerVersion")&&Wa.uint32(26).string(Ua.producerVersion),Ua.domain!=null&&Ua.hasOwnProperty("domain")&&Wa.uint32(34).string(Ua.domain),Ua.modelVersion!=null&&Ua.hasOwnProperty("modelVersion")&&Wa.uint32(40).int64(Ua.modelVersion),Ua.docString!=null&&Ua.hasOwnProperty("docString")&&Wa.uint32(50).string(Ua.docString),Ua.graph!=null&&Ua.hasOwnProperty("graph")&&Qa.onnx.GraphProto.encode(Ua.graph,Wa.uint32(58).fork()).ldelim(),Ua.opsetImport!=null&&Ua.opsetImport.length)for(var Ja=0;Ja<Ua.opsetImport.length;++Ja)Qa.onnx.OperatorSetIdProto.encode(Ua.opsetImport[Ja],Wa.uint32(66).fork()).ldelim();if(Ua.metadataProps!=null&&Ua.metadataProps.length)for(Ja=0;Ja<Ua.metadataProps.length;++Ja)Qa.onnx.StringStringEntryProto.encode(Ua.metadataProps[Ja],Wa.uint32(114).fork()).ldelim();return Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.ModelProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.irVersion=Ua.int64();break;case 8:Oo.opsetImport&&Oo.opsetImport.length||(Oo.opsetImport=[]),Oo.opsetImport.push(Qa.onnx.OperatorSetIdProto.decode(Ua,Ua.uint32()));break;case 2:Oo.producerName=Ua.string();break;case 3:Oo.producerVersion=Ua.string();break;case 4:Oo.domain=Ua.string();break;case 5:Oo.modelVersion=Ua.int64();break;case 6:Oo.docString=Ua.string();break;case 7:Oo.graph=Qa.onnx.GraphProto.decode(Ua,Ua.uint32());break;case 14:Oo.metadataProps&&Oo.metadataProps.length||(Oo.metadataProps=[]),Oo.metadataProps.push(Qa.onnx.StringStringEntryProto.decode(Ua,Ua.uint32()));break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.irVersion!=null&&Ua.hasOwnProperty("irVersion")&&!(Ka.isInteger(Ua.irVersion)||Ua.irVersion&&Ka.isInteger(Ua.irVersion.low)&&Ka.isInteger(Ua.irVersion.high)))return"irVersion: integer|Long expected";if(Ua.opsetImport!=null&&Ua.hasOwnProperty("opsetImport")){if(!Array.isArray(Ua.opsetImport))return"opsetImport: array expected";for(var Wa=0;Wa<Ua.opsetImport.length;++Wa)if(Ja=Qa.onnx.OperatorSetIdProto.verify(Ua.opsetImport[Wa]))return"opsetImport."+Ja}if(Ua.producerName!=null&&Ua.hasOwnProperty("producerName")&&!Ka.isString(Ua.producerName))return"producerName: string expected";if(Ua.producerVersion!=null&&Ua.hasOwnProperty("producerVersion")&&!Ka.isString(Ua.producerVersion))return"producerVersion: string expected";if(Ua.domain!=null&&Ua.hasOwnProperty("domain")&&!Ka.isString(Ua.domain))return"domain: string expected";if(Ua.modelVersion!=null&&Ua.hasOwnProperty("modelVersion")&&!(Ka.isInteger(Ua.modelVersion)||Ua.modelVersion&&Ka.isInteger(Ua.modelVersion.low)&&Ka.isInteger(Ua.modelVersion.high)))return"modelVersion: integer|Long expected";if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&!Ka.isString(Ua.docString))return"docString: string expected";if(Ua.graph!=null&&Ua.hasOwnProperty("graph")&&(Ja=Qa.onnx.GraphProto.verify(Ua.graph)))return"graph."+Ja;if(Ua.metadataProps!=null&&Ua.hasOwnProperty("metadataProps")){if(!Array.isArray(Ua.metadataProps))return"metadataProps: array expected";for(Wa=0;Wa<Ua.metadataProps.length;++Wa){var Ja;if(Ja=Qa.onnx.StringStringEntryProto.verify(Ua.metadataProps[Wa]))return"metadataProps."+Ja}}return null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.ModelProto)return Ua;var Wa=new Qa.onnx.ModelProto;if(Ua.irVersion!=null&&(Ka.Long?(Wa.irVersion=Ka.Long.fromValue(Ua.irVersion)).unsigned=!1:typeof Ua.irVersion=="string"?Wa.irVersion=parseInt(Ua.irVersion,10):typeof Ua.irVersion=="number"?Wa.irVersion=Ua.irVersion:typeof Ua.irVersion=="object"&&(Wa.irVersion=new Ka.LongBits(Ua.irVersion.low>>>0,Ua.irVersion.high>>>0).toNumber())),Ua.opsetImport){if(!Array.isArray(Ua.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");Wa.opsetImport=[];for(var Ja=0;Ja<Ua.opsetImport.length;++Ja){if(typeof Ua.opsetImport[Ja]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");Wa.opsetImport[Ja]=Qa.onnx.OperatorSetIdProto.fromObject(Ua.opsetImport[Ja])}}if(Ua.producerName!=null&&(Wa.producerName=String(Ua.producerName)),Ua.producerVersion!=null&&(Wa.producerVersion=String(Ua.producerVersion)),Ua.domain!=null&&(Wa.domain=String(Ua.domain)),Ua.modelVersion!=null&&(Ka.Long?(Wa.modelVersion=Ka.Long.fromValue(Ua.modelVersion)).unsigned=!1:typeof Ua.modelVersion=="string"?Wa.modelVersion=parseInt(Ua.modelVersion,10):typeof Ua.modelVersion=="number"?Wa.modelVersion=Ua.modelVersion:typeof Ua.modelVersion=="object"&&(Wa.modelVersion=new Ka.LongBits(Ua.modelVersion.low>>>0,Ua.modelVersion.high>>>0).toNumber())),Ua.docString!=null&&(Wa.docString=String(Ua.docString)),Ua.graph!=null){if(typeof Ua.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");Wa.graph=Qa.onnx.GraphProto.fromObject(Ua.graph)}if(Ua.metadataProps){if(!Array.isArray(Ua.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(Wa.metadataProps=[],Ja=0;Ja<Ua.metadataProps.length;++Ja){if(typeof Ua.metadataProps[Ja]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");Wa.metadataProps[Ja]=Qa.onnx.StringStringEntryProto.fromObject(Ua.metadataProps[Ja])}}return Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.opsetImport=[],Ja.metadataProps=[]),Wa.defaults){if(Ka.Long){var Oo=new Ka.Long(0,0,!1);Ja.irVersion=Wa.longs===String?Oo.toString():Wa.longs===Number?Oo.toNumber():Oo}else Ja.irVersion=Wa.longs===String?"0":0;Ja.producerName="",Ja.producerVersion="",Ja.domain="",Ka.Long?(Oo=new Ka.Long(0,0,!1),Ja.modelVersion=Wa.longs===String?Oo.toString():Wa.longs===Number?Oo.toNumber():Oo):Ja.modelVersion=Wa.longs===String?"0":0,Ja.docString="",Ja.graph=null}if(Ua.irVersion!=null&&Ua.hasOwnProperty("irVersion")&&(typeof Ua.irVersion=="number"?Ja.irVersion=Wa.longs===String?String(Ua.irVersion):Ua.irVersion:Ja.irVersion=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.irVersion):Wa.longs===Number?new Ka.LongBits(Ua.irVersion.low>>>0,Ua.irVersion.high>>>0).toNumber():Ua.irVersion),Ua.producerName!=null&&Ua.hasOwnProperty("producerName")&&(Ja.producerName=Ua.producerName),Ua.producerVersion!=null&&Ua.hasOwnProperty("producerVersion")&&(Ja.producerVersion=Ua.producerVersion),Ua.domain!=null&&Ua.hasOwnProperty("domain")&&(Ja.domain=Ua.domain),Ua.modelVersion!=null&&Ua.hasOwnProperty("modelVersion")&&(typeof Ua.modelVersion=="number"?Ja.modelVersion=Wa.longs===String?String(Ua.modelVersion):Ua.modelVersion:Ja.modelVersion=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.modelVersion):Wa.longs===Number?new Ka.LongBits(Ua.modelVersion.low>>>0,Ua.modelVersion.high>>>0).toNumber():Ua.modelVersion),Ua.docString!=null&&Ua.hasOwnProperty("docString")&&(Ja.docString=Ua.docString),Ua.graph!=null&&Ua.hasOwnProperty("graph")&&(Ja.graph=Qa.onnx.GraphProto.toObject(Ua.graph,Wa)),Ua.opsetImport&&Ua.opsetImport.length){Ja.opsetImport=[];for(var Do=0;Do<Ua.opsetImport.length;++Do)Ja.opsetImport[Do]=Qa.onnx.OperatorSetIdProto.toObject(Ua.opsetImport[Do],Wa)}if(Ua.metadataProps&&Ua.metadataProps.length)for(Ja.metadataProps=[],Do=0;Do<Ua.metadataProps.length;++Do)Ja.metadataProps[Do]=Qa.onnx.StringStringEntryProto.toObject(Ua.metadataProps[Do],Wa);return Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga.StringStringEntryProto=(function(){function Va(Ua){if(Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.key="",Va.prototype.value="",Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){return Wa||(Wa=Xa.create()),Ua.key!=null&&Ua.hasOwnProperty("key")&&Wa.uint32(10).string(Ua.key),Ua.value!=null&&Ua.hasOwnProperty("value")&&Wa.uint32(18).string(Ua.value),Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.StringStringEntryProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.key=Ua.string();break;case 2:Oo.value=Ua.string();break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){return typeof Ua!="object"||Ua===null?"object expected":Ua.key!=null&&Ua.hasOwnProperty("key")&&!Ka.isString(Ua.key)?"key: string expected":Ua.value!=null&&Ua.hasOwnProperty("value")&&!Ka.isString(Ua.value)?"value: string expected":null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.StringStringEntryProto)return Ua;var Wa=new Qa.onnx.StringStringEntryProto;return Ua.key!=null&&(Wa.key=String(Ua.key)),Ua.value!=null&&(Wa.value=String(Ua.value)),Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};return Wa.defaults&&(Ja.key="",Ja.value=""),Ua.key!=null&&Ua.hasOwnProperty("key")&&(Ja.key=Ua.key),Ua.value!=null&&Ua.hasOwnProperty("value")&&(Ja.value=Ua.value),Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga.TensorAnnotation=(function(){function Va(Ua){if(this.quantParameterTensorNames=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.tensorName="",Va.prototype.quantParameterTensorNames=Ka.emptyArray,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.tensorName!=null&&Ua.hasOwnProperty("tensorName")&&Wa.uint32(10).string(Ua.tensorName),Ua.quantParameterTensorNames!=null&&Ua.quantParameterTensorNames.length)for(var Ja=0;Ja<Ua.quantParameterTensorNames.length;++Ja)Qa.onnx.StringStringEntryProto.encode(Ua.quantParameterTensorNames[Ja],Wa.uint32(18).fork()).ldelim();return Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.TensorAnnotation;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.tensorName=Ua.string();break;case 2:Oo.quantParameterTensorNames&&Oo.quantParameterTensorNames.length||(Oo.quantParameterTensorNames=[]),Oo.quantParameterTensorNames.push(Qa.onnx.StringStringEntryProto.decode(Ua,Ua.uint32()));break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.tensorName!=null&&Ua.hasOwnProperty("tensorName")&&!Ka.isString(Ua.tensorName))return"tensorName: string expected";if(Ua.quantParameterTensorNames!=null&&Ua.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(Ua.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var Wa=0;Wa<Ua.quantParameterTensorNames.length;++Wa){var Ja=Qa.onnx.StringStringEntryProto.verify(Ua.quantParameterTensorNames[Wa]);if(Ja)return"quantParameterTensorNames."+Ja}}return null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.TensorAnnotation)return Ua;var Wa=new Qa.onnx.TensorAnnotation;if(Ua.tensorName!=null&&(Wa.tensorName=String(Ua.tensorName)),Ua.quantParameterTensorNames){if(!Array.isArray(Ua.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");Wa.quantParameterTensorNames=[];for(var Ja=0;Ja<Ua.quantParameterTensorNames.length;++Ja){if(typeof Ua.quantParameterTensorNames[Ja]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");Wa.quantParameterTensorNames[Ja]=Qa.onnx.StringStringEntryProto.fromObject(Ua.quantParameterTensorNames[Ja])}}return Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.quantParameterTensorNames=[]),Wa.defaults&&(Ja.tensorName=""),Ua.tensorName!=null&&Ua.hasOwnProperty("tensorName")&&(Ja.tensorName=Ua.tensorName),Ua.quantParameterTensorNames&&Ua.quantParameterTensorNames.length){Ja.quantParameterTensorNames=[];for(var Oo=0;Oo<Ua.quantParameterTensorNames.length;++Oo)Ja.quantParameterTensorNames[Oo]=Qa.onnx.StringStringEntryProto.toObject(Ua.quantParameterTensorNames[Oo],Wa)}return Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga.GraphProto=(function(){function Va(Ua){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.node=Ka.emptyArray,Va.prototype.name="",Va.prototype.initializer=Ka.emptyArray,Va.prototype.docString="",Va.prototype.input=Ka.emptyArray,Va.prototype.output=Ka.emptyArray,Va.prototype.valueInfo=Ka.emptyArray,Va.prototype.quantizationAnnotation=Ka.emptyArray,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.node!=null&&Ua.node.length)for(var Ja=0;Ja<Ua.node.length;++Ja)Qa.onnx.NodeProto.encode(Ua.node[Ja],Wa.uint32(10).fork()).ldelim();if(Ua.name!=null&&Ua.hasOwnProperty("name")&&Wa.uint32(18).string(Ua.name),Ua.initializer!=null&&Ua.initializer.length)for(Ja=0;Ja<Ua.initializer.length;++Ja)Qa.onnx.TensorProto.encode(Ua.initializer[Ja],Wa.uint32(42).fork()).ldelim();if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&Wa.uint32(82).string(Ua.docString),Ua.input!=null&&Ua.input.length)for(Ja=0;Ja<Ua.input.length;++Ja)Qa.onnx.ValueInfoProto.encode(Ua.input[Ja],Wa.uint32(90).fork()).ldelim();if(Ua.output!=null&&Ua.output.length)for(Ja=0;Ja<Ua.output.length;++Ja)Qa.onnx.ValueInfoProto.encode(Ua.output[Ja],Wa.uint32(98).fork()).ldelim();if(Ua.valueInfo!=null&&Ua.valueInfo.length)for(Ja=0;Ja<Ua.valueInfo.length;++Ja)Qa.onnx.ValueInfoProto.encode(Ua.valueInfo[Ja],Wa.uint32(106).fork()).ldelim();if(Ua.quantizationAnnotation!=null&&Ua.quantizationAnnotation.length)for(Ja=0;Ja<Ua.quantizationAnnotation.length;++Ja)Qa.onnx.TensorAnnotation.encode(Ua.quantizationAnnotation[Ja],Wa.uint32(114).fork()).ldelim();return Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.GraphProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.node&&Oo.node.length||(Oo.node=[]),Oo.node.push(Qa.onnx.NodeProto.decode(Ua,Ua.uint32()));break;case 2:Oo.name=Ua.string();break;case 5:Oo.initializer&&Oo.initializer.length||(Oo.initializer=[]),Oo.initializer.push(Qa.onnx.TensorProto.decode(Ua,Ua.uint32()));break;case 10:Oo.docString=Ua.string();break;case 11:Oo.input&&Oo.input.length||(Oo.input=[]),Oo.input.push(Qa.onnx.ValueInfoProto.decode(Ua,Ua.uint32()));break;case 12:Oo.output&&Oo.output.length||(Oo.output=[]),Oo.output.push(Qa.onnx.ValueInfoProto.decode(Ua,Ua.uint32()));break;case 13:Oo.valueInfo&&Oo.valueInfo.length||(Oo.valueInfo=[]),Oo.valueInfo.push(Qa.onnx.ValueInfoProto.decode(Ua,Ua.uint32()));break;case 14:Oo.quantizationAnnotation&&Oo.quantizationAnnotation.length||(Oo.quantizationAnnotation=[]),Oo.quantizationAnnotation.push(Qa.onnx.TensorAnnotation.decode(Ua,Ua.uint32()));break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.node!=null&&Ua.hasOwnProperty("node")){if(!Array.isArray(Ua.node))return"node: array expected";for(var Wa=0;Wa<Ua.node.length;++Wa)if(Ja=Qa.onnx.NodeProto.verify(Ua.node[Wa]))return"node."+Ja}if(Ua.name!=null&&Ua.hasOwnProperty("name")&&!Ka.isString(Ua.name))return"name: string expected";if(Ua.initializer!=null&&Ua.hasOwnProperty("initializer")){if(!Array.isArray(Ua.initializer))return"initializer: array expected";for(Wa=0;Wa<Ua.initializer.length;++Wa)if(Ja=Qa.onnx.TensorProto.verify(Ua.initializer[Wa]))return"initializer."+Ja}if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&!Ka.isString(Ua.docString))return"docString: string expected";if(Ua.input!=null&&Ua.hasOwnProperty("input")){if(!Array.isArray(Ua.input))return"input: array expected";for(Wa=0;Wa<Ua.input.length;++Wa)if(Ja=Qa.onnx.ValueInfoProto.verify(Ua.input[Wa]))return"input."+Ja}if(Ua.output!=null&&Ua.hasOwnProperty("output")){if(!Array.isArray(Ua.output))return"output: array expected";for(Wa=0;Wa<Ua.output.length;++Wa)if(Ja=Qa.onnx.ValueInfoProto.verify(Ua.output[Wa]))return"output."+Ja}if(Ua.valueInfo!=null&&Ua.hasOwnProperty("valueInfo")){if(!Array.isArray(Ua.valueInfo))return"valueInfo: array expected";for(Wa=0;Wa<Ua.valueInfo.length;++Wa)if(Ja=Qa.onnx.ValueInfoProto.verify(Ua.valueInfo[Wa]))return"valueInfo."+Ja}if(Ua.quantizationAnnotation!=null&&Ua.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(Ua.quantizationAnnotation))return"quantizationAnnotation: array expected";for(Wa=0;Wa<Ua.quantizationAnnotation.length;++Wa){var Ja;if(Ja=Qa.onnx.TensorAnnotation.verify(Ua.quantizationAnnotation[Wa]))return"quantizationAnnotation."+Ja}}return null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.GraphProto)return Ua;var Wa=new Qa.onnx.GraphProto;if(Ua.node){if(!Array.isArray(Ua.node))throw TypeError(".onnx.GraphProto.node: array expected");Wa.node=[];for(var Ja=0;Ja<Ua.node.length;++Ja){if(typeof Ua.node[Ja]!="object")throw TypeError(".onnx.GraphProto.node: object expected");Wa.node[Ja]=Qa.onnx.NodeProto.fromObject(Ua.node[Ja])}}if(Ua.name!=null&&(Wa.name=String(Ua.name)),Ua.initializer){if(!Array.isArray(Ua.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(Wa.initializer=[],Ja=0;Ja<Ua.initializer.length;++Ja){if(typeof Ua.initializer[Ja]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");Wa.initializer[Ja]=Qa.onnx.TensorProto.fromObject(Ua.initializer[Ja])}}if(Ua.docString!=null&&(Wa.docString=String(Ua.docString)),Ua.input){if(!Array.isArray(Ua.input))throw TypeError(".onnx.GraphProto.input: array expected");for(Wa.input=[],Ja=0;Ja<Ua.input.length;++Ja){if(typeof Ua.input[Ja]!="object")throw TypeError(".onnx.GraphProto.input: object expected");Wa.input[Ja]=Qa.onnx.ValueInfoProto.fromObject(Ua.input[Ja])}}if(Ua.output){if(!Array.isArray(Ua.output))throw TypeError(".onnx.GraphProto.output: array expected");for(Wa.output=[],Ja=0;Ja<Ua.output.length;++Ja){if(typeof Ua.output[Ja]!="object")throw TypeError(".onnx.GraphProto.output: object expected");Wa.output[Ja]=Qa.onnx.ValueInfoProto.fromObject(Ua.output[Ja])}}if(Ua.valueInfo){if(!Array.isArray(Ua.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(Wa.valueInfo=[],Ja=0;Ja<Ua.valueInfo.length;++Ja){if(typeof Ua.valueInfo[Ja]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");Wa.valueInfo[Ja]=Qa.onnx.ValueInfoProto.fromObject(Ua.valueInfo[Ja])}}if(Ua.quantizationAnnotation){if(!Array.isArray(Ua.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(Wa.quantizationAnnotation=[],Ja=0;Ja<Ua.quantizationAnnotation.length;++Ja){if(typeof Ua.quantizationAnnotation[Ja]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");Wa.quantizationAnnotation[Ja]=Qa.onnx.TensorAnnotation.fromObject(Ua.quantizationAnnotation[Ja])}}return Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.node=[],Ja.initializer=[],Ja.input=[],Ja.output=[],Ja.valueInfo=[],Ja.quantizationAnnotation=[]),Wa.defaults&&(Ja.name="",Ja.docString=""),Ua.node&&Ua.node.length){Ja.node=[];for(var Oo=0;Oo<Ua.node.length;++Oo)Ja.node[Oo]=Qa.onnx.NodeProto.toObject(Ua.node[Oo],Wa)}if(Ua.name!=null&&Ua.hasOwnProperty("name")&&(Ja.name=Ua.name),Ua.initializer&&Ua.initializer.length)for(Ja.initializer=[],Oo=0;Oo<Ua.initializer.length;++Oo)Ja.initializer[Oo]=Qa.onnx.TensorProto.toObject(Ua.initializer[Oo],Wa);if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&(Ja.docString=Ua.docString),Ua.input&&Ua.input.length)for(Ja.input=[],Oo=0;Oo<Ua.input.length;++Oo)Ja.input[Oo]=Qa.onnx.ValueInfoProto.toObject(Ua.input[Oo],Wa);if(Ua.output&&Ua.output.length)for(Ja.output=[],Oo=0;Oo<Ua.output.length;++Oo)Ja.output[Oo]=Qa.onnx.ValueInfoProto.toObject(Ua.output[Oo],Wa);if(Ua.valueInfo&&Ua.valueInfo.length)for(Ja.valueInfo=[],Oo=0;Oo<Ua.valueInfo.length;++Oo)Ja.valueInfo[Oo]=Qa.onnx.ValueInfoProto.toObject(Ua.valueInfo[Oo],Wa);if(Ua.quantizationAnnotation&&Ua.quantizationAnnotation.length)for(Ja.quantizationAnnotation=[],Oo=0;Oo<Ua.quantizationAnnotation.length;++Oo)Ja.quantizationAnnotation[Oo]=Qa.onnx.TensorAnnotation.toObject(Ua.quantizationAnnotation[Oo],Wa);return Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga.TensorProto=(function(){function Va(Ua){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.dims=Ka.emptyArray,Va.prototype.dataType=0,Va.prototype.segment=null,Va.prototype.floatData=Ka.emptyArray,Va.prototype.int32Data=Ka.emptyArray,Va.prototype.stringData=Ka.emptyArray,Va.prototype.int64Data=Ka.emptyArray,Va.prototype.name="",Va.prototype.docString="",Va.prototype.rawData=Ka.newBuffer([]),Va.prototype.externalData=Ka.emptyArray,Va.prototype.dataLocation=0,Va.prototype.doubleData=Ka.emptyArray,Va.prototype.uint64Data=Ka.emptyArray,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.dims!=null&&Ua.dims.length){Wa.uint32(10).fork();for(var Ja=0;Ja<Ua.dims.length;++Ja)Wa.int64(Ua.dims[Ja]);Wa.ldelim()}if(Ua.dataType!=null&&Ua.hasOwnProperty("dataType")&&Wa.uint32(16).int32(Ua.dataType),Ua.segment!=null&&Ua.hasOwnProperty("segment")&&Qa.onnx.TensorProto.Segment.encode(Ua.segment,Wa.uint32(26).fork()).ldelim(),Ua.floatData!=null&&Ua.floatData.length){for(Wa.uint32(34).fork(),Ja=0;Ja<Ua.floatData.length;++Ja)Wa.float(Ua.floatData[Ja]);Wa.ldelim()}if(Ua.int32Data!=null&&Ua.int32Data.length){for(Wa.uint32(42).fork(),Ja=0;Ja<Ua.int32Data.length;++Ja)Wa.int32(Ua.int32Data[Ja]);Wa.ldelim()}if(Ua.stringData!=null&&Ua.stringData.length)for(Ja=0;Ja<Ua.stringData.length;++Ja)Wa.uint32(50).bytes(Ua.stringData[Ja]);if(Ua.int64Data!=null&&Ua.int64Data.length){for(Wa.uint32(58).fork(),Ja=0;Ja<Ua.int64Data.length;++Ja)Wa.int64(Ua.int64Data[Ja]);Wa.ldelim()}if(Ua.name!=null&&Ua.hasOwnProperty("name")&&Wa.uint32(66).string(Ua.name),Ua.rawData!=null&&Ua.hasOwnProperty("rawData")&&Wa.uint32(74).bytes(Ua.rawData),Ua.doubleData!=null&&Ua.doubleData.length){for(Wa.uint32(82).fork(),Ja=0;Ja<Ua.doubleData.length;++Ja)Wa.double(Ua.doubleData[Ja]);Wa.ldelim()}if(Ua.uint64Data!=null&&Ua.uint64Data.length){for(Wa.uint32(90).fork(),Ja=0;Ja<Ua.uint64Data.length;++Ja)Wa.uint64(Ua.uint64Data[Ja]);Wa.ldelim()}if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&Wa.uint32(98).string(Ua.docString),Ua.externalData!=null&&Ua.externalData.length)for(Ja=0;Ja<Ua.externalData.length;++Ja)Qa.onnx.StringStringEntryProto.encode(Ua.externalData[Ja],Wa.uint32(106).fork()).ldelim();return Ua.dataLocation!=null&&Ua.hasOwnProperty("dataLocation")&&Wa.uint32(112).int32(Ua.dataLocation),Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.TensorProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:if(Oo.dims&&Oo.dims.length||(Oo.dims=[]),(7&Do)==2)for(var Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.dims.push(Ua.int64());else Oo.dims.push(Ua.int64());break;case 2:Oo.dataType=Ua.int32();break;case 3:Oo.segment=Qa.onnx.TensorProto.Segment.decode(Ua,Ua.uint32());break;case 4:if(Oo.floatData&&Oo.floatData.length||(Oo.floatData=[]),(7&Do)==2)for(Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.floatData.push(Ua.float());else Oo.floatData.push(Ua.float());break;case 5:if(Oo.int32Data&&Oo.int32Data.length||(Oo.int32Data=[]),(7&Do)==2)for(Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.int32Data.push(Ua.int32());else Oo.int32Data.push(Ua.int32());break;case 6:Oo.stringData&&Oo.stringData.length||(Oo.stringData=[]),Oo.stringData.push(Ua.bytes());break;case 7:if(Oo.int64Data&&Oo.int64Data.length||(Oo.int64Data=[]),(7&Do)==2)for(Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.int64Data.push(Ua.int64());else Oo.int64Data.push(Ua.int64());break;case 8:Oo.name=Ua.string();break;case 12:Oo.docString=Ua.string();break;case 9:Oo.rawData=Ua.bytes();break;case 13:Oo.externalData&&Oo.externalData.length||(Oo.externalData=[]),Oo.externalData.push(Qa.onnx.StringStringEntryProto.decode(Ua,Ua.uint32()));break;case 14:Oo.dataLocation=Ua.int32();break;case 10:if(Oo.doubleData&&Oo.doubleData.length||(Oo.doubleData=[]),(7&Do)==2)for(Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.doubleData.push(Ua.double());else Oo.doubleData.push(Ua.double());break;case 11:if(Oo.uint64Data&&Oo.uint64Data.length||(Oo.uint64Data=[]),(7&Do)==2)for(Mo=Ua.uint32()+Ua.pos;Ua.pos<Mo;)Oo.uint64Data.push(Ua.uint64());else Oo.uint64Data.push(Ua.uint64());break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.dims!=null&&Ua.hasOwnProperty("dims")){if(!Array.isArray(Ua.dims))return"dims: array expected";for(var Wa=0;Wa<Ua.dims.length;++Wa)if(!(Ka.isInteger(Ua.dims[Wa])||Ua.dims[Wa]&&Ka.isInteger(Ua.dims[Wa].low)&&Ka.isInteger(Ua.dims[Wa].high)))return"dims: integer|Long[] expected"}if(Ua.dataType!=null&&Ua.hasOwnProperty("dataType")&&!Ka.isInteger(Ua.dataType))return"dataType: integer expected";if(Ua.segment!=null&&Ua.hasOwnProperty("segment")&&(Ja=Qa.onnx.TensorProto.Segment.verify(Ua.segment)))return"segment."+Ja;if(Ua.floatData!=null&&Ua.hasOwnProperty("floatData")){if(!Array.isArray(Ua.floatData))return"floatData: array expected";for(Wa=0;Wa<Ua.floatData.length;++Wa)if(typeof Ua.floatData[Wa]!="number")return"floatData: number[] expected"}if(Ua.int32Data!=null&&Ua.hasOwnProperty("int32Data")){if(!Array.isArray(Ua.int32Data))return"int32Data: array expected";for(Wa=0;Wa<Ua.int32Data.length;++Wa)if(!Ka.isInteger(Ua.int32Data[Wa]))return"int32Data: integer[] expected"}if(Ua.stringData!=null&&Ua.hasOwnProperty("stringData")){if(!Array.isArray(Ua.stringData))return"stringData: array expected";for(Wa=0;Wa<Ua.stringData.length;++Wa)if(!(Ua.stringData[Wa]&&typeof Ua.stringData[Wa].length=="number"||Ka.isString(Ua.stringData[Wa])))return"stringData: buffer[] expected"}if(Ua.int64Data!=null&&Ua.hasOwnProperty("int64Data")){if(!Array.isArray(Ua.int64Data))return"int64Data: array expected";for(Wa=0;Wa<Ua.int64Data.length;++Wa)if(!(Ka.isInteger(Ua.int64Data[Wa])||Ua.int64Data[Wa]&&Ka.isInteger(Ua.int64Data[Wa].low)&&Ka.isInteger(Ua.int64Data[Wa].high)))return"int64Data: integer|Long[] expected"}if(Ua.name!=null&&Ua.hasOwnProperty("name")&&!Ka.isString(Ua.name))return"name: string expected";if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&!Ka.isString(Ua.docString))return"docString: string expected";if(Ua.rawData!=null&&Ua.hasOwnProperty("rawData")&&!(Ua.rawData&&typeof Ua.rawData.length=="number"||Ka.isString(Ua.rawData)))return"rawData: buffer expected";if(Ua.externalData!=null&&Ua.hasOwnProperty("externalData")){if(!Array.isArray(Ua.externalData))return"externalData: array expected";for(Wa=0;Wa<Ua.externalData.length;++Wa){var Ja;if(Ja=Qa.onnx.StringStringEntryProto.verify(Ua.externalData[Wa]))return"externalData."+Ja}}if(Ua.dataLocation!=null&&Ua.hasOwnProperty("dataLocation"))switch(Ua.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(Ua.doubleData!=null&&Ua.hasOwnProperty("doubleData")){if(!Array.isArray(Ua.doubleData))return"doubleData: array expected";for(Wa=0;Wa<Ua.doubleData.length;++Wa)if(typeof Ua.doubleData[Wa]!="number")return"doubleData: number[] expected"}if(Ua.uint64Data!=null&&Ua.hasOwnProperty("uint64Data")){if(!Array.isArray(Ua.uint64Data))return"uint64Data: array expected";for(Wa=0;Wa<Ua.uint64Data.length;++Wa)if(!(Ka.isInteger(Ua.uint64Data[Wa])||Ua.uint64Data[Wa]&&Ka.isInteger(Ua.uint64Data[Wa].low)&&Ka.isInteger(Ua.uint64Data[Wa].high)))return"uint64Data: integer|Long[] expected"}return null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.TensorProto)return Ua;var Wa=new Qa.onnx.TensorProto;if(Ua.dims){if(!Array.isArray(Ua.dims))throw TypeError(".onnx.TensorProto.dims: array expected");Wa.dims=[];for(var Ja=0;Ja<Ua.dims.length;++Ja)Ka.Long?(Wa.dims[Ja]=Ka.Long.fromValue(Ua.dims[Ja])).unsigned=!1:typeof Ua.dims[Ja]=="string"?Wa.dims[Ja]=parseInt(Ua.dims[Ja],10):typeof Ua.dims[Ja]=="number"?Wa.dims[Ja]=Ua.dims[Ja]:typeof Ua.dims[Ja]=="object"&&(Wa.dims[Ja]=new Ka.LongBits(Ua.dims[Ja].low>>>0,Ua.dims[Ja].high>>>0).toNumber())}if(Ua.dataType!=null&&(Wa.dataType=0|Ua.dataType),Ua.segment!=null){if(typeof Ua.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");Wa.segment=Qa.onnx.TensorProto.Segment.fromObject(Ua.segment)}if(Ua.floatData){if(!Array.isArray(Ua.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(Wa.floatData=[],Ja=0;Ja<Ua.floatData.length;++Ja)Wa.floatData[Ja]=Number(Ua.floatData[Ja])}if(Ua.int32Data){if(!Array.isArray(Ua.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(Wa.int32Data=[],Ja=0;Ja<Ua.int32Data.length;++Ja)Wa.int32Data[Ja]=0|Ua.int32Data[Ja]}if(Ua.stringData){if(!Array.isArray(Ua.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(Wa.stringData=[],Ja=0;Ja<Ua.stringData.length;++Ja)typeof Ua.stringData[Ja]=="string"?Ka.base64.decode(Ua.stringData[Ja],Wa.stringData[Ja]=Ka.newBuffer(Ka.base64.length(Ua.stringData[Ja])),0):Ua.stringData[Ja].length&&(Wa.stringData[Ja]=Ua.stringData[Ja])}if(Ua.int64Data){if(!Array.isArray(Ua.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(Wa.int64Data=[],Ja=0;Ja<Ua.int64Data.length;++Ja)Ka.Long?(Wa.int64Data[Ja]=Ka.Long.fromValue(Ua.int64Data[Ja])).unsigned=!1:typeof Ua.int64Data[Ja]=="string"?Wa.int64Data[Ja]=parseInt(Ua.int64Data[Ja],10):typeof Ua.int64Data[Ja]=="number"?Wa.int64Data[Ja]=Ua.int64Data[Ja]:typeof Ua.int64Data[Ja]=="object"&&(Wa.int64Data[Ja]=new Ka.LongBits(Ua.int64Data[Ja].low>>>0,Ua.int64Data[Ja].high>>>0).toNumber())}if(Ua.name!=null&&(Wa.name=String(Ua.name)),Ua.docString!=null&&(Wa.docString=String(Ua.docString)),Ua.rawData!=null&&(typeof Ua.rawData=="string"?Ka.base64.decode(Ua.rawData,Wa.rawData=Ka.newBuffer(Ka.base64.length(Ua.rawData)),0):Ua.rawData.length&&(Wa.rawData=Ua.rawData)),Ua.externalData){if(!Array.isArray(Ua.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(Wa.externalData=[],Ja=0;Ja<Ua.externalData.length;++Ja){if(typeof Ua.externalData[Ja]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");Wa.externalData[Ja]=Qa.onnx.StringStringEntryProto.fromObject(Ua.externalData[Ja])}}switch(Ua.dataLocation){case"DEFAULT":case 0:Wa.dataLocation=0;break;case"EXTERNAL":case 1:Wa.dataLocation=1}if(Ua.doubleData){if(!Array.isArray(Ua.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(Wa.doubleData=[],Ja=0;Ja<Ua.doubleData.length;++Ja)Wa.doubleData[Ja]=Number(Ua.doubleData[Ja])}if(Ua.uint64Data){if(!Array.isArray(Ua.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(Wa.uint64Data=[],Ja=0;Ja<Ua.uint64Data.length;++Ja)Ka.Long?(Wa.uint64Data[Ja]=Ka.Long.fromValue(Ua.uint64Data[Ja])).unsigned=!0:typeof Ua.uint64Data[Ja]=="string"?Wa.uint64Data[Ja]=parseInt(Ua.uint64Data[Ja],10):typeof Ua.uint64Data[Ja]=="number"?Wa.uint64Data[Ja]=Ua.uint64Data[Ja]:typeof Ua.uint64Data[Ja]=="object"&&(Wa.uint64Data[Ja]=new Ka.LongBits(Ua.uint64Data[Ja].low>>>0,Ua.uint64Data[Ja].high>>>0).toNumber(!0))}return Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.dims=[],Ja.floatData=[],Ja.int32Data=[],Ja.stringData=[],Ja.int64Data=[],Ja.doubleData=[],Ja.uint64Data=[],Ja.externalData=[]),Wa.defaults&&(Ja.dataType=0,Ja.segment=null,Ja.name="",Wa.bytes===String?Ja.rawData="":(Ja.rawData=[],Wa.bytes!==Array&&(Ja.rawData=Ka.newBuffer(Ja.rawData))),Ja.docString="",Ja.dataLocation=Wa.enums===String?"DEFAULT":0),Ua.dims&&Ua.dims.length){Ja.dims=[];for(var Oo=0;Oo<Ua.dims.length;++Oo)typeof Ua.dims[Oo]=="number"?Ja.dims[Oo]=Wa.longs===String?String(Ua.dims[Oo]):Ua.dims[Oo]:Ja.dims[Oo]=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.dims[Oo]):Wa.longs===Number?new Ka.LongBits(Ua.dims[Oo].low>>>0,Ua.dims[Oo].high>>>0).toNumber():Ua.dims[Oo]}if(Ua.dataType!=null&&Ua.hasOwnProperty("dataType")&&(Ja.dataType=Ua.dataType),Ua.segment!=null&&Ua.hasOwnProperty("segment")&&(Ja.segment=Qa.onnx.TensorProto.Segment.toObject(Ua.segment,Wa)),Ua.floatData&&Ua.floatData.length)for(Ja.floatData=[],Oo=0;Oo<Ua.floatData.length;++Oo)Ja.floatData[Oo]=Wa.json&&!isFinite(Ua.floatData[Oo])?String(Ua.floatData[Oo]):Ua.floatData[Oo];if(Ua.int32Data&&Ua.int32Data.length)for(Ja.int32Data=[],Oo=0;Oo<Ua.int32Data.length;++Oo)Ja.int32Data[Oo]=Ua.int32Data[Oo];if(Ua.stringData&&Ua.stringData.length)for(Ja.stringData=[],Oo=0;Oo<Ua.stringData.length;++Oo)Ja.stringData[Oo]=Wa.bytes===String?Ka.base64.encode(Ua.stringData[Oo],0,Ua.stringData[Oo].length):Wa.bytes===Array?Array.prototype.slice.call(Ua.stringData[Oo]):Ua.stringData[Oo];if(Ua.int64Data&&Ua.int64Data.length)for(Ja.int64Data=[],Oo=0;Oo<Ua.int64Data.length;++Oo)typeof Ua.int64Data[Oo]=="number"?Ja.int64Data[Oo]=Wa.longs===String?String(Ua.int64Data[Oo]):Ua.int64Data[Oo]:Ja.int64Data[Oo]=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.int64Data[Oo]):Wa.longs===Number?new Ka.LongBits(Ua.int64Data[Oo].low>>>0,Ua.int64Data[Oo].high>>>0).toNumber():Ua.int64Data[Oo];if(Ua.name!=null&&Ua.hasOwnProperty("name")&&(Ja.name=Ua.name),Ua.rawData!=null&&Ua.hasOwnProperty("rawData")&&(Ja.rawData=Wa.bytes===String?Ka.base64.encode(Ua.rawData,0,Ua.rawData.length):Wa.bytes===Array?Array.prototype.slice.call(Ua.rawData):Ua.rawData),Ua.doubleData&&Ua.doubleData.length)for(Ja.doubleData=[],Oo=0;Oo<Ua.doubleData.length;++Oo)Ja.doubleData[Oo]=Wa.json&&!isFinite(Ua.doubleData[Oo])?String(Ua.doubleData[Oo]):Ua.doubleData[Oo];if(Ua.uint64Data&&Ua.uint64Data.length)for(Ja.uint64Data=[],Oo=0;Oo<Ua.uint64Data.length;++Oo)typeof Ua.uint64Data[Oo]=="number"?Ja.uint64Data[Oo]=Wa.longs===String?String(Ua.uint64Data[Oo]):Ua.uint64Data[Oo]:Ja.uint64Data[Oo]=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.uint64Data[Oo]):Wa.longs===Number?new Ka.LongBits(Ua.uint64Data[Oo].low>>>0,Ua.uint64Data[Oo].high>>>0).toNumber(!0):Ua.uint64Data[Oo];if(Ua.docString!=null&&Ua.hasOwnProperty("docString")&&(Ja.docString=Ua.docString),Ua.externalData&&Ua.externalData.length)for(Ja.externalData=[],Oo=0;Oo<Ua.externalData.length;++Oo)Ja.externalData[Oo]=Qa.onnx.StringStringEntryProto.toObject(Ua.externalData[Oo],Wa);return Ua.dataLocation!=null&&Ua.hasOwnProperty("dataLocation")&&(Ja.dataLocation=Wa.enums===String?Qa.onnx.TensorProto.DataLocation[Ua.dataLocation]:Ua.dataLocation),Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va.DataType=(function(){var Ua={},Wa=Object.create(Ua);return Wa[Ua[0]="UNDEFINED"]=0,Wa[Ua[1]="FLOAT"]=1,Wa[Ua[2]="UINT8"]=2,Wa[Ua[3]="INT8"]=3,Wa[Ua[4]="UINT16"]=4,Wa[Ua[5]="INT16"]=5,Wa[Ua[6]="INT32"]=6,Wa[Ua[7]="INT64"]=7,Wa[Ua[8]="STRING"]=8,Wa[Ua[9]="BOOL"]=9,Wa[Ua[10]="FLOAT16"]=10,Wa[Ua[11]="DOUBLE"]=11,Wa[Ua[12]="UINT32"]=12,Wa[Ua[13]="UINT64"]=13,Wa[Ua[14]="COMPLEX64"]=14,Wa[Ua[15]="COMPLEX128"]=15,Wa[Ua[16]="BFLOAT16"]=16,Wa})(),Va.Segment=(function(){function Ua(Wa){if(Wa)for(var Ja=Object.keys(Wa),Oo=0;Oo<Ja.length;++Oo)Wa[Ja[Oo]]!=null&&(this[Ja[Oo]]=Wa[Ja[Oo]])}return Ua.prototype.begin=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Ua.prototype.end=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Ua.create=function(Wa){return new Ua(Wa)},Ua.encode=function(Wa,Ja){return Ja||(Ja=Xa.create()),Wa.begin!=null&&Wa.hasOwnProperty("begin")&&Ja.uint32(8).int64(Wa.begin),Wa.end!=null&&Wa.hasOwnProperty("end")&&Ja.uint32(16).int64(Wa.end),Ja},Ua.encodeDelimited=function(Wa,Ja){return this.encode(Wa,Ja).ldelim()},Ua.decode=function(Wa,Ja){Wa instanceof Ya||(Wa=Ya.create(Wa));for(var Oo=Ja===void 0?Wa.len:Wa.pos+Ja,Do=new Qa.onnx.TensorProto.Segment;Wa.pos<Oo;){var Mo=Wa.uint32();switch(Mo>>>3){case 1:Do.begin=Wa.int64();break;case 2:Do.end=Wa.int64();break;default:Wa.skipType(7&Mo)}}return Do},Ua.decodeDelimited=function(Wa){return Wa instanceof Ya||(Wa=new Ya(Wa)),this.decode(Wa,Wa.uint32())},Ua.verify=function(Wa){return typeof Wa!="object"||Wa===null?"object expected":Wa.begin!=null&&Wa.hasOwnProperty("begin")&&!(Ka.isInteger(Wa.begin)||Wa.begin&&Ka.isInteger(Wa.begin.low)&&Ka.isInteger(Wa.begin.high))?"begin: integer|Long expected":Wa.end!=null&&Wa.hasOwnProperty("end")&&!(Ka.isInteger(Wa.end)||Wa.end&&Ka.isInteger(Wa.end.low)&&Ka.isInteger(Wa.end.high))?"end: integer|Long expected":null},Ua.fromObject=function(Wa){if(Wa instanceof Qa.onnx.TensorProto.Segment)return Wa;var Ja=new Qa.onnx.TensorProto.Segment;return Wa.begin!=null&&(Ka.Long?(Ja.begin=Ka.Long.fromValue(Wa.begin)).unsigned=!1:typeof Wa.begin=="string"?Ja.begin=parseInt(Wa.begin,10):typeof Wa.begin=="number"?Ja.begin=Wa.begin:typeof Wa.begin=="object"&&(Ja.begin=new Ka.LongBits(Wa.begin.low>>>0,Wa.begin.high>>>0).toNumber())),Wa.end!=null&&(Ka.Long?(Ja.end=Ka.Long.fromValue(Wa.end)).unsigned=!1:typeof Wa.end=="string"?Ja.end=parseInt(Wa.end,10):typeof Wa.end=="number"?Ja.end=Wa.end:typeof Wa.end=="object"&&(Ja.end=new Ka.LongBits(Wa.end.low>>>0,Wa.end.high>>>0).toNumber())),Ja},Ua.toObject=function(Wa,Ja){Ja||(Ja={});var Oo={};if(Ja.defaults){if(Ka.Long){var Do=new Ka.Long(0,0,!1);Oo.begin=Ja.longs===String?Do.toString():Ja.longs===Number?Do.toNumber():Do}else Oo.begin=Ja.longs===String?"0":0;Ka.Long?(Do=new Ka.Long(0,0,!1),Oo.end=Ja.longs===String?Do.toString():Ja.longs===Number?Do.toNumber():Do):Oo.end=Ja.longs===String?"0":0}return Wa.begin!=null&&Wa.hasOwnProperty("begin")&&(typeof Wa.begin=="number"?Oo.begin=Ja.longs===String?String(Wa.begin):Wa.begin:Oo.begin=Ja.longs===String?Ka.Long.prototype.toString.call(Wa.begin):Ja.longs===Number?new Ka.LongBits(Wa.begin.low>>>0,Wa.begin.high>>>0).toNumber():Wa.begin),Wa.end!=null&&Wa.hasOwnProperty("end")&&(typeof Wa.end=="number"?Oo.end=Ja.longs===String?String(Wa.end):Wa.end:Oo.end=Ja.longs===String?Ka.Long.prototype.toString.call(Wa.end):Ja.longs===Number?new Ka.LongBits(Wa.end.low>>>0,Wa.end.high>>>0).toNumber():Wa.end),Oo},Ua.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Ua})(),Va.DataLocation=(function(){var Ua={},Wa=Object.create(Ua);return Wa[Ua[0]="DEFAULT"]=0,Wa[Ua[1]="EXTERNAL"]=1,Wa})(),Va})(),Ga.TensorShapeProto=(function(){function Va(Ua){if(this.dim=[],Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.dim=Ka.emptyArray,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){if(Wa||(Wa=Xa.create()),Ua.dim!=null&&Ua.dim.length)for(var Ja=0;Ja<Ua.dim.length;++Ja)Qa.onnx.TensorShapeProto.Dimension.encode(Ua.dim[Ja],Wa.uint32(10).fork()).ldelim();return Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.TensorShapeProto;Ua.pos<Ja;){var Do=Ua.uint32();Do>>>3==1?(Oo.dim&&Oo.dim.length||(Oo.dim=[]),Oo.dim.push(Qa.onnx.TensorShapeProto.Dimension.decode(Ua,Ua.uint32()))):Ua.skipType(7&Do)}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){if(typeof Ua!="object"||Ua===null)return"object expected";if(Ua.dim!=null&&Ua.hasOwnProperty("dim")){if(!Array.isArray(Ua.dim))return"dim: array expected";for(var Wa=0;Wa<Ua.dim.length;++Wa){var Ja=Qa.onnx.TensorShapeProto.Dimension.verify(Ua.dim[Wa]);if(Ja)return"dim."+Ja}}return null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.TensorShapeProto)return Ua;var Wa=new Qa.onnx.TensorShapeProto;if(Ua.dim){if(!Array.isArray(Ua.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");Wa.dim=[];for(var Ja=0;Ja<Ua.dim.length;++Ja){if(typeof Ua.dim[Ja]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");Wa.dim[Ja]=Qa.onnx.TensorShapeProto.Dimension.fromObject(Ua.dim[Ja])}}return Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if((Wa.arrays||Wa.defaults)&&(Ja.dim=[]),Ua.dim&&Ua.dim.length){Ja.dim=[];for(var Oo=0;Oo<Ua.dim.length;++Oo)Ja.dim[Oo]=Qa.onnx.TensorShapeProto.Dimension.toObject(Ua.dim[Oo],Wa)}return Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va.Dimension=(function(){function Ua(Ja){if(Ja)for(var Oo=Object.keys(Ja),Do=0;Do<Oo.length;++Do)Ja[Oo[Do]]!=null&&(this[Oo[Do]]=Ja[Oo[Do]])}var Wa;return Ua.prototype.dimValue=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Ua.prototype.dimParam="",Ua.prototype.denotation="",Object.defineProperty(Ua.prototype,"value",{get:Ka.oneOfGetter(Wa=["dimValue","dimParam"]),set:Ka.oneOfSetter(Wa)}),Ua.create=function(Ja){return new Ua(Ja)},Ua.encode=function(Ja,Oo){return Oo||(Oo=Xa.create()),Ja.dimValue!=null&&Ja.hasOwnProperty("dimValue")&&Oo.uint32(8).int64(Ja.dimValue),Ja.dimParam!=null&&Ja.hasOwnProperty("dimParam")&&Oo.uint32(18).string(Ja.dimParam),Ja.denotation!=null&&Ja.hasOwnProperty("denotation")&&Oo.uint32(26).string(Ja.denotation),Oo},Ua.encodeDelimited=function(Ja,Oo){return this.encode(Ja,Oo).ldelim()},Ua.decode=function(Ja,Oo){Ja instanceof Ya||(Ja=Ya.create(Ja));for(var Do=Oo===void 0?Ja.len:Ja.pos+Oo,Mo=new Qa.onnx.TensorShapeProto.Dimension;Ja.pos<Do;){var el=Ja.uint32();switch(el>>>3){case 1:Mo.dimValue=Ja.int64();break;case 2:Mo.dimParam=Ja.string();break;case 3:Mo.denotation=Ja.string();break;default:Ja.skipType(7&el)}}return Mo},Ua.decodeDelimited=function(Ja){return Ja instanceof Ya||(Ja=new Ya(Ja)),this.decode(Ja,Ja.uint32())},Ua.verify=function(Ja){if(typeof Ja!="object"||Ja===null)return"object expected";var Oo={};if(Ja.dimValue!=null&&Ja.hasOwnProperty("dimValue")&&(Oo.value=1,!(Ka.isInteger(Ja.dimValue)||Ja.dimValue&&Ka.isInteger(Ja.dimValue.low)&&Ka.isInteger(Ja.dimValue.high))))return"dimValue: integer|Long expected";if(Ja.dimParam!=null&&Ja.hasOwnProperty("dimParam")){if(Oo.value===1)return"value: multiple values";if(Oo.value=1,!Ka.isString(Ja.dimParam))return"dimParam: string expected"}return Ja.denotation!=null&&Ja.hasOwnProperty("denotation")&&!Ka.isString(Ja.denotation)?"denotation: string expected":null},Ua.fromObject=function(Ja){if(Ja instanceof Qa.onnx.TensorShapeProto.Dimension)return Ja;var Oo=new Qa.onnx.TensorShapeProto.Dimension;return Ja.dimValue!=null&&(Ka.Long?(Oo.dimValue=Ka.Long.fromValue(Ja.dimValue)).unsigned=!1:typeof Ja.dimValue=="string"?Oo.dimValue=parseInt(Ja.dimValue,10):typeof Ja.dimValue=="number"?Oo.dimValue=Ja.dimValue:typeof Ja.dimValue=="object"&&(Oo.dimValue=new Ka.LongBits(Ja.dimValue.low>>>0,Ja.dimValue.high>>>0).toNumber())),Ja.dimParam!=null&&(Oo.dimParam=String(Ja.dimParam)),Ja.denotation!=null&&(Oo.denotation=String(Ja.denotation)),Oo},Ua.toObject=function(Ja,Oo){Oo||(Oo={});var Do={};return Oo.defaults&&(Do.denotation=""),Ja.dimValue!=null&&Ja.hasOwnProperty("dimValue")&&(typeof Ja.dimValue=="number"?Do.dimValue=Oo.longs===String?String(Ja.dimValue):Ja.dimValue:Do.dimValue=Oo.longs===String?Ka.Long.prototype.toString.call(Ja.dimValue):Oo.longs===Number?new Ka.LongBits(Ja.dimValue.low>>>0,Ja.dimValue.high>>>0).toNumber():Ja.dimValue,Oo.oneofs&&(Do.value="dimValue")),Ja.dimParam!=null&&Ja.hasOwnProperty("dimParam")&&(Do.dimParam=Ja.dimParam,Oo.oneofs&&(Do.value="dimParam")),Ja.denotation!=null&&Ja.hasOwnProperty("denotation")&&(Do.denotation=Ja.denotation),Do},Ua.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Ua})(),Va})(),Ga.TypeProto=(function(){function Va(Wa){if(Wa)for(var Ja=Object.keys(Wa),Oo=0;Oo<Ja.length;++Oo)Wa[Ja[Oo]]!=null&&(this[Ja[Oo]]=Wa[Ja[Oo]])}var Ua;return Va.prototype.tensorType=null,Va.prototype.denotation="",Object.defineProperty(Va.prototype,"value",{get:Ka.oneOfGetter(Ua=["tensorType"]),set:Ka.oneOfSetter(Ua)}),Va.create=function(Wa){return new Va(Wa)},Va.encode=function(Wa,Ja){return Ja||(Ja=Xa.create()),Wa.tensorType!=null&&Wa.hasOwnProperty("tensorType")&&Qa.onnx.TypeProto.Tensor.encode(Wa.tensorType,Ja.uint32(10).fork()).ldelim(),Wa.denotation!=null&&Wa.hasOwnProperty("denotation")&&Ja.uint32(50).string(Wa.denotation),Ja},Va.encodeDelimited=function(Wa,Ja){return this.encode(Wa,Ja).ldelim()},Va.decode=function(Wa,Ja){Wa instanceof Ya||(Wa=Ya.create(Wa));for(var Oo=Ja===void 0?Wa.len:Wa.pos+Ja,Do=new Qa.onnx.TypeProto;Wa.pos<Oo;){var Mo=Wa.uint32();switch(Mo>>>3){case 1:Do.tensorType=Qa.onnx.TypeProto.Tensor.decode(Wa,Wa.uint32());break;case 6:Do.denotation=Wa.string();break;default:Wa.skipType(7&Mo)}}return Do},Va.decodeDelimited=function(Wa){return Wa instanceof Ya||(Wa=new Ya(Wa)),this.decode(Wa,Wa.uint32())},Va.verify=function(Wa){if(typeof Wa!="object"||Wa===null)return"object expected";if(Wa.tensorType!=null&&Wa.hasOwnProperty("tensorType")){var Ja=Qa.onnx.TypeProto.Tensor.verify(Wa.tensorType);if(Ja)return"tensorType."+Ja}return Wa.denotation!=null&&Wa.hasOwnProperty("denotation")&&!Ka.isString(Wa.denotation)?"denotation: string expected":null},Va.fromObject=function(Wa){if(Wa instanceof Qa.onnx.TypeProto)return Wa;var Ja=new Qa.onnx.TypeProto;if(Wa.tensorType!=null){if(typeof Wa.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");Ja.tensorType=Qa.onnx.TypeProto.Tensor.fromObject(Wa.tensorType)}return Wa.denotation!=null&&(Ja.denotation=String(Wa.denotation)),Ja},Va.toObject=function(Wa,Ja){Ja||(Ja={});var Oo={};return Ja.defaults&&(Oo.denotation=""),Wa.tensorType!=null&&Wa.hasOwnProperty("tensorType")&&(Oo.tensorType=Qa.onnx.TypeProto.Tensor.toObject(Wa.tensorType,Ja),Ja.oneofs&&(Oo.value="tensorType")),Wa.denotation!=null&&Wa.hasOwnProperty("denotation")&&(Oo.denotation=Wa.denotation),Oo},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va.Tensor=(function(){function Wa(Ja){if(Ja)for(var Oo=Object.keys(Ja),Do=0;Do<Oo.length;++Do)Ja[Oo[Do]]!=null&&(this[Oo[Do]]=Ja[Oo[Do]])}return Wa.prototype.elemType=0,Wa.prototype.shape=null,Wa.create=function(Ja){return new Wa(Ja)},Wa.encode=function(Ja,Oo){return Oo||(Oo=Xa.create()),Ja.elemType!=null&&Ja.hasOwnProperty("elemType")&&Oo.uint32(8).int32(Ja.elemType),Ja.shape!=null&&Ja.hasOwnProperty("shape")&&Qa.onnx.TensorShapeProto.encode(Ja.shape,Oo.uint32(18).fork()).ldelim(),Oo},Wa.encodeDelimited=function(Ja,Oo){return this.encode(Ja,Oo).ldelim()},Wa.decode=function(Ja,Oo){Ja instanceof Ya||(Ja=Ya.create(Ja));for(var Do=Oo===void 0?Ja.len:Ja.pos+Oo,Mo=new Qa.onnx.TypeProto.Tensor;Ja.pos<Do;){var el=Ja.uint32();switch(el>>>3){case 1:Mo.elemType=Ja.int32();break;case 2:Mo.shape=Qa.onnx.TensorShapeProto.decode(Ja,Ja.uint32());break;default:Ja.skipType(7&el)}}return Mo},Wa.decodeDelimited=function(Ja){return Ja instanceof Ya||(Ja=new Ya(Ja)),this.decode(Ja,Ja.uint32())},Wa.verify=function(Ja){if(typeof Ja!="object"||Ja===null)return"object expected";if(Ja.elemType!=null&&Ja.hasOwnProperty("elemType")&&!Ka.isInteger(Ja.elemType))return"elemType: integer expected";if(Ja.shape!=null&&Ja.hasOwnProperty("shape")){var Oo=Qa.onnx.TensorShapeProto.verify(Ja.shape);if(Oo)return"shape."+Oo}return null},Wa.fromObject=function(Ja){if(Ja instanceof Qa.onnx.TypeProto.Tensor)return Ja;var Oo=new Qa.onnx.TypeProto.Tensor;if(Ja.elemType!=null&&(Oo.elemType=0|Ja.elemType),Ja.shape!=null){if(typeof Ja.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");Oo.shape=Qa.onnx.TensorShapeProto.fromObject(Ja.shape)}return Oo},Wa.toObject=function(Ja,Oo){Oo||(Oo={});var Do={};return Oo.defaults&&(Do.elemType=0,Do.shape=null),Ja.elemType!=null&&Ja.hasOwnProperty("elemType")&&(Do.elemType=Ja.elemType),Ja.shape!=null&&Ja.hasOwnProperty("shape")&&(Do.shape=Qa.onnx.TensorShapeProto.toObject(Ja.shape,Oo)),Do},Wa.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Wa})(),Va})(),Ga.OperatorSetIdProto=(function(){function Va(Ua){if(Ua)for(var Wa=Object.keys(Ua),Ja=0;Ja<Wa.length;++Ja)Ua[Wa[Ja]]!=null&&(this[Wa[Ja]]=Ua[Wa[Ja]])}return Va.prototype.domain="",Va.prototype.version=Ka.Long?Ka.Long.fromBits(0,0,!1):0,Va.create=function(Ua){return new Va(Ua)},Va.encode=function(Ua,Wa){return Wa||(Wa=Xa.create()),Ua.domain!=null&&Ua.hasOwnProperty("domain")&&Wa.uint32(10).string(Ua.domain),Ua.version!=null&&Ua.hasOwnProperty("version")&&Wa.uint32(16).int64(Ua.version),Wa},Va.encodeDelimited=function(Ua,Wa){return this.encode(Ua,Wa).ldelim()},Va.decode=function(Ua,Wa){Ua instanceof Ya||(Ua=Ya.create(Ua));for(var Ja=Wa===void 0?Ua.len:Ua.pos+Wa,Oo=new Qa.onnx.OperatorSetIdProto;Ua.pos<Ja;){var Do=Ua.uint32();switch(Do>>>3){case 1:Oo.domain=Ua.string();break;case 2:Oo.version=Ua.int64();break;default:Ua.skipType(7&Do)}}return Oo},Va.decodeDelimited=function(Ua){return Ua instanceof Ya||(Ua=new Ya(Ua)),this.decode(Ua,Ua.uint32())},Va.verify=function(Ua){return typeof Ua!="object"||Ua===null?"object expected":Ua.domain!=null&&Ua.hasOwnProperty("domain")&&!Ka.isString(Ua.domain)?"domain: string expected":Ua.version!=null&&Ua.hasOwnProperty("version")&&!(Ka.isInteger(Ua.version)||Ua.version&&Ka.isInteger(Ua.version.low)&&Ka.isInteger(Ua.version.high))?"version: integer|Long expected":null},Va.fromObject=function(Ua){if(Ua instanceof Qa.onnx.OperatorSetIdProto)return Ua;var Wa=new Qa.onnx.OperatorSetIdProto;return Ua.domain!=null&&(Wa.domain=String(Ua.domain)),Ua.version!=null&&(Ka.Long?(Wa.version=Ka.Long.fromValue(Ua.version)).unsigned=!1:typeof Ua.version=="string"?Wa.version=parseInt(Ua.version,10):typeof Ua.version=="number"?Wa.version=Ua.version:typeof Ua.version=="object"&&(Wa.version=new Ka.LongBits(Ua.version.low>>>0,Ua.version.high>>>0).toNumber())),Wa},Va.toObject=function(Ua,Wa){Wa||(Wa={});var Ja={};if(Wa.defaults)if(Ja.domain="",Ka.Long){var Oo=new Ka.Long(0,0,!1);Ja.version=Wa.longs===String?Oo.toString():Wa.longs===Number?Oo.toNumber():Oo}else Ja.version=Wa.longs===String?"0":0;return Ua.domain!=null&&Ua.hasOwnProperty("domain")&&(Ja.domain=Ua.domain),Ua.version!=null&&Ua.hasOwnProperty("version")&&(typeof Ua.version=="number"?Ja.version=Wa.longs===String?String(Ua.version):Ua.version:Ja.version=Wa.longs===String?Ka.Long.prototype.toString.call(Ua.version):Wa.longs===Number?new Ka.LongBits(Ua.version.low>>>0,Ua.version.high>>>0).toNumber():Ua.version),Ja},Va.prototype.toJSON=function(){return this.constructor.toObject(this,Ha.util.toJSONOptions)},Va})(),Ga),La.exports=Qa},2100:(La,Na,ja)=>{La.exports=ja(9482)},9482:(La,Na,ja)=>{var Ba=Na;function za(){Ba.util._configure(),Ba.Writer._configure(Ba.BufferWriter),Ba.Reader._configure(Ba.BufferReader)}Ba.build="minimal",Ba.Writer=ja(1173),Ba.BufferWriter=ja(3155),Ba.Reader=ja(1408),Ba.BufferReader=ja(593),Ba.util=ja(9693),Ba.rpc=ja(5994),Ba.roots=ja(5054),Ba.configure=za,za()},1408:(La,Na,ja)=>{La.exports=Xa;var Ba,za=ja(9693),Ga=za.LongBits,Ha=za.utf8;function Ya(Oo,Do){return RangeError("index out of range: "+Oo.pos+" + "+(Do||1)+" > "+Oo.len)}function Xa(Oo){this.buf=Oo,this.pos=0,this.len=Oo.length}var Ka,Qa=typeof Uint8Array<"u"?function(Oo){if(Oo instanceof Uint8Array||Array.isArray(Oo))return new Xa(Oo);throw Error("illegal buffer")}:function(Oo){if(Array.isArray(Oo))return new Xa(Oo);throw Error("illegal buffer")},Va=function(){return za.Buffer?function(Oo){return(Xa.create=function(Do){return za.Buffer.isBuffer(Do)?new Ba(Do):Qa(Do)})(Oo)}:Qa};function Ua(){var Oo=new Ga(0,0),Do=0;if(!(this.len-this.pos>4)){for(;Do<3;++Do){if(this.pos>=this.len)throw Ya(this);if(Oo.lo=(Oo.lo|(127&this.buf[this.pos])<<7*Do)>>>0,this.buf[this.pos++]<128)return Oo}return Oo.lo=(Oo.lo|(127&this.buf[this.pos++])<<7*Do)>>>0,Oo}for(;Do<4;++Do)if(Oo.lo=(Oo.lo|(127&this.buf[this.pos])<<7*Do)>>>0,this.buf[this.pos++]<128)return Oo;if(Oo.lo=(Oo.lo|(127&this.buf[this.pos])<<28)>>>0,Oo.hi=(Oo.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return Oo;if(Do=0,this.len-this.pos>4){for(;Do<5;++Do)if(Oo.hi=(Oo.hi|(127&this.buf[this.pos])<<7*Do+3)>>>0,this.buf[this.pos++]<128)return Oo}else for(;Do<5;++Do){if(this.pos>=this.len)throw Ya(this);if(Oo.hi=(Oo.hi|(127&this.buf[this.pos])<<7*Do+3)>>>0,this.buf[this.pos++]<128)return Oo}throw Error("invalid varint encoding")}function Wa(Oo,Do){return(Oo[Do-4]|Oo[Do-3]<<8|Oo[Do-2]<<16|Oo[Do-1]<<24)>>>0}function Ja(){if(this.pos+8>this.len)throw Ya(this,8);return new Ga(Wa(this.buf,this.pos+=4),Wa(this.buf,this.pos+=4))}Xa.create=Va(),Xa.prototype._slice=za.Array.prototype.subarray||za.Array.prototype.slice,Xa.prototype.uint32=(Ka=4294967295,function(){if(Ka=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Ka=(Ka|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Ka=(Ka|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Ka=(Ka|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Ka=(Ka|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Ka;if((this.pos+=5)>this.len)throw this.pos=this.len,Ya(this,10);return Ka}),Xa.prototype.int32=function(){return 0|this.uint32()},Xa.prototype.sint32=function(){var Oo=this.uint32();return Oo>>>1^-(1&Oo)|0},Xa.prototype.bool=function(){return this.uint32()!==0},Xa.prototype.fixed32=function(){if(this.pos+4>this.len)throw Ya(this,4);return Wa(this.buf,this.pos+=4)},Xa.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Ya(this,4);return 0|Wa(this.buf,this.pos+=4)},Xa.prototype.float=function(){if(this.pos+4>this.len)throw Ya(this,4);var Oo=za.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Oo},Xa.prototype.double=function(){if(this.pos+8>this.len)throw Ya(this,4);var Oo=za.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Oo},Xa.prototype.bytes=function(){var Oo=this.uint32(),Do=this.pos,Mo=this.pos+Oo;if(Mo>this.len)throw Ya(this,Oo);return this.pos+=Oo,Array.isArray(this.buf)?this.buf.slice(Do,Mo):Do===Mo?new this.buf.constructor(0):this._slice.call(this.buf,Do,Mo)},Xa.prototype.string=function(){var Oo=this.bytes();return Ha.read(Oo,0,Oo.length)},Xa.prototype.skip=function(Oo){if(typeof Oo=="number"){if(this.pos+Oo>this.len)throw Ya(this,Oo);this.pos+=Oo}else do if(this.pos>=this.len)throw Ya(this);while(128&this.buf[this.pos++]);return this},Xa.prototype.skipType=function(Oo){switch(Oo){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(Oo=7&this.uint32())!=4;)this.skipType(Oo);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Oo+" at offset "+this.pos)}return this},Xa._configure=function(Oo){Ba=Oo,Xa.create=Va(),Ba._configure();var Do=za.Long?"toLong":"toNumber";za.merge(Xa.prototype,{int64:function(){return Ua.call(this)[Do](!1)},uint64:function(){return Ua.call(this)[Do](!0)},sint64:function(){return Ua.call(this).zzDecode()[Do](!1)},fixed64:function(){return Ja.call(this)[Do](!0)},sfixed64:function(){return Ja.call(this)[Do](!1)}})}},593:(La,Na,ja)=>{La.exports=Ga;var Ba=ja(1408);(Ga.prototype=Object.create(Ba.prototype)).constructor=Ga;var za=ja(9693);function Ga(Ha){Ba.call(this,Ha)}Ga._configure=function(){za.Buffer&&(Ga.prototype._slice=za.Buffer.prototype.slice)},Ga.prototype.string=function(){var Ha=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Ha,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Ha,this.len))},Ga._configure()},5054:La=>{La.exports={}},5994:(La,Na,ja)=>{Na.Service=ja(7948)},7948:(La,Na,ja)=>{La.exports=za;var Ba=ja(9693);function za(Ga,Ha,Ya){if(typeof Ga!="function")throw TypeError("rpcImpl must be a function");Ba.EventEmitter.call(this),this.rpcImpl=Ga,this.requestDelimited=!!Ha,this.responseDelimited=!!Ya}(za.prototype=Object.create(Ba.EventEmitter.prototype)).constructor=za,za.prototype.rpcCall=function Ga(Ha,Ya,Xa,Ka,Qa){if(!Ka)throw TypeError("request must be specified");var Va=this;if(!Qa)return Ba.asPromise(Ga,Va,Ha,Ya,Xa,Ka);if(Va.rpcImpl)try{return Va.rpcImpl(Ha,Ya[Va.requestDelimited?"encodeDelimited":"encode"](Ka).finish(),(function(Ua,Wa){if(Ua)return Va.emit("error",Ua,Ha),Qa(Ua);if(Wa!==null){if(!(Wa instanceof Xa))try{Wa=Xa[Va.responseDelimited?"decodeDelimited":"decode"](Wa)}catch(Ja){return Va.emit("error",Ja,Ha),Qa(Ja)}return Va.emit("data",Wa,Ha),Qa(null,Wa)}Va.end(!0)}))}catch(Ua){return Va.emit("error",Ua,Ha),void setTimeout((function(){Qa(Ua)}),0)}else setTimeout((function(){Qa(Error("already ended"))}),0)},za.prototype.end=function(Ga){return this.rpcImpl&&(Ga||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(La,Na,ja)=>{La.exports=za;var Ba=ja(9693);function za(Xa,Ka){this.lo=Xa>>>0,this.hi=Ka>>>0}var Ga=za.zero=new za(0,0);Ga.toNumber=function(){return 0},Ga.zzEncode=Ga.zzDecode=function(){return this},Ga.length=function(){return 1};var Ha=za.zeroHash="\0\0\0\0\0\0\0\0";za.fromNumber=function(Xa){if(Xa===0)return Ga;var Ka=Xa<0;Ka&&(Xa=-Xa);var Qa=Xa>>>0,Va=(Xa-Qa)/4294967296>>>0;return Ka&&(Va=~Va>>>0,Qa=~Qa>>>0,++Qa>4294967295&&(Qa=0,++Va>4294967295&&(Va=0))),new za(Qa,Va)},za.from=function(Xa){if(typeof Xa=="number")return za.fromNumber(Xa);if(Ba.isString(Xa)){if(!Ba.Long)return za.fromNumber(parseInt(Xa,10));Xa=Ba.Long.fromString(Xa)}return Xa.low||Xa.high?new za(Xa.low>>>0,Xa.high>>>0):Ga},za.prototype.toNumber=function(Xa){if(!Xa&&this.hi>>>31){var Ka=1+~this.lo>>>0,Qa=~this.hi>>>0;return Ka||(Qa=Qa+1>>>0),-(Ka+4294967296*Qa)}return this.lo+4294967296*this.hi},za.prototype.toLong=function(Xa){return Ba.Long?new Ba.Long(0|this.lo,0|this.hi,!!Xa):{low:0|this.lo,high:0|this.hi,unsigned:!!Xa}};var Ya=String.prototype.charCodeAt;za.fromHash=function(Xa){return Xa===Ha?Ga:new za((Ya.call(Xa,0)|Ya.call(Xa,1)<<8|Ya.call(Xa,2)<<16|Ya.call(Xa,3)<<24)>>>0,(Ya.call(Xa,4)|Ya.call(Xa,5)<<8|Ya.call(Xa,6)<<16|Ya.call(Xa,7)<<24)>>>0)},za.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},za.prototype.zzEncode=function(){var Xa=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^Xa)>>>0,this.lo=(this.lo<<1^Xa)>>>0,this},za.prototype.zzDecode=function(){var Xa=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^Xa)>>>0,this.hi=(this.hi>>>1^Xa)>>>0,this},za.prototype.length=function(){var Xa=this.lo,Ka=(this.lo>>>28|this.hi<<4)>>>0,Qa=this.hi>>>24;return Qa===0?Ka===0?Xa<16384?Xa<128?1:2:Xa<2097152?3:4:Ka<16384?Ka<128?5:6:Ka<2097152?7:8:Qa<128?9:10}},9693:function(La,Na,ja){var Ba=Na;function za(Ha,Ya,Xa){for(var Ka=Object.keys(Ya),Qa=0;Qa<Ka.length;++Qa)Ha[Ka[Qa]]!==void 0&&Xa||(Ha[Ka[Qa]]=Ya[Ka[Qa]]);return Ha}function Ga(Ha){function Ya(Xa,Ka){if(!(this instanceof Ya))return new Ya(Xa,Ka);Object.defineProperty(this,"message",{get:function(){return Xa}}),Error.captureStackTrace?Error.captureStackTrace(this,Ya):Object.defineProperty(this,"stack",{value:new Error().stack||""}),Ka&&za(this,Ka)}return(Ya.prototype=Object.create(Error.prototype)).constructor=Ya,Object.defineProperty(Ya.prototype,"name",{get:function(){return Ha}}),Ya.prototype.toString=function(){return this.name+": "+this.message},Ya}Ba.asPromise=ja(4537),Ba.base64=ja(7419),Ba.EventEmitter=ja(9211),Ba.float=ja(945),Ba.inquire=ja(7199),Ba.utf8=ja(4997),Ba.pool=ja(6662),Ba.LongBits=ja(1945),Ba.isNode=!!(ja.g!==void 0&&ja.g&&ja.g.process&&ja.g.process.versions&&ja.g.process.versions.node),Ba.global=Ba.isNode&&ja.g||typeof window<"u"&&window||typeof self<"u"&&self||this,Ba.emptyArray=Object.freeze?Object.freeze([]):[],Ba.emptyObject=Object.freeze?Object.freeze({}):{},Ba.isInteger=Number.isInteger||function(Ha){return typeof Ha=="number"&&isFinite(Ha)&&Math.floor(Ha)===Ha},Ba.isString=function(Ha){return typeof Ha=="string"||Ha instanceof String},Ba.isObject=function(Ha){return Ha&&typeof Ha=="object"},Ba.isset=Ba.isSet=function(Ha,Ya){var Xa=Ha[Ya];return!(Xa==null||!Ha.hasOwnProperty(Ya))&&(typeof Xa!="object"||(Array.isArray(Xa)?Xa.length:Object.keys(Xa).length)>0)},Ba.Buffer=(function(){try{var Ha=Ba.inquire("buffer").Buffer;return Ha.prototype.utf8Write?Ha:null}catch{return null}})(),Ba._Buffer_from=null,Ba._Buffer_allocUnsafe=null,Ba.newBuffer=function(Ha){return typeof Ha=="number"?Ba.Buffer?Ba._Buffer_allocUnsafe(Ha):new Ba.Array(Ha):Ba.Buffer?Ba._Buffer_from(Ha):typeof Uint8Array>"u"?Ha:new Uint8Array(Ha)},Ba.Array=typeof Uint8Array<"u"?Uint8Array:Array,Ba.Long=Ba.global.dcodeIO&&Ba.global.dcodeIO.Long||Ba.global.Long||Ba.inquire("long"),Ba.key2Re=/^true|false|0|1$/,Ba.key32Re=/^-?(?:0|[1-9][0-9]*)$/,Ba.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,Ba.longToHash=function(Ha){return Ha?Ba.LongBits.from(Ha).toHash():Ba.LongBits.zeroHash},Ba.longFromHash=function(Ha,Ya){var Xa=Ba.LongBits.fromHash(Ha);return Ba.Long?Ba.Long.fromBits(Xa.lo,Xa.hi,Ya):Xa.toNumber(!!Ya)},Ba.merge=za,Ba.lcFirst=function(Ha){return Ha.charAt(0).toLowerCase()+Ha.substring(1)},Ba.newError=Ga,Ba.ProtocolError=Ga("ProtocolError"),Ba.oneOfGetter=function(Ha){for(var Ya={},Xa=0;Xa<Ha.length;++Xa)Ya[Ha[Xa]]=1;return function(){for(var Ka=Object.keys(this),Qa=Ka.length-1;Qa>-1;--Qa)if(Ya[Ka[Qa]]===1&&this[Ka[Qa]]!==void 0&&this[Ka[Qa]]!==null)return Ka[Qa]}},Ba.oneOfSetter=function(Ha){return function(Ya){for(var Xa=0;Xa<Ha.length;++Xa)Ha[Xa]!==Ya&&delete this[Ha[Xa]]}},Ba.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},Ba._configure=function(){var Ha=Ba.Buffer;Ha?(Ba._Buffer_from=Ha.from!==Uint8Array.from&&Ha.from||function(Ya,Xa){return new Ha(Ya,Xa)},Ba._Buffer_allocUnsafe=Ha.allocUnsafe||function(Ya){return new Ha(Ya)}):Ba._Buffer_from=Ba._Buffer_allocUnsafe=null}},1173:(La,Na,ja)=>{La.exports=Va;var Ba,za=ja(9693),Ga=za.LongBits,Ha=za.base64,Ya=za.utf8;function Xa(el,tl,rl){this.fn=el,this.len=tl,this.next=void 0,this.val=rl}function Ka(){}function Qa(el){this.head=el.head,this.tail=el.tail,this.len=el.len,this.next=el.states}function Va(){this.len=0,this.head=new Xa(Ka,0,0),this.tail=this.head,this.states=null}var Ua=function(){return za.Buffer?function(){return(Va.create=function(){return new Ba})()}:function(){return new Va}};function Wa(el,tl,rl){tl[rl]=255&el}function Ja(el,tl){this.len=el,this.next=void 0,this.val=tl}function Oo(el,tl,rl){for(;el.hi;)tl[rl++]=127&el.lo|128,el.lo=(el.lo>>>7|el.hi<<25)>>>0,el.hi>>>=7;for(;el.lo>127;)tl[rl++]=127&el.lo|128,el.lo=el.lo>>>7;tl[rl++]=el.lo}function Do(el,tl,rl){tl[rl]=255&el,tl[rl+1]=el>>>8&255,tl[rl+2]=el>>>16&255,tl[rl+3]=el>>>24}Va.create=Ua(),Va.alloc=function(el){return new za.Array(el)},za.Array!==Array&&(Va.alloc=za.pool(Va.alloc,za.Array.prototype.subarray)),Va.prototype._push=function(el,tl,rl){return this.tail=this.tail.next=new Xa(el,tl,rl),this.len+=tl,this},Ja.prototype=Object.create(Xa.prototype),Ja.prototype.fn=function(el,tl,rl){for(;el>127;)tl[rl++]=127&el|128,el>>>=7;tl[rl]=el},Va.prototype.uint32=function(el){return this.len+=(this.tail=this.tail.next=new Ja((el>>>=0)<128?1:el<16384?2:el<2097152?3:el<268435456?4:5,el)).len,this},Va.prototype.int32=function(el){return el<0?this._push(Oo,10,Ga.fromNumber(el)):this.uint32(el)},Va.prototype.sint32=function(el){return this.uint32((el<<1^el>>31)>>>0)},Va.prototype.uint64=function(el){var tl=Ga.from(el);return this._push(Oo,tl.length(),tl)},Va.prototype.int64=Va.prototype.uint64,Va.prototype.sint64=function(el){var tl=Ga.from(el).zzEncode();return this._push(Oo,tl.length(),tl)},Va.prototype.bool=function(el){return this._push(Wa,1,el?1:0)},Va.prototype.fixed32=function(el){return this._push(Do,4,el>>>0)},Va.prototype.sfixed32=Va.prototype.fixed32,Va.prototype.fixed64=function(el){var tl=Ga.from(el);return this._push(Do,4,tl.lo)._push(Do,4,tl.hi)},Va.prototype.sfixed64=Va.prototype.fixed64,Va.prototype.float=function(el){return this._push(za.float.writeFloatLE,4,el)},Va.prototype.double=function(el){return this._push(za.float.writeDoubleLE,8,el)};var Mo=za.Array.prototype.set?function(el,tl,rl){tl.set(el,rl)}:function(el,tl,rl){for(var il=0;il<el.length;++il)tl[rl+il]=el[il]};Va.prototype.bytes=function(el){var tl=el.length>>>0;if(!tl)return this._push(Wa,1,0);if(za.isString(el)){var rl=Va.alloc(tl=Ha.length(el));Ha.decode(el,rl,0),el=rl}return this.uint32(tl)._push(Mo,tl,el)},Va.prototype.string=function(el){var tl=Ya.length(el);return tl?this.uint32(tl)._push(Ya.write,tl,el):this._push(Wa,1,0)},Va.prototype.fork=function(){return this.states=new Qa(this),this.head=this.tail=new Xa(Ka,0,0),this.len=0,this},Va.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Xa(Ka,0,0),this.len=0),this},Va.prototype.ldelim=function(){var el=this.head,tl=this.tail,rl=this.len;return this.reset().uint32(rl),rl&&(this.tail.next=el.next,this.tail=tl,this.len+=rl),this},Va.prototype.finish=function(){for(var el=this.head.next,tl=this.constructor.alloc(this.len),rl=0;el;)el.fn(el.val,tl,rl),rl+=el.len,el=el.next;return tl},Va._configure=function(el){Ba=el,Va.create=Ua(),Ba._configure()}},3155:(La,Na,ja)=>{La.exports=Ga;var Ba=ja(1173);(Ga.prototype=Object.create(Ba.prototype)).constructor=Ga;var za=ja(9693);function Ga(){Ba.call(this)}function Ha(Ya,Xa,Ka){Ya.length<40?za.utf8.write(Ya,Xa,Ka):Xa.utf8Write?Xa.utf8Write(Ya,Ka):Xa.write(Ya,Ka)}Ga._configure=function(){Ga.alloc=za._Buffer_allocUnsafe,Ga.writeBytesBuffer=za.Buffer&&za.Buffer.prototype instanceof Uint8Array&&za.Buffer.prototype.set.name==="set"?function(Ya,Xa,Ka){Xa.set(Ya,Ka)}:function(Ya,Xa,Ka){if(Ya.copy)Ya.copy(Xa,Ka,0,Ya.length);else for(var Qa=0;Qa<Ya.length;)Xa[Ka++]=Ya[Qa++]}},Ga.prototype.bytes=function(Ya){za.isString(Ya)&&(Ya=za._Buffer_from(Ya,"base64"));var Xa=Ya.length>>>0;return this.uint32(Xa),Xa&&this._push(Ga.writeBytesBuffer,Xa,Ya),this},Ga.prototype.string=function(Ya){var Xa=za.Buffer.byteLength(Ya);return this.uint32(Xa),Xa&&this._push(Ha,Xa,Ya),this},Ga._configure()},7714:(La,Na,ja)=>{Na.R=void 0;const Ba=ja(6919),za=ja(7448);Na.R=new class{async init(){}async createSessionHandler(Ga,Ha){const Ya=new Ba.Session(Ha);return await Ya.loadModel(Ga),new za.OnnxjsSessionHandler(Ya)}}},4200:(La,Na,ja)=>{Na.c8=Na.rX=void 0;const Ba=ja(1670),za=ja(5381),Ga=ja(2157),Ha=ja(2306);Na.rX=()=>{if((typeof Ba.env.wasm.initTimeout!="number"||Ba.env.wasm.initTimeout<0)&&(Ba.env.wasm.initTimeout=0),typeof Ba.env.wasm.simd!="boolean"&&(Ba.env.wasm.simd=!0),typeof Ba.env.wasm.proxy!="boolean"&&(Ba.env.wasm.proxy=!1),typeof Ba.env.wasm.numThreads!="number"||!Number.isInteger(Ba.env.wasm.numThreads)||Ba.env.wasm.numThreads<=0){const Ya=typeof navigator>"u"?(0,za.cpus)().length:navigator.hardwareConcurrency;Ba.env.wasm.numThreads=Math.min(4,Math.ceil((Ya||1)/2))}},Na.c8=new class{async init(){(0,Na.rX)(),await(0,Ga.initWasm)()}async createSessionHandler(Ya,Xa){const Ka=new Ha.OnnxruntimeWebAssemblySessionHandler;return await Ka.loadModel(Ya,Xa),Promise.resolve(Ka)}}},6018:function(La,Na,ja){var Ba=this&&this.__createBinding||(Object.create?function(Ha,Ya,Xa,Ka){Ka===void 0&&(Ka=Xa);var Qa=Object.getOwnPropertyDescriptor(Ya,Xa);Qa&&!("get"in Qa?!Ya.__esModule:Qa.writable||Qa.configurable)||(Qa={enumerable:!0,get:function(){return Ya[Xa]}}),Object.defineProperty(Ha,Ka,Qa)}:function(Ha,Ya,Xa,Ka){Ka===void 0&&(Ka=Xa),Ha[Ka]=Ya[Xa]}),za=this&&this.__exportStar||function(Ha,Ya){for(var Xa in Ha)Xa==="default"||Object.prototype.hasOwnProperty.call(Ya,Xa)||Ba(Ya,Ha,Xa)};Object.defineProperty(Na,"__esModule",{value:!0}),za(ja(1670),Na);const Ga=ja(1670);{const Ha=ja(7714).R;(0,Ga.registerBackend)("webgl",Ha,-10)}{const Ha=ja(4200).c8;(0,Ga.registerBackend)("cpu",Ha,10),(0,Ga.registerBackend)("wasm",Ha,10),(0,Ga.registerBackend)("xnnpack",Ha,9)}},246:(La,Na)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createAttributeWithCacheKey=void 0;class ja{constructor(za){Object.assign(this,za)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((za=>`${this[za]}`)).join(";")),this._cacheKey}}Na.createAttributeWithCacheKey=Ba=>new ja(Ba)},7778:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.Attribute=void 0;const Ba=ja(1446),za=ja(9395),Ga=ja(9162),Ha=ja(2517);var Ya=za.onnxruntime.experimental.fbs;class Xa{constructor(Qa){if(this._attributes=new Map,Qa!=null){for(const Va of Qa)Va instanceof Ba.onnx.AttributeProto?this._attributes.set(Va.name,[Xa.getValue(Va),Xa.getType(Va)]):Va instanceof Ya.Attribute&&this._attributes.set(Va.name(),[Xa.getValue(Va),Xa.getType(Va)]);if(this._attributes.size<Qa.length)throw new Error("duplicated attribute names")}}set(Qa,Va,Ua){this._attributes.set(Qa,[Ua,Va])}delete(Qa){this._attributes.delete(Qa)}getFloat(Qa,Va){return this.get(Qa,"float",Va)}getInt(Qa,Va){return this.get(Qa,"int",Va)}getString(Qa,Va){return this.get(Qa,"string",Va)}getTensor(Qa,Va){return this.get(Qa,"tensor",Va)}getFloats(Qa,Va){return this.get(Qa,"floats",Va)}getInts(Qa,Va){return this.get(Qa,"ints",Va)}getStrings(Qa,Va){return this.get(Qa,"strings",Va)}getTensors(Qa,Va){return this.get(Qa,"tensors",Va)}get(Qa,Va,Ua){const Wa=this._attributes.get(Qa);if(Wa===void 0){if(Ua!==void 0)return Ua;throw new Error(`required attribute not found: ${Qa}`)}if(Wa[1]!==Va)throw new Error(`type mismatch: expected ${Va} but got ${Wa[1]}`);return Wa[0]}static getType(Qa){const Va=Qa instanceof Ba.onnx.AttributeProto?Qa.type:Qa.type();switch(Va){case Ba.onnx.AttributeProto.AttributeType.FLOAT:return"float";case Ba.onnx.AttributeProto.AttributeType.INT:return"int";case Ba.onnx.AttributeProto.AttributeType.STRING:return"string";case Ba.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case Ba.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case Ba.onnx.AttributeProto.AttributeType.INTS:return"ints";case Ba.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case Ba.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${Ba.onnx.AttributeProto.AttributeType[Va]}`)}}static getValue(Qa){const Va=Qa instanceof Ba.onnx.AttributeProto?Qa.type:Qa.type();if(Va===Ba.onnx.AttributeProto.AttributeType.GRAPH||Va===Ba.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const Ua=this.getValueNoCheck(Qa);if(Va===Ba.onnx.AttributeProto.AttributeType.INT&&Ha.LongUtil.isLong(Ua))return Ha.LongUtil.longToNumber(Ua);if(Va===Ba.onnx.AttributeProto.AttributeType.INTS){const Wa=Ua,Ja=new Array(Wa.length);for(let Oo=0;Oo<Wa.length;Oo++){const Do=Wa[Oo];Ja[Oo]=Ha.LongUtil.longToNumber(Do)}return Ja}if(Va===Ba.onnx.AttributeProto.AttributeType.TENSOR)return Qa instanceof Ba.onnx.AttributeProto?Ga.Tensor.fromProto(Ua):Ga.Tensor.fromOrtTensor(Ua);if(Va===Ba.onnx.AttributeProto.AttributeType.TENSORS){if(Qa instanceof Ba.onnx.AttributeProto)return Ua.map((Wa=>Ga.Tensor.fromProto(Wa)));if(Qa instanceof Ya.Attribute)return Ua.map((Wa=>Ga.Tensor.fromOrtTensor(Wa)))}if(Va===Ba.onnx.AttributeProto.AttributeType.STRING&&Qa instanceof Ba.onnx.AttributeProto){const Wa=Ua;return(0,Ha.decodeUtf8String)(Wa)}return Va===Ba.onnx.AttributeProto.AttributeType.STRINGS&&Qa instanceof Ba.onnx.AttributeProto?Ua.map(Ha.decodeUtf8String):Ua}static getValueNoCheck(Qa){return Qa instanceof Ba.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(Qa):this.getValueNoCheckFromOrtFormat(Qa)}static getValueNoCheckFromOnnxFormat(Qa){switch(Qa.type){case Ba.onnx.AttributeProto.AttributeType.FLOAT:return Qa.f;case Ba.onnx.AttributeProto.AttributeType.INT:return Qa.i;case Ba.onnx.AttributeProto.AttributeType.STRING:return Qa.s;case Ba.onnx.AttributeProto.AttributeType.TENSOR:return Qa.t;case Ba.onnx.AttributeProto.AttributeType.GRAPH:return Qa.g;case Ba.onnx.AttributeProto.AttributeType.FLOATS:return Qa.floats;case Ba.onnx.AttributeProto.AttributeType.INTS:return Qa.ints;case Ba.onnx.AttributeProto.AttributeType.STRINGS:return Qa.strings;case Ba.onnx.AttributeProto.AttributeType.TENSORS:return Qa.tensors;case Ba.onnx.AttributeProto.AttributeType.GRAPHS:return Qa.graphs;default:throw new Error(`unsupported attribute type: ${Ba.onnx.AttributeProto.AttributeType[Qa.type]}`)}}static getValueNoCheckFromOrtFormat(Qa){switch(Qa.type()){case Ya.AttributeType.FLOAT:return Qa.f();case Ya.AttributeType.INT:return Qa.i();case Ya.AttributeType.STRING:return Qa.s();case Ya.AttributeType.TENSOR:return Qa.t();case Ya.AttributeType.GRAPH:return Qa.g();case Ya.AttributeType.FLOATS:return Qa.floatsArray();case Ya.AttributeType.INTS:{const Va=[];for(let Ua=0;Ua<Qa.intsLength();Ua++)Va.push(Qa.ints(Ua));return Va}case Ya.AttributeType.STRINGS:{const Va=[];for(let Ua=0;Ua<Qa.stringsLength();Ua++)Va.push(Qa.strings(Ua));return Va}case Ya.AttributeType.TENSORS:{const Va=[];for(let Ua=0;Ua<Qa.tensorsLength();Ua++)Va.push(Qa.tensors(Ua));return Va}default:throw new Error(`unsupported attribute type: ${Ya.AttributeType[Qa.type()]}`)}}}Na.Attribute=Xa},7091:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.resolveBackend=Na.backend=void 0;const Ba=ja(5038),za=new Map;async function Ga(Ha){const Ya=Na.backend;if(Ya[Ha]!==void 0&&(function(Xa){const Ka=Xa;return"initialize"in Ka&&typeof Ka.initialize=="function"&&"createSessionHandler"in Ka&&typeof Ka.createSessionHandler=="function"&&"dispose"in Ka&&typeof Ka.dispose=="function"})(Ya[Ha])){const Xa=Ya[Ha];let Ka=Xa.initialize();if(typeof Ka=="object"&&"then"in Ka&&(Ka=await Ka),Ka)return za.set(Ha,Xa),Xa}}Na.backend={webgl:new Ba.WebGLBackend},Na.resolveBackend=async function Ha(Ya){if(!Ya)return Ha(["webgl"]);{const Xa=typeof Ya=="string"?[Ya]:Ya;for(const Ka of Xa){const Qa=za.get(Ka);if(Qa)return Qa;const Va=await Ga(Ka);if(Va)return Va}}throw new Error("no available backend to use")}},5038:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.WebGLBackend=void 0;const Ba=ja(1670),za=ja(6231),Ga=ja(6416),Ha=ja(7305);Na.WebGLBackend=class{get contextId(){return Ba.env.webgl.contextId}set contextId(Ya){Ba.env.webgl.contextId=Ya}get matmulMaxBatchSize(){return Ba.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(Ya){Ba.env.webgl.matmulMaxBatchSize=Ya}get textureCacheMode(){return Ba.env.webgl.textureCacheMode}set textureCacheMode(Ya){Ba.env.webgl.textureCacheMode=Ya}get pack(){return Ba.env.webgl.pack}set pack(Ya){Ba.env.webgl.pack=Ya}get async(){return Ba.env.webgl.async}set async(Ya){Ba.env.webgl.async=Ya}initialize(){try{return this.glContext=(0,Ha.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),za.Logger.setWithEnv(Ba.env),za.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(Ya){return za.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${Ya}`),!1}}createSessionHandler(Ya){return new Ga.WebGLSessionHandler(this,Ya)}dispose(){this.glContext.dispose()}}},5107:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.CoordsGlslLib=void 0;const Ba=ja(2517),za=ja(8520),Ga=ja(5060),Ha=ja(7859),Ya=ja(9390);class Xa extends za.GlslLib{constructor(Qa){super(Qa)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new za.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new za.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const Qa=this.context.outputTextureLayout;return Qa.isPacked?this.getPackedOutputSamplingSnippet(Qa):this.getUnpackedOutputSamplingSnippet(Qa)}getPackedOutputSamplingSnippet(Qa){const Va=Qa.unpackedShape,Ua=[Qa.width,Qa.height],Wa={},Ja="getOutputCoords";switch(Va.length){case 0:Wa[Ja]=this.getOutputScalarCoords();break;case 1:Wa[Ja]=this.getOutputPacked1DCoords(Va,Ua);break;case 2:Wa[Ja]=this.getOutputPacked2DCoords(Va,Ua);break;case 3:Wa[Ja]=this.getOutputPacked3DCoords(Va,Ua);break;default:Wa[Ja]=this.getOutputPackedNDCoords(Va,Ua)}const Oo=`
      void setOutput(vec4 val) {
        ${(0,Ga.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return Wa.floatTextureSetRGBA=new za.GlslLibRoutine(Oo),Wa}getUnpackedOutputSamplingSnippet(Qa){const Va=Qa.unpackedShape,Ua=[Qa.width,Qa.height],Wa={},Ja="getOutputCoords";switch(Va.length){case 0:Wa[Ja]=this.getOutputScalarCoords();break;case 1:Wa[Ja]=this.getOutputUnpacked1DCoords(Va,Ua);break;case 2:Wa[Ja]=this.getOutputUnpacked2DCoords(Va,Ua);break;case 3:Wa[Ja]=this.getOutputUnpacked3DCoords(Va,Ua);break;case 4:Wa[Ja]=this.getOutputUnpacked4DCoords(Va,Ua);break;case 5:Wa[Ja]=this.getOutputUnpacked5DCoords(Va,Ua);break;case 6:Wa[Ja]=this.getOutputUnpacked6DCoords(Va,Ua);break;default:throw new Error(`Unsupported output dimensionality: ${Va.length}`)}const Oo=`
        void setOutput(float val) {
          ${(0,Ga.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return Wa.floatTextureSetR=new za.GlslLibRoutine(Oo),Wa}getOutputScalarCoords(){return new za.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(Qa,Va){const Ua=Va;let Wa="";return Ua[0]===1?(Wa=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${Ua[1]}.0);
          }
        `,new za.GlslLibRoutine(Wa)):Ua[1]===1?(Wa=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${Ua[0]}.0);
          }
        `,new za.GlslLibRoutine(Wa)):(Wa=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${Ua[0]}, ${Ua[1]}));
          return 2 * (resTexRC.y * ${Ua[0]} + resTexRC.x);
        }
      `,new za.GlslLibRoutine(Wa))}getOutputPacked2DCoords(Qa,Va){let Ua="";if(Ba.ArrayUtil.arraysEqual(Qa,Va))return Ua=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${Va[0]}, ${Va[1]}));
        }
      `,new za.GlslLibRoutine(Ua);const Wa=Va,Ja=Math.ceil(Qa[1]/2);return Ua=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Wa[0]}, ${Wa[1]}));

          int index = resTexRC.y * ${Wa[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${Ja}) * 2;
          int c = 2 * (index / ${Ja});

          return ivec2(r, c);
        }
      `,new za.GlslLibRoutine(Ua)}getOutputPacked3DCoords(Qa,Va){const Ua=[Va[0],Va[1]],Wa=Math.ceil(Qa[2]/2),Ja=Wa*Math.ceil(Qa[1]/2),Oo=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Ua[0]}, ${Ua[1]}));
          int index = resTexRC.y * ${Ua[0]} + resTexRC.x;

          int b = index / ${Ja};
          index -= b * ${Ja};

          // reverse r and c order for packed texture
          int r = imod(index, ${Wa}) * 2;
          int c = 2 * (index / ${Wa});

          return ivec3(b, r, c);
        }
      `;return new za.GlslLibRoutine(Oo)}getOutputPackedNDCoords(Qa,Va){const Ua=[Va[0],Va[1]],Wa=Math.ceil(Qa[Qa.length-1]/2),Ja=Wa*Math.ceil(Qa[Qa.length-2]/2);let Oo=Ja,Do="",Mo="b, r, c";for(let tl=2;tl<Qa.length-1;tl++)Oo*=Qa[Qa.length-tl-1],Do=`
      int b${tl} = index / ${Oo};
      index -= b${tl} * ${Oo};
    `+Do,Mo=`b${tl}, `+Mo;const el=`
      ivec${Qa.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${Ua[0]}, ${Ua[1]}));
        int index = resTexRC.y * ${Ua[0]} + resTexRC.x;

        ${Do}

        int b = index / ${Ja};
        index -= b * ${Ja};

        // reverse r and c order for packed texture
        int r = imod(index, ${Wa}) * 2;
        int c = 2 * (index / ${Wa});

        return ivec${Qa.length}(${Mo});
      }
    `;return new za.GlslLibRoutine(el)}getOutputUnpacked1DCoords(Qa,Va){const Ua=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Va[0]}, ${Va[1]}));
          return resTexRC.y * ${Va[0]} + resTexRC.x;
        }
      `;return new za.GlslLibRoutine(Ua)}getOutputUnpacked2DCoords(Qa,Va){const Ua=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Va[0]}, ${Va[1]}));
          int index = resTexRC.y * ${Va[0]} + resTexRC.x;
          int r = index / ${Qa[1]};
          int c = index - r * ${Qa[1]};
          return ivec2(r, c);
        }
      `;return new za.GlslLibRoutine(Ua)}getOutputUnpacked3DCoords(Qa,Va){let Ua="";const Wa=Qa.length;let Ja=null;Wa<2&&(Ja=[]),Ja=new Array(Wa-1),Ja[Wa-2]=Qa[Wa-1];for(let Mo=Wa-3;Mo>=0;--Mo)Ja[Mo]=Ja[Mo+1]*Qa[Mo+1];const Oo=["r","c","d"],Do=Ja.map(((Mo,el)=>`int ${Oo[el]} = index / ${Mo}; ${el===Ja.length-1?`int ${Oo[el+1]} = index - ${Oo[el]} * ${Mo}`:`index -= ${Oo[el]} * ${Mo}`};`)).join("");return Ua=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Va[0]}, ${Va[1]}));
          int index = resTexRC.y * ${Va[0]} + resTexRC.x;
          ${Do}
          return ivec3(r, c, d);
        }
      `,new za.GlslLibRoutine(Ua)}getOutputUnpacked4DCoords(Qa,Va){let Ua="";const Wa=Qa.length;let Ja=null;Wa<2&&(Ja=[]),Ja=new Array(Wa-1),Ja[Wa-2]=Qa[Wa-1];for(let Mo=Wa-3;Mo>=0;--Mo)Ja[Mo]=Ja[Mo+1]*Qa[Mo+1];const Oo=["r","c","d","d2"],Do=Ja.map(((Mo,el)=>`int ${Oo[el]} = index / ${Mo}; ${el===Ja.length-1?`int ${Oo[el+1]} = index - ${Oo[el]} * ${Mo}`:`index -= ${Oo[el]} * ${Mo}`};`)).join("");return Ua=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Va[0]}, ${Va[1]}));
          int index = resTexRC.y * ${Va[0]} + resTexRC.x;
          ${Do}
          return ivec4(r, c, d, d2);
        }
      `,new za.GlslLibRoutine(Ua)}getOutputUnpacked5DCoords(Qa,Va){let Ua="";const Wa=Qa.length;let Ja=null;Wa<2&&(Ja=[]),Ja=new Array(Wa-1),Ja[Wa-2]=Qa[Wa-1];for(let Mo=Wa-3;Mo>=0;--Mo)Ja[Mo]=Ja[Mo+1]*Qa[Mo+1];const Oo=["r","c","d","d2","d3"],Do=Ja.map(((Mo,el)=>`int ${Oo[el]} = index / ${Mo}; ${el===Ja.length-1?`int ${Oo[el+1]} = index - ${Oo[el]} * ${Mo}`:`index -= ${Oo[el]} * ${Mo}`};`)).join("");return Ua=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${Va[0]}, ${Va[1]}));
          int index = resTexRC.y * ${Va[0]} + resTexRC.x;
          ${Do}
          return ivec5(r, c, d, d2, d3);
        }
      `,new za.GlslLibRoutine(Ua)}getOutputUnpacked6DCoords(Qa,Va){let Ua="";const Wa=Qa.length;let Ja=null;Wa<2&&(Ja=[]),Ja=new Array(Wa-1),Ja[Wa-2]=Qa[Wa-1];for(let Mo=Wa-3;Mo>=0;--Mo)Ja[Mo]=Ja[Mo+1]*Qa[Mo+1];const Oo=["r","c","d","d2","d3","d4"],Do=Ja.map(((Mo,el)=>`int ${Oo[el]} = index / ${Mo}; ${el===Ja.length-1?`int ${Oo[el+1]} = index - ${Oo[el]} * ${Mo}`:`index -= ${Oo[el]} * ${Mo}`};`)).join("");return Ua=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${Va[0]}, ${Va[1]}));
         int index = resTexRC.y * ${Va[0]} + resTexRC.x;
         ${Do}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new za.GlslLibRoutine(Ua)}getCommonUtilFuncs(){const Qa={};let Va="uvFromFlat";Qa[Va]=new za.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),Va="packedUVfrom1D",Qa[Va]=new za.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),Va="packedUVfrom2D",Qa[Va]=new za.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),Va="packedUVfrom3D",Qa[Va]=new za.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),Va="sampleTexture";const Ua=(0,Ga.getGlsl)(this.context.glContext.version);return Qa[Va]=new za.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${Ua.texture2D}(textureSampler, uv).r;
        }`),Qa}getInputsSamplingSnippets(){const Qa={},Va=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((Ua,Wa)=>{const Ja=this.context.inputTextureLayouts[Wa],Oo=(0,Ya.generateShaderFuncNameFromInputSamplerName)(Ua);Ja.isPacked?Qa[Oo]=this.getPackedSamplerFromInput(Oo,Ua,Ja):Qa[Oo]=this.getUnpackedSamplerFromInput(Oo,Ua,Ja);const Do=(0,Ya.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(Ua);Ja.unpackedShape.length<=Va.unpackedShape.length&&(Ja.isPacked?Qa[Do]=this.getPackedSamplerAtOutputCoords(Do,Ja,Va,Ua):Qa[Do]=this.getUnpackedSamplerAtOutputCoords(Do,Ja,Va,Ua))})),Qa}getPackedSamplerAtOutputCoords(Qa,Va,Ua,Wa){const Ja=Va.unpackedShape,Oo=Ua.unpackedShape,Do=Wa,Mo=(0,Ya.generateShaderFuncNameFromInputSamplerName)(Do),el=Ja.length,tl=Oo.length,rl=Ba.BroadcastUtil.getBroadcastDims(Ja,Oo),il=(0,Ya.getCoordsDataType)(tl),al=tl-el;let ll;const ul=(0,Ya.getGlChannels)();ll=el===0?"":tl<2&&rl.length>=1?"coords = 0;":rl.map((xl=>`coords.${ul[xl+al]} = 0;`)).join(`
`);let ol="";ol=tl<2&&el>0?"coords":Ja.map(((xl,Al)=>`coords.${ul[Al+al]}`)).join(", ");let cl="return outputValue;";const gl=Ba.ShapeUtil.size(Ja)===1,bl=Ba.ShapeUtil.size(Oo)===1;if(el!==1||gl||bl){if(gl&&!bl)cl=tl===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(rl.length){const xl=el-2,Al=el-1;rl.indexOf(xl)>-1&&rl.indexOf(Al)>-1?cl="return vec4(outputValue.x);":rl.indexOf(xl)>-1?cl="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":rl.indexOf(Al)>-1&&(cl="return vec4(outputValue.xx, outputValue.zz);")}}else cl=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const _l=`
      vec4 ${Qa}() {
        ${il} coords = getOutputCoords();
        
        int lastDim = coords.${ul[tl-1]};
        coords.${ul[tl-1]} = coords.${ul[tl-2]};
        coords.${ul[tl-2]} = lastDim;
      
        ${ll}
        vec4 outputValue = ${Mo}(${ol});
        ${cl}
      }
    `;return new za.GlslLibRoutine(_l,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(Qa,Va,Ua,Wa){const Ja=[Ua.width,Ua.height],Oo=[Va.width,Va.height],Do=Va.unpackedShape.length,Mo=Ua.unpackedShape.length,el=Va.unpackedShape,tl=Ua.unpackedShape,rl=(0,Ya.generateShaderFuncNameFromInputSamplerName)(Wa);if(Do===Mo&&Ba.ArrayUtil.arraysEqual(Oo,Ja)){const bl=`
          float ${Qa}() {
            return sampleTexture(${Wa}, TexCoords);
          }
        `;return new za.GlslLibRoutine(bl,["coordinates.sampleTexture"])}const il=(0,Ya.getCoordsDataType)(Mo),al=Ba.BroadcastUtil.getBroadcastDims(el,tl),ll=Mo-Do;let ul;const ol=(0,Ya.getGlChannels)();ul=Do===0?"":Mo<2&&al.length>=1?"coords = 0;":al.map((bl=>`coords.${ol[bl+ll]} = 0;`)).join(`
`);let cl="";cl=Mo<2&&Do>0?"coords":Va.unpackedShape.map(((bl,_l)=>`coords.${ol[_l+ll]}`)).join(", ");const gl=`
        float ${Qa}() {
          ${il} coords = getOutputCoords();
          ${ul}
          return ${rl}(${cl});
        }
      `;return new za.GlslLibRoutine(gl,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(Qa,Va,Ua){switch(Ua.unpackedShape.length){case 0:return this.getPackedSamplerScalar(Qa,Va);case 1:return this.getPackedSampler1D(Qa,Va,Ua);case 2:return this.getPackedSampler2D(Qa,Va,Ua);case 3:return this.getPackedSampler3D(Qa,Va,Ua);default:return this.getPackedSamplerND(Qa,Va,Ua)}}getUnpackedSamplerFromInput(Qa,Va,Ua){const Wa=Ua.unpackedShape;switch(Wa.length){case 0:return this.getUnpackedSamplerScalar(Qa,Va,Ua);case 1:return this.getUnpackedSampler1D(Qa,Va,Ua);case 2:return this.getUnpackedSampler2D(Qa,Va,Ua);case 3:return this.getUnpackedSampler3D(Qa,Va,Ua);case 4:return this.getUnpackedSampler4D(Qa,Va,Ua);case 5:return this.getUnpackedSampler5D(Qa,Va,Ua);case 6:return this.getUnpackedSampler6D(Qa,Va,Ua);default:throw new Error(`Unsupported dimension ${Wa.length}-D`)}}getPackedSamplerScalar(Qa,Va){const Ua=`
          vec4 ${Qa}() {
            return ${(0,Ga.getGlsl)(this.context.glContext.version).texture2D}(${Va}, halfCR);
          }
        `;return new za.GlslLibRoutine(Ua)}getPackedSampler1D(Qa,Va,Ua){const Wa=[Ua.width,Ua.height],Ja=[Wa[1],Wa[0]],Oo=(0,Ga.getGlsl)(this.context.glContext.version),Do=`vec4 ${Qa}(int index) {
      vec2 uv = packedUVfrom1D(
      ${Ja[0]}, ${Ja[1]}, index);
      return ${Oo.texture2D}(${Va}, uv);
    }`;return new za.GlslLibRoutine(Do,["coordinates.packedUVfrom1D"])}getPackedSampler2D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=[Ua.width,Ua.height],Oo=(0,Ga.getGlsl)(this.context.glContext.version),Do=Ja[0],Mo=Ja[1];if(Ja!=null&&Ba.ArrayUtil.arraysEqual(Wa,Ja)){const il=`vec4 ${Qa}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${Mo}.0, ${Do}.0);
        return ${Oo.texture2D}(${Va}, uv);
      }`;return new za.GlslLibRoutine(il)}const el=Ja,tl=Math.ceil(Wa[1]/2),rl=`vec4 ${Qa}(int row, int col) {
      vec2 uv = packedUVfrom2D(${el[1]}, ${el[0]}, ${tl}, row, col);
      return ${Oo.texture2D}(${Va}, uv);
    }`;return new za.GlslLibRoutine(rl,["coordinates.packedUVfrom2D"])}getPackedSampler3D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=[Ua.width,Ua.height],Oo=[Ja[0],Ja[1]],Do=(0,Ga.getGlsl)(this.context.glContext.version);if(Wa[0]===1){const il=Wa.slice(1),al=[1,2],ll=(0,Ya.squeezeInputShape)(Wa,il),ul=["b","row","col"],ol=JSON.parse(JSON.stringify(Ua));ol.unpackedShape=ll;const cl=this.getPackedSamplerFromInput(Qa,Va,ol),gl=`${cl.routineBody}
      vec4 ${Qa}(int b, int row, int col) {
        return ${Qa}(${(0,Ya.getSqueezedParams)(ul,al)});
      } `;return new za.GlslLibRoutine(gl,cl.dependencies)}const Mo=Oo[0],el=Oo[1],tl=Math.ceil(Wa[2]/2),rl=`vec4 ${Qa}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${el}, ${Mo}, ${tl*Math.ceil(Wa[1]/2)}, ${tl}, b, row, col);
      return ${Do.texture2D}(${Va}, uv);}`;return new za.GlslLibRoutine(rl,["coordinates.packedUVfrom3D"])}getPackedSamplerND(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=Wa.length,Oo=[Ua.width,Ua.height],Do=(0,Ga.getGlsl)(this.context.glContext.version),Mo=[Oo[0],Oo[1]],el=Mo[1],tl=Mo[0],rl=Math.ceil(Wa[Ja-1]/2);let il=rl*Math.ceil(Wa[Ja-2]/2),al="int b, int row, int col",ll=`b * ${il} + (row / 2) * ${rl} + (col / 2)`;for(let ol=2;ol<Ja-1;ol++)al=`int b${ol}, `+al,il*=Wa[Ja-ol-1],ll=`b${ol} * ${il} + `+ll;const ul=`vec4 ${Qa}(${al}) {
      int index = ${ll};
      int texR = index / ${tl};
      int texC = index - texR * ${tl};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${tl}, ${el});
      return ${Do.texture2D}(${Va}, uv);
    }`;return new za.GlslLibRoutine(ul)}getUnpackedSamplerScalar(Qa,Va,Ua){const[Wa,Ja]=[Ua.width,Ua.height];if(Wa===1&&Ja===1){const Do=`
          float ${Qa}() {
            return sampleTexture(${Va}, halfCR);
          }
        `;return new za.GlslLibRoutine(Do,["coordinates.sampleTexture"])}const Oo=`
        float ${Qa}() {
          int offset_${Va} = coordsToOffset(TexCoords, ${Wa}, ${Ja});
          vec2 uv = uvFromFlat(${Wa}, ${Ja}, offset_${Va});
          return sampleTexture(${Va}, uv);
        }
      `;return new za.GlslLibRoutine(Oo,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(Qa,Va,Ua){const Wa=Ua.width,Ja=Ua.height;if(Ja===1&&Wa===1){const Do=`
        float ${Qa}(int index) {
          return sampleTexture(${Va}, halfCR);
        }
      `;return new za.GlslLibRoutine(Do,["coordinates.sampleTexture"])}if(Ja===1){const Do=`
          float ${Qa}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${Wa}.0, 0.5);
            return sampleTexture(${Va}, uv);
          }
        `;return new za.GlslLibRoutine(Do,["coordinates.sampleTexture"])}if(Wa===1){const Do=`
          float ${Qa}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${Ja}.0);
            return sampleTexture(${Va}, uv);
          }
        `;return new za.GlslLibRoutine(Do,["coordinates.sampleTexture"])}const Oo=`
        float ${Qa}(int index) {
          vec2 uv = uvFromFlat(${Wa}, ${Ja}, index);
          return sampleTexture(${Va}, uv);
        }
      `;return new za.GlslLibRoutine(Oo,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=[Ua.height,Ua.width];if(Ja!=null&&Ba.ArrayUtil.arraysEqual(Wa,Ja)){const il=`
          float ${Qa}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${Ja[1]}.0, ${Ja[0]}.0);
            return sampleTexture(${Va}, uv);
          }
        `;return new za.GlslLibRoutine(il,["coordinates.sampleTexture"])}const{newShape:Oo,keptDims:Do}=(0,Ha.squeezeShape)(Wa),Mo=Oo;if(Mo.length<Wa.length){const il=(0,Ya.squeezeInputShape)(Wa,Mo),al=JSON.parse(JSON.stringify(Ua));al.unpackedShape=il;const ll=["col","row"],ul=`
          ${this.getUnpackedSamplerFromInput(Qa,Va,al).routineBody}
          float ${Qa}(int row, int col) {
            return ${Qa}(${(0,Ya.getSqueezedParams)(ll,Do)});
          }
        `;return new za.GlslLibRoutine(ul,["coordinates.sampleTexture"])}const el=Ja[1],tl=Ja[0];if(tl===1){const il=`
          float ${Qa}(int row, int col) {
            int offset_${Va} = coordsToOffset(TexCoords, ${el}, ${tl});
            float index = dot(vec3(row, col, offset_${Va}), vec3(${Wa[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${el}.0);
            return sampleTexture(${Va}, uv);
          }
        `;return new za.GlslLibRoutine(il,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(el===1){const il=`
          float ${Qa}(int row, int col) {
            int offset_${Va} = coordsToOffset(TexCoords, ${el}, ${tl});
            float index = dot(vec3(row, col, offset_${Va}), vec3(${Wa[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${tl}.0, 0.5);
            return sampleTexture(${Va}, uv);
          }
        `;return new za.GlslLibRoutine(il,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const rl=`
        float ${Qa}(int row, int col) {
          int index = col * ${Wa[1]} + row;
          vec2 uv = uvFromFlat(${el}, ${tl}, index);
          return sampleTexture(${Va}, uv);
        }
      `;return new za.GlslLibRoutine(rl,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=Wa[1]*Wa[2],Oo=Wa[2],{newShape:Do,keptDims:Mo}=(0,Ha.squeezeShape)(Wa),el=Do;if(el.length<Wa.length){const rl=(0,Ya.squeezeInputShape)(Wa,el),il=["batch","col","row"],al=JSON.parse(JSON.stringify(Ua));al.unpackedShape=rl;const ll=this.getUnpackedSamplerFromInput(Qa,Va,al),ul=Mo.reverse(),ol=`
          ${ll.routineBody}
          float ${Qa}(int batch, int row, int col) {
            return ${Qa}(${(0,Ya.getSqueezedParams)(il,ul)});
          }
        `;return new za.GlslLibRoutine(ol,ll.dependencies)}const tl=`
          float ${Qa}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${Ja} + col * ${Oo} + row;
            vec2 uv = uvFromFlat(${Ua.width}, ${Ua.height}, index);
            return sampleTexture(${Va}, uv);
          }
      `;return new za.GlslLibRoutine(tl,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=Wa[3],Oo=Wa[2]*Ja,Do=`
        float ${Qa}(int row, int col, int depth, int depth2) {
          int index = row * ${Wa[1]*Oo} + col * ${Oo} +
              depth2 * ${Ja} + depth;
          vec2 uv = uvFromFlat(${Ua.width}, ${Ua.height}, index);
          return sampleTexture(${Va}, uv);
        }
      `;return new za.GlslLibRoutine(Do,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=Wa[4],Oo=Wa[3]*Ja,Do=Wa[2]*Oo,Mo=Wa[1]*Do,{newShape:el,keptDims:tl}=(0,Ha.squeezeShape)(Wa);if(el.length<Wa.length){const il=(0,Ya.squeezeInputShape)(Wa,el),al=["row","col","depth","depth2","depth3"],ll=JSON.parse(JSON.stringify(Ua));ll.unpackedShape=il;const ul=`
          ${this.getUnpackedSamplerFromInput(Qa,Va,ll).routineBody}
          float ${Qa}(int row, int col, int depth, int depth2, int depth3) {
            return ${Qa}(${(0,Ya.getSqueezedParams)(al,tl)});
          }
        `;return new za.GlslLibRoutine(ul,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const rl=`
        float ${Qa}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${Mo} + col * ${Do} + depth * ${Oo} +
          depth3 * ${Ja} + depth2;
          vec2 uv = uvFromFlat(${Ua.width}, ${Ua.height}, index);
          return sampleTexture(${Va}, uv);
        }
      `;return new za.GlslLibRoutine(rl,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(Qa,Va,Ua){const Wa=Ua.unpackedShape,Ja=Wa[5],Oo=Wa[4]*Ja,Do=Wa[3]*Oo,Mo=Wa[2]*Do,el=Wa[1]*Mo,{newShape:tl,keptDims:rl}=(0,Ha.squeezeShape)(Wa);if(tl.length<Wa.length){const al=(0,Ya.squeezeInputShape)(Wa,tl),ll=["row","col","depth","depth2","depth3","depth4"],ul=JSON.parse(JSON.stringify(Ua));ul.unpackedShape=al;const ol=`
            ${this.getUnpackedSamplerFromInput(Qa,Va,ul).routineBody}
            float ${Qa}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${Qa}(${(0,Ya.getSqueezedParams)(ll,rl)});
            }
          `;return new za.GlslLibRoutine(ol,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const il=`
          float ${Qa}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${el} + col * ${Mo} + depth * ${Do} +
            depth2 * ${Oo} + depth3 * ${Ja} + depth4;
            vec2 uv = uvFromFlat(${Ua.width}, ${Ua.height}, index);
            return sampleTexture(${Va}, uv);
          }
        `;return new za.GlslLibRoutine(il,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const Qa=this.context.outputTextureLayout,Va=Qa.shape.length,Ua=Qa.strides,Wa=Qa.width,Ja=Qa.height,Oo=[];for(let Mo=0;Mo<Va-1;++Mo)Oo.push(`
        c[${Mo}] = offset / ${Ua[Mo]};`),Oo.push(`
        offset -= c[${Mo}] * ${Ua[Mo]};`);Oo.push(`
        c[${Va-1}] = offset;`);const Do=`
      void toVec(vec2 texCoords, out int c[${Va}]) {
        int offset = coordsToOffset(texCoords, ${Wa}, ${Ja});
        ${Oo.join("")}
      }
      void toVec(int offset, out int c[${Va}]) {
        ${Oo.join("")}
      }
    `;return{toVec:new za.GlslLibRoutine(Do,["coordinates.coordsToOffset"])}}valueFrom(){const Qa={};return this.context.programInfo.inputNames.forEach(((Va,Ua)=>{const Wa=this.context.inputTextureLayouts[Ua],Ja=(Wa.unpackedShape.length>0?Wa.unpackedShape:Wa.shape).length;let Oo=`_${Va}`;Qa[Oo]=new za.GlslLibRoutine(this.getValueFromSingle(Va,Ja,Wa.width,Wa.height,!1),[`shapeUtils.indicesToOffset${Oo}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),Oo+="_T",Qa[Oo]=new za.GlslLibRoutine(this.getValueFromSingle(Va,Ja,Wa.width,Wa.height,!0),[`shapeUtils.indicesToOffset${Oo}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),Qa}getValueFromSingle(Qa,Va,Ua,Wa,Ja){let Oo=`_${Qa}`;return Ja&&(Oo+="_T"),`
        float ${Oo}(int m[${Va}]) {
          int offset = indicesToOffset${Oo}(m);
          vec2 coords = offsetToCoords(offset, ${Ua}, ${Wa});
          float value = getColorAsFloat(${(0,Ga.getGlsl)(this.context.glContext.version).texture2D}(${Qa}, coords));
          return value;
        }
        `}getPackedValueFrom(Qa,Va,Ua,Wa,Ja){let Oo=`_${Qa}_Pack`;return Ja&&(Oo+="_T"),`
        vec4 ${Oo}(int m[${Va}]) {
          int offset = indicesToOffset_${Qa}(m);
          vec2 coords = offsetToCoords(offset, ${Ua}, ${Wa});
          return ${(0,Ga.getGlsl)(this.context.glContext.version).texture2D}(${Qa}, coords);
        }
        `}}Na.CoordsGlslLib=Xa},8520:(La,Na)=>{var ja;Object.defineProperty(Na,"__esModule",{value:!0}),Na.TopologicalSortGlslRoutines=Na.GlslLibRoutineNode=Na.GlslLibRoutine=Na.GlslLib=Na.GlslContext=Na.FunctionType=void 0,(ja=Na.FunctionType||(Na.FunctionType={}))[ja.ValueBased=0]="ValueBased",ja[ja.Positional=1]="Positional",Na.GlslContext=class{constructor(Ba,za,Ga,Ha){this.glContext=Ba,this.programInfo=za,this.inputTextureLayouts=Ga,this.outputTextureLayout=Ha}},Na.GlslLib=class{constructor(Ba){this.context=Ba}},Na.GlslLibRoutine=class{constructor(Ba,za){this.routineBody=Ba,this.dependencies=za}},Na.GlslLibRoutineNode=class{constructor(Ba,za,Ga){this.name=Ba,this.dependencies=Ga||[],za&&(this.routineBody=za)}addDependency(Ba){Ba&&this.dependencies.push(Ba)}},Na.TopologicalSortGlslRoutines=class{static returnOrderedNodes(Ba){if(!Ba||Ba.length===0)return[];if(Ba.length===1)return Ba;const za=new Set,Ga=new Set,Ha=new Array;return this.createOrderedNodes(Ba,za,Ga,Ha),Ha}static createOrderedNodes(Ba,za,Ga,Ha){for(let Ya=0;Ya<Ba.length;++Ya)this.dfsTraverse(Ba[Ya],za,Ga,Ha)}static dfsTraverse(Ba,za,Ga,Ha){if(!Ba||Ga.has(Ba.name))return;if(za.has(Ba.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");za.add(Ba.name);const Ya=Ba.dependencies;if(Ya&&Ya.length>0)for(let Xa=0;Xa<Ya.length;++Xa)this.dfsTraverse(Ya[Xa],za,Ga,Ha);Ha.push(Ba),Ga.add(Ba.name),za.delete(Ba.name)}}},7341:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.EncodingGlslLib=void 0;const Ba=ja(8520);class za extends Ba.GlslLib{constructor(Ha){super(Ha)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new Ba.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new Ba.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const Ha=za.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new Ba.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${Ha}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const Ha=za.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new Ba.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${Ha}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const Ha=new ArrayBuffer(4),Ya=new Uint32Array(Ha),Xa=new Uint8Array(Ha);if(Ya[0]=3735928559,Xa[0]===239)return!0;if(Xa[0]===222)return!1;throw new Error("unknown endianness")}}Na.EncodingGlslLib=za},9894:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.FragColorGlslLib=void 0;const Ba=ja(8520),za=ja(5060);class Ga extends Ba.GlslLib{constructor(Ya){super(Ya)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const Ya=(0,za.getGlsl)(this.context.glContext.version);return{setFragColor:new Ba.GlslLibRoutine(`
        void setFragColor(float value) {
            ${Ya.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new Ba.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}Na.FragColorGlslLib=Ga},2848:(La,Na)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.replaceInlines=void 0;const ja=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;Na.replaceInlines=function(Ba){const za={};let Ga;for(;(Ga=ja.exec(Ba))!==null;){const Ha=Ga[3].split(",").map((Ya=>{const Xa=Ya.trim().split(" ");return Xa&&Xa.length===2?{type:Xa[0],name:Xa[1]}:null})).filter((Ya=>Ya!==null));za[Ga[2]]={params:Ha,body:Ga[4]}}for(const Ha in za){const Ya="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",Ha),Xa=new RegExp(Ya,"gm");for(;(Ga=Xa.exec(Ba))!==null;){const Ka=Ga[1],Qa=Ga[2],Va=Ga[3].split(","),Ua=Ka?`${Ka} ${Qa};`:"";let Wa=za[Ha].body,Ja="";za[Ha].params.forEach(((Do,Mo)=>{Do&&(Ja+=`${Do.type} ${Do.name} = ${Va[Mo]};
`)})),Wa=`${Ja}
 ${Wa}`,Wa=Wa.replace("return",`${Qa} = `);const Oo=`
      ${Ua}
      {
        ${Wa}
      }
      `;Ba=Ba.replace(Ga[0],Oo)}}return Ba.replace(ja,"")}},8879:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.GlslPreprocessor=void 0;const Ba=ja(8520),za=ja(2848),Ga=ja(5483),Ha=ja(5060);Na.GlslPreprocessor=class{constructor(Ya,Xa,Ka,Qa){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new Ba.GlslContext(Ya,Xa,Ka,Qa),Object.keys(Ga.glslRegistry).forEach((Ua=>{const Wa=new Ga.glslRegistry[Ua](this.context);this.libs[Ua]=Wa}));const Va=this.glslLibRoutineDependencyGraph;for(const Ua in this.libs){const Wa=this.libs[Ua].getFunctions();for(const Ja in Wa){const Oo=Ua+"."+Ja;let Do;Va[Oo]?(Do=Va[Oo],Do.routineBody=Wa[Ja].routineBody):(Do=new Ba.GlslLibRoutineNode(Oo,Wa[Ja].routineBody),Va[Oo]=Do);const Mo=Wa[Ja].dependencies;if(Mo)for(let el=0;el<Mo.length;++el)if(Va[Mo[el]])Do.addDependency(Va[Mo[el]]);else{const tl=new Ba.GlslLibRoutineNode(Mo[el]);Va[Mo[el]]=tl,Do.addDependency(tl)}}}}preprocess(){const Ya=this.context.programInfo;let Xa=Ya.shaderSource;return this.context.programInfo.hasMain||(Xa=`${Xa}
      ${(0,Ha.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),Xa=(0,za.replaceInlines)(Xa),`${(0,Ha.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(Ya.inputNames,Ya.variables)}
    ${this.getImports(Xa)}
    ${Xa}`}getImports(Ya){const Xa=this.selectGlslLibRoutinesToBeIncluded(Ya);if(Xa.length===0)return"";let Ka="";for(let Qa=0;Qa<Xa.length;++Qa){if(!Xa[Qa].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${Xa[Qa].name}`);Ka+=Xa[Qa].routineBody+`
`}return Ka}selectGlslLibRoutinesToBeIncluded(Ya){const Xa=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((Ka=>{const Qa=Ka.split(".")[1];Ya.indexOf(Qa)!==-1&&Xa.push(this.glslLibRoutineDependencyGraph[Ka])})),Ba.TopologicalSortGlslRoutines.returnOrderedNodes(Xa)}getUniforms(Ya,Xa){const Ka=[];if(Ya)for(const Qa of Ya)Ka.push(`uniform sampler2D ${Qa};`);if(Xa)for(const Qa of Xa)Ka.push(`uniform ${Qa.type} ${Qa.name}${Qa.arrayLength?`[${Qa.arrayLength}]`:""};`);return Ka.join(`
`)}}},5483:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.glslRegistry=void 0;const Ba=ja(5107),za=ja(7341),Ga=ja(9894),Ha=ja(2655),Ya=ja(3891);Na.glslRegistry={encoding:za.EncodingGlslLib,fragcolor:Ga.FragColorGlslLib,vec:Ya.VecGlslLib,shapeUtils:Ha.ShapeUtilsGlslLib,coordinates:Ba.CoordsGlslLib}},2655:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.ShapeUtilsGlslLib=void 0;const Ba=ja(8520);class za extends Ba.GlslLib{constructor(Ha){super(Ha)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const Ha=this.context.outputTextureLayout.shape.length,Ya={};return this.context.programInfo.inputNames.forEach(((Xa,Ka)=>{const Qa=this.context.inputTextureLayouts[Ka].unpackedShape;if(Qa.length<=Ha){const Va=Qa.length,Ua=Ha-Va,Wa=`bcastIndices_${Xa}`;let Ja="";for(let Do=0;Do<Va;++Do)Ja+=`
          realIndices[${Do}] = int( mod(float(bcastedIndices[${Ua+Do}]), ${Qa[Do]}.0) );
          `;const Oo=`
        void ${Wa} (int bcastedIndices[${Ha}], out int realIndices[${Va}]) {
          ${Ja}
        }
        `;Ya[Wa]=new Ba.GlslLibRoutine(Oo)}})),Ya}bcastMatmulIndex(){const Ha=this.context.outputTextureLayout.shape.length,Ya={};return this.context.programInfo.inputNames.forEach(((Xa,Ka)=>{const Qa=this.context.inputTextureLayouts[Ka].shape;if(!(Qa.length<2||Qa.length>Ha)){const Va=Qa.length,Ua=Ha-Va,Wa=`bcastMatmulIndices_${Xa}`;let Ja="";for(let Do=0;Do<Va-2;++Do)Ja+=`
          realIndices[${Do}] = int( mod(float(bcastedIndices[${Ua+Do}]), ${Qa[Do]}.0) );
          `;const Oo=`
        void ${Wa}(int bcastedIndices[${Ha}], out int realIndices[${Va}]) {
          ${Ja}
          realIndices[${Va-1}] = bcastedIndices[${Ha-1}];
          realIndices[${Va-2}] = bcastedIndices[${Ha-2}];
        }
        `;Ya[Wa]=new Ba.GlslLibRoutine(Oo)}})),Ya}indicesToOffset(){const Ha={};return this.context.programInfo.inputNames.forEach(((Ya,Xa)=>{const Ka=this.context.inputTextureLayouts[Xa].shape,Qa=this.context.inputTextureLayouts[Xa].strides,Va=Ka.length;let Ua=`indicesToOffset_${Ya}`;Ha[Ua]=new Ba.GlslLibRoutine(za.indexToOffsetSingle(Ua,Va,Qa)),Ua=`indicesToOffset_${Ya}_T`,Ha[Ua]=new Ba.GlslLibRoutine(za.indexToOffsetSingle(Ua,Va,Qa.slice().reverse()))})),Ha}static indexToOffsetSingle(Ha,Ya,Xa){let Ka="";for(let Qa=Ya-1;Qa>=0;--Qa)Ka+=`
        offset += indices[${Qa}] * ${Xa[Qa]};
        `;return`
      int ${Ha}(int indices[${Ya}]) {
        int offset = 0;
        ${Ka}
        return offset;
      }
      `}offsetToIndices(){const Ha={};return this.context.programInfo.inputNames.forEach(((Ya,Xa)=>{const Ka=this.context.inputTextureLayouts[Xa].shape,Qa=this.context.inputTextureLayouts[Xa].strides,Va=Ka.length;let Ua=`offsetToIndices_${Ya}`;Ha[Ua]=new Ba.GlslLibRoutine(za.offsetToIndicesSingle(Ua,Va,Qa)),Ua=`offsetToIndices_${Ya}_T`,Ha[Ua]=new Ba.GlslLibRoutine(za.offsetToIndicesSingle(Ua,Va,Qa.slice().reverse()))})),Ha}static offsetToIndicesSingle(Ha,Ya,Xa){const Ka=[];for(let Qa=0;Qa<Ya-1;++Qa)Ka.push(`
      indices[${Qa}] = offset / ${Xa[Qa]};`),Ka.push(`
        offset -= indices[${Qa}] * ${Xa[Qa]};`);return Ka.push(`
      indices[${Ya-1}] = offset;`),`
      void ${Ha}(int offset, out int indices[${Ya}]) {
        ${Ka.join("")}
      }
      `}incrementIndices(){const Ha={};return this.context.programInfo.inputNames.forEach(((Ya,Xa)=>{const Ka=this.context.inputTextureLayouts[Xa].shape,Qa=Ka.length,Va=`incrementIndices_${Ya}`;let Ua="";for(let Ja=0;Ja<Qa;++Ja)Ua+=`
        shape[${Ja}] = ${Ka[Ja]};`;const Wa=`
        void ${Va}(int axis, out int indices[${Qa}]) {
          int shape[${Qa}];
          ${Ua};
          for(int i = ${Qa} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;Ha[Va]=new Ba.GlslLibRoutine(Wa)})),Ha}}Na.ShapeUtilsGlslLib=za},5060:(La,Na)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.getDefaultFragShaderMain=Na.getFragShaderPreamble=Na.getVertexShaderSource=Na.getGlsl=void 0;const ja={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},Ba={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function za(Ga){return Ga===1?ja:Ba}Na.getGlsl=za,Na.getVertexShaderSource=function(Ga){const Ha=za(Ga);return`${Ha.version}
      precision highp float;
      ${Ha.attribute} vec3 position;
      ${Ha.attribute} vec2 textureCoord;

      ${Ha.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},Na.getFragShaderPreamble=function(Ga){const Ha=za(Ga);return`${Ha.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${Ha.varyingFrag} vec2 TexCoords;
    ${Ha.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},Na.getDefaultFragShaderMain=function(Ga,Ha){return`
  void main() {
    int indices[${Ha}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${za(Ga).output} = result;
  }
  `}},3891:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.VecGlslLib=void 0;const Ba=ja(8520);class za extends Ba.GlslLib{constructor(Ha){super(Ha)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const Ha=this.context.outputTextureLayout.shape.length,Ya={add:"+=",sub:"-=",mul:"*=",div:"/="},Xa={};for(const Ka in Ya){const Qa=`${Ka}Vec`;let Va="";for(let Wa=0;Wa<Ha;++Wa)Va+=`
          dest[${Wa}] ${Ya[Ka]} src[${Wa}];
          `;const Ua=`
        void ${Qa}(int src[${Ha}], out int dest[${Ha}]) {
          ${Va}
        }
        `;Xa[Qa]=new Ba.GlslLibRoutine(Ua)}return Xa}copyVec(){const Ha=this.context.outputTextureLayout.shape.length;let Ya="";for(let Ka=0;Ka<Ha;++Ka)Ya+=`
        dest[${Ka}] = src[${Ka}];
        `;const Xa=`
      void copyVec(int src[${Ha}], out int dest[${Ha}]) {
        ${Ya}
      }
      `;return{copyVec:new Ba.GlslLibRoutine(Xa)}}setVecItem(){const Ha=this.context.outputTextureLayout.shape.length;let Ya=`
        if(index < 0)
            index =${Ha} + index;
        if (index == 0)
            m[0] = value;
        `;for(let Ka=1;Ka<Ha-1;++Ka)Ya+=`
        else if (index == ${Ka})
            m[${Ka}] = value;
            `;Ya+=`
        else
            m[${Ha-1}] = value;
        `;const Xa=`
      void setVecItem(out int m[${Ha}], int index, int value) {
        ${Ya}
      }
        `;return{setVecItem:new Ba.GlslLibRoutine(Xa)}}getVecItem(){const Ha=this.context.outputTextureLayout.shape.length;let Ya=`
        if(index < 0)
            index = ${Ha} + index;
        if (index == 0)
            return m[0];
      `;for(let Ka=1;Ka<Ha-1;++Ka)Ya+=`
        else if (index == ${Ka})
            return m[${Ka}];
      `;Ya+=`
        else
            return m[${Ha-1}];
        `;const Xa=`
      int getVecItem(int m[${Ha}], int index) {
        ${Ya}
      }
    `;return{getVecItem:new Ba.GlslLibRoutine(Xa)}}}Na.VecGlslLib=za},8316:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.WebGLInferenceHandler=void 0;const Ba=ja(6231),za=ja(9162),Ga=ja(2517),Ha=ja(2403),Ya=ja(7019),Xa=ja(8710),Ka=ja(5611),Qa=ja(4057),Va=ja(2039);Na.WebGLInferenceHandler=class{constructor(Ua){this.session=Ua,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(Ua,Wa){return(0,Qa.calculateTextureWidthAndHeight)(this.session.layoutStrategy,Ua,Wa)}executeProgram(Ua,Wa){if(Wa.length<Ua.inputNames.length)throw new Error(`Input size mustn't be less than ${Ua.inputNames.length}.`);if(Ua.inputNames.length!==Ua.inputTypes.length)throw new Error("input names size does not match input types");const Ja=[];for(let rl=0;rl<Ua.inputNames.length;++rl)Ja[rl]=this.getOrCreateTextureData(Wa[rl],Ua.inputTypes[rl]);const Oo=((rl,il)=>{const al=il.map((ul=>`${ul.unpackedShape.join(",")};${ul.width}x${ul.height}`)).join("_");let ll=rl.name;return rl.cacheHint&&(ll+="["+rl.cacheHint+"]"),ll+=":"+al,ll})(Ua,Ja);let Do=this.session.programManager.getArtifact(Oo);const Mo=Do?Do.programInfo:typeof Ua.get=="function"?Ua.get():Ua,el=(0,Qa.createTextureLayoutFromTextureType)(this.session.layoutStrategy,Mo.output.dims,Mo.output.textureType),tl=this.createTextureData(el,Mo.output.type);return Do||(Do=this.session.programManager.build(Mo,Ja,tl),this.session.programManager.setArtifact(Oo,Do)),this.runProgram(Do,Ja,tl),tl}run(Ua,Wa){return this.executeProgram(Ua,Wa).tensor}runProgram(Ua,Wa,Ja){for(let Oo=0;Oo<Wa.length;++Oo)if(!!Wa[Oo].isPacked!=(Ua.programInfo.inputTypes[Oo]===Va.TextureType.packed))throw new Error(`input[${Oo}] property packed inconsistent`);if(!!Ja.isPacked!=(Ua.programInfo.output.textureType===Va.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(Ua,Wa,Ja)}getOrCreateTextureData(Ua,Wa){let Ja=this.getTextureData(Ua.dataId,Wa===Va.TextureType.packed);if(!Ja&&(Ja=this.getTextureData(Ua.dataId,Wa!==Va.TextureType.packed),Ja))return Wa===Va.TextureType.packed?this.pack(Ja):this.unpack(Ja);if(!Ja){const Oo=(0,Qa.createTextureLayoutFromTextureType)(this.session.layoutStrategy,Ua.dims,Wa);if(Wa===Va.TextureType.packedLastDimension){const el=Ua.dims;if(el.length===4){const tl=[el[0],Math.ceil(el[1]*el[2]*el[3]/4)],rl=(0,Qa.createTextureLayoutFromTextureType)(this.session.layoutStrategy,tl,Wa);let il=Ua.numberData;if(el[1]*el[2]*el[3]%4!=0){const al=el[0],ll=el[1]*el[2]*el[3],ul=Math.ceil(ll*1/4)*4;il=new Float32Array(al*ul);for(let ol=0;ol<al;++ol){const cl=ol*ll,gl=ol*ul+ol%1*ll;il.set(Ua.numberData.subarray(cl,cl+ll),gl)}}return this.createTextureData(rl,Ua.type,il,Ua,1)}}if(Wa===Va.TextureType.packed){const Do=(0,Qa.createTextureLayoutFromShape)(this.session.layoutStrategy,Ua.dims,1,[],{reverseWH:!0}),Mo=this.createTextureData(Do,Ua.type,Ua.numberData,Ua,1);Ja=this.pack(Mo)}else Ja=this.createTextureData(Oo,Ua.type,Ua.numberData,Ua,1)}return Ja}createTextureDataFromLayoutBindTensor(Ua,Wa,Ja,Oo){return this.createTextureData(Ua,Wa,Ja,Oo,1)}createTextureData(Ua,Wa,Ja,Oo,Do){Ba.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(Ua)}]`);const Mo=this.session.textureManager.createTextureFromLayout(Wa,Ua,Ja,Do);return this.createTextureDataFromTexture(Ua,Wa,Mo,Oo)}reshapeUnpacked(Ua,Wa){const Ja=this.getOrCreateTextureData(Ua,Va.TextureType.unpacked),Oo={channels:Ja.channels,height:Ja.height,width:Ja.width,shape:Wa.length!==0?Wa:[1],strides:Ga.ShapeUtil.computeStrides(Wa),unpackedShape:Wa};return this.createTextureDataFromTexture(Oo,Ua.type,Ja.texture).tensor}reshapePacked(Ua,Wa){const Ja=this.getOrCreateTextureData(Ua,Va.TextureType.packed);if((0,Ya.isReshapeCheap)(Ua.dims,Wa)){const tl={channels:Ja.channels,height:Ja.height,width:Ja.width,shape:Wa.length!==0?Wa:[1],strides:Ga.ShapeUtil.computeStrides(Wa),unpackedShape:Wa,isPacked:!0};return this.createTextureDataFromTexture(tl,Ua.type,Ja.texture).tensor}const Oo=(0,Ya.processDims3D)(Ua.dims),Do=(0,Ya.processDims3D)(Wa),Mo=this.reshapePacked(Ua,Oo),el=this.run((0,Ya.createPackedReshape3DProgramInfoLoader)(this,Mo,Do),[Mo]);return this.reshapePacked(el,Wa)}cast(Ua,Wa){const Ja=this.getOrCreateTextureData(Ua,Va.TextureType.unpacked);return this.createTextureDataFromTexture(Ja,Wa,Ja.texture).tensor}createTextureDataFromTexture(Ua,Wa,Ja,Oo,Do){const Mo=Object.assign(Object.assign({},Ua),{tensor:Oo||new za.Tensor(Ua.unpackedShape,Wa,(el=>this.readTexture(Mo)),(async el=>this.readTextureAsync(Mo)),void 0,Do),texture:Ja});return this.setTextureData(Mo.tensor.dataId,Mo,Ua.isPacked),Mo}getTextureData(Ua,Wa=!1){return this.session.isInitializer(Ua)?this.session.getTextureData(Ua,Wa):Wa?this.packedTextureDataCache.get(Ua):this.unpackedTextureDataCache.get(Ua)}setTextureData(Ua,Wa,Ja=!1){this.session.isInitializer(Ua)?this.session.setTextureData(Ua,Wa,Ja):(Ja?this.packedTextureDataCache:this.unpackedTextureDataCache).set(Ua,Wa)}isTextureLayoutCached(Ua,Wa=!1){return!!this.getTextureData(Ua.dataId,Wa)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((Ua=>this.session.textureManager.releaseTexture(Ua))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((Ua=>this.session.textureManager.releaseTexture(Ua))),this.unpackedTextureDataCache=new Map}readTexture(Ua){return Ua.isPacked?this.readTexture(this.unpack(Ua)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(Ua,Ua.tensor.type,Ua.channels):this.session.textureManager.readUint8TextureAsFloat((0,Xa.encodeAsUint8)(this,Ua))}async readTextureAsync(Ua){return Ua.isPacked?this.readTextureAsync(this.unpack(Ua)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(Ua,Ua.tensor.type,Ua.channels):this.session.textureManager.readUint8TextureAsFloat((0,Xa.encodeAsUint8)(this,Ua))}pack(Ua){return this.executeProgram((0,Ha.createPackProgramInfoLoader)(this,Ua.tensor),[Ua.tensor])}unpack(Ua){return this.executeProgram((0,Ka.createUnpackProgramInfoLoader)(this,Ua.tensor),[Ua.tensor])}}},1640:function(La,Na,ja){var Ba=this&&this.__createBinding||(Object.create?function(Nl,dl,Rl,Tl){Tl===void 0&&(Tl=Rl);var pl=Object.getOwnPropertyDescriptor(dl,Rl);pl&&!("get"in pl?!dl.__esModule:pl.writable||pl.configurable)||(pl={enumerable:!0,get:function(){return dl[Rl]}}),Object.defineProperty(Nl,Tl,pl)}:function(Nl,dl,Rl,Tl){Tl===void 0&&(Tl=Rl),Nl[Tl]=dl[Rl]}),za=this&&this.__setModuleDefault||(Object.create?function(Nl,dl){Object.defineProperty(Nl,"default",{enumerable:!0,value:dl})}:function(Nl,dl){Nl.default=dl}),Ga=this&&this.__importStar||function(Nl){if(Nl&&Nl.__esModule)return Nl;var dl={};if(Nl!=null)for(var Rl in Nl)Rl!=="default"&&Object.prototype.hasOwnProperty.call(Nl,Rl)&&Ba(dl,Nl,Rl);return za(dl,Nl),dl};Object.defineProperty(Na,"__esModule",{value:!0}),Na.WEBGL_OP_RESOLVE_RULES=void 0;const Ha=ja(2898),Ya=Ga(ja(7839)),Xa=ja(4196),Ka=ja(2069),Qa=ja(8138),Va=ja(9663),Ua=ja(5193),Wa=ja(7992),Ja=ja(1253),Oo=ja(4776),Do=ja(6572),Mo=ja(3346),el=ja(5623),tl=ja(2870),rl=ja(2143),il=ja(4939),al=ja(718),ll=ja(2268),ul=ja(8117),ol=ja(2278),cl=ja(5524),gl=ja(5975),bl=ja(3933),_l=ja(6558),xl=ja(5723),Al=ja(3738),ml=Ga(ja(4909)),Sl=ja(8428),Cl=ja(9793);Na.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",ml.abs],["Acos","","7+",ml.acos],["Add","","7+",Ya.add],["And","","7+",Ya.and],["Asin","","7+",ml.asin],["Atan","","7+",ml.atan],["AveragePool","","7+",rl.averagePool,rl.parseAveragePoolAttributes],["BatchNormalization","","7+",Ha.batchNormalization,Ha.parseBatchNormalizationAttributes],["Cast","","6+",Xa.cast,Xa.parseCastAttributes],["Ceil","","6+",ml.ceil],["Clip","","6-10",ml.clip,ml.parseClipAttributes],["Clip","","11+",ml.clipV11],["Concat","","4+",Ka.concat,Ka.parseConcatAttributes],["Conv","","1+",Qa.conv,Qa.parseConvAttributes],["ConvTranspose","","1+",Va.convTranspose,Va.parseConvTransposeAttributes],["Cos","","7+",ml.cos],["Div","","7+",Ya.div],["Dropout","","7+",ml.identity],["DepthToSpace","","1+",Ua.depthToSpace,Ua.parseDepthToSpaceAttributes],["Equal","","7+",Ya.equal],["Elu","","6+",ml.elu,ml.parseEluAttributes],["Exp","","6+",ml.exp],["Flatten","","1+",Wa.flatten,Wa.parseFlattenAttributes],["Floor","","6+",ml.floor],["FusedConv","com.microsoft","1+",Qa.conv,Qa.parseConvAttributes],["Gather","","1+",Ja.gather,Ja.parseGatherAttributes],["Gemm","","7-10",Oo.gemm,Oo.parseGemmAttributesV7],["Gemm","","11+",Oo.gemm,Oo.parseGemmAttributesV11],["GlobalAveragePool","","1+",rl.globalAveragePool,rl.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",rl.globalMaxPool],["Greater","","7+",Ya.greater],["Identity","","1+",ml.identity],["ImageScaler","","1+",Do.imageScaler,Do.parseImageScalerAttributes],["InstanceNormalization","","6+",Mo.instanceNormalization,Mo.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",ml.leakyRelu,ml.parseLeakyReluAttributes],["Less","","7+",Ya.less],["Log","","6+",ml.log],["MatMul","","1+",el.matMul,el.parseMatMulAttributes],["MaxPool","","1+",rl.maxPool,rl.parseMaxPoolAttributes],["Mul","","7+",Ya.mul],["Neg","","6+",ml.neg],["Not","","1+",ml.not],["Or","","7+",Ya.or],["Pad","","2-10",tl.padV2,tl.parsePadAttributesV2],["Pad","","11+",tl.padV11,tl.parsePadAttributesV11],["Pow","","7+",Ya.pow],["PRelu","","7+",Ya.pRelu],["ReduceLogSum","","1+",il.reduceLogSum,il.parseReduceAttributes],["ReduceMax","","1+",il.reduceMax,il.parseReduceAttributes],["ReduceMean","","1+",il.reduceMean,il.parseReduceAttributes],["ReduceMin","","1+",il.reduceMin,il.parseReduceAttributes],["ReduceProd","","1+",il.reduceProd,il.parseReduceAttributes],["ReduceSum","","1-12",il.reduceSum,il.parseReduceAttributes],["ReduceSumSquare","","1+",il.reduceLogSumSquare,il.parseReduceAttributes],["Relu","","6+",ml.relu],["Reshape","","5+",al.reshape],["Resize","","10",ll.resize,ll.parseResizeAttributesV10],["Resize","","11+",ll.resize,ll.parseResizeAttributesV11],["Shape","","1+",ul.shape],["Sigmoid","","6+",ml.sigmoid],["Sin","","7+",ml.sin],["Slice","","10+",ol.sliceV10],["Slice","","1-9",ol.slice,ol.parseSliceAttributes],["Softmax","","1-12",cl.softmax,cl.parseSoftmaxAttributes],["Softmax","","13+",cl.softmaxV13,cl.parseSoftmaxAttributesV13],["Split","","2-12",gl.split,gl.parseSplitAttributes],["Sqrt","","6+",ml.sqrt],["Squeeze","","1-12",bl.squeeze,bl.parseSqueezeAttributes],["Squeeze","","13+",bl.squeezeV13],["Sub","","7+",Ya.sub],["Sum","","6+",_l.sum],["Tan","","7+",ml.tan],["Tanh","","6+",ml.tanh],["Tile","","6+",xl.tile],["Transpose","","1+",Al.transpose,Al.parseTransposeAttributes],["Upsample","","7-8",Cl.upsample,Cl.parseUpsampleAttributesV7],["Upsample","","9",Cl.upsample,Cl.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Sl.unsqueeze,Sl.parseUnsqueezeAttributes],["Unsqueeze","","13+",Sl.unsqueezeV13],["Xor","","7+",Ya.xor]]},2898:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseBatchNormalizationAttributes=Na.batchNormalization=void 0;const Ba=ja(246),za=ja(5060),Ga=ja(2039),Ha={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[Ga.TextureType.unpacked,Ga.TextureType.unpacked,Ga.TextureType.unpacked,Ga.TextureType.unpacked,Ga.TextureType.unpacked]};Na.batchNormalization=(Ka,Qa,Va)=>(Xa(Qa),[Ka.run(Object.assign(Object.assign({},Ha),{cacheHint:Va.cacheKey,get:()=>Ya(Ka,Qa,Va)}),Qa)]),Na.parseBatchNormalizationAttributes=Ka=>{const Qa=Ka.attributes.getFloat("epsilon",1e-5),Va=Ka.attributes.getFloat("momentum",.9),Ua=Ka.attributes.getInt("spatial",1);return(0,Ba.createAttributeWithCacheKey)({epsilon:Qa,momentum:Va,spatial:Ua})};const Ya=(Ka,Qa,Va)=>{const Ua=(0,za.getGlsl)(Ka.session.backend.glContext.version),Wa=Qa[0].dims.length,[Ja,Oo]=Ka.calculateTextureWidthAndHeight(Qa[1].dims,Ga.TextureType.unpacked),Do=`
  float process(int[${Wa}] indices) {
    vec2 position = offsetToCoords(indices[1], ${Ja}, ${Oo});
    float scale = getColorAsFloat(${Ua.texture2D}(Scale, position));
    float mean = getColorAsFloat(${Ua.texture2D}(Mean, position));
    float variance = getColorAsFloat(${Ua.texture2D}(Variance, position));
    float b = getColorAsFloat(${Ua.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${Va.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},Ha),{output:{dims:Qa[0].dims,type:Qa[0].type,textureType:Ga.TextureType.unpacked},shaderSource:Do})},Xa=Ka=>{if(!Ka||Ka.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const Qa=Ka[0],Va=Ka[1],Ua=Ka[2],Wa=Ka[3],Ja=Ka[4];if(Qa.dims.length<3||Va.dims.length!==1||Ua.dims.length!==1||Wa.dims.length!==1||Ja.dims.length!==1)throw new Error("invalid input shape.");if(Va.dims[0]!==Qa.dims[1]||Ua.dims[0]!==Qa.dims[1]||Wa.dims[0]!==Qa.dims[1]||Ja.dims[0]!==Qa.dims[1])throw new Error("invalid input shape.");if(Qa.type!=="float32"&&Qa.type!=="float64"||Va.type!=="float32"&&Va.type!=="float64"||Ua.type!=="float32"&&Ua.type!=="float64"||Wa.type!=="float32"&&Wa.type!=="float64"||Ja.type!=="float32"&&Ja.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.xor=Na.sub=Na.pRelu=Na.pow=Na.or=Na.mul=Na.less=Na.greater=Na.equal=Na.div=Na.and=Na.add=Na.glslPRelu=Na.glslPow=Na.glslXor=Na.glslOr=Na.glslAnd=Na.glslLess=Na.glslGreater=Na.glslEqual=Na.glslSub=Na.glslMul=Na.glslDiv=Na.glslAdd=void 0;const Ba=ja(2517),za=ja(8520),Ga=ja(5060),Ha=ja(2039);function Ya(){const il="add_";return{body:`
  float ${il}(float a, float b) {
    return a + b;
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Xa(){const il="div_";return{body:`
  float ${il}(float a, float b) {
    return a / b;
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Ka(){const il="mul_";return{body:`
  float ${il}(float a, float b) {
    return a * b;
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Qa(){const il="sub_";return{body:`
  float ${il}(float a, float b) {
    return a - b;
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Va(){const il="equal_";return{body:`
  float ${il}(float a, float b) {
    return float(a == b);
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Ua(){const il="greater_";return{body:`
  float ${il}(float a, float b) {
    return float(a > b);
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Wa(){const il="less_";return{body:`
  float ${il}(float a, float b) {
    return float(a < b);
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Ja(){const il="and_";return{body:`
  float ${il}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Oo(){return{body:`
  float or_(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 or_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:"or_",type:za.FunctionType.ValueBased}}function Do(){const il="xor_";return{body:`
  float ${il}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:il,type:za.FunctionType.ValueBased}}function Mo(){return(function(il){const al=`${il}_`;return{body:`
  float ${al}(float a, float b) {
    return ${il}(a, b);
  }
  vec4 ${al}(vec4 v1, vec4 v2) {
    return ${il}(v1, v2);
  }
  `,name:al,type:za.FunctionType.ValueBased}})("pow")}function el(){const il="prelu_";return{body:`
  float ${il}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${il}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:il,type:za.FunctionType.ValueBased}}Na.glslAdd=Ya,Na.glslDiv=Xa,Na.glslMul=Ka,Na.glslSub=Qa,Na.glslEqual=Va,Na.glslGreater=Ua,Na.glslLess=Wa,Na.glslAnd=Ja,Na.glslOr=Oo,Na.glslXor=Do,Na.glslPow=Mo,Na.glslPRelu=el;const tl=(il,al,ll,ul=al[0].type,ol)=>{const cl=il.session.pack?Ha.TextureType.packed:Ha.TextureType.unpacked;return{name:ll.name,inputNames:["A","B"],inputTypes:[cl,cl],cacheHint:ol,get:()=>rl(il,al,ll,ul)}},rl=(il,al,ll,ul=al[0].type)=>{const ol=il.session.pack?Ha.TextureType.packed:Ha.TextureType.unpacked,cl=!Ba.ShapeUtil.areEqual(al[0].dims,al[1].dims);let gl=al[0].dims;const bl=il.session.pack;if(cl){const Al=Ba.BroadcastUtil.calcShape(al[0].dims,al[1].dims,!1);if(!Al)throw new Error("Can't perform binary op on the given tensors");gl=Al;const ml=gl.length,Sl=al[0].dims.length!==0?al[0].dims.length:1,Cl=al[1].dims.length!==0?al[1].dims.length:1,Nl=al[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",dl=al[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Rl=(0,Ga.getGlsl)(il.session.backend.glContext.version),Tl=bl?`
      ${ll.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${ll.name}(a, b);
        ${Rl.output} = result;
      }`:`
      ${ll.body}
      float process(int indices[${ml}]) {
        int aindices[${Sl}];
        int bindices[${Cl}];
        ${Nl}
        ${dl}
        return ${ll.name}(_A(aindices), _B(bindices));
      }`;return{name:ll.name,inputNames:["A","B"],inputTypes:[ol,ol],output:{dims:gl,type:ul,textureType:ol},shaderSource:Tl,hasMain:bl}}const _l=(0,Ga.getGlsl)(il.session.backend.glContext.version),xl=`
    ${ll.body}
    void main() {
      vec4 v1 = ${_l.texture2D}(A, TexCoords);
      vec4 v2 = ${_l.texture2D}(B, TexCoords);
      vec4 result = ${ll.name}(v1, v2);
      ${_l.output} = result;
    }
    `;return{name:ll.name,inputNames:["A","B"],inputTypes:[ol,ol],output:{dims:al[0].dims,type:ul,textureType:ol},shaderSource:xl,hasMain:!0}};Na.add=(il,al)=>[il.run(tl(il,al,Ya()),al)],Na.and=(il,al)=>[il.run(tl(il,al,Ja(),"bool"),al)],Na.div=(il,al)=>[il.run(tl(il,al,Xa()),al)],Na.equal=(il,al)=>[il.run(tl(il,al,Va(),"bool"),al)],Na.greater=(il,al)=>[il.run(tl(il,al,Ua(),"bool"),al)],Na.less=(il,al)=>[il.run(tl(il,al,Wa(),"bool"),al)],Na.mul=(il,al)=>[il.run(tl(il,al,Ka()),al)],Na.or=(il,al)=>[il.run(tl(il,al,Oo(),"bool"),al)],Na.pow=(il,al)=>[il.run(tl(il,al,Mo()),al)],Na.pRelu=(il,al)=>[il.run(tl(il,al,el()),al)],Na.sub=(il,al)=>[il.run(tl(il,al,Qa()),al)],Na.xor=(il,al)=>[il.run(tl(il,al,Do(),"bool"),al)]},4196:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseCastAttributes=Na.cast=void 0;const Ba=ja(2517);Na.cast=(Ga,Ha,Ya)=>(za(Ha),[Ga.cast(Ha[0],Ya)]),Na.parseCastAttributes=Ga=>Ba.ProtoUtil.tensorDataTypeFromProto(Ga.attributes.getInt("to"));const za=Ga=>{if(!Ga||Ga.length!==1)throw new Error("Cast requires 1 input.");if(Ga[0].type==="string")throw new Error("Invalid input type.")}},1163:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createPackedConcatProgramInfoLoader=void 0;const Ba=ja(5060),za=ja(2039),Ga=ja(9390),Ha=ja(2827);Na.createPackedConcatProgramInfoLoader=(Xa,Ka,Qa)=>{const Va=(Ua=Ka.length,Wa=Qa.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:Ua},((Ja,Oo)=>`X${Oo}`)),inputTypes:Array(Ua).fill(za.TextureType.packed),cacheHint:Wa});var Ua,Wa;return Object.assign(Object.assign({},Va),{get:()=>((Ja,Oo,Do,Mo)=>{const el=Do[0].dims.slice();if(Mo>=el.length||Mo<-1*el.length)throw new Error("axis specified for concat doesn't match input dimensionality");Mo<0&&(Mo=el.length+Mo);const tl=el.slice(0);for(let Nl=1;Nl<Do.length;Nl++){const dl=Do[Nl].dims.slice();for(let Rl=0;Rl<el.length;Rl++)if(Rl===Mo)tl[Mo]+=dl[Rl];else if(el[Rl]!==dl[Rl])throw new Error("non concat dimensions must match")}const rl=tl.length,il=(0,Ha.getChannels)("coords",rl),al=(0,Ga.getCoordsDataType)(rl),ll=(0,Ha.unpackFromChannel)(),ul=Do.map((Nl=>Nl.dims)),ol=(0,Ga.getGlChannels)(rl),cl=new Array(ul.length-1);cl[0]=ul[0][Mo];for(let Nl=1;Nl<cl.length;Nl++)cl[Nl]=cl[Nl-1]+ul[Nl][Mo];const gl=ol[Mo],bl=ol.slice(-2),_l=ol.join();let xl=`if (${gl} < ${cl[0]}) {
        return getChannel(
            getX0(${_l}), vec2(${bl.join()}));
        }`;for(let Nl=1;Nl<cl.length;Nl++){const dl=cl[Nl-1];xl+=`
            if (${gl} < ${cl[Nl]}  && ${gl} >= ${cl[Nl-1]}) {
              return getChannel(
                getX${Nl}(${Ya(ol,gl,dl)}),
                vec2(${Ya(bl,gl,dl)}));
            }`}const Al=cl.length,ml=cl[cl.length-1];xl+=`
            return getChannel(
              getX${Al}(${Ya(ol,gl,ml)}),
              vec2(${Ya(bl,gl,ml)}));`;const Sl=(0,Ba.getGlsl)(Ja.session.backend.glContext.version),Cl=`
          ${ll}
          float getValue(${ol.map((Nl=>"int "+Nl))}) {
            ${xl}
          }

          void main() {
            ${al} coords = getOutputCoords();
            int lastDim = coords.${ol[rl-1]};
            coords.${ol[rl-1]} = coords.${ol[rl-2]};
            coords.${ol[rl-2]} = lastDim;

            vec4 result = vec4(getValue(${il}), 0., 0., 0.);

            ${il[rl-1]} = ${il[rl-1]} + 1;
            if (${il[rl-1]} < ${tl[rl-1]}) {
              result.g = getValue(${il});
            }

            ${il[rl-2]} = ${il[rl-2]} + 1;
            if (${il[rl-2]} < ${tl[rl-2]}) {
              result.a = getValue(${il});
            }

            ${il[rl-1]} = ${il[rl-1]} - 1;
            if (${il[rl-2]} < ${tl[rl-2]} &&
                ${il[rl-1]} < ${tl[rl-1]}) {
              result.b = getValue(${il});
            }
            ${Sl.output} = result;
          }
        `;return Object.assign(Object.assign({},Oo),{output:{dims:tl,type:Do[0].type,textureType:za.TextureType.packed},shaderSource:Cl,hasMain:!0})})(Xa,Va,Ka,Qa.axis)})};const Ya=(Xa,Ka,Qa)=>{const Va=Xa.indexOf(Ka);return Xa.map(((Ua,Wa)=>Wa===Va?`${Ua} - ${Qa}`:Ua)).join()}},2069:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseConcatAttributes=Na.concat=void 0;const Ba=ja(246),za=ja(2039),Ga=ja(1163);Na.concat=(Ua,Wa,Ja)=>(Va(Wa),Ua.session.pack&&Wa[0].dims.length>1?[Ua.run((0,Ga.createPackedConcatProgramInfoLoader)(Ua,Wa,Ja),Wa)]:[Ua.run(Ha(Ua,Wa,Ja),Wa)]);const Ha=(Ua,Wa,Ja)=>{const Oo=(Do=Wa.length,Mo=Ja.cacheKey,{name:"Concat",inputNames:Array.from({length:Do},((el,tl)=>`X${tl}`)),inputTypes:Array(Do).fill(za.TextureType.unpacked),cacheHint:Mo});var Do,Mo;return Object.assign(Object.assign({},Oo),{get:()=>((el,tl,rl,il)=>{const al=rl[0].dims.slice();if(il>=al.length||il<-1*al.length)throw new Error("axis specified for concat doesn't match input dimensionality");il<0&&(il=al.length+il);const ll=al.slice(0);for(let _l=1;_l<rl.length;_l++){const xl=rl[_l].dims.slice();for(let Al=0;Al<al.length;Al++)if(Al===il)ll[il]+=xl[Al];else if(al[Al]!==xl[Al])throw new Error("non concat dimensions must match")}const ul=ll.length,ol=new Array(rl.length);let cl=0;for(let _l=0;_l<ol.length;++_l)cl+=rl[_l].dims[il],ol[_l]=cl;let gl="";gl=rl.length<5?Ya(ol):Xa(ol);const bl=`
        ${Ka(rl.length,ul)}
        ${Qa(ol)}
        ${gl}
        float process(int indices[${ul}]) {
          int textureIndex = getTextureWhereDataResides (indices[${il}]);

          if(textureIndex != 0) {
            indices[${il}] = indices[${il}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},tl),{output:{dims:ll,type:rl[0].type,textureType:za.TextureType.unpacked},shaderSource:bl})})(0,Oo,Wa,Ja.axis)})},Ya=Ua=>`int getTextureWhereDataResides(int index) {
      ${Ua.map(((Wa,Ja)=>`if(index<${Wa}) {return ${Ja};}
`)).join("")}
    }`,Xa=Ua=>Ya(Ua),Ka=(Ua,Wa)=>{const Ja=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${Wa}]) {`];for(let Oo=0;Oo<Ua;++Oo)Oo===0?Ja.push(`	if (textureIndex == ${Oo}) { return _X${Oo}(indices); }`):Oo===Ua-1?Ja.push(`	else { return _X${Oo}(indices); }`):Ja.push(`	else if (textureIndex == ${Oo}) { return _X${Oo}(indices); }`);return Ja.push("	}"),Ja.join(`
`)},Qa=Ua=>{const Wa=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let Ja=0;Ja<Ua.length;++Ja)Ja===0?Wa.push(`	if (index == ${Ja}) { return ${Ua[Ja]}; }`):Ja===Ua.length-1?Wa.push(`	else { return ${Ua[Ja]}; }`):Wa.push(`	else if (index == ${Ja}) { return ${Ua[Ja]}; }`);return Wa.push("	}"),Wa.join(`
`)};Na.parseConcatAttributes=Ua=>(0,Ba.createAttributeWithCacheKey)({axis:Ua.attributes.getInt("axis")});const Va=Ua=>{if(!Ua||Ua.length<1)throw new Error("too few inputs");const Wa=Ua[0].type,Ja=Ua[0].dims.length;if(Wa==="string")throw new Error("string tensor is not supported yet");for(const Oo of Ua){if(Oo.type!==Wa)throw new Error("input tensors should be one type");if(Oo.dims.length!==Ja)throw new Error("input tensors should have the same shape")}}},4770:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createUnpackedGroupedConvProgramInfoLoader=void 0;const Ba=ja(6231),za=ja(5060),Ga=ja(2039),Ha=ja(8138),Ya=ja(2823);Na.createUnpackedGroupedConvProgramInfoLoader=(Xa,Ka,Qa)=>{const Va=(Ua=Ka.length>2,Wa=Qa.cacheKey,{name:"GroupedConv",inputNames:Ua?["X","W","Bias"]:["X","W"],inputTypes:Ua?[Ga.TextureType.unpacked,Ga.TextureType.unpacked,Ga.TextureType.unpacked]:[Ga.TextureType.unpacked,Ga.TextureType.unpacked],cacheHint:Wa});var Ua,Wa;return Object.assign(Object.assign({},Va),{get:()=>((Ja,Oo,Do,Mo)=>{const el=Oo.length>2?"value += getBias(output_channel);":"",tl=Oo[0].dims.slice(),rl=Oo[1].dims.slice(),il=rl[0]/Mo.group;Ba.Logger.verbose("GroupedConv",`autpPad:${Mo.autoPad}, dilations:${Mo.dilations}, group:${Mo.group}, kernelShape:${Mo.kernelShape}, pads:${Mo.pads}, strides:${Mo.strides}`);const al=(0,Ha.calculateOutputShape)(tl,rl,Mo.dilations,Mo.pads,Mo.strides),ll=(0,za.getGlsl)(Ja.session.backend.glContext.version),{activationFunction:ul,applyActivation:ol}=(0,Ya.getActivationSnippet)(Mo),cl=`
  const ivec2 strides = ivec2(${Mo.strides[0]}, ${Mo.strides[1]});
  const ivec2 pads = ivec2(${Mo.pads[0]}, ${Mo.pads[1]});
  ${ul}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${il};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${rl[1]}; wInChannel++) {
      int input_channel = group_id * ${rl[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${rl[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${Mo.dilations[0]};

        if (xHeight < 0 || xHeight >= ${tl[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${rl[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${Mo.dilations[1]};
          if (xWidth < 0 || xWidth >= ${tl[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${el}
    ${ol}
    ${ll.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},Do),{output:{dims:al,type:Oo[0].type,textureType:Ga.TextureType.unpacked},shaderSource:cl,hasMain:!0})})(Xa,Ka,Va,Qa)})}},1386:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.conv2DPacked=Na.conv2DPackedPointwise=void 0;const Ba=ja(8138),za=ja(8555),Ga=ja(708);Na.conv2DPackedPointwise=(Ha,Ya,Xa)=>{const Ka=Ya[0].dims,Qa=Ya[1].dims,Va=(0,Ba.calculateOutputShape)(Ka,Qa,Xa.dilations,Xa.pads,Xa.strides),Ua=Ha.reshapePacked(Ya[0],[Ka[1],Ka[2]*Ka[3]]),Wa=Ha.reshapePacked(Ya[1],[Qa[0],Qa[1]]),Ja=Ya.length>2?[Wa,Ua,Ya[2]]:[Wa,Ua],Oo=Ha.run((0,Ga.createPackedMatmulProgramInfoLoader)(Ha,Ja,Xa),Ja);return Ha.reshapePacked(Oo,Va)},Na.conv2DPacked=(Ha,Ya,Xa)=>{const Ka=Ya[0].dims,Qa=Ya[1].dims,Va=(0,Ba.calculateOutputShape)(Ka,Qa,Xa.dilations,Xa.pads,Xa.strides),Ua=Ha.run((0,za.createPackedIm2ColProgramInfoLoader)(Ha,Ya[0],Ya[1],Va,Xa),[Ya[0]]),Wa=Ha.reshapePacked(Ya[1],[Qa[0],Qa[1]*Qa[2]*Qa[3]]),Ja=Ya.length===3?[Wa,Ua,Ya[2]]:[Wa,Ua],Oo=Ha.run((0,Ga.createPackedMatmulProgramInfoLoader)(Ha,Ja,Xa),Ja);return Ha.reshapePacked(Oo,Va)}},9663:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseConvTransposeAttributes=Na.convTranspose=void 0;const Ba=ja(246),za=ja(5060),Ga=ja(2039),Ha=ja(2823),Ya=(Wa,Ja,Oo,Do,Mo,el)=>(Wa-1)*Ja+Oo+(Do-1)*Mo+1-el,Xa=(Wa,Ja,Oo,Do,Mo)=>{const el=Math.floor(Wa/2);Ja==="SAME_UPPER"?(Oo[Do]=el,Oo[Mo]=Wa-el):Ja==="SAME_LOWER"&&(Oo[Do]=Wa-el,Oo[Mo]=el)};Na.convTranspose=(Wa,Ja,Oo)=>(Ua(Ja,Oo),Ka(Wa,Ja,Oo));const Ka=(Wa,Ja,Oo)=>{const Do=Va(Oo,Ja);return[Qa(Wa,Ja,Do)]},Qa=(Wa,Ja,Oo)=>Wa.run(((Do,Mo,el)=>{const tl=(rl=Mo.length>2,il=el.cacheKey,{name:"ConvTranspose",inputNames:rl?["X","W","B"]:["X","W"],inputTypes:rl?[Ga.TextureType.unpacked,Ga.TextureType.unpacked,Ga.TextureType.unpacked]:[Ga.TextureType.unpacked,Ga.TextureType.unpacked],cacheHint:il});var rl,il;return Object.assign(Object.assign({},tl),{get:()=>((al,ll,ul,ol)=>{const cl=ll.length>2?"getB(output_channel)":"0.0",gl=ll[0].dims,bl=ll[1].dims,_l=bl[1],xl=bl[0]/ol.group,Al=[ll[0].dims[0],ll[1].dims[1]*ol.group,...ol.outputShape],ml=(0,za.getGlsl)(al.session.backend.glContext.version),{activationFunction:Sl,applyActivation:Cl}=(0,Ha.getActivationSnippet)(ol),Nl=`
  const ivec2 strides = ivec2(${ol.strides[0]}, ${ol.strides[1]});
  const ivec2 pads = ivec2(${ol.pads[0]}, ${ol.pads[1]});
  ${Sl}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${_l};
    int wOutChannel = output_channel - group_id * ${_l};

    float value = ${cl};
    for (int inChannelOffset = 0; inChannelOffset < ${xl}; inChannelOffset++) {
      int input_channel = group_id * ${xl} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${bl[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${bl[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${ol.dilations[0]}, wHOff * ${ol.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${gl[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${gl[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Cl}
    ${ml.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},ul),{output:{dims:Al,type:ll[0].type,textureType:Ga.TextureType.unpacked},shaderSource:Nl,hasMain:!0})})(Do,Mo,tl,el)})})(Wa,Ja,Oo),Ja),Va=(Wa,Ja)=>{const Oo=Wa.kernelShape.slice();if(Wa.kernelShape.length===0)for(let tl=2;tl<Ja[1].dims.length;++tl)Oo.push(Ja[1].dims[tl]);const Do=Wa.pads.slice(),Mo=Wa.outputShape.slice();((tl,rl,il,al,ll,ul,ol,cl)=>{const gl=tl.length-2,bl=cl.length===0;for(let _l=0;_l<gl;++_l){const xl=bl?tl[_l+2]*ul[_l]:cl[_l],Al=Ya(tl[_l+2],ul[_l],ll[_l],rl[_l],il[_l],xl);Xa(Al,al,ll,_l,_l+gl),bl&&cl.push(ul[_l]*(tl[_l+2]-1)+ol[_l]+(rl[_l]-1)*il[_l]+1-ll[_l]-ll[_l+gl])}})(Ja[0].dims,Oo,Wa.dilations,Wa.autoPad,Do,Wa.strides,Wa.outputPadding,Mo);const el=Object.assign({},Wa);return Object.assign(el,{kernelShape:Oo,pads:Do,outputShape:Mo,cacheKey:Wa.cacheKey}),el};Na.parseConvTransposeAttributes=Wa=>{const Ja=Wa.attributes,Oo=(0,Ha.parseInternalActivationAttributes)(Ja),Do=Ja.getString("auto_pad","NOTSET"),Mo=Ja.getInts("dilations",[1,1]),el=Ja.getInt("group",1),tl=Ja.getInts("kernel_shape",[]),rl=Ja.getInts("output_padding",[0,0]),il=Ja.getInts("output_shape",[]),al=Ja.getInts("pads",[0,0,0,0]),ll=Ja.getInts("strides",[1,1]);return(0,Ba.createAttributeWithCacheKey)(Object.assign({autoPad:Do,dilations:Mo,group:el,kernelShape:tl,outputPadding:rl,outputShape:il,pads:al,strides:ll},Oo))};const Ua=(Wa,Ja)=>{if(!Wa||Wa.length!==2&&Wa.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(Wa[0].dims.length!==4||Wa[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(Wa[0].dims[1]!==Wa[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const Oo=Wa[1].dims[1]*Ja.group;if(Wa.length===3&&(Wa[2].dims.length!==1||Wa[2].dims[0]!==Oo))throw new Error("invalid bias");const Do=Wa[0].dims.length-2;if(Ja.dilations.length!==Do)throw new Error(`dilations should be ${Do}D`);if(Ja.strides.length!==Do)throw new Error(`strides should be ${Do}D`);if(Ja.pads.length!==2*Do)throw new Error(`pads should be ${2*Do}D`);if(Ja.outputPadding.length!==Do)throw new Error(`output_padding should be ${Do}D`);if(Ja.kernelShape.length!==0&&Ja.kernelShape.length!==Wa[1].dims.length-2)throw new Error("invalid kernel shape");if(Ja.outputShape.length!==0&&Ja.outputShape.length!==Wa[0].dims.length-2)throw new Error("invalid output shape");if(Wa[0].type!=="float32"||Wa[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(Wa.length===3&&Wa[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseConvAttributes=Na.conv=Na.calculateOutputShape=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(4770),Ha=ja(1386),Ya=ja(9828),Xa=ja(2823),Ka=ja(3248),Qa=ja(5623);Na.calculateOutputShape=(Do,Mo,el,tl,rl)=>{const il=Do[0],al=Do.slice(2),ll=al.length,ul=Mo[0],ol=Mo.slice(2).map(((gl,bl)=>gl+(gl-1)*(el[bl]-1))),cl=al.map(((gl,bl)=>gl+tl[bl]+tl[bl+ll])).map(((gl,bl)=>Math.floor((gl-ol[bl]+rl[bl])/rl[bl])));return[il,ul].concat(...cl)},Na.conv=(Do,Mo,el)=>(Oo(Mo,el),Va(Do,Mo,el));const Va=(Do,Mo,el)=>{const tl=Ja(el,Mo),rl=Do.session.pack,il=tl.kernelShape[0]===1&&tl.kernelShape[1]===1;return tl.group>1?[Do.run((0,Ga.createUnpackedGroupedConvProgramInfoLoader)(Do,Mo,tl),Mo)]:il&&rl?[Ua(Do,Mo,tl)]:rl&&Mo[0].dims.length===4&&Mo[0].dims[0]===1&&!il?[(0,Ha.conv2DPacked)(Do,Mo,tl)]:[Wa(Do,Mo,tl)]},Ua=(Do,Mo,el)=>{const tl=Mo[0].dims,rl=Mo[1].dims,il=(0,Na.calculateOutputShape)(tl,rl,el.dilations,el.pads,el.strides),al=Do.reshapeUnpacked(Mo[0],[tl[1],tl[2]*tl[3]]),ll=Do.reshapeUnpacked(Mo[1],[rl[0],rl[1]]),ul=Mo.length>2?[ll,al,Mo[2]]:[ll,al],ol=Do.run((0,Qa.createMatmulProgramInfoLoader)(ul,el),ul);return Do.reshapeUnpacked(ol,il)},Wa=(Do,Mo,el)=>{const tl=Mo[0].dims,rl=Mo[1].dims,il=(0,Na.calculateOutputShape)(tl,rl,el.dilations,el.pads,el.strides),al=Do.run((0,Ka.createIm2ColProgramInfoLoader)(Do,Mo[0],Mo[1],il,el),[Mo[0]]),ll=Mo.length===3?[al,Mo[1],Mo[2]]:[al,Mo[1]];return Do.run((0,Ya.createDotProductProgramInfoLoader)(Do,Mo,il,el),ll)},Ja=(Do,Mo)=>{const el=Do.kernelShape.slice();if(Do.kernelShape.length===0)for(let il=2;il<Mo[1].dims.length;++il)el.push(Mo[1].dims[il]);const tl=Do.pads.slice();za.PoolConvUtil.adjustPadsBasedOnAutoPad(Mo[0].dims,Do.strides,Do.dilations,el,tl,Do.autoPad);const rl=Object.assign({},Do);return Object.assign(rl,{kernelShape:el,pads:tl,cacheKey:Do.cacheKey}),rl};Na.parseConvAttributes=Do=>{const Mo=Do.attributes,el=(0,Xa.parseInternalActivationAttributes)(Mo),tl=Mo.getString("auto_pad","NOTSET"),rl=Mo.getInts("dilations",[1,1]),il=Mo.getInt("group",1),al=Mo.getInts("kernel_shape",[]),ll=Mo.getInts("pads",[0,0,0,0]),ul=Mo.getInts("strides",[1,1]);return(0,Ba.createAttributeWithCacheKey)(Object.assign({autoPad:tl,dilations:rl,group:il,kernelShape:al,pads:ll,strides:ul},el))};const Oo=(Do,Mo)=>{if(!Do||Do.length!==2&&Do.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(Do[0].dims.length!==4||Do[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(Do[0].dims[1]!==Do[1].dims[1]*Mo.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(Do.length===3&&(Do[2].dims.length!==1||Do[1].dims[0]!==Do[2].dims[0]))throw new Error("invalid bias");const el=Do[0].dims.length-2;if(Mo.dilations.length!==el)throw new Error(`dilations should be ${el}D`);if(Mo.strides.length!==el)throw new Error(`strides should be ${el}D`);if(Mo.pads.length!==2*el)throw new Error(`pads should be ${2*el}D`);if(Mo.kernelShape.length!==0&&Mo.kernelShape.length!==Do[1].dims.length-2)throw new Error("invalid kernel shape");if(Do[0].type!=="float32"||Do[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(Do.length===3&&Do[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseDepthToSpaceAttributes=Na.depthToSpace=void 0;const Ba=ja(3738);Na.depthToSpace=(Ga,Ha,Ya)=>{za(Ha);const Xa=Ya.blocksize,Ka=Xa*Xa,Qa=Ya.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],Va=Ya.mode==="DCR"?[Ha[0].dims[0],Xa,Xa,Ha[0].dims[1]/Ka,Ha[0].dims[2],Ha[0].dims[3]]:[Ha[0].dims[0],Ha[0].dims[1]/Ka,Xa,Xa,Ha[0].dims[2],Ha[0].dims[3]],Ua=Ga.reshapeUnpacked(Ha[0],Va),Wa={perm:Qa,cacheKey:`${Qa}`},[Ja]=(0,Ba.transpose)(Ga,[Ua],Wa),Oo=[Ha[0].dims[0],Ha[0].dims[1]/Ka,Ha[0].dims[2]*Xa,Ha[0].dims[3]*Xa];return[Ga.reshapeUnpacked(Ja,Oo)]},Na.parseDepthToSpaceAttributes=Ga=>{const Ha=Ga.attributes.getInt("blocksize");if(Ha<1)throw new Error(`blocksize must be >= 1, but got : ${Ha} for DepthToSpace`);const Ya=Ga.attributes.getString("mode","DCR");if(Ya!=="DCR"&&Ya!=="CRD")throw new Error(`unrecognized mode: ${Ya} for DepthToSpace`);return{mode:Ya,blocksize:Ha}};const za=Ga=>{if(Ga.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${Ga.length}`);if(Ga[0].type==="string"||Ga[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createDotProductProgramInfoLoader=void 0;const Ba=ja(2517),za=ja(5060),Ga=ja(2039),Ha=ja(2823),Ya=ja(3248);Na.createDotProductProgramInfoLoader=(Xa,Ka,Qa,Va)=>{const Ua=((Wa,Ja)=>({name:"ConvDotProduct",inputNames:Wa?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:Wa?[Ga.TextureType.unpacked,Ga.TextureType.packedLastDimension,Ga.TextureType.unpacked]:[Ga.TextureType.unpacked,Ga.TextureType.packedLastDimension],cacheKey:Ja.activationCacheKey}))(Ka.length>2,Va);return Object.assign(Object.assign({},Ua),{get:()=>((Wa,Ja,Oo,Do,Mo)=>{const el=Oo[0].dims,tl=Oo[1].dims,rl=[tl[0],Math.ceil(el[1]*tl[2]*tl[3]/4)],il=(0,Ya.calculateIm2ColDims)(el,tl,Do),[al,ll]=Wa.calculateTextureWidthAndHeight(rl,Ga.TextureType.packedLastDimension),ul=Ba.ShapeUtil.computeStrides(il),[ol,cl]=Wa.calculateTextureWidthAndHeight(il,Ga.TextureType.packedLastDimension),gl=Do.length,bl=Oo.length<3?"0.0":"_B(b)",_l=Math.ceil(el[1]*tl[2]*tl[3]/4),{activationFunction:xl,applyActivation:Al}=(0,Ha.getActivationSnippet)(Mo),ml=(0,za.getGlsl)(Wa.session.backend.glContext.version),Sl=`
${xl}
float process(int indices[${gl}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${ul[0]} + im2col[1] * ${ul[1]} + im2col[2] * ${ul[2]};
  int kernelOffset = indices[1] * ${rl[1]};
  float value = ${bl};
  for (int i = 0; i < ${_l}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${ol}, ${cl});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${al}, ${ll});
    value += dot(${ml.texture2D}(Im2Col, im2colCoords), ${ml.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Al}
  return value;
}`;return Object.assign(Object.assign({},Ja),{output:{dims:Do,type:Oo[0].type,textureType:Ga.TextureType.unpacked},shaderSource:Sl})})(Xa,Ua,Ka,Qa,Va)})}},7992:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseFlattenAttributes=Na.flatten=void 0;const Ba=ja(2517);Na.flatten=(Ga,Ha,Ya)=>{za(Ha,Ya);const Xa=Ba.ShapeUtil.flattenShape(Ha[0].dims,Ya);return[Ga.reshapeUnpacked(Ha[0],Xa)]},Na.parseFlattenAttributes=Ga=>Ga.attributes.getInt("axis",1);const za=(Ga,Ha)=>{if(!Ga||Ga.length!==1)throw new Error("Flatten requires 1 input.");const Ya=Ga[0].dims.length;if(Ya===0)throw new Error("scalar tensor is not supported.");if(Ha<-Ya||Ha>Ya)throw new Error("Invalid axis");if(Ga[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseInternalActivationAttributes=Na.getActivationSnippet=void 0;const Ba=ja(2517),za=ja(4909);Na.getActivationSnippet=function(Ga){let Ha;switch(Ga.activation){case"Relu":Ha=(0,za.glslRelu)();break;case"Sigmoid":Ha=(0,za.glslSigmoid)();break;case"Clip":Ha=(0,za.glslClip)(Ga.clipMin,Ga.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const Ya=Ha.name;return{activationFunction:Ha.body,applyActivation:`value = ${Ya}_(value);`}},Na.parseInternalActivationAttributes=Ga=>{const Ha=Ga.getString("activation","");if(Ha==="Clip"){const[Ya,Xa]=Ga.getFloats("activation_params",[Ba.MIN_CLIP,Ba.MAX_CLIP]);return{activation:Ha,clipMax:Xa,clipMin:Ya,activationCacheKey:`${Ha}:${Ya},${Xa}`}}return{activation:Ha,activationCacheKey:Ha}}},1253:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseGatherAttributes=Na.gather=void 0;const Ba=ja(246),za=ja(782),Ga=ja(2517),Ha=ja(2039);Na.gather=(Qa,Va,Ua)=>(Ka(Va,Ua.axis),[Qa.run(Xa(Qa,Va,Ua),Va)]),Na.parseGatherAttributes=Qa=>(0,Ba.createAttributeWithCacheKey)({axis:Qa.attributes.getInt("axis",0)});const Ya={name:"Gather",inputNames:["A","B"],inputTypes:[Ha.TextureType.unpacked,Ha.TextureType.unpacked]},Xa=(Qa,Va,Ua)=>{const Wa=Object.assign(Object.assign({},Ya),{cacheHint:Ua.cacheKey});return Object.assign(Object.assign({},Wa),{get:()=>((Ja,Oo,Do,Mo)=>{const el=Do[0].dims.slice(),tl=Do[1].dims.slice(),rl=new Array(el.length+tl.length-1);Mo=Ga.ShapeUtil.normalizeAxis(Mo,el.length);const il=[];for(let ll=0;ll<rl.length;ll++)ll<Mo?(rl[ll]=el[ll],il.push(`inputIdx[${ll}] = outputIdx[${ll}];`)):ll<Mo+tl.length?(rl[ll]=tl[ll-Mo],il.push(`indexDataIdx[${ll-Mo}] = outputIdx[${ll}];`)):(rl[ll]=el[ll-tl.length+1],il.push(`inputIdx[${ll-tl.length+1}] = outputIdx[${ll}];`));const al=`
      float process(int outputIdx[${rl.length||1}]) {
        int inputIdx[${el.length}];
        int indexDataIdx[${tl.length||1}];
        indexDataIdx[0] = 0;
        ${il.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${Mo}] = idx < 0 ? idx + ${el[Mo]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},Oo),{output:{dims:rl,type:Do[0].type,textureType:Ha.TextureType.unpacked},shaderSource:al})})(0,Wa,Va,Ua.axis)})},Ka=(Qa,Va)=>{if(!Qa||Qa.length!==2)throw new Error("Gather requires 2 inputs.");const Ua=Qa[0].dims.length;if(Ua<1)throw new Error("Invalid input shape.");if(Va<-Ua||Va>Ua-1)throw new Error("Invalid axis.");if(za.NUMBER_TYPES.indexOf(Qa[0].type)===-1)throw new Error("Invaid input type.");if(Qa[1].type!=="int32"&&Qa[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseGemmAttributesV11=Na.parseGemmAttributesV7=Na.gemm=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(2039);Na.gemm=(Qa,Va,Ua)=>(Ka(Va,Ua),[Qa.run(Ya(Va,Ua),Va)]);const Ha=(Qa,Va)=>{const Ua=Qa.attributes.getInt("transA",0)!==0,Wa=Qa.attributes.getInt("transB",0)!==0,Ja=Qa.attributes.getFloat("alpha",1),Oo=Qa.attributes.getFloat("beta",1);return(0,Ba.createAttributeWithCacheKey)({transA:Ua,transB:Wa,alpha:Ja,beta:Oo,isOptionalC:Va})};Na.parseGemmAttributesV7=Qa=>Ha(Qa,!1),Na.parseGemmAttributesV11=Qa=>Ha(Qa,!0);const Ya=(Qa,Va)=>{const Ua={name:"Gemm",inputNames:Qa.length===3?["A","B","C"]:["A","B"],inputTypes:Qa.length===3?[Ga.TextureType.unpacked,Ga.TextureType.unpacked,Ga.TextureType.unpacked]:[Ga.TextureType.unpacked,Ga.TextureType.unpacked],key:Va.cacheKey};return Object.assign(Object.assign({},Ua),{get:()=>Xa(Ua,Qa,Va)})},Xa=(Qa,Va,Ua)=>{const Wa=Va[0].dims.slice(),Ja=Va[1].dims.slice(),[Oo,Do]=za.GemmUtil.getShapeOfGemmResult(Wa,Ua.transA,Ja,Ua.transB,Va.length===3?Va[2].dims:void 0),Mo=[Oo,Do];if(!Mo)throw new Error("Can't use gemm on the given tensors");let el=Wa[Wa.length-1],tl="";Ua.transA&&(el=Wa[0]),Ua.transA&&Ua.transB?tl="value += _A_T(a) * _B_T(b);":Ua.transA&&!Ua.transB?tl="value += _A_T(a) * _B(b);":!Ua.transA&&Ua.transB?tl="value += _A(a) * _B_T(b);":Ua.transA||Ua.transB||(tl="value += _A(a) * _B(b);");const rl=Mo.length,il=`
      float process(int indices[${rl}]) {
          int a[${rl}];
          int b[${rl}];
          ${Va.length===3?`int c[${Va[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${Va.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${el}; ++k) {
              a[${rl-1}] = k;
              b[${rl-2}] = k;
              ${tl}
          }

          value = value * alpha;
          ${Va.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},Qa),{output:{dims:Mo,type:Va[0].type,textureType:Ga.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:Ua.alpha},{name:"beta",type:"float",data:Ua.beta}],shaderSource:il})},Ka=(Qa,Va)=>{if(!Qa)throw new Error("Input is missing");if(Va.isOptionalC&&(Qa.length<2||Qa.length>3))throw new Error("Invaid input shape.");if(!Va.isOptionalC&&Qa.length!==3)throw new Error("Gemm requires 3 inputs");if(Qa.length===3&&Qa[2].dims.length!==1&&Qa[2].dims.length!==2)throw new Error("Invalid input shape of C");if(Qa[0].type!=="float32"&&Qa[0].type!=="float64"||Qa[1].type!=="float32"&&Qa[1].type!=="float64"||Qa.length===3&&Qa[2].type!=="float32"&&Qa[2].type!=="float64")throw new Error("Invalid input type.");if(Qa[0].type!==Qa[1].type||Qa.length===3&&Qa[0].type!==Qa[2].type)throw new Error("Input types are mismatched")}},8555:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createPackedIm2ColProgramInfoLoader=void 0;const Ba=ja(5060),za=ja(2039),Ga=ja(2827);Na.createPackedIm2ColProgramInfoLoader=(Ha,Ya,Xa,Ka,Qa)=>{const Va=(Ua=Qa.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[za.TextureType.packed],cacheHint:Ua});var Ua;return Object.assign(Object.assign({},Va),{get:()=>((Wa,Ja,Oo,Do,Mo,el)=>{const tl=Oo.dims,rl=Do.dims,il=Mo.length,al=[rl[1]*rl[2]*rl[3],Mo[2]*Mo[3]],ll=rl[2]*rl[3],ul=(0,Ga.unpackFromChannel)(),ol=(0,Ba.getGlsl)(Wa.session.backend.glContext.version);let cl="";for(let bl=0;bl<=1;bl++)for(let _l=0;_l<=1;_l++)cl+=`
            blockIndex = rc.x + ${_l};
            pos = rc.y + ${bl};

            if(blockIndex < ${al[1]} && pos < ${al[0]}) {
              offsetY = int(blockIndex / (${Mo[il-1]})) * ${el.strides[0]} -
                ${el.pads[0]};
              d0 = offsetY + ${el.dilations[0]} * (imod(pos, ${ll}) / ${rl[2]});

              if(d0 < ${tl[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${Mo[il-1]}) * ${el.strides[1]} -
                  ${el.pads[1]};
                d1 = offsetX + ${el.dilations[1]} * imod(imod(pos, ${ll}), ${rl[2]});

                if(d1 < ${tl[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${ll}.);
                    innerDims = vec2(d0, d1);
                    result[${2*bl+_l}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const gl=`
      ${ul}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${cl}
          ${ol.output} = result;
      }
            `;return Object.assign(Object.assign({},Ja),{output:{dims:al,type:Oo.type,textureType:za.TextureType.packed},shaderSource:gl,hasMain:!0})})(Ha,Va,Ya,Xa,Ka,Qa)})}},3248:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.calculateIm2ColDims=Na.createIm2ColProgramInfoLoader=void 0;const Ba=ja(2039);Na.createIm2ColProgramInfoLoader=(za,Ga,Ha,Ya,Xa)=>{const Ka=(Qa=Xa.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[Ba.TextureType.unpacked],cacheHint:Qa});var Qa;return Object.assign(Object.assign({},Ka),{get:()=>((Va,Ua,Wa,Ja,Oo,Do)=>{const Mo=Wa.dims,el=Ja.dims,tl=Oo.length,rl=(0,Na.calculateIm2ColDims)(Mo,el,Oo,4),il=`
        const int XC = ${Mo[1]};
        const int XH = ${Mo[2]};
        const int XW = ${Mo[3]};
        const int KH = ${Do.kernelShape[0]};
        const int KW = ${Do.kernelShape[1]};
        const int dilationH = ${Do.dilations[0]};
        const int dilationW = ${Do.dilations[1]};
        const int strideH = ${Do.strides[0]};
        const int strideW = ${Do.strides[1]};
        const int padH = ${Do.pads[0]};
        const int padW = ${Do.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${tl}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${Mo.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},Ua),{output:{dims:rl,type:Wa.type,textureType:Ba.TextureType.packedLastDimension},shaderSource:il})})(0,Ka,Ga,Ha,Ya,Xa)})},Na.calculateIm2ColDims=(za,Ga,Ha,Ya=4)=>[Ha[0],Ha[2],Ha[3],Math.ceil(za[1]*Ga[2]*Ga[3]/Ya)]},6572:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseImageScalerAttributes=Na.imageScaler=void 0;const Ba=ja(246),za=ja(2039);Na.imageScaler=(Ka,Qa,Va)=>(Xa(Qa),[Ka.run(Ha(Ka,Qa,Va),Qa)]),Na.parseImageScalerAttributes=Ka=>{const Qa=Ka.attributes.getFloat("scale"),Va=Ka.attributes.getFloats("bias");return(0,Ba.createAttributeWithCacheKey)({scale:Qa,bias:Va})};const Ga={name:"ImageScaler",inputNames:["X"],inputTypes:[za.TextureType.unpacked]},Ha=(Ka,Qa,Va)=>{const Ua=Object.assign(Object.assign({},Ga),{cacheHint:Va.cacheKey});return Object.assign(Object.assign({},Ua),{get:()=>((Wa,Ja,Oo,Do)=>{const Mo=Oo[0].dims.slice(),el=Mo.length,tl=`
      ${Ya(Do.bias.length)}
      float process(int indices[${el}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},Ja),{output:{dims:Mo,type:Oo[0].type,textureType:za.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:Do.bias.length,data:Do.bias},{name:"scale",type:"float",data:Do.scale}],shaderSource:tl})})(0,Ua,Qa,Va)})},Ya=Ka=>{const Qa=[`float getBias(float bias[${Ka}], int channel) {`];for(let Va=0;Va<Ka;++Va)Va===0?Qa.push(`	if (channel == ${Va}) { return bias[${Va}]; }`):Va===Ka-1?Qa.push(`	else { return bias[${Va}]; }`):Qa.push(`	else if (channel == ${Va}) { return bias[${Va}]; }`);return Qa.push("	}"),Qa.join(`
`)},Xa=Ka=>{if(!Ka||Ka.length!==1)throw new Error("ImageScaler requires 1 input.");if(Ka[0].dims.length!==4)throw new Error("Invalid input shape.");if(Ka[0].type!=="float32"&&Ka[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseInstanceNormalizationAttributes=Na.instanceNormalization=void 0;const Ba=ja(5060),za=ja(2039);Na.instanceNormalization=(Qa,Va,Ua)=>{Ka(Va);const Wa=Qa.run(Ha(Va[0]),Va);return[Qa.run(Xa(Qa,Va[0],Ua,Wa.dims),[Va[0],Wa,Va[1],Va[2]])]},Na.parseInstanceNormalizationAttributes=Qa=>Qa.attributes.getFloat("epsilon",1e-5);const Ga={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[za.TextureType.unpacked]},Ha=Qa=>Object.assign(Object.assign({},Ga),{get:()=>((Va,Ua)=>{const Wa=Ua.dims.slice(),Ja=Wa[1],Oo=Wa[2]*Wa[3],Do=[Wa[0],Ja],Mo=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${Wa[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${Wa[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${Oo});
        temp = 0.0;
        for(int a2=0; a2<${Wa[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${Wa[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${Oo});

        return v;
      }`;return Object.assign(Object.assign({},Va),{output:{dims:Do,type:Ua.type,textureType:za.TextureType.packedLastDimension},shaderSource:Mo})})(Ga,Qa)}),Ya={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[za.TextureType.unpacked,za.TextureType.packedLastDimension,za.TextureType.unpacked,za.TextureType.unpacked]},Xa=(Qa,Va,Ua,Wa)=>{const Ja=Object.assign(Object.assign({},Ya),{cacheHint:`${Ua}`});return Object.assign(Object.assign({},Ja),{get:()=>((Oo,Do,Mo,el,tl)=>{const rl=(0,Ba.getGlsl)(Oo.session.backend.glContext.version),[il,al]=Oo.calculateTextureWidthAndHeight(tl,za.TextureType.packedLastDimension),[ll,ul]=[il/4,al],ol=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${ll}, ${ul});
        return ${rl.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},Do),{output:{dims:Mo.dims,type:Mo.type,textureType:za.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:el}],shaderSource:ol})})(Qa,Ja,Va,Ua,Wa)})},Ka=Qa=>{if(!Qa||Qa.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const Va=Qa[0],Ua=Qa[1],Wa=Qa[2];if(Va.dims.length<3||Ua.dims.length!==1||Wa.dims.length!==1)throw new Error("Invalid input shape.");if(Ua.dims[0]!==Va.dims[1]||Wa.dims[0]!==Va.dims[1])throw new Error("Input shapes are mismatched.");if(Va.type!=="float32"&&Va.type!=="float64"||Ua.type!=="float32"&&Ua.type!=="float64"||Wa.type!=="float32"&&Wa.type!=="float64")throw new Error("Invalid input type.");if(Qa[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createPackedMatmulProgramInfoLoader=void 0;const Ba=ja(2517),za=ja(5060),Ga=ja(2039),Ha=ja(9390),Ya=ja(2823),Xa=ja(5623);Na.createPackedMatmulProgramInfoLoader=(Ka,Qa,Va)=>{const Ua=(Wa=Qa.length>2,Ja=Va.activationCacheKey,{name:"MatMul (packed)",inputNames:Wa?["A","B","Bias"]:["A","B"],inputTypes:Wa?[Ga.TextureType.packed,Ga.TextureType.packed,Ga.TextureType.packed]:[Ga.TextureType.packed,Ga.TextureType.packed],cacheHint:Ja});var Wa,Ja;return Object.assign(Object.assign({},Ua),{get:()=>((Oo,Do,Mo,el)=>{const tl=Mo.length>2,rl=tl?"value += getBiasForMatmul();":"",il=Mo[0].dims,al=Mo[1].dims,ll=Ba.BroadcastUtil.calcShape(il,al,!0),ul=!Ba.ShapeUtil.areEqual(Mo[0].dims,Mo[1].dims);if(!ll)throw new Error("Can't use matmul on the given tensors");const ol=il[il.length-1],cl=Math.ceil(ol/2),gl=il.length,bl=al.length,_l=(0,za.getGlsl)(Oo.session.backend.glContext.version),xl=(0,Ha.getCoordsDataType)(ll.length),Al=ll.length,ml=(0,Ha.getGlChannels)(),{activationFunction:Sl,applyActivation:Cl}=(0,Ya.getActivationSnippet)(el),Nl=tl?`${(0,Xa.getBiasForMatmul)(xl,ml,Mo[2].dims,ll,!0)}`:"",dl=ul?`${(function(jl,Ll,Dl,$l){let eu=[],uu=[];const su=Dl[0].dims,pu=Dl[1].dims,Yl=su.length,ru=pu.length,lu=$l.length,fu=lu-Yl,bu=lu-ru;eu=su.map(((gu,Pu)=>`coords.${Ll[Pu+fu]}`)),eu[Yl-1]="i*2",eu.join(", "),uu=pu.map(((gu,Pu)=>`coords.${Ll[Pu+bu]}`)),uu[ru-2]="i*2",uu.join(", ");const xu=Ba.BroadcastUtil.getBroadcastDims(su,$l),Du=Ba.BroadcastUtil.getBroadcastDims(pu,$l),Zu=xu.map((gu=>`coords.${Ll[gu+fu]} = 0;`)).join(`
`),ic=Du.map((gu=>`coords.${Ll[gu+bu]} = 0;`)).join(`
`),Mu=`int lastDim = coords.${Ll[lu-1]};
  coords.${Ll[lu-1]} = coords.${Ll[lu-2]};
  coords.${Ll[lu-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${jl} coords = getOutputCoords();
  ${Mu}
  ${Zu}
  vec4 outputValue = getA(${eu});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${jl} coords = getOutputCoords();
  ${Mu}
  ${ic}
  vec4 outputValue = getB(${uu});
  return outputValue;
}`})(xl,ml,Mo,ll)}`:"",Rl=ul?"getAAtOutCoordsMatmul(i)":`getA(${(function(jl,Ll){let Dl="";for(let $l=0;$l<Ll-2;$l++)Dl+=`rc.${jl[$l]}, `;return Dl+=`rc.${jl[Ll-2]}, i*2`,Dl})(ml,gl)})`,Tl=ul?"getBAtOutCoordsMatmul(i)":`getB(${(function(jl,Ll){let Dl="";for(let $l=0;$l<Ll-2;$l++)Dl+=`rc.${jl[$l]}, `;return Dl+=`i*2, rc.${jl[Ll-1]}`,Dl})(ml,bl)})`,pl=`
            ${dl}
            ${Nl}
            ${Sl}
            void main() {
              ${ul?"":`${xl} rc =
          getOutputCoords(); int lastDim = rc.${ml[Al-1]}; rc.${ml[Al-1]} =
          rc.${ml[Al-2]}; rc.${ml[Al-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${cl}; i++) {
                vec4 a = ${Rl};
                vec4 b = ${Tl};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${rl}
              ${Cl}
              ${_l.output} = value;
            }`;return Object.assign(Object.assign({},Do),{output:{dims:ll,type:Mo[0].type,textureType:Ga.TextureType.packed},shaderSource:pl,hasMain:!0})})(Ka,Ua,Qa,Va)})}},5623:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.getBiasForMatmul=Na.createMatmulProgramInfoLoader=Na.parseMatMulAttributes=Na.matMul=void 0;const Ba=ja(2517),za=ja(2039),Ga=ja(9390),Ha=ja(2823),Ya=ja(708);function Xa(Va,Ua){const Wa=(Ja=Va.length>2,Oo=Ua.activationCacheKey,{name:"MatMul",inputNames:Ja?["A","B","Bias"]:["A","B"],inputTypes:Ja?[za.TextureType.unpacked,za.TextureType.unpacked,za.TextureType.unpacked]:[za.TextureType.unpacked,za.TextureType.unpacked],cacheHint:Oo});var Ja,Oo;return Object.assign(Object.assign({},Wa),{get:()=>(function(Do,Mo,el){const tl=Mo[0].dims,rl=Mo[1].dims,il=Ba.BroadcastUtil.calcShape(tl,rl,!0);if(!il)throw new Error("Can't use matmul on the given tensors");const al=(0,Ga.getCoordsDataType)(il.length),ll=(0,Ga.getGlChannels)(),{activationFunction:ul,applyActivation:ol}=(0,Ha.getActivationSnippet)(el),cl=Mo.length>2,gl=cl?"value += getBiasForMatmul();":"",bl=cl?`${Qa(al,ll,Mo[2].dims,il,!1)}`:"",_l=il.length,xl=tl.length,Al=rl.length,ml=`
    ${ul}
    ${bl}
    float process(int indices[${_l}]) {
        int a[${xl}];
        int b[${Al}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${tl[tl.length-1]}; ++k) {
            a[${xl-1}] = k;
            b[${Al-2}] = k;
            value += _A(a) * _B(b);
        }
        ${gl}
        ${ol}
        return value;
    }`;return Object.assign(Object.assign({},Do),{output:{dims:il,type:Mo[0].type,textureType:za.TextureType.unpacked},shaderSource:ml})})(Wa,Va,Ua)})}Na.matMul=(Va,Ua,Wa)=>(Ka(Ua),Va.session.pack?[Va.run((0,Ya.createPackedMatmulProgramInfoLoader)(Va,Ua,Wa),Ua)]:[Va.run(Xa(Ua,Wa),Ua)]),Na.parseMatMulAttributes=Va=>(0,Ha.parseInternalActivationAttributes)(Va.attributes),Na.createMatmulProgramInfoLoader=Xa;const Ka=Va=>{if(!Va||Va.length!==2)throw new Error("MatMul requires 2 inputs.");if(Va[0].dims[Va[0].dims.length-1]!==Va[1].dims[Va[1].dims.length-2])throw new Error("shared dimension does not match.");if(Va[0].type!=="float32"&&Va[0].type!=="float64"||Va[1].type!=="float32"&&Va[1].type!=="float64")throw new Error("inputs should be float type");if(Va[0].type!==Va[1].type)throw new Error("inputs types should match")};function Qa(Va,Ua,Wa,Ja,Oo){let Do="";const Mo=Wa.length,el=Ja.length,tl=el-Mo;Do=el<2&&Mo>0?"coords":Wa.map(((al,ll)=>`coords.${Ua[ll+tl]}`)).join(", ");const rl=Ba.BroadcastUtil.getBroadcastDims(Wa,Ja).map((al=>`coords.${Ua[al+tl]} = 0;`)).join(`
`);let il="vec4(outputValue.xx, outputValue.yy)";return Ba.ShapeUtil.size(Wa)===1&&(il="vec4(outputValue.x)"),Oo?`
vec4 getBiasForMatmul() {
  ${Va} coords = getOutputCoords();
  ${rl}
  vec4 outputValue = getBias(${Do});
  return ${il};
}`:`
float getBiasForMatmul() {
  ${Va} coords = getOutputCoords();
  ${rl}
  return getBias(coords.x);
}`}Na.getBiasForMatmul=Qa},2403:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createPackProgramInfoLoader=void 0;const Ba=ja(5060),za=ja(2039),Ga=ja(9390),Ha=ja(2827),Ya={name:"pack",inputNames:["A"],inputTypes:[za.TextureType.unpackedReversed]};Na.createPackProgramInfoLoader=(Xa,Ka)=>Object.assign(Object.assign({},Ya),{get:()=>((Qa,Va)=>{const Ua=(0,Ba.getGlsl)(Qa.session.backend.glContext.version),Wa=Va.dims,Ja=Wa.length,Oo=Va.dims.length,Do=(0,Ga.getCoordsDataType)(Oo),Mo=(0,Ha.getChannels)("rc",Oo),el=(tl=Oo,rl=Mo,il=Wa[Wa.length-2],al=Wa[Wa.length-1],tl===0||tl===1?"":`
    int r = ${rl[tl-2]};
    int c = ${rl[tl-1]};
    int rp1 = ${rl[tl-2]} + 1;
    int cp1 = ${rl[tl-1]} + 1;
    bool rEdge = rp1 >= ${al};
    bool cEdge = cp1 >= ${il};
    `);var tl,rl,il,al;let ll;ll=Ja===0?[1,1]:Ja===1?[Wa[0],1]:[Wa[Oo-1],Wa[Oo-2]];const ul=(function(gl,bl,_l){if(gl===0)return"false";if(gl===1)return`rc > ${bl[0]}`;let xl="";for(let Al=gl-2;Al<gl;Al++)xl+=`${_l[Al]} >= ${bl[Al-gl+2]}`,Al<gl-1&&(xl+="||");return xl})(Oo,ll,Mo),ol=(function(gl,bl){const _l=gl.length;if(_l===0)return"getA(), 0, 0, 0";if(_l===1)return`getA(rc),
            rc + 1 >= ${gl[0]} ? 0. : getA(rc + 1),
            0, 0`;let xl="";if(_l>2)for(let Al=0;Al<_l-2;++Al)xl+=`${bl[Al]},`;return`getA(${xl}r, c),
          rEdge ? 0. : getA(${xl}rp1, c),
          cEdge ? 0. : getA(${xl}r, cp1),
          rEdge || cEdge ? 0. : getA(${xl}rp1, cp1)`})(Wa,Mo),cl=`
        void main() {
          ${Do} rc = getOutputCoords();

          if(${ul}) {
            ${Ua.output} = vec4(0);
          } else {
            ${el}

            ${Ua.output} = vec4(${ol});
          }
        }
      `;return Object.assign(Object.assign({},Ya),{hasMain:!0,output:{dims:Va.dims,type:Va.type,textureType:za.TextureType.packed},shaderSource:cl})})(Xa,Ka)})},2827:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.unpackFromChannel=Na.getChannels=Na.getVecChannels=void 0;const Ba=ja(9390);function za(Ga,Ha){return(0,Ba.getGlChannels)(Ha).map((Ya=>`${Ga}.${Ya}`))}Na.getVecChannels=za,Na.getChannels=function(Ga,Ha){return Ha===1?[Ga]:za(Ga,Ha)},Na.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parsePadAttributesV11=Na.padV11=Na.parsePadAttributesV2=Na.padV2=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(5060),Ha=ja(2039),Ya={name:"Pad",inputNames:["A"],inputTypes:[Ha.TextureType.unpacked]};Na.padV2=(Do,Mo,el)=>(Qa(Mo),[Do.run(Object.assign(Object.assign({},Ya),{cacheHint:el.cacheKey,get:()=>Ka(Do,Mo[0],el)}),Mo)]),Na.parsePadAttributesV2=Do=>{const Mo=Do.attributes.getString("mode","constant"),el=Do.attributes.getFloat("value",0),tl=Do.attributes.getInts("pads");return(0,Ba.createAttributeWithCacheKey)({mode:Mo,value:el,pads:tl})},Na.padV11=(Do,Mo,el)=>{Va(Mo);const tl=Xa(Do,Mo,el);return(0,Na.padV2)(Do,[Mo[0]],tl)},Na.parsePadAttributesV11=Do=>Do.attributes.getString("mode","constant");const Xa=(Do,Mo,el)=>{if(!Do.session.isInitializer(Mo[1].dataId)||Mo.length>=3&&!Do.session.isInitializer(Mo[2].dataId))throw new Error("dynamic pad attributes are not allowed");const tl=Array.from(Mo[1].integerData),rl=Mo.length>=3?Mo[2].floatData[0]:0;return(0,Ba.createAttributeWithCacheKey)({mode:el,pads:tl,value:rl})},Ka=(Do,Mo,el)=>{const tl=za.ShapeUtil.padShape(Mo.dims.slice(),el.pads),rl=tl.length,il=`
      ${Ua(Do,Mo,el)}
      float process(int[${rl}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[Ha.TextureType.unpacked],output:{dims:tl,type:Mo.type,textureType:Ha.TextureType.unpacked},shaderSource:il}},Qa=Do=>{if(!Do||Do.length!==1)throw new Error("Pad requires 1 input");if(Do[0].type!=="float32"&&Do[0].type!=="float64")throw new Error("Invalid input type.")},Va=Do=>{if(!Do||Do.length!==2&&Do.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(Do[1].type!=="int32")throw new Error("Invalid input type.");if(Do.length>=3&&Do[2].type==="string")throw new Error("Invalid input type.")},Ua=(Do,Mo,el)=>{const tl=(0,Ga.getGlsl)(Do.session.backend.glContext.version),[rl,il]=Do.calculateTextureWidthAndHeight(Mo.dims,Ha.TextureType.unpacked),al=za.ShapeUtil.computeStrides(Mo.dims);switch(el.mode){case"constant":return Wa(tl,Mo.dims,al,rl,il,el.pads,el.value);case"reflect":return Ja(tl,Mo.dims,al,rl,il,el.pads);case"edge":return Oo(tl,Mo.dims,al,rl,il,el.pads);default:throw new Error("Invalid mode")}},Wa=(Do,Mo,el,tl,rl,il,al)=>{const ll=Mo.length;let ul="";for(let ol=ll-1;ol>=0;--ol)ul+=`
        k = m[${ol}] - ${il[ol]};
        if (k < 0)  return constant;
        if (k >= ${Mo[ol]}) return constant;
        offset += k * ${el[ol]};
        `;return`
      float padA(int m[${ll}]) {
        const float constant = float(${al});
        int offset = 0;
        int k = 0;
        ${ul}
        vec2 coords = offsetToCoords(offset, ${tl}, ${rl});
        float value = getColorAsFloat(${Do.texture2D}(A, coords));
        return value;
      }
      `},Ja=(Do,Mo,el,tl,rl,il)=>{const al=Mo.length;let ll="";for(let ul=al-1;ul>=0;--ul)ll+=`
        k = m[${ul}] - ${il[ul]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(Mo[ul]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${Mo[ul]}) { k = _2n_1 - k; }
        }
        offset += k * ${el[ul]};
        `;return`
      float padA(int m[${al}]) {
        int offset = 0;
        int k = 0;
        ${ll}
        vec2 coords = offsetToCoords(offset, ${tl}, ${rl});
        float value = getColorAsFloat(${Do.texture2D}(A, coords));
        return value;
      }
      `},Oo=(Do,Mo,el,tl,rl,il)=>{const al=Mo.length;let ll="";for(let ul=al-1;ul>=0;--ul)ll+=`
        k = m[${ul}] - ${il[ul]};
        if (k < 0)  k = 0;
        if (k >= ${Mo[ul]}) k = ${Mo[ul]-1};
        offset += k * ${el[ul]};
      `;return`
      float padA(int m[${al}]) {
        int offset = 0;
        int k = 0;
        ${ll}
        vec2 coords = offsetToCoords(offset, ${tl}, ${rl});
        float value = getColorAsFloat(${Do.texture2D}(A, coords));
        return value;
      }
      `}},2143:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.globalMaxPool=Na.parseMaxPoolAttributes=Na.maxPool=Na.parseGlobalAveragePoolAttributes=Na.globalAveragePool=Na.parseAveragePoolAttributes=Na.averagePool=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(2039);Na.averagePool=(Oo,Do,Mo)=>{Va(Do);const el={name:"AveragePool",inputNames:["X"],inputTypes:[Ga.TextureType.unpacked],cacheHint:Mo.cacheKey};return[Oo.run(Object.assign(Object.assign({},el),{get:()=>Ha(Do,el,!1,Mo)}),Do)]},Na.parseAveragePoolAttributes=Oo=>{const Do=Oo.attributes.getString("auto_pad","NOTSET"),Mo=Oo.attributes.getInt("ceil_mode",0),el=Oo.attributes.getInt("count_include_pad",0)!==0,tl=Oo.attributes.getInts("kernel_shape"),rl=Oo.attributes.getInts("strides",[]),il=Oo.attributes.getInts("pads",[]);if(Mo!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,Ba.createAttributeWithCacheKey)({autoPad:Do,ceilMode:Mo,countIncludePad:el,kernelShape:tl,strides:rl,pads:il})};const Ha=(Oo,Do,Mo,el)=>{const[tl,rl]=Xa(Oo,el,Mo),il=za.ShapeUtil.size(tl.kernelShape);let al="";tl.countIncludePad?al+=`value /= float(${il});`:al+=`value /= float(${il} - pad);`;const ll=`
        ${Ua(Oo[0].dims,tl,"value += _X(x);",al,"0.0")}
      `;return Object.assign(Object.assign({},Do),{output:{dims:rl,type:Oo[0].type,textureType:Ga.TextureType.unpacked},shaderSource:ll})};Na.globalAveragePool=(Oo,Do,Mo)=>{Va(Do);const el={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[Ga.TextureType.unpacked],cacheHint:`${Mo.countIncludePad}`};return[Oo.run(Object.assign(Object.assign({},el),{get:()=>Ha(Do,el,!0,Mo)}),Do)]},Na.parseGlobalAveragePoolAttributes=Oo=>{const Do=Oo.attributes.getInt("count_include_pad",0)!==0;return(0,Ba.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:Do,kernelShape:[],strides:[],pads:[]})},Na.maxPool=(Oo,Do,Mo)=>{Va(Do);const el={name:"MaxPool",inputNames:["X"],inputTypes:[Ga.TextureType.unpacked],cacheHint:Mo.cacheKey};return[Oo.run(Object.assign(Object.assign({},el),{get:()=>Ya(Do,el,!1,Mo)}),Do)]},Na.parseMaxPoolAttributes=Oo=>{const Do=Oo.attributes.getString("auto_pad","NOTSET"),Mo=Oo.attributes.getInt("ceil_mode",0),el=Oo.attributes.getInts("kernel_shape"),tl=Oo.attributes.getInts("strides",[]),rl=Oo.attributes.getInts("pads",[]),il=Oo.attributes.getInt("storage_order",0),al=Oo.attributes.getInts("dilations",[]);if(il!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(Mo!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,Ba.createAttributeWithCacheKey)({autoPad:Do,ceilMode:Mo,countIncludePad:!1,kernelShape:el,strides:tl,pads:rl,storageOrder:il,dilations:al})};const Ya=(Oo,Do,Mo,el)=>{const[tl,rl]=Xa(Oo,el,Mo),il=`
      ${Ua(Oo[0].dims,tl,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},Do),{output:{dims:rl,type:Oo[0].type,textureType:Ga.TextureType.unpacked},shaderSource:il})},Xa=(Oo,Do,Mo)=>{const el=Oo[0].dims.slice(),tl=Object.hasOwnProperty.call(Do,"dilations"),rl=Do.kernelShape.slice(),il=Do.strides.slice(),al=tl?Do.dilations.slice():[],ll=Do.pads.slice();za.PoolConvUtil.adjustPoolAttributes(Mo,el,rl,il,al,ll);const ul=za.PoolConvUtil.computePoolOutputShape(Mo,el,il,al,rl,ll,Do.autoPad),ol=Object.assign({},Do);return tl?Object.assign(ol,{kernelShape:rl,strides:il,pads:ll,dilations:al,cacheKey:Do.cacheKey}):Object.assign(ol,{kernelShape:rl,strides:il,pads:ll,cacheKey:Do.cacheKey}),[ol,ul]},Ka={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Qa={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[Ga.TextureType.unpacked]};Na.globalMaxPool=(Oo,Do)=>(Va(Do),[Oo.run(Object.assign(Object.assign({},Qa),{get:()=>Ya(Do,Qa,!0,Ka)}),Do)]);const Va=Oo=>{if(!Oo||Oo.length!==1)throw new Error("Pool ops requires 1 input.");if(Oo[0].type!=="float32"&&Oo[0].type!=="float64")throw new Error("Invalid input type.")},Ua=(Oo,Do,Mo,el,tl)=>{const rl=Oo.length;if(Do.kernelShape.length<=2){const il=Do.kernelShape[Do.kernelShape.length-1],al=Do.strides[Do.strides.length-1],ll=Do.pads[Do.pads.length/2-1],ul=Do.pads[Do.pads.length-1],ol=Oo[rl-1];let cl="",gl="",bl="";if(cl=ll+ul!==0?`
          for (int i = 0; i < ${il}; i++) {
            x[${rl} - 1] = indices[${rl} - 1] * ${al} - ${ll} + i;
            if (x[${rl} - 1] < 0 || x[${rl} - 1] >= ${ol}) {
              pad++;
              continue;
            }
            ${Mo}
          }`:`
          for (int i = 0; i < ${il}; i++) {
            x[${rl} - 1] = indices[${rl} - 1] * ${al} - ${ll} + i;
            ${Mo}
          }`,Do.kernelShape.length===2){const _l=Do.kernelShape[Do.kernelShape.length-2],xl=Do.strides[Do.strides.length-2],Al=Do.pads[Do.pads.length/2-2],ml=Do.pads[Do.pads.length-2],Sl=Oo[rl-2];gl=Al+ml!==0?`
            for (int j = 0; j < ${_l}; j++) {
              x[${rl} - 2] = indices[${rl} - 2] * ${xl} - ${Al} + j;
              if (x[${rl} - 2] < 0 || x[${rl} - 2] >= ${Sl}) {
                pad+= ${il};
                continue;
              }
          `:`
            for (int j = 0; j < ${_l}; j++) {
              x[${rl} - 2] = indices[${rl} - 2] * ${xl} - ${Al} + j;
            `,bl=`
          }
        `}return`
        float process(int indices[${rl}]) {
          int x[${rl}];
          copyVec(indices, x);

          float value = ${tl};
          int pad = 0;
          ${gl}
          ${cl}
          ${bl}
          ${el}
          return value;
        }
      `}{const il=za.ShapeUtil.size(Do.kernelShape),al=za.ShapeUtil.computeStrides(Do.kernelShape),ll=al.length,ul=Do.pads.length,ol=Ja(ll),cl=Wa(Oo,"inputDims"),gl=Wa(Do.pads,"pads"),bl=Wa(al,"kernelStrides"),_l=Wa(Do.strides,"strides");let xl="";return xl=Do.pads.reduce(((Al,ml)=>Al+ml))?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${Mo}
          }`:`
          }
          ${Mo}
        `,`
        ${ol}
        float process(int indices[${rl}]) {
          int x[${rl}];
          copyVec(indices, x);
          int offset[${ll}];
          int pads[${ul}];
          int inputDims[${rl}];
          int kernelStrides[${ll}];
          int strides[${ll}];
          ${gl}
          ${cl}
          ${_l}
          ${bl}

          float value = ${tl};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${il}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${rl} - ${ll}; j < ${rl}; j++) {
              x[j] = indices[j] * strides[j - ${rl} + ${ll}]
                + offset[j - ${rl} + ${ll}] - pads[j - 2];
              ${xl}
          }
          ${el}

          return value;
        }
      `}},Wa=(Oo,Do)=>{let Mo="";for(let el=0;el<Oo.length;el++)Mo+=`
      ${Do}[${el}] = ${Oo[el]};
    `;return Mo},Ja=Oo=>`
  void offsetToIndices(int offset, int[${Oo}] strides, out int[${Oo}] indices) {
    if (${Oo} == 0) {
      return;
    }
    for (int i = 0; i < ${Oo} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${Oo} - 1] = offset;
  }`},4939:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.reduceLogSumSquare=Na.reduceLogSum=Na.reduceProd=Na.reduceMin=Na.reduceMax=Na.reduceMean=Na.reduceSum=Na.parseReduceAttributes=void 0;const Ba=ja(246),za=ja(782),Ga=ja(2517),Ha=ja(2039),Ya=(Qa,Va,Ua,Wa,Ja)=>{Ka(Va);const Oo={name:Wa,inputNames:["A"],inputTypes:[Ha.TextureType.unpacked]};return[Qa.run(Object.assign(Object.assign({},Oo),{cacheHint:Ua.cacheKey,get:()=>Xa(Qa,Va,Ua,Wa,Ja,Oo)}),Va)]};Na.parseReduceAttributes=Qa=>{const Va=Qa.attributes.getInts("axes",[]),Ua=Qa.attributes.getInt("keepdims",1)===1;return(0,Ba.createAttributeWithCacheKey)({axes:Va,keepDims:Ua})};const Xa=(Qa,Va,Ua,Wa,Ja,Oo)=>{const Do=[],Mo=Va[0].dims.length||1,el=[],tl=Ga.ShapeUtil.normalizeAxes(Ua.axes,Va[0].dims.length),rl=Ja(Va,tl);let il=rl[1];for(let ll=0;ll<Va[0].dims.length;ll++)tl.indexOf(ll)>=0||tl.length===0?(Ua.keepDims&&Do.push(1),il=`
          for(int j${ll} = 0; j${ll} < ${Va[0].dims[ll]}; j${ll}++) {
            inputIdx[${ll}] = j${ll};
            ${il}
          }`):(el.push(`inputIdx[${ll}] = outputIdx[${Do.length}];`),Do.push(Va[0].dims[ll]));const al=`
      float process(int outputIdx[${Do.length||1}]) {
        float value;                 // final result
        int inputIdx[${Mo}];      // addressing input data
        ${el.join(`
`)}
        ${rl[0]}       // init ops for reduce max/min
        ${il}
        ${rl[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},Oo),{output:{dims:Do,type:Va[0].type,textureType:Ha.TextureType.unpacked},shaderSource:al})},Ka=Qa=>{if(!Qa||Qa.length!==1)throw new Error("Reduce op requires 1 input.");if(za.NUMBER_TYPES.indexOf(Qa[0].type)===-1)throw new Error("Invalid input type.")};Na.reduceSum=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),Na.reduceMean=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceMean",((Wa,Ja)=>{let Oo=1;for(let Do=0;Do<Wa[0].dims.length;Do++)(Ja.indexOf(Do)>=0||Ja.length===0)&&(Oo*=Wa[0].dims[Do]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${Oo}.;`]})),Na.reduceMax=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceMax",((Wa,Ja)=>{const Oo=[];for(let Do=0;Do<Wa[0].dims.length;Do++)(Ja.indexOf(Do)>=0||Ja.length===0)&&Oo.push(`inputIdx[${Do}] = 0;`);return[`${Oo.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]})),Na.reduceMin=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceMin",((Wa,Ja)=>{const Oo=[];for(let Do=0;Do<Wa[0].dims.length;Do++)(Ja.indexOf(Do)>=0||Ja.length===0)&&Oo.push(`inputIdx[${Do}] = 0;`);return[`${Oo.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]})),Na.reduceProd=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),Na.reduceLogSum=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),Na.reduceLogSumSquare=(Qa,Va,Ua)=>Ya(Qa,Va,Ua,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7019:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.isReshapeCheap=Na.processDims3D=Na.createPackedReshape3DProgramInfoLoader=void 0;const Ba=ja(2517),za=ja(5060),Ga=ja(2039),Ha=ja(2827);Na.createPackedReshape3DProgramInfoLoader=(Ya,Xa,Ka)=>{const Qa=(Va=>({name:"Reshape (packed)",inputTypes:[Ga.TextureType.packed],inputNames:["A"],cacheHint:`${Va}`}))(Ka);return Object.assign(Object.assign({},Qa),{get:()=>((Va,Ua,Wa,Ja)=>{const Oo=Ua.dims,Do=Ja;let Mo="";for(let rl=0;rl<4;rl++){let il="";switch(rl){case 0:il="outputCoords = rc;";break;case 1:il="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:il="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:il="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}Mo+=`
        ${il}
        ${rl>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${rl}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${rl>0?"}":""}
      `}const el=(0,za.getGlsl)(Va.session.backend.glContext.version),tl=`
      ${(function(rl){const il=Ba.ShapeUtil.computeStrides(rl),al=["b","r","c"],ll="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${il.map(((ul,ol)=>`int ${al[ol]} = ${ll} / ${ul}; ${ol===il.length-1?`int ${al[ol+1]} = ${ll} - ${al[ol]} * ${ul}`:`index -= ${al[ol]} * ${ul}`};`)).join("")}
      return ivec3(b, r, c);
    }
  `})(Oo)}
      ${(function(rl){const il=Ba.ShapeUtil.computeStrides(rl);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${il[0]} + coords.z * ${il[1]} + coords.y;
  }
`})(Do)}
      ${(0,Ha.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${Do[2]};
        int cols = ${Do[1]};

        ${Mo}
        ${el.output} = result;
      }
    `;return Object.assign(Object.assign({},Wa),{output:{dims:Do,type:Ua.type,textureType:Ga.TextureType.packed},shaderSource:tl,hasMain:!0})})(Ya,Xa,Qa,Ka)})},Na.processDims3D=function(Ya){if(Ya.length===0)return[1,1,1];let Xa=1;for(let Ka=0;Ka<Ya.length-2;++Ka)Xa*=Ya[Ka];return[Xa,Ya.length>1?Ya[Ya.length-2]:1,Ya[Ya.length-1]]},Na.isReshapeCheap=function(Ya,Xa){let Ka=!1;return Ka=Ya.length===0||Xa.length===0||(Ya.length<2||Xa.length<2?Ya[Ya.length-1]===Xa[Xa.length-1]:Ya[Ya.length-1]===Xa[Xa.length-1]&&Ya[Ya.length-2]===Xa[Xa.length-2]),Ka}},718:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.reshape=void 0;const Ba=ja(2517);Na.reshape=(za,Ga)=>{const Ha=Ba.ShapeUtil.calculateReshapedDims(Ga[0].dims,Ga[1].integerData);return za.session.pack?[za.reshapePacked(Ga[0],Ha)]:[za.reshapeUnpacked(Ga[0],Ha)]}},2268:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseResizeAttributesV11=Na.parseResizeAttributesV10=Na.resize=void 0;const Ba=ja(5060),za=ja(2039),Ga=ja(9390),Ha=ja(2827),Ya=ja(9793),Xa={name:"Resize",inputNames:["A"],inputTypes:[za.TextureType.packed]};Na.resize=(Wa,Ja,Oo)=>((0,Ya.validateInputs)(Ja,Oo),[Wa.run(Object.assign(Object.assign({},Xa),{cacheHint:Oo.cacheKey,get:()=>Ka(Wa,Ja,Oo)}),Ja)]),Na.parseResizeAttributesV10=Wa=>(0,Ya.parseUpsampleAttributes)(Wa,10),Na.parseResizeAttributesV11=Wa=>(0,Ya.parseUpsampleAttributes)(Wa,11);const Ka=(Wa,Ja,Oo)=>{const Do=(0,Ba.getGlsl)(Wa.session.backend.glContext.version),[Mo,el]=Qa(Ja,Oo);if(Mo.every((xl=>xl===1))&&Oo.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},Xa),{output:{dims:el,type:Ja[0].type,textureType:za.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${Do.texture2D}(X, TexCoords);
                    ${Do.output} = v;
                }`});const tl=el.length;if(tl<2)throw new Error(`output dimension should be at least 2, but got ${tl}`);const rl=el[tl-2],il=el[tl-1],al=Ja[0].dims;if(tl!==al.length)throw new Error(`output dimension should match input ${al.length}, but got ${tl}`);const ll=al[tl-2],ul=al[tl-1],ol=Mo[tl-2],cl=Mo[tl-1];let gl="";if(Oo.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${Oo.mode}'`);switch(Oo.coordinateTransformMode){case"asymmetric":gl=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":gl=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":gl=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${il}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${rl}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${il}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${rl}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":gl=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${il}.0 - 1.0, ${rl}.0 - 1.0, ${il}.0 - 1.0,
                            ${rl}.0 - 1.0);
                        vec4 original = vec4(${ul}.0 - 1.0, ${ll}.0 - 1.0, ${ul}.0 - 1.0,
                            ${ll}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${Oo.coordinateTransformMode}'`)}const bl=(0,Ga.getCoordsDataType)(tl),_l=`
            const vec2 inputWH = vec2(${ll}.0, ${ul}.0);
            const vec4 scaleWHWH = vec4(float(${ol}), float(${cl}), float(${ol}), float(${cl}));
            ${(0,Ha.unpackFromChannel)()}
            ${gl}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${bl} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${rl-1};
                bool hasNextCol = rc.z < ${il-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${Do.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},Xa),{output:{dims:el,type:Ja[0].type,textureType:za.TextureType.packed},hasMain:!0,shaderSource:_l})},Qa=(Wa,Ja)=>{const Oo=Wa[0].dims;let Do,Mo=Ja.scales;if(Mo.length===0){const tl=Wa[Ja.scalesInputIdx];if(tl&&tl.size!==0){if(Wa[Ja.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");Mo=Va(tl,Ja.mode,Ja.isResize)}else{const rl=Wa[Ja.sizesInputIdx];if(!rl||rl.size===0)throw new Error("Either scales or sizes MUST be provided as input.");Do=Array.from(rl.integerData),Mo=Ua(Do,Oo,Ja.mode,Ja.isResize)}}else if(Wa[Ja.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const el=Do||Oo.map(((tl,rl)=>Math.floor(tl*Mo[rl])));return[Mo,el]},Va=(Wa,Ja,Oo)=>{const Do=Array.from(Wa.floatData);return(0,Ya.scalesValidation)(Do,Ja,Oo),Do},Ua=(Wa,Ja,Oo,Do)=>{const Mo=Ja.length,el=new Array(Mo);for(let tl=0,rl=Mo;tl<rl;tl++)if(Ja[tl]===0){if(Wa[tl]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");el[tl]=1}else el[tl]=Wa[tl]/Ja[tl];return(0,Ya.scalesValidation)(el,Oo,Do),el}},8117:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.shape=void 0;const Ba=ja(9162);Na.shape=(Ga,Ha)=>(za(Ha),[new Ba.Tensor([Ha[0].dims.length],"int32",void 0,void 0,new Int32Array(Ha[0].dims))]);const za=Ga=>{if(!Ga||Ga.length!==1)throw new Error("Shape requires 1 input.")}},2278:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.sliceV10=Na.parseSliceAttributes=Na.slice=void 0;const Ba=ja(246),za=ja(782),Ga=ja(2517),Ha=ja(2039),Ya={name:"Slice",inputNames:["A"],inputTypes:[Ha.TextureType.unpacked]};Na.slice=(Ua,Wa,Ja)=>(Ka(Wa),[Ua.run(Object.assign(Object.assign({},Ya),{cacheHint:Ja.cacheKey,get:()=>Xa(Ua,Wa[0],Ja)}),Wa)]),Na.parseSliceAttributes=Ua=>{const Wa=Ua.attributes.getInts("starts"),Ja=Ua.attributes.getInts("ends"),Oo=Ua.attributes.getInts("axes",[]);return(0,Ba.createAttributeWithCacheKey)({starts:Wa,ends:Ja,axes:Oo})};const Xa=(Ua,Wa,Ja)=>{const Oo=Ja.axes.length===0?Wa.dims.slice(0).map(((al,ll)=>ll)):Ja.axes,Do=Ga.ShapeUtil.normalizeAxes(Oo,Wa.dims.length),Mo=Ja.starts.map(((al,ll)=>al>Wa.dims[Do[ll]]-1?Wa.dims[Do[ll]]:Ga.ShapeUtil.normalizeAxis(al,Wa.dims[Do[ll]]))),el=Ja.ends.map(((al,ll)=>al>Wa.dims[Do[ll]]-1?Wa.dims[Do[ll]]:Ga.ShapeUtil.normalizeAxis(al,Wa.dims[Do[ll]]))),tl=Wa.dims.slice(),rl=[];for(let al=0;al<Do.length;al++)tl[Do[al]]=el[al]-Mo[al],Mo[al]>0&&rl.push(`outputIdx[${Do[al]}] += ${Mo[al]};`);const il=`
      float process(int outputIdx[${tl.length}]) {
        ${rl.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},Ya),{output:{dims:tl,type:Wa.type,textureType:Ha.TextureType.unpacked},shaderSource:il})},Ka=Ua=>{if(!Ua||Ua.length!==1)throw new Error("Slice requires 1 input.");if(za.NUMBER_TYPES.indexOf(Ua[0].type)===-1)throw new Error("Invalid input type.")};Na.sliceV10=(Ua,Wa)=>{Va(Wa);const Ja=Qa(Ua,Wa);return[Ua.run(Object.assign(Object.assign({},Ya),{cacheHint:Ja.cacheKey,get:()=>Xa(Ua,Wa[0],Ja)}),[Wa[0]])]};const Qa=(Ua,Wa)=>{if(!Ua.session.isInitializer(Wa[1].dataId)||!Ua.session.isInitializer(Wa[2].dataId)||Wa.length>=4&&!Ua.session.isInitializer(Wa[3].dataId)||Wa.length>=5&&!Ua.session.isInitializer(Wa[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(Wa.length>=5&&Wa[4].integerData.some((Mo=>Mo!==1)))throw new Error("currently non-1 steps is not supported for Slice");const Ja=Array.from(Wa[1].integerData),Oo=Array.from(Wa[2].integerData),Do=Wa.length>=4?Array.from(Wa[3].integerData):[];return{starts:Ja,ends:Oo,axes:Do,cacheKey:`${Do};${Ja};${Oo}`}},Va=Ua=>{if(!Ua||Ua.length<3||Ua.length>5)throw new Error("Invalid input number.");if(Ua[1].type!=="int32"||Ua[1].dims.length!==1)throw new Error("Invalid input type.");if(Ua[2].type!=="int32"||Ua[2].dims.length!==1)throw new Error("Invalid input type.");if(Ua.length>=4&&(Ua[3].type!=="int32"||Ua[3].dims.length!==1))throw new Error("Invalid input type.");if(Ua.length>=5&&(Ua[4].type!=="int32"||Ua[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.softmaxV13=Na.parseSoftmaxAttributesV13=Na.parseSoftmaxAttributes=Na.softmax=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(5060),Ha=ja(2039),Ya=ja(3738),Xa={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[Ha.TextureType.unpacked]},Ka={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[Ha.TextureType.unpacked,Ha.TextureType.unpacked]},Qa={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[Ha.TextureType.unpacked,Ha.TextureType.unpacked,Ha.TextureType.unpacked]};Na.softmax=(Do,Mo,el)=>{Oo(Mo);const tl=Mo[0].dims.slice(),rl=za.ShapeUtil.normalizeAxis(el.axis,tl.length),il=za.ShapeUtil.sizeToDimension(tl,rl),al=za.ShapeUtil.sizeFromDimension(tl,rl);return Va(Do,Mo,el,il,al)},Na.parseSoftmaxAttributes=Do=>(0,Ba.createAttributeWithCacheKey)({axis:Do.attributes.getInt("axis",1)}),Na.parseSoftmaxAttributesV13=Do=>(0,Ba.createAttributeWithCacheKey)({axis:Do.attributes.getInt("axis",-1)}),Na.softmaxV13=(Do,Mo,el)=>{Oo(Mo);const tl=Mo[0].dims.slice(),rl=za.ShapeUtil.normalizeAxis(el.axis,tl.length),il=tl.length,al=rl!==il-1,ll=[];let ul,ol=[],cl=[];al&&(ol=Array.from({length:il}).map(((xl,Al)=>Al)),ol[rl]=il-1,ol[il-1]=rl,ol.map((xl=>ll.push(tl[xl]))),ul=(0,Ba.createAttributeWithCacheKey)({perm:ol}),cl=(0,Ya.transpose)(Do,Mo,ul));const gl=al?za.ShapeUtil.sizeToDimension(ll,il-1):za.ShapeUtil.sizeToDimension(tl,il-1),bl=al?za.ShapeUtil.sizeFromDimension(ll,il-1):za.ShapeUtil.sizeFromDimension(tl,il-1),_l=Va(Do,al?cl:Mo,el,gl,bl);return al?(0,Ya.transpose)(Do,_l,ul):_l};const Va=(Do,Mo,el,tl,rl)=>{const il=Ua(Do,Mo[0],tl,rl,[tl]),al=Do.run(Object.assign(Object.assign({},Xa),{cacheHint:el.cacheKey,get:()=>il}),Mo),ll=Wa(Do,Mo[0],tl,rl,il.output.dims,[tl]),ul=Do.run(Object.assign(Object.assign({},Ka),{cacheHint:el.cacheKey,get:()=>ll}),[Mo[0],al]),ol=Ja(Do,Mo[0],tl,rl,il.output.dims,ll.output.dims);return[Do.run(Object.assign(Object.assign({},Qa),{cacheHint:el.cacheKey,get:()=>ol}),[Mo[0],al,ul])]},Ua=(Do,Mo,el,tl,rl)=>{const[il,al]=Do.calculateTextureWidthAndHeight(Mo.dims,Ha.TextureType.unpacked),ll=rl.length;if(el<1||tl<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(rl.length!==1)throw new Error("Dimensionality of the output should be 1");if(rl[0]!==el)throw new Error("Shape of the output should be equal to logical row count");const ul=(0,Ga.getGlsl)(Do.session.backend.glContext.version),ol=`
      float process(int[${ll}] indices) {
        int logical_row_start_offset = indices[0] * ${tl};

        float max = getColorAsFloat(${ul.texture2D}(A, offsetToCoords(logical_row_start_offset, ${il},
        ${al} )));
        for(int i=1; i<${tl}; ++i)
        {
          float current = getColorAsFloat(${ul.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${il}, ${al})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},Xa),{output:{dims:rl,type:Mo.type,textureType:Ha.TextureType.unpacked},shaderSource:ol})},Wa=(Do,Mo,el,tl,rl,il)=>{const[al,ll]=Do.calculateTextureWidthAndHeight(Mo.dims,Ha.TextureType.unpacked),ul=il.length;if(el<1||tl<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(il.length!==1)throw new Error("Dimensionality of the output should be 1");if(il[0]!==el)throw new Error("Shape of the output should be equal to logical row count");if(rl.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(rl[0]!==el)throw new Error("Shape of the intermediate results should be equal to logical row count");const ol=`
      float process(int[${ul}] indices) {
        int logical_row_start_offset = indices[0] * ${tl};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${tl}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,Ga.getGlsl)(Do.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${al}, ${ll}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},Ka),{output:{dims:il,type:Mo.type,textureType:Ha.TextureType.unpacked},shaderSource:ol})},Ja=(Do,Mo,el,tl,rl,il)=>{const[al,ll]=Do.calculateTextureWidthAndHeight(Mo.dims,Ha.TextureType.unpacked),ul=Mo.dims.length;if(el<1||tl<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(rl.length!==1||il.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(rl[0]!==el||il[0]!==el)throw new Error("Shape of the intermediate results should be equal to logical row count");const ol=`
      float process(int[${ul}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${al}, ${ll});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${tl};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},Qa),{output:{dims:Mo.dims,type:Mo.type,textureType:Ha.TextureType.unpacked},shaderSource:ol})},Oo=Do=>{if(!Do||Do.length!==1)throw new Error("Softmax requires 1 input.");if(Do[0].type!=="float32"&&Do[0].type!=="float64")throw new Error("Invalid input type")}},5975:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseSplitAttributes=Na.split=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(2039),Ha={name:"Split",inputNames:["A"],inputTypes:[Ga.TextureType.unpacked]};Na.split=(Qa,Va,Ua)=>{Ka(Va);const Wa=za.ShapeUtil.normalizeAxis(Ua.axis,Va[0].dims.length),Ja=Ya(Qa,Va,Wa,Ua),Oo=[];for(let Do=0;Do<Ja;++Do)Oo.push(Qa.run(Object.assign(Object.assign({},Ha),{cacheHint:`${Ua.cacheKey};${Do}`,get:()=>Xa(Qa,Va[0],Ua,Wa,Do)}),Va));return Oo},Na.parseSplitAttributes=Qa=>{const Va=Qa.attributes.getInt("axis",0),Ua=Qa.attributes.getInts("split",[]),Wa=Qa.outputs.length;return(0,Ba.createAttributeWithCacheKey)({axis:Va,split:Ua,numOutputs:Wa})};const Ya=(Qa,Va,Ua,Wa)=>{const[,Ja]=za.SplitUtil.splitShape(Va[0].dims,Ua,Wa.split,Wa.numOutputs);return Ja.length},Xa=(Qa,Va,Ua,Wa,Ja)=>{const[Oo,Do]=za.SplitUtil.splitShape(Va.dims,Wa,Ua.split,Ua.numOutputs),Mo=Do[Ja],el=Oo[Ja],tl=`
      float process(int indices[${el.length}]) {
        indices[${Wa}] += ${Mo};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},Ha),{cacheHint:`${Ua.cacheKey}:${Ja}`,output:{dims:el,type:Va.type,textureType:Ga.TextureType.unpacked},shaderSource:tl})},Ka=Qa=>{if(!Qa||Qa.length!==1)throw new Error("Split requires one input.");if(Qa[0].type!=="int8"&&Qa[0].type!=="uint8"&&Qa[0].type!=="int16"&&Qa[0].type!=="uint16"&&Qa[0].type!=="int32"&&Qa[0].type!=="uint32"&&Qa[0].type!=="float32"&&Qa[0].type!=="float64"&&Qa[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseSqueezeAttributes=Na.squeezeV13=Na.squeeze=void 0;const Ba=ja(2517);Na.squeeze=(Ha,Ya,Xa)=>{za(Ya);const Ka=Ba.ShapeUtil.squeezeShape(Ya[0].dims,Xa);return[Ha.reshapeUnpacked(Ya[0],Ka)]},Na.squeezeV13=(Ha,Ya)=>(Ga(Ya),(0,Na.squeeze)(Ha,[Ya[0]],Array.from(Ya[1].integerData))),Na.parseSqueezeAttributes=Ha=>Ha.attributes.getInts("axes");const za=Ha=>{if(!Ha||Ha.length!==1)throw new Error("Squeeze requires 1 input.");if(Ha[0].type==="string")throw new Error("invalid input tensor types.")},Ga=Ha=>{if(!Ha||Ha.length!==2)throw new Error("Squeeze requires 2 inputs.");if(Ha[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.sum=void 0;const Ba=ja(5060),za=ja(2039);Na.sum=(Ya,Xa)=>{Ha(Xa);const Ka={name:"Sum",inputNames:Xa.map(((Qa,Va)=>`X${Va}`)),inputTypes:new Array(Xa.length).fill(za.TextureType.unpacked)};return[Ya.run(Object.assign(Object.assign({},Ka),{get:()=>Ga(Ya,Xa,Ka)}),Xa)]};const Ga=(Ya,Xa,Ka)=>{const Qa=(0,Ba.getGlsl)(Ya.session.backend.glContext.version),Va=Xa[0].dims.slice(),Ua=`
      void main() {
        vec4 result = ${Xa.map(((Wa,Ja)=>`${Qa.texture2D}(X${Ja},TexCoords)`)).join(" + ")};
        ${Qa.output} = result;
      }
    `;return Object.assign(Object.assign({},Ka),{output:{dims:Va,type:Xa[0].type,textureType:za.TextureType.unpacked},hasMain:!0,shaderSource:Ua})},Ha=Ya=>{if(!Ya||Ya.length===0)throw new Error("Sum requires inputs.");const Xa=Ya[0].dims.length;for(let Ka=1;Ka<Ya.length;Ka++){if(Xa!==Ya[Ka].dims.length)throw new Error("Input shapes are mismatched.");for(let Qa=0;Qa<Xa;Qa++)if(Ya[0].dims[Qa]!==Ya[Ka].dims[Qa])throw new Error("Input shapes are not matched.")}if(Ya[0].type!=="float32"&&Ya[0].type!=="float64")throw new Error("Invalid input type.");for(let Ka=1;Ka<Ya.length;Ka++)if(Ya[0].type!==Ya[Ka].type)throw new Error("Input types are not matched.")}},5723:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.tile=void 0;const Ba=ja(782),za=ja(2039);Na.tile=(Ya,Xa)=>{Ha(Xa);const Ka={name:"Tile",inputNames:["A"],inputTypes:[za.TextureType.unpacked]};return[Ya.run(Object.assign(Object.assign({},Ka),{get:()=>Ga(Ya,Xa,Ka)}),Xa)]};const Ga=(Ya,Xa,Ka)=>{const Qa=Xa[0].dims.slice(),Va=new Array(Qa.length),Ua=[];for(let Oo=0;Oo<Qa.length;Oo++)Va[Oo]=Qa[Oo]*Xa[1].numberData[Oo],Ua.push(`inputIdx[${Oo}] = int(mod(float(outputIdx[${Oo}]), ${Qa[Oo]}.));`);const Wa=Va.length,Ja=`
      float process(int outputIdx[${Wa}]) {
        int inputIdx[${Wa}];
        ${Ua.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},Ka),{output:{dims:Va,type:Xa[0].type,textureType:za.TextureType.unpacked},shaderSource:Ja})},Ha=Ya=>{if(!Ya||Ya.length!==2)throw new Error("Tile requires 2 input.");if(Ya[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(Ya[1].dims[0]!==Ya[0].dims.length)throw new Error("Invalid input shape.");if(Ba.NUMBER_TYPES.indexOf(Ya[0].type)===-1)throw new Error("Invalid input type.");if(Ya[1].type!=="int32"&&Ya[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseTransposeAttributes=Na.transpose=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(2039),Ha={name:"Transpose",inputNames:["A"],inputTypes:[Ga.TextureType.unpacked]};Na.transpose=(Ua,Wa,Ja)=>(Va(Wa),[Ua.run(Object.assign(Object.assign({},Ha),{cacheHint:Ja.cacheKey,get:()=>Ya(Ua,Wa[0],Ja.perm)}),Wa)]),Na.parseTransposeAttributes=Ua=>(0,Ba.createAttributeWithCacheKey)({perm:Ua.attributes.getInts("perm",[])});const Ya=(Ua,Wa,Ja)=>{const Oo=Wa.dims;Ja=Xa(Oo,Ja);const Do=Ka(Oo,Ja),Mo=Oo.length,el=`
      ${Qa("perm",Ja,Mo)}
      float process(int indices[${Mo}]) {
        int a[${Mo}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},Ha),{output:{dims:Do,type:Wa.type,textureType:Ga.TextureType.unpacked},shaderSource:el})},Xa=(Ua,Wa)=>(Wa&&Wa.length!==Ua.length&&(Wa=[...Ua.keys()].reverse()),Wa),Ka=(Ua,Wa)=>(Wa=Xa(Ua,Wa),za.ShapeUtil.sortBasedOnPerm(Ua,Wa)),Qa=(Ua,Wa,Ja)=>{const Oo=[];Oo.push(`void ${Ua}(out int a[${Ja}], int src[${Ja}]) {`);for(let Do=0;Do<Ja;++Do)Oo.push(`	a[${Wa[Do]}]=src[${Do}];`);return Oo.push("	}"),Oo.join(`
`)},Va=Ua=>{if(!Ua||Ua.length!==1)throw new Error("Transpose requires 1 input.");if(Ua[0].type!=="float32"&&Ua[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.encodeAsUint8=void 0;const Ba=ja(5060),za=ja(2039);Na.encodeAsUint8=(Ga,Ha)=>{const Ya=Ha.shape,Xa=(0,Ba.getGlsl)(Ga.session.backend.glContext.version),Ka=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${Xa.texture2D}(X,TexCoords).r;
      ${Xa.output} = encodeAsUint8(value);
    }`,Qa={name:"Uint8Encode",inputTypes:[za.TextureType.unpacked],inputNames:["X"],output:{dims:Ya,type:Ha.tensor.type,textureType:za.TextureType.downloadUint8AsFloat},shaderSource:Ka,hasMain:!0};return Ga.executeProgram(Qa,[Ha.tensor])}},4909:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.tanh=Na.tan=Na.sqrt=Na.sin=Na.sigmoid=Na.relu=Na.not=Na.neg=Na.log=Na.parseLeakyReluAttributes=Na.leakyRelu=Na.identity=Na.floor=Na.exp=Na.parseEluAttributes=Na.elu=Na.cos=Na.ceil=Na.clipV11=Na.parseClipAttributes=Na.clip=Na.atan=Na.asin=Na.acos=Na.abs=Na.glslTanh=Na.glslTan=Na.glslSqrt=Na.glslSigmoid=Na.glslRelu=Na.glslSin=Na.glslNot=Na.glslNeg=Na.glslLog=Na.glslLeakyRelu=Na.glslIdentity=Na.glslClip=Na.glslFloor=Na.glslExp=Na.glslElu=Na.glslCos=Na.glslCeil=Na.glslAtan=Na.glslAsin=Na.glslAcos=Na.glslAbs=void 0;const Ba=ja(246),za=ja(2517),Ga=ja(8520),Ha=ja(5060),Ya=ja(2039);function Xa(){return _l("abs")}function Ka(){return _l("acos")}function Qa(){return _l("asin")}function Va(){return _l("atan")}function Ua(){return _l("ceil")}function Wa(){return _l("cos")}function Ja(ml){return{body:`
  const float alpha = float(${ml});

  float elu_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 elu_(vec4 v) {
    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));
  }
  `,name:"elu",type:Ga.FunctionType.ValueBased}}function Oo(){return _l("exp")}function Do(){return _l("floor")}function Mo(ml,Sl){const Cl="clip";return{body:`
  const float min = float(${ml});
  const float max = float(${Sl});

  float ${Cl}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Cl}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Cl,type:Ga.FunctionType.ValueBased}}function el(){const ml="indentity";return{body:`
  float ${ml}_(float a) {
    return a;
  }
  vec4 ${ml}_(vec4 v) {
    return v;
  }
  `,name:ml,type:Ga.FunctionType.ValueBased}}function tl(ml){const Sl="leakyRelu";return{body:`
  const float alpha = float(${ml});

  float ${Sl}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Sl}_(vec4 v) {
    return vec4(${Sl}_(v.x), ${Sl}_(v.y), ${Sl}_(v.z), ${Sl}_(v.w));
  }
  `,name:Sl,type:Ga.FunctionType.ValueBased}}function rl(){return _l("log")}function il(){return{body:`
  float neg_(float a) {
    return -a;
  }
  vec4 neg_(vec4 v) {
    return -v;
  }
  `,name:"neg",type:Ga.FunctionType.ValueBased}}function al(){return{body:`
  float not_(float a) {
    return float( ! bool(a) );
  }
  bool not_(bool a) {
    return !a;
  }
  vec4 not_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 not_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:"not",type:Ga.FunctionType.ValueBased}}function ll(){return _l("sin")}function ul(){const ml="relu";return{body:`
  float ${ml}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${ml}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:ml,type:Ga.FunctionType.ValueBased}}function ol(){const ml="sigmoid";return{body:`
  float ${ml}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${ml}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:ml,type:Ga.FunctionType.ValueBased}}function cl(){return _l("sqrt")}function gl(){return _l("tan")}function bl(){const ml="tanh";return{body:`
  float ${ml}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${ml}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:ml,type:Ga.FunctionType.ValueBased}}function _l(ml){return{body:`
  float ${ml}_(float a) {
    return ${ml}(a);
  }
  vec4 ${ml}_(vec4 v) {
    return ${ml}(v);
  }
  `,name:ml,type:Ga.FunctionType.ValueBased}}Na.glslAbs=Xa,Na.glslAcos=Ka,Na.glslAsin=Qa,Na.glslAtan=Va,Na.glslCeil=Ua,Na.glslCos=Wa,Na.glslElu=Ja,Na.glslExp=Oo,Na.glslFloor=Do,Na.glslClip=Mo,Na.glslIdentity=el,Na.glslLeakyRelu=tl,Na.glslLog=rl,Na.glslNeg=il,Na.glslNot=al,Na.glslSin=ll,Na.glslRelu=ul,Na.glslSigmoid=ol,Na.glslSqrt=cl,Na.glslTan=gl,Na.glslTanh=bl;const xl=(ml,Sl,Cl,Nl)=>{const dl=ml.session.pack?Ya.TextureType.packed:Ya.TextureType.unpacked,Rl={name:Cl.name,inputTypes:[dl],inputNames:["A"],cacheHint:Nl};return Object.assign(Object.assign({},Rl),{get:()=>((Tl,pl,jl,Ll)=>{const Dl=Tl.session.pack?Ya.TextureType.packed:Ya.TextureType.unpacked,$l=(0,Ha.getGlsl)(Tl.session.backend.glContext.version);return Object.assign(Object.assign({},pl),{output:{dims:jl.dims,type:jl.type,textureType:Dl},shaderSource:`
     ${Ll.body}
     void main() {
       vec4 v = ${$l.texture2D}(A, TexCoords);
       v = ${Ll.name}_(v);
       ${$l.output} = v;
     }
     `,hasMain:!0})})(ml,Rl,Sl,Cl)})};Na.abs=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Xa()),Sl)],Na.acos=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Ka()),Sl)],Na.asin=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Qa()),Sl)],Na.atan=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Va()),Sl)],Na.clip=(ml,Sl,Cl)=>[ml.run(xl(ml,Sl[0],Mo(Cl.min,Cl.max),Cl.cacheKey),Sl)],Na.parseClipAttributes=ml=>(0,Ba.createAttributeWithCacheKey)({min:ml.attributes.getFloat("min",za.MIN_CLIP),max:ml.attributes.getFloat("max",za.MAX_CLIP)}),Na.clipV11=(ml,Sl)=>{const Cl=Al(ml,Sl);return(0,Na.clip)(ml,[Sl[0]],Cl)};const Al=(ml,Sl)=>{if(Sl.length>=3&&(!ml.session.isInitializer(Sl[1].dataId)||!ml.session.isInitializer(Sl[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Cl=Sl.length>=3?Sl[1].numberData[0]:za.MIN_CLIP,Nl=Sl.length>=3?Sl[2].numberData[0]:za.MAX_CLIP;return(0,Ba.createAttributeWithCacheKey)({min:Cl,max:Nl})};Na.ceil=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Ua()),Sl)],Na.cos=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Wa()),Sl)],Na.elu=(ml,Sl,Cl)=>[ml.run(xl(ml,Sl[0],Ja(Cl.alpha),Cl.cacheKey),Sl)],Na.parseEluAttributes=ml=>(0,Ba.createAttributeWithCacheKey)({alpha:ml.attributes.getFloat("alpha",1)}),Na.exp=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Oo()),Sl)],Na.floor=(ml,Sl)=>[ml.run(xl(ml,Sl[0],Do()),Sl)],Na.identity=(ml,Sl)=>[ml.run(xl(ml,Sl[0],el()),Sl)],Na.leakyRelu=(ml,Sl,Cl)=>[ml.run(xl(ml,Sl[0],tl(Cl.alpha),Cl.cacheKey),Sl)],Na.parseLeakyReluAttributes=ml=>(0,Ba.createAttributeWithCacheKey)({alpha:ml.attributes.getFloat("alpha",.01)}),Na.log=(ml,Sl)=>[ml.run(xl(ml,Sl[0],rl()),Sl)],Na.neg=(ml,Sl)=>[ml.run(xl(ml,Sl[0],il()),Sl)],Na.not=(ml,Sl)=>[ml.run(xl(ml,Sl[0],al()),Sl)],Na.relu=(ml,Sl)=>[ml.run(xl(ml,Sl[0],ul()),Sl)],Na.sigmoid=(ml,Sl)=>[ml.run(xl(ml,Sl[0],ol()),Sl)],Na.sin=(ml,Sl)=>[ml.run(xl(ml,Sl[0],ll()),Sl)],Na.sqrt=(ml,Sl)=>[ml.run(xl(ml,Sl[0],cl()),Sl)],Na.tan=(ml,Sl)=>[ml.run(xl(ml,Sl[0],gl()),Sl)],Na.tanh=(ml,Sl)=>[ml.run(xl(ml,Sl[0],bl()),Sl)]},5611:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createUnpackProgramInfoLoader=Na.createUnpackProgramInfo=void 0;const Ba=ja(5060),za=ja(2039),Ga=ja(9390),Ha=ja(2827),Ya={name:"unpack",inputNames:["A"],inputTypes:[za.TextureType.packed]};Na.createUnpackProgramInfo=(Xa,Ka)=>{const Qa=Ka.dims.length,Va=(0,Ha.getChannels)("rc",Qa),Ua=Va.slice(-2),Wa=(0,Ga.getCoordsDataType)(Qa),Ja=(0,Ha.unpackFromChannel)(),Oo=Ka.dims.length===0?"":(function(el,tl){if(el===1)return"rc";let rl="";for(let il=0;il<el;il++)rl+=tl[il],il<el-1&&(rl+=",");return rl})(Qa,Va),Do=Qa<=1?"rc":`vec2(${Ua.join(",")})`,Mo=`
    ${Ja}
    void main() {
      ${Wa} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${Oo});

       ${(0,Ba.getGlsl)(Xa.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${Do}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},Ya),{hasMain:!0,output:{dims:Ka.dims,type:Ka.type,textureType:za.TextureType.unpacked},shaderSource:Mo})},Na.createUnpackProgramInfoLoader=(Xa,Ka)=>Object.assign(Object.assign({},Ya),{get:()=>(0,Na.createUnpackProgramInfo)(Xa,Ka)})},8428:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.parseUnsqueezeAttributes=Na.unsqueezeV13=Na.unsqueeze=void 0;const Ba=ja(2517);Na.unsqueeze=(Ha,Ya,Xa)=>{za(Ya);const Ka=Ba.ShapeUtil.unsqueezeShape(Ya[0].dims,Xa);return[Ha.reshapeUnpacked(Ya[0],Ka)]},Na.unsqueezeV13=(Ha,Ya)=>(Ga(Ya),(0,Na.unsqueeze)(Ha,[Ya[0]],Array.from(Ya[1].integerData))),Na.parseUnsqueezeAttributes=Ha=>Ha.attributes.getInts("axes");const za=Ha=>{if(!Ha||Ha.length!==1)throw new Error("Unsqueeze requires 1 input.");if(Ha[0].type==="string")throw new Error("invalid input tensor types.")},Ga=Ha=>{if(!Ha||Ha.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(Ha[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.scalesValidation=Na.validateInputs=Na.parseUpsampleAttributes=Na.parseUpsampleAttributesV9=Na.parseUpsampleAttributesV7=Na.upsample=void 0;const Ba=ja(246),za=ja(5060),Ga=ja(2039),Ha={name:"Upsample",inputNames:["X"],inputTypes:[Ga.TextureType.unpacked]};Na.upsample=(Xa,Ka,Qa)=>((0,Na.validateInputs)(Ka,Qa),[Xa.run(Object.assign(Object.assign({},Ha),{cacheHint:Qa.cacheKey,get:()=>Ya(Xa,Ka,Qa)}),Ka)]),Na.parseUpsampleAttributesV7=Xa=>(0,Na.parseUpsampleAttributes)(Xa,7),Na.parseUpsampleAttributesV9=Xa=>(0,Na.parseUpsampleAttributes)(Xa,9),Na.parseUpsampleAttributes=(Xa,Ka)=>{const Qa=Ka>=10,Va=Xa.attributes.getString("mode","nearest");if(Va!=="nearest"&&Va!=="linear"&&(Ka<11||Va!=="cubic"))throw new Error(`unrecognized mode: ${Va}`);let Ua=[];Ka<9&&(Ua=Xa.attributes.getFloats("scales"),(0,Na.scalesValidation)(Ua,Va,Qa));const Wa=Xa.attributes.getFloat("extrapolation_value",0),Ja=Ka>10?Xa.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(Ja)===-1)throw new Error(`coordinate_transform_mode '${Ja}' is not supported`);const Oo=Ja==="tf_crop_and_resize",Do=Oo,Mo=Va==="nearest"&&Ka>=11?Xa.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(Mo)===-1)throw new Error(`nearest_mode '${Mo}' is not supported`);const el=Xa.attributes.getFloat("cubic_coeff_a",-.75),tl=Xa.attributes.getInt("exclude_outside",0)!==0;if(tl&&Va!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const rl=Ka<11||Va==="nearest"&&Ja==="asymmetric"&&Mo==="floor";let il=0,al=0,ll=0;return Ka>10?Xa.inputs.length>2?(il=1,al=2,ll=3):(al=1,ll=2):Ka===9&&(al=1),(0,Ba.createAttributeWithCacheKey)({opset:Ka,isResize:Qa,mode:Va,scales:Ua,extrapolationValue:Wa,coordinateTransformMode:Ja,useExtrapolation:Do,needRoiInput:Oo,nearestMode:Mo,cubicCoefficientA:el,excludeOutside:tl,useNearest2xOptimization:rl,roiInputIdx:il,scalesInputIdx:al,sizesInputIdx:ll})};const Ya=(Xa,Ka,Qa)=>{const Va=(0,za.getGlsl)(Xa.session.backend.glContext.version),[Ua,Wa]=Xa.calculateTextureWidthAndHeight(Ka[0].dims,Ga.TextureType.unpacked),Ja=Ka[0].dims.map(((ll,ul)=>Math.floor(ll*Qa.scales[ul]))),[Oo,Do]=Xa.calculateTextureWidthAndHeight(Ja,Ga.TextureType.unpacked),Mo=Ja.length,el=new Array(Mo),tl=new Array(Mo);let rl=`
      int output_pitches[${Mo}];
      int input_pitches[${Mo}];
      `;for(let ll=Mo-1;ll>=0;ll--)el[ll]=ll===Mo-1?1:el[ll+1]*Ja[ll+1],tl[ll]=ll===Mo-1?1:tl[ll+1]*Ka[0].dims[ll+1],rl+=`
        output_pitches[${ll}] = ${el[ll]};
        input_pitches[${ll}] = ${tl[ll]};
        `;const il=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${Ua}, ${Wa});
        float value = getColorAsFloat(${Va.texture2D}(X, coords));
        return value;
      }
      `,al=Qa.mode==="nearest"?`
    ${il}
    float process(int indices[${Mo}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${Oo}, ${Do});

      ${rl}

      int d, m;
      for (int dim = 0; dim < ${Mo}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:Mo===4?`
    ${il}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${Oo}, ${Do});

      ${rl}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${Ka[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${il}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${Oo}, ${Do});

      ${rl}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${Ka[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},Ha),{output:{dims:Ja,type:Ka[0].type,textureType:Ga.TextureType.unpacked},shaderSource:al,variables:[{name:"scales",type:"int",arrayLength:Qa.scales.length,data:Qa.scales.map((ll=>Math.ceil(ll)))}]})};Na.validateInputs=(Xa,Ka)=>{if(!Xa||Ka.opset<9&&Xa.length!==1||Ka.opset>=9&&Ka.opset<11&&Xa.length!==2||Ka.opset>=11&&Xa.length<2)throw new Error("invalid inputs.");if(Ka.scales.length>0&&Xa[0].dims.length!==Ka.scales.length)throw new Error("Invalid input shape.");if(Xa[0].type==="string")throw new Error("Invalid input tensor types.")},Na.scalesValidation=(Xa,Ka,Qa)=>{if(Qa){for(const Va of Xa)if(Va<=0)throw new Error("Scale value should be greater than 0.")}else for(const Va of Xa)if(Va<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(Ka!=="linear"&&Ka!=="cubic"||Xa.length===2||Xa.length===4&&Xa[0]===1&&Xa[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${Qa?"Resize":"Upsample"} opeartor.`)}},1958:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.ProgramManager=void 0;const Ba=ja(1670),za=ja(6231),Ga=ja(8879),Ha=ja(5060);Na.ProgramManager=class{constructor(Ya,Xa,Ka){this.profiler=Ya,this.glContext=Xa,this.textureLayoutStrategy=Ka,this.repo=new Map,this.attributesBound=!1}getArtifact(Ya){return this.repo.get(Ya)}setArtifact(Ya,Xa){this.repo.set(Ya,Xa)}run(Ya,Xa,Ka){var Qa;this.profiler.event("op",`ProgramManager.run ${(Qa=Ya.programInfo.name)!==null&&Qa!==void 0?Qa:"unknown kernel"}`,(()=>{var Va;const Ua=this.glContext.gl,Wa=Ya.program;Ua.useProgram(Wa);try{this.bindOutput(Ka),this.attributesBound||this.bindAttributes(Ya.attribLocations),this.bindUniforms(Ya.uniformLocations,(Va=Ya.programInfo.variables)!==null&&Va!==void 0?Va:[],Xa)}catch(Ja){throw za.Logger.error("ProgramManager",Ya.programInfo.shaderSource),Ja}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((Ya=>this.glContext.deleteProgram(Ya.program)))}build(Ya,Xa,Ka){return this.profiler.event("backend","ProgramManager.build",(()=>{const Qa=new Ga.GlslPreprocessor(this.glContext,Ya,Xa,Ka),Va=Qa.preprocess(),Ua=this.compile(Va);return{programInfo:Ya,program:Ua,uniformLocations:this.getUniformLocations(Ua,Qa.context.programInfo.inputNames,Qa.context.programInfo.variables),attribLocations:this.getAttribLocations(Ua)}}))}compile(Ya){if(!this.vertexShader){za.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const Qa=(0,Ha.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(Qa,this.glContext.gl.VERTEX_SHADER)}Ba.env.debug&&za.Logger.verbose("ProrgramManager",`FragShader:
${Ya}
`);const Xa=this.glContext.compileShader(Ya,this.glContext.gl.FRAGMENT_SHADER),Ka=this.glContext.createProgram(this.vertexShader,Xa);return this.glContext.deleteShader(Xa),Ka}bindOutput(Ya){const Xa=Ya.width,Ka=Ya.height;za.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${Xa}/${Ka}, shape=${Ya.shape}, type=${Ya.tensor.type}`),this.glContext.attachFramebuffer(Ya.texture,Xa,Ka)}bindAttributes(Ya){const Xa=Ya.position,Ka=Ya.textureCoord;this.glContext.setVertexAttributes(Xa,Ka),this.attributesBound=!0}bindUniforms(Ya,Xa,Ka){var Qa;const Va=this.glContext.gl;let Ua=0;for(const{name:Wa,type:Ja,location:Oo,arrayLength:Do}of Ya){const Mo=(Qa=Xa.find((el=>el.name===Wa)))===null||Qa===void 0?void 0:Qa.data;if(Ja!=="sampler2D"&&!Mo)throw new Error(`variable '${Wa}' does not have data defined in program info`);switch(Ja){case"sampler2D":this.bindTexture(Ka[Ua],Oo,Ua),Ua++;break;case"float":Do?Va.uniform1fv(Oo,Mo):Va.uniform1f(Oo,Mo);break;case"int":Do?Va.uniform1iv(Oo,Mo):Va.uniform1i(Oo,Mo);break;default:throw new Error(`Uniform not implemented: ${Ja}`)}}}bindTexture(Ya,Xa,Ka){this.glContext.bindTextureToUniform(Ya.texture,Ka,Xa)}getAttribLocations(Ya){return{position:this.getAttribLocation(Ya,"position"),textureCoord:this.getAttribLocation(Ya,"textureCoord")}}getUniformLocations(Ya,Xa,Ka){const Qa=[];if(Xa)for(const Va of Xa)Qa.push({name:Va,type:"sampler2D",location:this.getUniformLocation(Ya,Va)});if(Ka)for(const Va of Ka)Qa.push(Object.assign(Object.assign({},Va),{location:this.getUniformLocation(Ya,Va.name)}));return Qa}getUniformLocation(Ya,Xa){const Ka=this.glContext.gl.getUniformLocation(Ya,Xa);if(Ka===null)throw new Error(`Uniform ${Xa} not found.`);return Ka}getAttribLocation(Ya,Xa){return this.glContext.gl.getAttribLocation(Ya,Xa)}}},6416:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.WebGLSessionHandler=void 0;const Ba=ja(6231),za=ja(1047),Ga=ja(8316),Ha=ja(1640),Ya=ja(1958),Xa=ja(7859),Ka=ja(5702);Na.WebGLSessionHandler=class{constructor(Qa,Va){this.backend=Qa,this.context=Va,this.layoutStrategy=new Xa.PreferLogicalStrategy(Qa.glContext.maxTextureSize),this.programManager=new Ya.ProgramManager(this.context.profiler,Qa.glContext,this.layoutStrategy),this.textureManager=new Ka.TextureManager(Qa.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:Qa.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=Qa.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new Ga.WebGLInferenceHandler(this)}onGraphInitialized(Qa){const Va=Qa.getValues().filter((Ua=>Ua.from===-1&&Ua.tensor)).map((Ua=>Ua.tensor.dataId));this.initializers=new Set(Va)}isInitializer(Qa){return!!this.initializers&&this.initializers.has(Qa)}addInitializer(Qa){this.initializers.add(Qa)}getTextureData(Qa,Va){return Va?this.packedTextureDataCache.get(Qa):this.unpackedTextureDataCache.get(Qa)}setTextureData(Qa,Va,Ua=!1){Ba.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),Ua?this.packedTextureDataCache.set(Qa,Va):this.unpackedTextureDataCache.set(Qa,Va)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((Qa=>this.textureManager.releaseTexture(Qa,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((Qa=>this.textureManager.releaseTexture(Qa,!0))),this.unpackedTextureDataCache=new Map}resolve(Qa,Va,Ua){const Wa=(0,za.resolveOperator)(Qa,Va,Ha.WEBGL_OP_RESOLVE_RULES);return{impl:Wa.opImpl,context:Wa.opInit?Wa.opInit(Qa,Ua):Qa}}}},7769:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.Uint8DataEncoder=Na.RGBAFloatDataEncoder=Na.RedFloat32DataEncoder=void 0;const Ba=ja(6231);Na.RedFloat32DataEncoder=class{constructor(za,Ga=1){if(Ga===1)this.internalFormat=za.R32F,this.format=za.RED,this.textureType=za.FLOAT,this.channelSize=Ga;else{if(Ga!==4)throw new Error(`Invalid number of channels: ${Ga}`);this.internalFormat=za.RGBA32F,this.format=za.RGBA,this.textureType=za.FLOAT,this.channelSize=Ga}}encode(za,Ga){let Ha,Ya;return za.constructor!==Float32Array&&(Ba.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),Ya=new Float32Array(za)),Ga*this.channelSize>za.length?(Ba.Logger.warning("Encoder","Source data too small. Allocating larger array"),Ya=za,Ha=this.allocate(Ga*this.channelSize),Ya.forEach(((Xa,Ka)=>Ha[Ka]=Xa))):(Ya=za,Ha=Ya),Ha}allocate(za){return new Float32Array(4*za)}decode(za,Ga){return this.channelSize===1?za.filter(((Ha,Ya)=>Ya%4==0)).subarray(0,Ga):za.subarray(0,Ga)}},Na.RGBAFloatDataEncoder=class{constructor(za,Ga=1,Ha){if(Ga!==1&&Ga!==4)throw new Error(`Invalid number of channels: ${Ga}`);this.internalFormat=za.RGBA,this.format=za.RGBA,this.channelSize=Ga,this.textureType=Ha||za.FLOAT}encode(za,Ga){let Ha=za;return this.channelSize===1&&(Ba.Logger.verbose("Encoder","Exploding into a larger array"),Ha=this.allocate(Ga),za.forEach(((Ya,Xa)=>Ha[4*Xa]=Ya))),Ha}allocate(za){return new Float32Array(4*za)}decode(za,Ga){return this.channelSize===1?za.filter(((Ha,Ya)=>Ya%4==0)).subarray(0,Ga):za.subarray(0,Ga)}},Na.Uint8DataEncoder=class{constructor(za,Ga=1){if(this.channelSize=4,Ga===1)this.internalFormat=za.ALPHA,this.format=za.ALPHA,this.textureType=za.UNSIGNED_BYTE,this.channelSize=Ga;else{if(Ga!==4)throw new Error(`Invalid number of channels: ${Ga}`);this.internalFormat=za.RGBA,this.format=za.RGBA,this.textureType=za.UNSIGNED_BYTE,this.channelSize=Ga}}encode(za,Ga){return new Uint8Array(za.buffer,za.byteOffset,za.byteLength)}allocate(za){return new Uint8Array(za*this.channelSize)}decode(za,Ga){if(za instanceof Uint8Array)return za.subarray(0,Ga);throw new Error(`Invalid array type: ${za.constructor}`)}}},7859:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.getBatchDim=Na.sizeToSquarishShape=Na.getRowsCols=Na.sizeFromShape=Na.isInt=Na.parseAxisParam=Na.squeezeShape=Na.PreferLogicalStrategy=Na.AlwaysKeepOriginalSizeStrategy=void 0;const Ba=ja(6231),za=ja(2517);function Ga(Qa,Va){const Ua=[],Wa=[],Ja=Va!=null&&Array.isArray(Va)&&Va.length===0,Oo=Va==null||Ja?null:Ha(Va,Qa).sort();let Do=0;for(let Mo=0;Mo<Qa.length;++Mo){if(Oo!=null){if(Oo[Do]===Mo&&Qa[Mo]!==1)throw new Error(`Can't squeeze axis ${Mo} since its dim '${Qa[Mo]}' is not 1`);(Oo[Do]==null||Oo[Do]>Mo)&&Qa[Mo]===1&&(Ua.push(Qa[Mo]),Wa.push(Mo)),Oo[Do]<=Mo&&Do++}Qa[Mo]!==1&&(Ua.push(Qa[Mo]),Wa.push(Mo))}return{newShape:Ua,keptDims:Wa}}function Ha(Qa,Va){const Ua=Va.length;return Qa=Qa==null?Va.map(((Wa,Ja)=>Ja)):[].concat(Qa),(0,za.assert)(Qa.every((Wa=>Wa>=-Ua&&Wa<Ua)),(()=>`All values in axis param must be in range [-${Ua}, ${Ua}) but got axis ${Qa}`)),(0,za.assert)(Qa.every(Ya),(()=>`All values in axis param must be integers but got axis ${Qa}`)),Qa.map((Wa=>Wa<0?Ua+Wa:Wa))}function Ya(Qa){return Qa%1==0}function Xa(Qa){if(Qa.length===0)return 1;let Va=Qa[0];for(let Ua=1;Ua<Qa.length;Ua++)Va*=Qa[Ua];return Va}function Ka(Qa){const Va=Math.ceil(Math.sqrt(Qa));return[Va,Math.ceil(Qa/Va)]}Na.AlwaysKeepOriginalSizeStrategy=class{constructor(Qa){this.maxTextureSize=Qa}computeTextureWH(Qa,Va){if(Qa.length===0)return[1,1];const Ua=this.maxTextureSize;if(Va&&Va.breakAxis!==void 0){const Oo=Va.breakAxis>=Qa.length?1:Qa.slice(Va.breakAxis).reduce(((Mo,el)=>Mo*el)),Do=Va.breakAxis<=0?1:Qa.slice(0,Va.breakAxis).reduce(((Mo,el)=>Mo*el));if(!(Oo>Ua||Do>Ua))return[Oo,Do];Ba.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${Qa}, breakAxis:${Va.breakAxis}`)}const Wa=Qa.reduce(((Oo,Do)=>Oo*Do));let Ja=Math.floor(Math.sqrt(Wa));for(;Ja<Ua&&Ja<Wa&&Wa%Ja!=0;Ja++);if(Ja>=Ua||Wa%Ja!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${Qa}`);return[Ja,Wa/Ja]}},Na.PreferLogicalStrategy=class{constructor(Qa){this.maxTextureSize=Qa}computeTextureWH(Qa,Va){const Ua=this.computeTexture(Qa,Va);return Va&&Va.isPacked&&(Ua[0]/=2,Ua[1]/=2),Va&&Va.reverseWH?[Ua[1],Ua[0]]:Ua}computeTexture(Qa,Va){const Ua=Va&&Va.isPacked;if(Qa.length===0)return Ua?[2,2]:[1,1];let Wa=this.maxTextureSize;if(Va&&Va.breakAxis!==void 0){const Do=Va.breakAxis>=Qa.length?1:Qa.slice(Va.breakAxis).reduce(((el,tl)=>el*tl)),Mo=Va.breakAxis<=0?1:Qa.slice(0,Va.breakAxis).reduce(((el,tl)=>el*tl));if(!(Do>Wa||Mo>Wa))return[Do,Mo];Ba.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${Qa}, breakAxis:${Va.breakAxis}`)}let Ja=Qa.slice(0);Ua&&(Wa*=2,Ja=Ja.map(((Do,Mo)=>Mo>=Ja.length-2?Ja[Mo]%2==0?Ja[Mo]:Ja[Mo]+1:Ja[Mo])),Ja.length===1&&(Ja=[2,Ja[0]])),Ja.length!==2&&(Ja=Ga(Ja).newShape);const Oo=Xa(Ja);return Ja.length<=1&&Oo<=Wa?[1,Oo]:Ja.length===2&&Ja[0]<=Wa&&Ja[1]<=Wa?Ja:Ja.length===3&&Ja[0]*Ja[1]<=Wa&&Ja[2]<=Wa?[Ja[0]*Ja[1],Ja[2]]:Ja.length===3&&Ja[0]<=Wa&&Ja[1]*Ja[2]<=Wa?[Ja[0],Ja[1]*Ja[2]]:Ja.length===4&&Ja[0]*Ja[1]*Ja[2]<=Wa&&Ja[3]<=Wa?[Ja[0]*Ja[1]*Ja[2],Ja[3]]:Ja.length===4&&Ja[0]<=Wa&&Ja[1]*Ja[2]*Ja[3]<=Wa?[Ja[0],Ja[1]*Ja[2]*Ja[3]]:Ua?Ka(Oo/4).map((Do=>2*Do)):Ka(Oo)}},Na.squeezeShape=Ga,Na.parseAxisParam=Ha,Na.isInt=Ya,Na.sizeFromShape=Xa,Na.getRowsCols=function(Qa){if(Qa.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[Qa.length>1?Qa[Qa.length-2]:1,Qa[Qa.length-1]]},Na.sizeToSquarishShape=Ka,Na.getBatchDim=function(Qa,Va=2){return Xa(Qa.slice(0,Qa.length-Va))}},4057:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createTextureLayoutFromShape=Na.calculateTextureWidthAndHeight=Na.createTextureLayoutFromTextureType=void 0;const Ba=ja(2517),za=ja(2039);Na.createTextureLayoutFromTextureType=(Ga,Ha,Ya)=>{const Xa=Ya===za.TextureType.unpacked||Ya===za.TextureType.unpackedReversed?1:4,Ka=Ya===za.TextureType.packed,Qa=Ya===za.TextureType.unpackedReversed||Ya===za.TextureType.packed,Va=Ya===za.TextureType.packedLastDimension?Ha.length-1:void 0,Ua=Ya===za.TextureType.packedLastDimension?Ha.map(((Wa,Ja)=>Ja===Ha.length-1?4*Wa:Wa)):void 0;return(0,Na.createTextureLayoutFromShape)(Ga,Ha,Xa,Ua,{isPacked:Ka,reverseWH:Qa,breakAxis:Va})},Na.calculateTextureWidthAndHeight=(Ga,Ha,Ya)=>{const Xa=(0,Na.createTextureLayoutFromTextureType)(Ga,Ha,Ya);return[Xa.width,Xa.height]},Na.createTextureLayoutFromShape=(Ga,Ha,Ya=1,Xa,Ka)=>{const Qa=!(!Ka||!Ka.isPacked),[Va,Ua]=Ga.computeTextureWH(Qa&&Xa||Ha,Ka),Wa=Ha.length;let Ja=Ha.slice(0);if(Wa===0&&(Ja=[1]),Ya===1)Xa=Ha;else if(Qa){if(Ya!==4)throw new Error("a packed texture must be 4-channel");Xa=Ha,Wa>0&&(Ja[Wa-1]=Math.ceil(Ja[Wa-1]/2)),Wa>1&&(Ja[Wa-2]=Math.ceil(Ja[Wa-2]/2))}else if(!Xa)throw new Error("Unpacked shape is needed when using channels > 1");return{width:Va,height:Ua,channels:Ya,isPacked:Qa,shape:Ja,strides:Ba.ShapeUtil.computeStrides(Ja),unpackedShape:Xa,reversedWH:Ka&&Ka.reverseWH}}},5702:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.TextureManager=void 0;const Ba=ja(6231);Na.TextureManager=class{constructor(za,Ga,Ha,Ya){this.glContext=za,this.layoutStrategy=Ga,this.profiler=Ha,this.config=Ya,this.pendingRead=new Map,Ya.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(za,Ga,Ha,Ya){const Xa=this.toEncoderType(za),Ka=this.glContext.getEncoder(Xa,Ga.channels||1,Ya);if(Ga.isPacked&&Ya===1)throw new Error("not implemented");const Qa=Ga.width,Va=Ga.height;let Ua,Wa;if(this.config.reuseTextures){Ua=`${Qa}x${Va}_${Ka.format}_${Ka.internalFormat}_${Ka.textureType}`,Wa=this.inUseTextures.get(Ua),Wa||(Wa=[],this.inUseTextures.set(Ua,Wa));const Oo=this.idleTextures.get(Ua);if(Oo&&Oo.length>0){const Do=Oo.pop();return Wa.push(Do),Ya===1&&this.glContext.updateTexture(Do,Qa,Va,Ka,this.toTextureData(za,Ha)),Do}}Ba.Logger.verbose("TextureManager",`Creating new texture of size ${Ga.width}x${Ga.height}`);const Ja=this.glContext.allocateTexture(Qa,Va,Ka,this.toTextureData(za,Ha));return this.config.reuseTextures&&(Wa.push(Ja),this.textureLookup.set(Ja,Ua)),Ja}readTexture(za,Ga,Ha){return Ha||(Ha=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const Ya=za.shape.reduce(((Ka,Qa)=>Ka*Qa))*Ha,Xa=this.glContext.readTexture(za.texture,za.width,za.height,Ya,this.toEncoderType(Ga),Ha);return this.toTensorData(Ga,Xa)}))}async readTextureAsync(za,Ga,Ha){const Ya=za.tensor.dataId;if(Ha||(Ha=1),this.pendingRead.has(Ya)){const Xa=this.pendingRead.get(Ya);return new Promise((Ka=>Xa?.push(Ka)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(Ya,[]);const Xa=za.shape.reduce(((Ua,Wa)=>Ua*Wa))*Ha;await this.glContext.createAndWaitForFence();const Ka=this.glContext.readTexture(za.texture,za.width,za.height,Xa,this.toEncoderType(Ga),Ha),Qa=this.toTensorData(Ga,Ka),Va=this.pendingRead.get(Ya);return this.pendingRead.delete(Ya),Va?.forEach((Ua=>Ua(Qa))),Qa}))}readUint8TextureAsFloat(za){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const Ga=za.shape.reduce(((Ya,Xa)=>Ya*Xa)),Ha=this.glContext.readTexture(za.texture,za.width,za.height,4*Ga,"byte",4);return new Float32Array(Ha.buffer,Ha.byteOffset,Ga)}))}releaseTexture(za,Ga){let Ha;if(this.config.reuseTextures&&(Ha=this.textureLookup.get(za.texture),Ha)){Ga&&this.textureLookup.delete(Ha);const Ya=this.inUseTextures.get(Ha);if(Ya){const Xa=Ya.indexOf(za.texture);if(Xa!==-1){Ya.splice(Xa,1);let Ka=this.idleTextures.get(Ha);Ka||(Ka=[],this.idleTextures.set(Ha,Ka)),Ka.push(za.texture)}}}Ha&&!Ga||(Ba.Logger.verbose("TextureManager",`Deleting texture of size ${za.width}x${za.height}`),this.glContext.deleteTexture(za.texture))}toTensorData(za,Ga){switch(za){case"int16":return Ga instanceof Int16Array?Ga:Int16Array.from(Ga);case"int32":return Ga instanceof Int32Array?Ga:Int32Array.from(Ga);case"int8":return Ga instanceof Int8Array?Ga:Int8Array.from(Ga);case"uint16":return Ga instanceof Uint16Array?Ga:Uint16Array.from(Ga);case"uint32":return Ga instanceof Uint32Array?Ga:Uint32Array.from(Ga);case"uint8":case"bool":return Ga instanceof Uint8Array?Ga:Uint8Array.from(Ga);case"float32":return Ga instanceof Float32Array?Ga:Float32Array.from(Ga);case"float64":return Ga instanceof Float64Array?Ga:Float64Array.from(Ga);default:throw new Error(`TensorData type ${za} is not supported`)}}toTextureData(za,Ga){if(Ga)return Ga instanceof Float32Array?Ga:new Float32Array(Ga)}toEncoderType(za){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(La,Na)=>{var ja;Object.defineProperty(Na,"__esModule",{value:!0}),Na.TextureType=void 0,(ja=Na.TextureType||(Na.TextureType={}))[ja.unpacked=0]="unpacked",ja[ja.unpackedReversed=1]="unpackedReversed",ja[ja.packed=2]="packed",ja[ja.downloadUint8AsFloat=3]="downloadUint8AsFloat",ja[ja.packedLastDimension=4]="packedLastDimension"},9390:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.getGlChannels=Na.getCoordsDataType=Na.getSqueezedParams=Na.squeezeInputShape=Na.generateShaderFuncNameFromInputSamplerNameAtOutCoords=Na.generateShaderFuncNameFromInputSamplerName=Na.repeatedTry=Na.getPackedShape=void 0;const Ba=ja(2517);Na.getPackedShape=function(za){const Ga=za.length;return za.slice(0,Ga-1).concat(za[Ga-1]/4)},Na.repeatedTry=async function(za,Ga=(Ya=>0),Ha){return new Promise(((Ya,Xa)=>{let Ka=0;const Qa=()=>{if(za())return void Ya();Ka++;const Va=Ga(Ka);Ha!=null&&Ka>=Ha?Xa():setTimeout(Qa,Va)};Qa()}))},Na.generateShaderFuncNameFromInputSamplerName=function(za){return(0,Ba.assert)(za!==void 0&&za.length!==0,(()=>"empty string found for sampler name")),"get"+za.charAt(0).toUpperCase()+za.slice(1)},Na.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(za){return(0,Ba.assert)(za!==void 0&&za.length!==0,(()=>"empty string found for sampler name")),"get"+za.charAt(0).toUpperCase()+za.slice(1)+"AtOutCoords"},Na.squeezeInputShape=function(za,Ga){let Ha=JSON.parse(JSON.stringify(za));return Ha=Ga,Ha},Na.getSqueezedParams=function(za,Ga){return Ga.map((Ha=>za[Ha])).join(", ")},Na.getCoordsDataType=function(za){if(za<=1)return"int";if(za===2)return"ivec2";if(za===3)return"ivec3";if(za===4)return"ivec4";if(za===5)return"ivec5";if(za===6)return"ivec6";throw Error(`GPU for rank ${za} is not yet supported`)},Na.getGlChannels=function(za=6){return["x","y","z","w","u","v"].slice(0,za)}},7305:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.createNewWebGLContext=Na.createWebGLContext=void 0;const Ba=ja(6231),za=ja(1713),Ga={};function Ha(Ya){const Xa=(function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const Va=document.createElement("canvas");return Va.width=1,Va.height=1,Va})();let Ka;const Qa={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!Ya||Ya==="webgl2")&&(Ka=Xa.getContext("webgl2",Qa),Ka))try{return new za.WebGLContext(Ka,2)}catch(Va){Ba.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${Va}`)}if((!Ya||Ya==="webgl")&&(Ka=Xa.getContext("webgl",Qa)||Xa.getContext("experimental-webgl",Qa),Ka))try{return new za.WebGLContext(Ka,1)}catch(Va){Ba.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${Va}`)}throw new Error("WebGL is not supported")}Na.createWebGLContext=function Ya(Xa){let Ka;Xa&&Xa!=="webgl2"||!("webgl2"in Ga)?Xa&&Xa!=="webgl"||!("webgl"in Ga)||(Ka=Ga.webgl):Ka=Ga.webgl2,Ka=Ka||Ha(Xa),Xa=Xa||Ka.version===1?"webgl":"webgl2";const Qa=Ka.gl;return Ga[Xa]=Ka,Qa.isContextLost()?(delete Ga[Xa],Ya(Xa)):(Qa.disable(Qa.DEPTH_TEST),Qa.disable(Qa.STENCIL_TEST),Qa.disable(Qa.BLEND),Qa.disable(Qa.DITHER),Qa.disable(Qa.POLYGON_OFFSET_FILL),Qa.disable(Qa.SAMPLE_COVERAGE),Qa.enable(Qa.SCISSOR_TEST),Qa.enable(Qa.CULL_FACE),Qa.cullFace(Qa.BACK),Ka)},Na.createNewWebGLContext=Ha},1713:function(La,Na,ja){var Ba=this&&this.__createBinding||(Object.create?function(Qa,Va,Ua,Wa){Wa===void 0&&(Wa=Ua);var Ja=Object.getOwnPropertyDescriptor(Va,Ua);Ja&&!("get"in Ja?!Va.__esModule:Ja.writable||Ja.configurable)||(Ja={enumerable:!0,get:function(){return Va[Ua]}}),Object.defineProperty(Qa,Wa,Ja)}:function(Qa,Va,Ua,Wa){Wa===void 0&&(Wa=Ua),Qa[Wa]=Va[Ua]}),za=this&&this.__setModuleDefault||(Object.create?function(Qa,Va){Object.defineProperty(Qa,"default",{enumerable:!0,value:Va})}:function(Qa,Va){Qa.default=Va}),Ga=this&&this.__importStar||function(Qa){if(Qa&&Qa.__esModule)return Qa;var Va={};if(Qa!=null)for(var Ua in Qa)Ua!=="default"&&Object.prototype.hasOwnProperty.call(Qa,Ua)&&Ba(Va,Qa,Ua);return za(Va,Qa),Va};Object.defineProperty(Na,"__esModule",{value:!0}),Na.WebGLContext=Na.linearSearchLastTrue=void 0;const Ha=ja(1670),Ya=Ga(ja(7769)),Xa=ja(9390);function Ka(Qa){let Va=0;for(;Va<Qa.length&&Qa[Va]();++Va);return Va-1}Na.linearSearchLastTrue=Ka,Na.WebGLContext=class{constructor(Qa,Va){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=Qa,this.version=Va,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(Qa,Va,Ua,Wa){const Ja=this.gl,Oo=Ja.createTexture();Ja.bindTexture(Ja.TEXTURE_2D,Oo),Ja.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_MIN_FILTER,Ja.NEAREST),Ja.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_MAG_FILTER,Ja.NEAREST),Ja.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_WRAP_S,Ja.CLAMP_TO_EDGE),Ja.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_WRAP_T,Ja.CLAMP_TO_EDGE);const Do=Wa?Ua.encode(Wa,Qa*Va):null;return Ja.texImage2D(Ja.TEXTURE_2D,0,Ua.internalFormat,Qa,Va,0,Ua.format,Ua.textureType,Do),this.checkError(),Oo}updateTexture(Qa,Va,Ua,Wa,Ja){const Oo=this.gl;Oo.bindTexture(Oo.TEXTURE_2D,Qa);const Do=Wa.encode(Ja,Va*Ua);Oo.texSubImage2D(Oo.TEXTURE_2D,0,0,0,Va,Ua,Wa.format,Wa.textureType,Do),this.checkError()}attachFramebuffer(Qa,Va,Ua){const Wa=this.gl;Wa.bindTexture(Wa.TEXTURE_2D,Qa),Wa.bindFramebuffer(Wa.FRAMEBUFFER,this.framebuffer),Wa.framebufferTexture2D(Wa.FRAMEBUFFER,Wa.COLOR_ATTACHMENT0,Wa.TEXTURE_2D,Qa,0),this.checkError(),Wa.viewport(0,0,Va,Ua),Wa.scissor(0,0,Va,Ua)}readTexture(Qa,Va,Ua,Wa,Ja,Oo){const Do=this.gl;Oo||(Oo=1),this.frameBufferBound||this.attachFramebuffer(Qa,Va,Ua);const Mo=this.getEncoder(Ja,Oo),el=Mo.allocate(Va*Ua);return Do.bindTexture(Do.TEXTURE_2D,Qa),Do.framebufferTexture2D(Do.FRAMEBUFFER,Do.COLOR_ATTACHMENT0,Do.TEXTURE_2D,Qa,0),Do.readPixels(0,0,Va,Ua,Do.RGBA,Mo.textureType,el),this.checkError(),Mo.decode(el,Wa)}isFramebufferReady(){return!0}getActiveTexture(){const Qa=this.gl;return"TEXTURE"+(Qa.getParameter(this.gl.ACTIVE_TEXTURE)-Qa.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(Qa,Va){const Ua=this.gl;Ua.vertexAttribPointer(Qa,3,Ua.FLOAT,!1,20,0),Ua.enableVertexAttribArray(Qa),Va!==-1&&(Ua.vertexAttribPointer(Va,2,Ua.FLOAT,!1,20,12),Ua.enableVertexAttribArray(Va)),this.checkError()}createProgram(Qa,Va){const Ua=this.gl,Wa=Ua.createProgram();return Ua.attachShader(Wa,Qa),Ua.attachShader(Wa,Va),Ua.linkProgram(Wa),Wa}compileShader(Qa,Va){const Ua=this.gl,Wa=Ua.createShader(Va);if(!Wa)throw new Error(`createShader() returned null with type ${Va}`);if(Ua.shaderSource(Wa,Qa),Ua.compileShader(Wa),Ua.getShaderParameter(Wa,Ua.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${Ua.getShaderInfoLog(Wa)}
Shader source:
${Qa}`);return Wa}deleteShader(Qa){this.gl.deleteShader(Qa)}bindTextureToUniform(Qa,Va,Ua){const Wa=this.gl;Wa.activeTexture(Wa.TEXTURE0+Va),this.checkError(),Wa.bindTexture(Wa.TEXTURE_2D,Qa),this.checkError(),Wa.uniform1i(Ua,Va),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(Ha.env.debug){const Qa=this.gl,Va=Qa.getError();let Ua="";switch(Va){case Qa.NO_ERROR:return;case Qa.INVALID_ENUM:Ua="INVALID_ENUM";break;case Qa.INVALID_VALUE:Ua="INVALID_VALUE";break;case Qa.INVALID_OPERATION:Ua="INVALID_OPERATION";break;case Qa.INVALID_FRAMEBUFFER_OPERATION:Ua="INVALID_FRAMEBUFFER_OPERATION";break;case Qa.OUT_OF_MEMORY:Ua="OUT_OF_MEMORY";break;case Qa.CONTEXT_LOST_WEBGL:Ua="CONTEXT_LOST_WEBGL";break;default:Ua=`Unknown WebGL Error: ${Va.toString(16)}`}throw new Error(Ua)}}deleteTexture(Qa){this.gl.deleteTexture(Qa)}deleteProgram(Qa){this.gl.deleteProgram(Qa)}getEncoder(Qa,Va,Ua=0){if(this.version===2)return new Ya.RedFloat32DataEncoder(this.gl,Va);switch(Qa){case"float":return Ua===1||this.isRenderFloat32Supported?new Ya.RGBAFloatDataEncoder(this.gl,Va):new Ya.RGBAFloatDataEncoder(this.gl,Va,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new Ya.Uint8DataEncoder(this.gl,Va);default:throw new Error(`Invalid dataType: ${Qa}`)}}clearActiveTextures(){const Qa=this.gl;for(let Va=0;Va<this.maxTextureImageUnits;++Va)Qa.activeTexture(Qa.TEXTURE0+Va),Qa.bindTexture(Qa.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const Qa=this.gl;Qa.bindFramebuffer(Qa.FRAMEBUFFER,null),Qa.deleteFramebuffer(this.framebuffer),Qa.bindBuffer(Qa.ARRAY_BUFFER,null),Qa.deleteBuffer(this.vertexbuffer),Qa.bindBuffer(Qa.ELEMENT_ARRAY_BUFFER,null),Qa.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const Qa=this.gl,Va=Qa.createBuffer();if(!Va)throw new Error("createBuffer() returned null");const Ua=this.createDefaultGeometry();return Qa.bindBuffer(Qa.ARRAY_BUFFER,Va),Qa.bufferData(Qa.ARRAY_BUFFER,Ua,Qa.STATIC_DRAW),this.checkError(),Va}createFramebuffer(){const Qa=this.gl.createFramebuffer();if(!Qa)throw new Error("createFramebuffer returned null");return Qa}queryVitalParameters(){const Qa=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=Qa.getParameter(Qa.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=Qa.getParameter(Qa.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const Qa=this.gl,Va=Qa.createTexture();Qa.bindTexture(Qa.TEXTURE_2D,Va);const Ua=this.version===2?Qa.RGBA32F:Qa.RGBA;Qa.texImage2D(Qa.TEXTURE_2D,0,Ua,1,1,0,Qa.RGBA,Qa.FLOAT,null);const Wa=Qa.createFramebuffer();Qa.bindFramebuffer(Qa.FRAMEBUFFER,Wa),Qa.framebufferTexture2D(Qa.FRAMEBUFFER,Qa.COLOR_ATTACHMENT0,Qa.TEXTURE_2D,Va,0);const Ja=Qa.checkFramebufferStatus(Qa.FRAMEBUFFER)===Qa.FRAMEBUFFER_COMPLETE;return Qa.bindTexture(Qa.TEXTURE_2D,null),Qa.bindFramebuffer(Qa.FRAMEBUFFER,null),Qa.deleteTexture(Va),Qa.deleteFramebuffer(Wa),Ja}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const Qa=this.gl;let Va,Ua,Wa,Ja,Oo;try{Va=Qa.createTexture(),Ua=Qa.createFramebuffer(),Qa.bindTexture(Qa.TEXTURE_2D,Va);const Do=this.version===2?Qa.RGBA32F:Qa.RGBA;return Qa.texImage2D(Qa.TEXTURE_2D,0,Do,1,1,0,Qa.RGBA,Qa.FLOAT,null),Qa.bindFramebuffer(Qa.FRAMEBUFFER,Ua),Qa.framebufferTexture2D(Qa.FRAMEBUFFER,Qa.COLOR_ATTACHMENT0,Qa.TEXTURE_2D,Va,0),Qa.enable(Qa.BLEND),Wa=Qa.createShader(Qa.VERTEX_SHADER),!!Wa&&(Qa.shaderSource(Wa,"void main(){}"),Qa.compileShader(Wa),Ja=Qa.createShader(Qa.FRAGMENT_SHADER),!!Ja&&(Qa.shaderSource(Ja,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),Qa.compileShader(Ja),Oo=Qa.createProgram(),!!Oo&&(Qa.attachShader(Oo,Wa),Qa.attachShader(Oo,Ja),Qa.linkProgram(Oo),Qa.useProgram(Oo),Qa.drawArrays(Qa.POINTS,0,1),Qa.getError()===Qa.NO_ERROR)))}finally{Qa.disable(Qa.BLEND),Oo&&Qa.deleteProgram(Oo),Wa&&Qa.deleteShader(Wa),Ja&&Qa.deleteShader(Ja),Ua&&(Qa.bindFramebuffer(Qa.FRAMEBUFFER,null),Qa.deleteFramebuffer(Ua)),Va&&(Qa.bindTexture(Qa.TEXTURE_2D,null),Qa.deleteTexture(Va))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const Qa=this.gl,Va=this.disjointTimerQueryWebgl2Extension,Ua=Qa.createQuery();return Qa.beginQuery(Va.TIME_ELAPSED_EXT,Ua),Ua}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const Qa=this.gl,Va=this.disjointTimerQueryWebgl2Extension;Qa.endQuery(Va.TIME_ELAPSED_EXT)}}isTimerResultAvailable(Qa){let Va=!1,Ua=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const Wa=this.gl,Ja=this.disjointTimerQueryWebgl2Extension;Va=Wa.getQueryParameter(Qa,Wa.QUERY_RESULT_AVAILABLE),Ua=Wa.getParameter(Ja.GPU_DISJOINT_EXT)}return Va&&!Ua}getTimerResult(Qa){let Va=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const Ua=this.gl;Va=Ua.getQueryParameter(Qa,Ua.QUERY_RESULT),Ua.deleteQuery(Qa)}return Va/1e6}async waitForQueryAndGetTime(Qa){return await(0,Xa.repeatedTry)((()=>this.isTimerResultAvailable(Qa))),this.getTimerResult(Qa)}async createAndWaitForFence(){const Qa=this.createFence(this.gl);return this.pollFence(Qa)}createFence(Qa){let Va;const Ua=Qa,Wa=Ua.fenceSync(Ua.SYNC_GPU_COMMANDS_COMPLETE,0);return Qa.flush(),Va=Wa===null?()=>!0:()=>{const Ja=Ua.clientWaitSync(Wa,0,0);return Ja===Ua.ALREADY_SIGNALED||Ja===Ua.CONDITION_SATISFIED},{query:Wa,isFencePassed:Va}}async pollFence(Qa){return new Promise((Va=>{this.addItemToPoll((()=>Qa.isFencePassed()),(()=>Va()))}))}pollItems(){const Qa=Ka(this.itemsToPoll.map((Va=>Va.isDoneFn)));for(let Va=0;Va<=Qa;++Va){const{resolveFn:Ua}=this.itemsToPoll[Va];Ua()}this.itemsToPoll=this.itemsToPoll.slice(Qa+1)}async addItemToPoll(Qa,Va){this.itemsToPoll.push({isDoneFn:Qa,resolveFn:Va}),this.itemsToPoll.length>1||await(0,Xa.repeatedTry)((()=>(this.pollItems(),this.itemsToPoll.length===0)))}}},1036:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.ExecutionPlan=void 0;const Ba=ja(6231);class za{constructor(Ha,Ya){this.op=Ha,this.node=Ya}}Na.ExecutionPlan=class{constructor(Ga,Ha,Ya){this.graph=Ga,this.profiler=Ya,this.initialize(Ha)}initialize(Ga){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const Ha=this.graph.getNodes();if(Ha.length!==Ga.length)throw new Error("The size of nodes and OPs do not match.");this._ops=Ga.map(((Ya,Xa)=>new za(Ya,Ha[Xa]))),this.reset(),this._starter=[],this._ops.forEach(((Ya,Xa)=>{let Ka=!0;for(const Qa of Ya.node.inputs)if(!this._values[Qa]&&this.graph.getInputIndices().indexOf(Qa)===-1){Ka=!1;break}Ka&&this._starter.push(Xa)}))}))}reset(){this._values=this.graph.getValues().map((Ga=>Ga.tensor))}async execute(Ga,Ha){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const Ya=Ga.createInferenceHandler(),Xa=this.graph.getInputIndices();if(Ha.length!==Xa.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${Ha.length} expected: ${Xa.length}`);Ha.forEach(((Ja,Oo)=>{const Do=Xa[Oo];this._values[Do]=Ja}));const Ka=this._starter.slice(0),Qa=this.graph.getValues(),Va=this.graph.getNodes();let Ua=0;for(;Ua<Ka.length;){const Ja=Ka[Ua++],Oo=this._ops[Ja],Do=Oo.node.inputs.map((rl=>this._values[rl]));if(Do.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${Oo.node}`);const Mo=Do;Ba.Logger.verbose("ExecPlan",`Runing op:${Oo.node.name} (${Mo.map(((rl,il)=>`'${Oo.node.inputs[il]}': ${rl.type}[${rl.dims.join(",")}]`)).join(", ")})`);const el=await this.profiler.event("node",Oo.node.name,(async()=>Oo.op.impl(Ya,Mo,Oo.op.context)));if(el.length!==Oo.node.outputs.length)throw new Error("the size of output does not match model definition.");el.forEach(((rl,il)=>{const al=Oo.node.outputs[il];if(this._values[al])throw new Error(`output [${al}] already has value: op:${Oo.node.name}`);this._values[al]=rl}));const tl=new Set;el.forEach(((rl,il)=>{const al=Oo.node.outputs[il];for(const ll of Qa[al].to){const ul=Va[ll];let ol=!0;for(const cl of ul.inputs)if(!this._values[cl]){ol=!1;break}ol&&tl.add(ll)}})),Ka.push(...tl)}const Wa=[];for(let Ja=0;Ja<this.graph.getOutputIndices().length;Ja++){const Oo=this.graph.getOutputIndices()[Ja],Do=this._values[Oo];if(Do===void 0)throw new Error(`required output [${Oo}] does not have value`);Oo===0?await Do.getData():Do.data,Wa.push(Do)}return Ba.Logger.verbose("ExecPlan","disposing of inferenceHandler"),Ya.dispose(),Wa}))}}},7070:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.Graph=void 0;const Ba=ja(1446),za=ja(7778),Ga=ja(9395),Ha=ja(9162),Ya=ja(2517);var Xa=Ga.onnxruntime.experimental.fbs;Na.Graph={from:(Ua,Wa)=>new Va(Ua,Wa)};class Ka{constructor(Wa){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,Wa&&(this.type=Ya.ProtoUtil.tensorValueTypeFromProto(Wa.type.tensorType))}get from(){return this._from}get to(){return this._to}}class Qa{constructor(Wa,Ja){Wa instanceof Ba.onnx.NodeProto?(this.name=Wa.name,this.opType=Wa.opType,this.attributes=new za.Attribute(Wa.attribute)):Wa instanceof Xa.Node&&(this.name=Ja??Wa.name(),this.opType=Wa.opType(),this.attributes=new za.Attribute(Ya.ProtoUtil.tensorAttributesFromORTFormat(Wa))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class Va{constructor(Wa,Ja){if(!Wa)throw new TypeError("graph is empty");this.buildGraph(Wa),this.transformGraph(Ja),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(Wa){if(Wa instanceof Ba.onnx.GraphProto)this.buildGraphFromOnnxFormat(Wa);else{if(!(Wa instanceof Xa.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(Wa)}}buildGraphFromOnnxFormat(Wa){const Ja=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const Oo=new Map;if(!Wa.input)throw new Error("missing information in graph: input");const Do=[];for(const Mo of Wa.input){if(Ja.has(Mo.name))throw new Error(`duplicated input name: ${Mo.name}`);const el=this._allData.push(new Ka(Mo))-1;Ja.set(Mo.name,el),Do.push(Mo.name)}if(!Wa.initializer)throw new Error("missing information in graph: initializer");for(const Mo of Wa.initializer){let el=Ja.get(Mo.name);if(el===void 0){const tl=new Ka;tl.type={shape:{dims:Ya.ProtoUtil.tensorDimsFromProto(Mo.dims)},tensorType:Ya.ProtoUtil.tensorDataTypeFromProto(Mo.dataType)},el=this._allData.push(tl)-1,Ja.set(Mo.name,el)}this._allData[el]._from=-1,this._allData[el].tensor=Ha.Tensor.fromProto(Mo)}for(let Mo=0;Mo<this._allData.length;Mo++)this._allData[Mo].tensor||(this._allInputIndices.push(Mo),this._allInputNames.push(Do[Mo]));if(!Wa.output)throw new Error("missing information in graph: output");for(const Mo of Wa.output){if(Ja.has(Mo.name))throw new Error(`duplicated output name: ${Mo.name}`);const el=this._allData.push(new Ka(Mo))-1;Ja.set(Mo.name,el),this._allOutputIndices.push(el),this._allOutputNames.push(Mo.name)}if(!Wa.node)throw new Error("missing information in graph: node");for(const Mo of Wa.node){if(!Mo.name)for(let tl=0;;tl++){const rl=`unnamed_${Mo.opType}_${tl}`;if(!Oo.has(rl)){Mo.name=rl;break}}if(Oo.has(Mo.name))throw new Error(`duplicated node name: ${Mo.name}`);const el=this._nodes.push(new Qa(Mo))-1;Oo.set(Mo.name,el)}for(let Mo=0;Mo<this._nodes.length;Mo++){const el=this._nodes[Mo],tl=Wa.node[Mo];if(!tl.output)throw new Error(`missing output for node: ${tl.name}`);for(const rl of tl.output){let il=Ja.get(rl);if(il===void 0&&(il=this._allData.push(new Ka)-1,Ja.set(rl,il)),el.outputs.push(il),this._allData[il]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${il}`);if(this._allData[il]._from=Mo,tl.opType==="Constant"){if(!tl.attribute||tl.attribute.length!==1||!tl.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!tl.output||tl.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");el.outputs.pop(),el.executeNode=!1,this._allData[il]._from=-1,this._allData[il].tensor=Ha.Tensor.fromProto(tl.attribute[0].t)}}}for(let Mo=0;Mo<this._nodes.length;Mo++){const el=this._nodes[Mo],tl=Wa.node[Mo];if(!tl.input)throw new Error(`missing input for node: ${tl.name}`);for(const rl of tl.input){const il=Ja.get(rl);if(il===void 0){if(rl===""&&tl.input.length===3&&tl.opType==="Resize")continue;throw new Error(`unrecognized input '${rl}' for node: ${tl.name}`)}el.inputs.push(il),this._allData[il]._to.push(Mo)}}return!0}buildGraphFromOrtFormat(Wa){var Ja,Oo,Do;const Mo=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const el=new Map,tl=[];for(let rl=0;rl<Wa.inputsLength();rl++){const il=Wa.inputs(rl);if(Mo.has(il))throw new Error(`duplicated input name: ${il}`);for(let al=0;al<Wa.nodeArgsLength();al++)if(((Ja=Wa.nodeArgs(al))===null||Ja===void 0?void 0:Ja.name())===il){const ll=new Ka;if(((Do=(Oo=Wa.nodeArgs(al))===null||Oo===void 0?void 0:Oo.type())===null||Do===void 0?void 0:Do.valueType())!==Xa.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const ul=Wa.nodeArgs(al).type().value(new Xa.TensorTypeAndShape),ol=Ya.ProtoUtil.tensorDataTypeFromProto(ul.elemType()),cl=ul.shape(),gl=[];for(let _l=0;_l<cl.dimLength();_l++)gl.push(Ya.LongUtil.longToNumber(cl.dim(_l).value().dimValue()));ll.type={shape:{dims:gl},tensorType:ol};const bl=this._allData.push(ll)-1;Mo.set(il,bl),tl.push(il)}}for(let rl=0;rl<Wa.initializersLength();rl++){const il=Wa.initializers(rl);let al=Mo.get(il.name());if(al===void 0){const ll=new Ka,ul=Ya.ProtoUtil.tensorDimsFromORTFormat(il),ol=Ya.ProtoUtil.tensorDataTypeFromProto(il.dataType());ll.type={shape:{dims:ul},tensorType:ol},al=this._allData.push(ll)-1,Mo.set(il.name(),al)}this._allData[al]._from=-1,this._allData[al].tensor=Ha.Tensor.fromOrtTensor(il)}for(let rl=0;rl<this._allData.length;rl++)this._allData[rl].tensor||(this._allInputIndices.push(rl),this._allInputNames.push(tl[rl]));for(let rl=0;rl<Wa.outputsLength();rl++){const il=Wa.outputs(rl);if(Mo.has(il))throw new Error(`duplicated output name: ${il}`);const al=this._allData.push(new Ka)-1;Mo.set(il,al),this._allOutputIndices.push(al),this._allOutputNames.push(il)}if(!Wa.nodes)throw new Error("missing information in graph: node");for(let rl=0;rl<Wa.nodesLength();rl++){const il=Wa.nodes(rl);let al=il.name();if(!al)for(let ul=0;al=`unnamed_${il.opType()}_${ul}`,el.has(al);ul++);if(el.has(al))throw new Error(`duplicated node name: ${al}`);const ll=this._nodes.push(new Qa(il,al))-1;el.set(al,ll)}for(let rl=0;rl<this._nodes.length;rl++){const il=this._nodes[rl],al=Wa.nodes(rl);if(al==null)throw new Error(`No node exists at index ${rl}`);if(al?.outputsLength()===0)throw new Error(`missing output for node: ${al.name}`);for(let ll=0;ll<al?.outputsLength();ll++){const ul=al?.outputs(ll);let ol=Mo.get(ul);if(ol===void 0&&(ol=this._allData.push(new Ka)-1,Mo.set(ul,ol)),il.outputs.push(ol),this._allData[ol]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${ol}`);if(this._allData[ol]._from=rl,al.opType()==="Constant"){if(al.attributesLength()!==1||!al.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(al.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");il.outputs.pop(),il.executeNode=!1,this._allData[ol]._from=-1,this._allData[ol].tensor=Ha.Tensor.fromOrtTensor(al.attributes(0).t())}}}for(let rl=0;rl<this._nodes.length;rl++){const il=this._nodes[rl],al=Wa.nodes(rl);if(al.inputsLength()===0)throw new Error(`missing input for node: ${al.name}`);for(let ll=0;ll<al.inputsLength();ll++){const ul=al.inputs(ll),ol=Mo.get(ul);if(ol===void 0)throw new Error(`unrecognized input '${ul}' for node: ${al.name()}`);il.inputs.push(ol),this._allData[ol]._to.push(rl)}}}checkIsAcyclic(){const Wa=new Set;this._allInputIndices.forEach((Do=>{this._allData[Do]._to.forEach((Mo=>{Wa.add(Mo)}))}));const Ja=Array.from(Wa),Oo=new Array(this._nodes.length).fill("white");for(;Ja.length>0;){const Do=Ja.pop();Oo[Do]==="gray"?Oo[Do]="black":(Ja.push(Do),Oo[Do]="gray",this._nodes[Do].outputs.forEach((Mo=>{const el=this._allData[Mo];if(el.tensor!==void 0)throw new Error("node outputs should not be initialized");if(el._from!==Do)throw new Error("from property of the Value object doesn't match index of Node being processed");el._to.forEach((tl=>{if(Oo[tl]==="gray")throw new Error("model graph is cyclic");Oo[tl]==="white"&&Ja.push(tl)}))})))}}transformGraph(Wa){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),Wa&&Wa.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let Wa=0;for(let Ja=0;Ja<this._nodes.length;Ja++)this._nodes[Ja].executeNode?Wa>0&&(this._nodes[Ja].inputs.forEach((Oo=>{const Do=this._allData[Oo]._to.indexOf(Ja+Wa);Do!==-1&&(this._allData[Oo]._to[Do]=Ja)})),this._nodes[Ja].outputs.forEach((Oo=>{this._allData[Oo]._from&&this._allData[Oo]._from===Ja+Wa&&(this._allData[Oo]._from=Ja)}))):(Wa++,this._nodes[Ja].outputs.forEach((Oo=>{this._allData[Oo]._from=-2})),this._nodes.splice(Ja,1),Ja--);Wa=0;for(let Ja=0;Ja<this._allData.length;Ja++)if(this._allData[Ja].from!==-2||this._allOutputIndices.indexOf(Ja+Wa)!==-1){if(Wa>0){let Oo=-1;this._allData[Ja].from!==void 0&&this._allData[Ja].from!==-1?(Oo=this._nodes[this._allData[Ja].from].outputs.indexOf(Ja+Wa),Oo!==-1&&(this._nodes[this._allData[Ja].from].outputs[Oo]=Ja)):(Oo=this._allInputIndices.indexOf(Ja+Wa),Oo!==-1&&(this._allInputIndices[Oo]=Ja)),this._allData[Ja].to.forEach((Do=>{Oo=this._nodes[Do].inputs.indexOf(Ja+Wa),Oo!==-1&&(this._nodes[Do].inputs[Oo]=Ja)})),this._allData[Ja].to.length===0&&(Oo=this._allOutputIndices.indexOf(Ja+Wa),Oo!==-1&&(this._allOutputIndices[Oo]=Ja))}}else Wa++,this._allData.splice(Ja,1),Ja--}deleteNode(Wa){const Ja=this._nodes[Wa];if(Ja.outputs.length>1){for(let rl=1;rl<Ja.outputs.length;rl++)if(this._allData[Ja.outputs[rl]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}Ja.executeNode=!1;const Oo=Ja.inputs[0],Do=Ja.outputs[0],Mo=this._allData[Do].to,el=this._allData[Oo].to.indexOf(Wa);if(el===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[Oo].to.splice(el,1),this._allData[Do]._to=[];const tl=this._allOutputIndices.indexOf(Do);if(tl!==-1&&(this._allOutputIndices[tl]=Oo),Mo&&Mo.length>0)for(const rl of Mo){const il=this._nodes[rl].inputs.indexOf(Do);if(il===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[rl].inputs[il]=Oo,this._allData[Oo].to.push(rl)}}removeAllDropoutNodes(){let Wa=0;for(const Ja of this._nodes){if(Ja.opType==="Dropout"){if(Ja.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(Ja.outputs.length!==1&&Ja.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(Ja.outputs.length===2&&this._allData[Ja.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(Wa)}Wa++}}removeAllIdentityNodes(){let Wa=0;for(const Ja of this._nodes)Ja.opType==="Identity"&&this.deleteNode(Wa),Wa++}isActivation(Wa){switch(Wa.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const Wa of this._nodes)if(Wa.opType==="Conv"){const Ja=this._allData[Wa.outputs[0]]._to;if(Ja.length===1&&this.isActivation(this._nodes[Ja[0]])){const Oo=this._nodes[Ja[0]];if(Oo.opType==="Clip")if(Oo.inputs.length===1)try{Wa.attributes.set("activation_params","floats",[Oo.attributes.getFloat("min"),Oo.attributes.getFloat("max")])}catch{Wa.attributes.set("activation_params","floats",[Ya.MIN_CLIP,Ya.MAX_CLIP])}else{if(!(Oo.inputs.length>=3&&this._allData[Oo.inputs[1]].tensor!==void 0&&this._allData[Oo.inputs[2]].tensor!==void 0))continue;Wa.attributes.set("activation_params","floats",[this._allData[Oo.inputs[1]].tensor.floatData[0],this._allData[Oo.inputs[2]].tensor.floatData[0]])}Wa.attributes.set("activation","string",Oo.opType),this.deleteNode(Ja[0])}}}}},6231:(La,Na)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.now=Na.Profiler=Na.Logger=void 0;const ja={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},Ba={none:new class{log(Qa,Va,Ua){}},console:new class{log(Qa,Va,Ua){console.log(`${this.color(Qa)} ${Ua?"\x1B[35m"+Ua+"\x1B[0m ":""}${Va}`)}color(Qa){switch(Qa){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${Qa}`)}}}},za={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let Ga={"":za};function Ha(Qa,Va,Ua,Wa){if(Va===void 0)return Ja=Qa,{verbose:Ha.verbose.bind(null,Ja),info:Ha.info.bind(null,Ja),warning:Ha.warning.bind(null,Ja),error:Ha.error.bind(null,Ja),fatal:Ha.fatal.bind(null,Ja)};if(Ua===void 0)Ya(Qa,Va);else if(typeof Ua=="number"&&Wa===void 0)Ya(Qa,Va);else if(typeof Ua=="string"&&Wa===void 0)Ya(Qa,Ua,0,Va);else{if(typeof Ua!="string"||typeof Wa!="number")throw new TypeError("input is valid");Ya(Qa,Ua,0,Va)}var Ja}function Ya(Qa,Va,Ua,Wa){const Ja=Ga[Wa||""]||Ga[""];ja[Qa]<ja[Ja.minimalSeverity]||(Ja.logDateTime&&(Va=`${new Date().toISOString()}|${Va}`),Ja.logSourceLocation,Ba[Ja.provider].log(Qa,Va,Wa))}(function(Qa){function Va(Wa){Ga={},Ua("",Wa||{})}function Ua(Wa,Ja){if(Wa==="*")Va(Ja);else{const Oo=Ga[Wa]||za;Ga[Wa]={provider:Ja.provider||Oo.provider,minimalSeverity:Ja.minimalSeverity||Oo.minimalSeverity,logDateTime:Ja.logDateTime===void 0?Oo.logDateTime:Ja.logDateTime,logSourceLocation:Ja.logSourceLocation===void 0?Oo.logSourceLocation:Ja.logSourceLocation}}}Qa.verbose=function(Wa,Ja){Qa("verbose",Wa,Ja)},Qa.info=function(Wa,Ja){Qa("info",Wa,Ja)},Qa.warning=function(Wa,Ja){Qa("warning",Wa,Ja)},Qa.error=function(Wa,Ja){Qa("error",Wa,Ja)},Qa.fatal=function(Wa,Ja){Qa("fatal",Wa,Ja)},Qa.reset=Va,Qa.set=Ua,Qa.setWithEnv=function(Wa){const Ja={};Wa.logLevel&&(Ja.minimalSeverity=Wa.logLevel),Ua("",Ja)}})(Ha||(Ha={})),Na.Logger=Ha;class Xa{constructor(Va,Ua,Wa,Ja,Oo,Do){this.category=Va,this.name=Ua,this.startTime=Wa,this.endCallback=Ja,this.timer=Oo,this.ctx=Do}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class Ka{constructor(Va,Ua,Wa,Ja){this.category=Va,this.name=Ua,this.startTime=Wa,this.endTime=Ja}}Na.Profiler=class{static create(Qa){return Qa===void 0?new this:new this(Qa.maxNumberEvents,Qa.flushBatchSize,Qa.flushIntervalInMilliseconds)}constructor(Qa,Va,Ua){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=Qa===void 0?1e4:Qa,this._flushBatchSize=Va===void 0?10:Va,this._flushIntervalInMilliseconds=Ua===void 0?5e3:Ua}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,Na.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(Qa,Va,Ua,Wa){const Ja=this._started?this.begin(Qa,Va,Wa):void 0;let Oo=!1;const Do=Ua();if(Do&&typeof Do.then=="function")return Oo=!0,new Promise(((Mo,el)=>{Do.then((async tl=>{Ja&&await Ja.end(),Mo(tl)}),(async tl=>{Ja&&await Ja.end(),el(tl)}))}));if(!Oo&&Ja){const Mo=Ja.end();if(Mo&&typeof Mo.then=="function")return new Promise(((el,tl)=>{Mo.then((()=>{el(Do)}),(rl=>{tl(rl)}))}))}return Do}begin(Qa,Va,Ua){if(!this._started)throw new Error("profiler is not started yet");if(Ua===void 0){const Wa=(0,Na.now)();return this.flush(Wa),new Xa(Qa,Va,Wa,(Ja=>this.endSync(Ja)))}{const Wa=Ua.beginTimer();return new Xa(Qa,Va,0,(async Ja=>this.end(Ja)),Wa,Ua)}}async end(Qa){const Va=await Qa.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Ka(Qa.category,Qa.name,Qa.startTime,Va)),this.flush(Va))}endSync(Qa){const Va=(0,Na.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Ka(Qa.category,Qa.name,Qa.startTime,Va)),this.flush(Va))}logOneEvent(Qa){Na.Logger.verbose(`Profiler.${Qa.category}`,`${(Qa.endTime-Qa.startTime).toFixed(2)}ms on event '${Qa.name}' at ${Qa.endTime.toFixed(2)}`)}flush(Qa){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||Qa-this._flushTime>=this._flushIntervalInMilliseconds){for(const Va=this._flushPointer;this._flushPointer<Va+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,Na.now)()}}get started(){return this._started}},Na.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.Model=void 0;const Ba=ja(5686),za=ja(1446),Ga=ja(7070),Ha=ja(9395),Ya=ja(2517);var Xa=Ha.onnxruntime.experimental.fbs;Na.Model=class{constructor(){}load(Ka,Qa,Va){if(!Va)try{return void this.loadFromOnnxFormat(Ka,Qa)}catch(Ua){if(Va!==void 0)throw Ua}this.loadFromOrtFormat(Ka,Qa)}loadFromOnnxFormat(Ka,Qa){const Va=za.onnx.ModelProto.decode(Ka);if(Ya.LongUtil.longToNumber(Va.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=Va.opsetImport.map((Ua=>({domain:Ua.domain,version:Ya.LongUtil.longToNumber(Ua.version)}))),this._graph=Ga.Graph.from(Va.graph,Qa)}loadFromOrtFormat(Ka,Qa){const Va=new Ba.flatbuffers.ByteBuffer(Ka),Ua=Xa.InferenceSession.getRootAsInferenceSession(Va).model();if(Ya.LongUtil.longToNumber(Ua.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let Wa=0;Wa<Ua.opsetImportLength();Wa++){const Ja=Ua.opsetImport(Wa);this._opsets.push({domain:Ja?.domain(),version:Ya.LongUtil.longToNumber(Ja.version())})}this._graph=Ga.Graph.from(Ua.graph(),Qa)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(La,Na)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.FLOAT_TYPES=Na.INT_TYPES=Na.NUMBER_TYPES=void 0,Na.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],Na.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],Na.FLOAT_TYPES=["float32","float64"]},1047:(La,Na)=>{function ja(Ba,za){if(za.endsWith("+")){const Ga=Number.parseInt(za.substring(0,za.length-1),10);return!isNaN(Ga)&&Ga<=Ba}if(za.split("-").length===2){const Ga=za.split("-"),Ha=Number.parseInt(Ga[0],10),Ya=Number.parseInt(Ga[1],10);return!isNaN(Ha)&&!isNaN(Ya)&&Ha<=Ba&&Ba<=Ya}return Number.parseInt(za,10)===Ba}Object.defineProperty(Na,"__esModule",{value:!0}),Na.resolveOperator=void 0,Na.resolveOperator=function(Ba,za,Ga){for(const Ha of Ga){const Ya=Ha[0],Xa=Ha[1],Ka=Ha[2],Qa=Ha[3],Va=Ha[4];if(Ba.opType===Ya){for(const Ua of za)if((Ua.domain===Xa||Ua.domain==="ai.onnx"&&Xa==="")&&ja(Ua.version,Ka))return{opImpl:Qa,opInit:Va}}}throw new TypeError(`cannot resolve operator '${Ba.opType}' with opsets: ${za.map((Ha=>`${Ha.domain||"ai.onnx"} v${Ha.version}`)).join(", ")}`)}},9395:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.onnxruntime=void 0;const Ba=ja(5686);var za,Ga;za=Na.onnxruntime||(Na.onnxruntime={}),(function(Ha){(function(Ya){Ya[Ya.UNDEFINED=0]="UNDEFINED",Ya[Ya.FLOAT=1]="FLOAT",Ya[Ya.INT=2]="INT",Ya[Ya.STRING=3]="STRING",Ya[Ya.TENSOR=4]="TENSOR",Ya[Ya.GRAPH=5]="GRAPH",Ya[Ya.FLOATS=6]="FLOATS",Ya[Ya.INTS=7]="INTS",Ya[Ya.STRINGS=8]="STRINGS",Ya[Ya.TENSORS=9]="TENSORS",Ya[Ya.GRAPHS=10]="GRAPHS",Ya[Ya.SPARSE_TENSOR=11]="SPARSE_TENSOR",Ya[Ya.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(Ha.AttributeType||(Ha.AttributeType={}))})((Ga=za.experimental||(za.experimental={})).fbs||(Ga.fbs={})),(function(Ha){(function(Ya){(function(Xa){(function(Ka){Ka[Ka.UNKNOWN=0]="UNKNOWN",Ka[Ka.VALUE=1]="VALUE",Ka[Ka.PARAM=2]="PARAM"})(Xa.DimensionValueType||(Xa.DimensionValueType={}))})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){(function(Ka){Ka[Ka.UNDEFINED=0]="UNDEFINED",Ka[Ka.FLOAT=1]="FLOAT",Ka[Ka.UINT8=2]="UINT8",Ka[Ka.INT8=3]="INT8",Ka[Ka.UINT16=4]="UINT16",Ka[Ka.INT16=5]="INT16",Ka[Ka.INT32=6]="INT32",Ka[Ka.INT64=7]="INT64",Ka[Ka.STRING=8]="STRING",Ka[Ka.BOOL=9]="BOOL",Ka[Ka.FLOAT16=10]="FLOAT16",Ka[Ka.DOUBLE=11]="DOUBLE",Ka[Ka.UINT32=12]="UINT32",Ka[Ka.UINT64=13]="UINT64",Ka[Ka.COMPLEX64=14]="COMPLEX64",Ka[Ka.COMPLEX128=15]="COMPLEX128",Ka[Ka.BFLOAT16=16]="BFLOAT16"})(Xa.TensorDataType||(Xa.TensorDataType={}))})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){(function(Ka){Ka[Ka.Primitive=0]="Primitive",Ka[Ka.Fused=1]="Fused"})(Xa.NodeType||(Xa.NodeType={}))})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){(function(Ka){Ka[Ka.NONE=0]="NONE",Ka[Ka.tensor_type=1]="tensor_type",Ka[Ka.sequence_type=2]="sequence_type",Ka[Ka.map_type=3]="map_type"})(Xa.TypeInfoValue||(Xa.TypeInfoValue={}))})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsShape(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsShape(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}dim(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,4);return Wa?(Ua||new Ha.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}dimLength(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startShape(Va){Va.startObject(1)}static addDim(Va,Ua){Va.addFieldOffset(0,Ua,0)}static createDimVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startDimVector(Va,Ua){Va.startVector(4,Ua,4)}static endShape(Va){return Va.endObject()}static createShape(Va,Ua){return Ka.startShape(Va),Ka.addDim(Va,Ua),Ka.endShape(Va)}}Xa.Shape=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsDimension(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsDimension(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}value(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?(Va||new Ha.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}denotation(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}static startDimension(Va){Va.startObject(2)}static addValue(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addDenotation(Va,Ua){Va.addFieldOffset(1,Ua,0)}static endDimension(Va){return Va.endObject()}static createDimension(Va,Ua,Wa){return Ka.startDimension(Va),Ka.addValue(Va,Ua),Ka.addDenotation(Va,Wa),Ka.endDimension(Va)}}Xa.Dimension=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsDimensionValue(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsDimensionValue(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}dimType(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.readInt8(this.bb_pos+Va):Ha.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.readInt64(this.bb_pos+Va):this.bb.createLong(0,0)}dimParam(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}static startDimensionValue(Va){Va.startObject(3)}static addDimType(Va,Ua){Va.addFieldInt8(0,Ua,Ha.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(Va,Ua){Va.addFieldInt64(1,Ua,Va.createLong(0,0))}static addDimParam(Va,Ua){Va.addFieldOffset(2,Ua,0)}static endDimensionValue(Va){return Va.endObject()}static createDimensionValue(Va,Ua,Wa,Ja){return Ka.startDimensionValue(Va),Ka.addDimType(Va,Ua),Ka.addDimValue(Va,Wa),Ka.addDimParam(Va,Ja),Ka.endDimensionValue(Va)}}Xa.DimensionValue=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsTensorTypeAndShape(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsTensorTypeAndShape(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}elemType(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.readInt32(this.bb_pos+Va):Ha.experimental.fbs.TensorDataType.UNDEFINED}shape(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?(Va||new Ha.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}static startTensorTypeAndShape(Va){Va.startObject(2)}static addElemType(Va,Ua){Va.addFieldInt32(0,Ua,Ha.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(Va,Ua){Va.addFieldOffset(1,Ua,0)}static endTensorTypeAndShape(Va){return Va.endObject()}static createTensorTypeAndShape(Va,Ua,Wa){return Ka.startTensorTypeAndShape(Va),Ka.addElemType(Va,Ua),Ka.addShape(Va,Wa),Ka.endTensorTypeAndShape(Va)}}Xa.TensorTypeAndShape=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsMapType(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsMapType(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}keyType(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.readInt32(this.bb_pos+Va):Ha.experimental.fbs.TensorDataType.UNDEFINED}valueType(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?(Va||new Ha.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}static startMapType(Va){Va.startObject(2)}static addKeyType(Va,Ua){Va.addFieldInt32(0,Ua,Ha.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(Va,Ua){Va.addFieldOffset(1,Ua,0)}static endMapType(Va){return Va.endObject()}static createMapType(Va,Ua,Wa){return Ka.startMapType(Va),Ka.addKeyType(Va,Ua),Ka.addValueType(Va,Wa),Ka.endMapType(Va)}}Xa.MapType=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsSequenceType(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsSequenceType(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}elemType(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?(Va||new Ha.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}static startSequenceType(Va){Va.startObject(1)}static addElemType(Va,Ua){Va.addFieldOffset(0,Ua,0)}static endSequenceType(Va){return Va.endObject()}static createSequenceType(Va,Ua){return Ka.startSequenceType(Va),Ka.addElemType(Va,Ua),Ka.endSequenceType(Va)}}Xa.SequenceType=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(Ya.fbs||(Ya.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(Xa,Ka){return this.bb_pos=Xa,this.bb=Ka,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(Xa,Ka,Qa,Va){return Xa.prep(4,12),Xa.writeInt32(Va),Xa.writeInt32(Qa),Xa.writeInt32(Ka),Xa.offset()}}})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsNodeEdge(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsNodeEdge(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}nodeIndex(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.readUint32(this.bb_pos+Va):0}inputEdges(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,6);return Wa?(Ua||new Ha.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+Wa)+12*Va,this.bb):null}inputEdgesLength(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.__vector_len(this.bb_pos+Va):0}outputEdges(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,8);return Wa?(Ua||new Ha.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+Wa)+12*Va,this.bb):null}outputEdgesLength(){let Va=this.bb.__offset(this.bb_pos,8);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startNodeEdge(Va){Va.startObject(3)}static addNodeIndex(Va,Ua){Va.addFieldInt32(0,Ua,0)}static addInputEdges(Va,Ua){Va.addFieldOffset(1,Ua,0)}static startInputEdgesVector(Va,Ua){Va.startVector(12,Ua,4)}static addOutputEdges(Va,Ua){Va.addFieldOffset(2,Ua,0)}static startOutputEdgesVector(Va,Ua){Va.startVector(12,Ua,4)}static endNodeEdge(Va){return Va.endObject()}static createNodeEdge(Va,Ua,Wa,Ja){return Ka.startNodeEdge(Va),Ka.addNodeIndex(Va,Ua),Ka.addInputEdges(Va,Wa),Ka.addOutputEdges(Va,Ja),Ka.endNodeEdge(Va)}}Xa.NodeEdge=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsNode(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsNode(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}name(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}docString(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}domain(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}sinceVersion(){let Va=this.bb.__offset(this.bb_pos,10);return Va?this.bb.readInt32(this.bb_pos+Va):0}index(){let Va=this.bb.__offset(this.bb_pos,12);return Va?this.bb.readUint32(this.bb_pos+Va):0}opType(Va){let Ua=this.bb.__offset(this.bb_pos,14);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}type(){let Va=this.bb.__offset(this.bb_pos,16);return Va?this.bb.readInt32(this.bb_pos+Va):Ha.experimental.fbs.NodeType.Primitive}executionProviderType(Va){let Ua=this.bb.__offset(this.bb_pos,18);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}inputs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,20);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}inputsLength(){let Va=this.bb.__offset(this.bb_pos,20);return Va?this.bb.__vector_len(this.bb_pos+Va):0}outputs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,22);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}outputsLength(){let Va=this.bb.__offset(this.bb_pos,22);return Va?this.bb.__vector_len(this.bb_pos+Va):0}attributes(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,24);return Wa?(Ua||new Ha.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}attributesLength(){let Va=this.bb.__offset(this.bb_pos,24);return Va?this.bb.__vector_len(this.bb_pos+Va):0}inputArgCounts(Va){let Ua=this.bb.__offset(this.bb_pos,26);return Ua?this.bb.readInt32(this.bb.__vector(this.bb_pos+Ua)+4*Va):0}inputArgCountsLength(){let Va=this.bb.__offset(this.bb_pos,26);return Va?this.bb.__vector_len(this.bb_pos+Va):0}inputArgCountsArray(){let Va=this.bb.__offset(this.bb_pos,26);return Va?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+Va),this.bb.__vector_len(this.bb_pos+Va)):null}implicitInputs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,28);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}implicitInputsLength(){let Va=this.bb.__offset(this.bb_pos,28);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startNode(Va){Va.startObject(13)}static addName(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addDocString(Va,Ua){Va.addFieldOffset(1,Ua,0)}static addDomain(Va,Ua){Va.addFieldOffset(2,Ua,0)}static addSinceVersion(Va,Ua){Va.addFieldInt32(3,Ua,0)}static addIndex(Va,Ua){Va.addFieldInt32(4,Ua,0)}static addOpType(Va,Ua){Va.addFieldOffset(5,Ua,0)}static addType(Va,Ua){Va.addFieldInt32(6,Ua,Ha.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(Va,Ua){Va.addFieldOffset(7,Ua,0)}static addInputs(Va,Ua){Va.addFieldOffset(8,Ua,0)}static createInputsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startInputsVector(Va,Ua){Va.startVector(4,Ua,4)}static addOutputs(Va,Ua){Va.addFieldOffset(9,Ua,0)}static createOutputsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startOutputsVector(Va,Ua){Va.startVector(4,Ua,4)}static addAttributes(Va,Ua){Va.addFieldOffset(10,Ua,0)}static createAttributesVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startAttributesVector(Va,Ua){Va.startVector(4,Ua,4)}static addInputArgCounts(Va,Ua){Va.addFieldOffset(11,Ua,0)}static createInputArgCountsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt32(Ua[Wa]);return Va.endVector()}static startInputArgCountsVector(Va,Ua){Va.startVector(4,Ua,4)}static addImplicitInputs(Va,Ua){Va.addFieldOffset(12,Ua,0)}static createImplicitInputsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startImplicitInputsVector(Va,Ua){Va.startVector(4,Ua,4)}static endNode(Va){return Va.endObject()}static createNode(Va,Ua,Wa,Ja,Oo,Do,Mo,el,tl,rl,il,al,ll,ul){return Ka.startNode(Va),Ka.addName(Va,Ua),Ka.addDocString(Va,Wa),Ka.addDomain(Va,Ja),Ka.addSinceVersion(Va,Oo),Ka.addIndex(Va,Do),Ka.addOpType(Va,Mo),Ka.addType(Va,el),Ka.addExecutionProviderType(Va,tl),Ka.addInputs(Va,rl),Ka.addOutputs(Va,il),Ka.addAttributes(Va,al),Ka.addInputArgCounts(Va,ll),Ka.addImplicitInputs(Va,ul),Ka.endNode(Va)}}Xa.Node=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsValueInfo(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsValueInfo(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}name(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}docString(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}type(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?(Va||new Ha.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}static startValueInfo(Va){Va.startObject(3)}static addName(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addDocString(Va,Ua){Va.addFieldOffset(1,Ua,0)}static addType(Va,Ua){Va.addFieldOffset(2,Ua,0)}static endValueInfo(Va){return Va.endObject()}static createValueInfo(Va,Ua,Wa,Ja){return Ka.startValueInfo(Va),Ka.addName(Va,Ua),Ka.addDocString(Va,Wa),Ka.addType(Va,Ja),Ka.endValueInfo(Va)}}Xa.ValueInfo=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsTypeInfo(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsTypeInfo(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}denotation(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}valueType(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.readUint8(this.bb_pos+Va):Ha.experimental.fbs.TypeInfoValue.NONE}value(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?this.bb.__union(Va,this.bb_pos+Ua):null}static startTypeInfo(Va){Va.startObject(3)}static addDenotation(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addValueType(Va,Ua){Va.addFieldInt8(1,Ua,Ha.experimental.fbs.TypeInfoValue.NONE)}static addValue(Va,Ua){Va.addFieldOffset(2,Ua,0)}static endTypeInfo(Va){return Va.endObject()}static createTypeInfo(Va,Ua,Wa,Ja){return Ka.startTypeInfo(Va),Ka.addDenotation(Va,Ua),Ka.addValueType(Va,Wa),Ka.addValue(Va,Ja),Ka.endTypeInfo(Va)}}Xa.TypeInfo=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsOperatorSetId(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsOperatorSetId(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}domain(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}version(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.readInt64(this.bb_pos+Va):this.bb.createLong(0,0)}static startOperatorSetId(Va){Va.startObject(2)}static addDomain(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addVersion(Va,Ua){Va.addFieldInt64(1,Ua,Va.createLong(0,0))}static endOperatorSetId(Va){return Va.endObject()}static createOperatorSetId(Va,Ua,Wa){return Ka.startOperatorSetId(Va),Ka.addDomain(Va,Ua),Ka.addVersion(Va,Wa),Ka.endOperatorSetId(Va)}}Xa.OperatorSetId=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsTensor(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsTensor(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}name(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}docString(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}dims(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?this.bb.readInt64(this.bb.__vector(this.bb_pos+Ua)+8*Va):this.bb.createLong(0,0)}dimsLength(){let Va=this.bb.__offset(this.bb_pos,8);return Va?this.bb.__vector_len(this.bb_pos+Va):0}dataType(){let Va=this.bb.__offset(this.bb_pos,10);return Va?this.bb.readInt32(this.bb_pos+Va):Ha.experimental.fbs.TensorDataType.UNDEFINED}rawData(Va){let Ua=this.bb.__offset(this.bb_pos,12);return Ua?this.bb.readUint8(this.bb.__vector(this.bb_pos+Ua)+Va):0}rawDataLength(){let Va=this.bb.__offset(this.bb_pos,12);return Va?this.bb.__vector_len(this.bb_pos+Va):0}rawDataArray(){let Va=this.bb.__offset(this.bb_pos,12);return Va?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+Va),this.bb.__vector_len(this.bb_pos+Va)):null}stringData(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,14);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}stringDataLength(){let Va=this.bb.__offset(this.bb_pos,14);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startTensor(Va){Va.startObject(6)}static addName(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addDocString(Va,Ua){Va.addFieldOffset(1,Ua,0)}static addDims(Va,Ua){Va.addFieldOffset(2,Ua,0)}static createDimsVector(Va,Ua){Va.startVector(8,Ua.length,8);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt64(Ua[Wa]);return Va.endVector()}static startDimsVector(Va,Ua){Va.startVector(8,Ua,8)}static addDataType(Va,Ua){Va.addFieldInt32(3,Ua,Ha.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(Va,Ua){Va.addFieldOffset(4,Ua,0)}static createRawDataVector(Va,Ua){Va.startVector(1,Ua.length,1);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt8(Ua[Wa]);return Va.endVector()}static startRawDataVector(Va,Ua){Va.startVector(1,Ua,1)}static addStringData(Va,Ua){Va.addFieldOffset(5,Ua,0)}static createStringDataVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startStringDataVector(Va,Ua){Va.startVector(4,Ua,4)}static endTensor(Va){return Va.endObject()}static createTensor(Va,Ua,Wa,Ja,Oo,Do,Mo){return Ka.startTensor(Va),Ka.addName(Va,Ua),Ka.addDocString(Va,Wa),Ka.addDims(Va,Ja),Ka.addDataType(Va,Oo),Ka.addRawData(Va,Do),Ka.addStringData(Va,Mo),Ka.endTensor(Va)}}Xa.Tensor=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsSparseTensor(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsSparseTensor(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}values(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?(Va||new Ha.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}indices(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?(Va||new Ha.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}dims(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?this.bb.readInt64(this.bb.__vector(this.bb_pos+Ua)+8*Va):this.bb.createLong(0,0)}dimsLength(){let Va=this.bb.__offset(this.bb_pos,8);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startSparseTensor(Va){Va.startObject(3)}static addValues(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addIndices(Va,Ua){Va.addFieldOffset(1,Ua,0)}static addDims(Va,Ua){Va.addFieldOffset(2,Ua,0)}static createDimsVector(Va,Ua){Va.startVector(8,Ua.length,8);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt64(Ua[Wa]);return Va.endVector()}static startDimsVector(Va,Ua){Va.startVector(8,Ua,8)}static endSparseTensor(Va){return Va.endObject()}static createSparseTensor(Va,Ua,Wa,Ja){return Ka.startSparseTensor(Va),Ka.addValues(Va,Ua),Ka.addIndices(Va,Wa),Ka.addDims(Va,Ja),Ka.endSparseTensor(Va)}}Xa.SparseTensor=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsAttribute(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsAttribute(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}name(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}docString(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}type(){let Va=this.bb.__offset(this.bb_pos,8);return Va?this.bb.readInt32(this.bb_pos+Va):Ha.experimental.fbs.AttributeType.UNDEFINED}f(){let Va=this.bb.__offset(this.bb_pos,10);return Va?this.bb.readFloat32(this.bb_pos+Va):0}i(){let Va=this.bb.__offset(this.bb_pos,12);return Va?this.bb.readInt64(this.bb_pos+Va):this.bb.createLong(0,0)}s(Va){let Ua=this.bb.__offset(this.bb_pos,14);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}t(Va){let Ua=this.bb.__offset(this.bb_pos,16);return Ua?(Va||new Ha.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}g(Va){let Ua=this.bb.__offset(this.bb_pos,18);return Ua?(Va||new Ha.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}floats(Va){let Ua=this.bb.__offset(this.bb_pos,20);return Ua?this.bb.readFloat32(this.bb.__vector(this.bb_pos+Ua)+4*Va):0}floatsLength(){let Va=this.bb.__offset(this.bb_pos,20);return Va?this.bb.__vector_len(this.bb_pos+Va):0}floatsArray(){let Va=this.bb.__offset(this.bb_pos,20);return Va?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+Va),this.bb.__vector_len(this.bb_pos+Va)):null}ints(Va){let Ua=this.bb.__offset(this.bb_pos,22);return Ua?this.bb.readInt64(this.bb.__vector(this.bb_pos+Ua)+8*Va):this.bb.createLong(0,0)}intsLength(){let Va=this.bb.__offset(this.bb_pos,22);return Va?this.bb.__vector_len(this.bb_pos+Va):0}strings(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,24);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}stringsLength(){let Va=this.bb.__offset(this.bb_pos,24);return Va?this.bb.__vector_len(this.bb_pos+Va):0}tensors(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,26);return Wa?(Ua||new Ha.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}tensorsLength(){let Va=this.bb.__offset(this.bb_pos,26);return Va?this.bb.__vector_len(this.bb_pos+Va):0}graphs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,28);return Wa?(Ua||new Ha.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}graphsLength(){let Va=this.bb.__offset(this.bb_pos,28);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startAttribute(Va){Va.startObject(13)}static addName(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addDocString(Va,Ua){Va.addFieldOffset(1,Ua,0)}static addType(Va,Ua){Va.addFieldInt32(2,Ua,Ha.experimental.fbs.AttributeType.UNDEFINED)}static addF(Va,Ua){Va.addFieldFloat32(3,Ua,0)}static addI(Va,Ua){Va.addFieldInt64(4,Ua,Va.createLong(0,0))}static addS(Va,Ua){Va.addFieldOffset(5,Ua,0)}static addT(Va,Ua){Va.addFieldOffset(6,Ua,0)}static addG(Va,Ua){Va.addFieldOffset(7,Ua,0)}static addFloats(Va,Ua){Va.addFieldOffset(8,Ua,0)}static createFloatsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addFloat32(Ua[Wa]);return Va.endVector()}static startFloatsVector(Va,Ua){Va.startVector(4,Ua,4)}static addInts(Va,Ua){Va.addFieldOffset(9,Ua,0)}static createIntsVector(Va,Ua){Va.startVector(8,Ua.length,8);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt64(Ua[Wa]);return Va.endVector()}static startIntsVector(Va,Ua){Va.startVector(8,Ua,8)}static addStrings(Va,Ua){Va.addFieldOffset(10,Ua,0)}static createStringsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startStringsVector(Va,Ua){Va.startVector(4,Ua,4)}static addTensors(Va,Ua){Va.addFieldOffset(11,Ua,0)}static createTensorsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startTensorsVector(Va,Ua){Va.startVector(4,Ua,4)}static addGraphs(Va,Ua){Va.addFieldOffset(12,Ua,0)}static createGraphsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startGraphsVector(Va,Ua){Va.startVector(4,Ua,4)}static endAttribute(Va){return Va.endObject()}static createAttribute(Va,Ua,Wa,Ja,Oo,Do,Mo,el,tl,rl,il,al,ll,ul){return Ka.startAttribute(Va),Ka.addName(Va,Ua),Ka.addDocString(Va,Wa),Ka.addType(Va,Ja),Ka.addF(Va,Oo),Ka.addI(Va,Do),Ka.addS(Va,Mo),Ka.addT(Va,el),Ka.addG(Va,tl),Ka.addFloats(Va,rl),Ka.addInts(Va,il),Ka.addStrings(Va,al),Ka.addTensors(Va,ll),Ka.addGraphs(Va,ul),Ka.endAttribute(Va)}}Xa.Attribute=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsGraph(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsGraph(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}initializers(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,4);return Wa?(Ua||new Ha.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}initializersLength(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.__vector_len(this.bb_pos+Va):0}nodeArgs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,6);return Wa?(Ua||new Ha.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}nodeArgsLength(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.__vector_len(this.bb_pos+Va):0}nodes(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,8);return Wa?(Ua||new Ha.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}nodesLength(){let Va=this.bb.__offset(this.bb_pos,8);return Va?this.bb.__vector_len(this.bb_pos+Va):0}maxNodeIndex(){let Va=this.bb.__offset(this.bb_pos,10);return Va?this.bb.readUint32(this.bb_pos+Va):0}nodeEdges(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,12);return Wa?(Ua||new Ha.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}nodeEdgesLength(){let Va=this.bb.__offset(this.bb_pos,12);return Va?this.bb.__vector_len(this.bb_pos+Va):0}inputs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,14);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}inputsLength(){let Va=this.bb.__offset(this.bb_pos,14);return Va?this.bb.__vector_len(this.bb_pos+Va):0}outputs(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,16);return Wa?this.bb.__string(this.bb.__vector(this.bb_pos+Wa)+4*Va,Ua):null}outputsLength(){let Va=this.bb.__offset(this.bb_pos,16);return Va?this.bb.__vector_len(this.bb_pos+Va):0}sparseInitializers(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,18);return Wa?(Ua||new Ha.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}sparseInitializersLength(){let Va=this.bb.__offset(this.bb_pos,18);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startGraph(Va){Va.startObject(8)}static addInitializers(Va,Ua){Va.addFieldOffset(0,Ua,0)}static createInitializersVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startInitializersVector(Va,Ua){Va.startVector(4,Ua,4)}static addNodeArgs(Va,Ua){Va.addFieldOffset(1,Ua,0)}static createNodeArgsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startNodeArgsVector(Va,Ua){Va.startVector(4,Ua,4)}static addNodes(Va,Ua){Va.addFieldOffset(2,Ua,0)}static createNodesVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startNodesVector(Va,Ua){Va.startVector(4,Ua,4)}static addMaxNodeIndex(Va,Ua){Va.addFieldInt32(3,Ua,0)}static addNodeEdges(Va,Ua){Va.addFieldOffset(4,Ua,0)}static createNodeEdgesVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startNodeEdgesVector(Va,Ua){Va.startVector(4,Ua,4)}static addInputs(Va,Ua){Va.addFieldOffset(5,Ua,0)}static createInputsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startInputsVector(Va,Ua){Va.startVector(4,Ua,4)}static addOutputs(Va,Ua){Va.addFieldOffset(6,Ua,0)}static createOutputsVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startOutputsVector(Va,Ua){Va.startVector(4,Ua,4)}static addSparseInitializers(Va,Ua){Va.addFieldOffset(7,Ua,0)}static createSparseInitializersVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startSparseInitializersVector(Va,Ua){Va.startVector(4,Ua,4)}static endGraph(Va){return Va.endObject()}static createGraph(Va,Ua,Wa,Ja,Oo,Do,Mo,el,tl){return Ka.startGraph(Va),Ka.addInitializers(Va,Ua),Ka.addNodeArgs(Va,Wa),Ka.addNodes(Va,Ja),Ka.addMaxNodeIndex(Va,Oo),Ka.addNodeEdges(Va,Do),Ka.addInputs(Va,Mo),Ka.addOutputs(Va,el),Ka.addSparseInitializers(Va,tl),Ka.endGraph(Va)}}Xa.Graph=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsModel(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsModel(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}irVersion(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.readInt64(this.bb_pos+Va):this.bb.createLong(0,0)}opsetImport(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,6);return Wa?(Ua||new Ha.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}opsetImportLength(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.__vector_len(this.bb_pos+Va):0}producerName(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}producerVersion(Va){let Ua=this.bb.__offset(this.bb_pos,10);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}domain(Va){let Ua=this.bb.__offset(this.bb_pos,12);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}modelVersion(){let Va=this.bb.__offset(this.bb_pos,14);return Va?this.bb.readInt64(this.bb_pos+Va):this.bb.createLong(0,0)}docString(Va){let Ua=this.bb.__offset(this.bb_pos,16);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}graph(Va){let Ua=this.bb.__offset(this.bb_pos,18);return Ua?(Va||new Ha.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}graphDocString(Va){let Ua=this.bb.__offset(this.bb_pos,20);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}static startModel(Va){Va.startObject(9)}static addIrVersion(Va,Ua){Va.addFieldInt64(0,Ua,Va.createLong(0,0))}static addOpsetImport(Va,Ua){Va.addFieldOffset(1,Ua,0)}static createOpsetImportVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startOpsetImportVector(Va,Ua){Va.startVector(4,Ua,4)}static addProducerName(Va,Ua){Va.addFieldOffset(2,Ua,0)}static addProducerVersion(Va,Ua){Va.addFieldOffset(3,Ua,0)}static addDomain(Va,Ua){Va.addFieldOffset(4,Ua,0)}static addModelVersion(Va,Ua){Va.addFieldInt64(5,Ua,Va.createLong(0,0))}static addDocString(Va,Ua){Va.addFieldOffset(6,Ua,0)}static addGraph(Va,Ua){Va.addFieldOffset(7,Ua,0)}static addGraphDocString(Va,Ua){Va.addFieldOffset(8,Ua,0)}static endModel(Va){return Va.endObject()}static createModel(Va,Ua,Wa,Ja,Oo,Do,Mo,el,tl,rl){return Ka.startModel(Va),Ka.addIrVersion(Va,Ua),Ka.addOpsetImport(Va,Wa),Ka.addProducerName(Va,Ja),Ka.addProducerVersion(Va,Oo),Ka.addDomain(Va,Do),Ka.addModelVersion(Va,Mo),Ka.addDocString(Va,el),Ka.addGraph(Va,tl),Ka.addGraphDocString(Va,rl),Ka.endModel(Va)}}Xa.Model=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsKernelCreateInfos(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsKernelCreateInfos(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}nodeIndices(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.readUint32(this.bb.__vector(this.bb_pos+Ua)+4*Va):0}nodeIndicesLength(){let Va=this.bb.__offset(this.bb_pos,4);return Va?this.bb.__vector_len(this.bb_pos+Va):0}nodeIndicesArray(){let Va=this.bb.__offset(this.bb_pos,4);return Va?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+Va),this.bb.__vector_len(this.bb_pos+Va)):null}kernelDefHashes(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?this.bb.readUint64(this.bb.__vector(this.bb_pos+Ua)+8*Va):this.bb.createLong(0,0)}kernelDefHashesLength(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startKernelCreateInfos(Va){Va.startObject(2)}static addNodeIndices(Va,Ua){Va.addFieldOffset(0,Ua,0)}static createNodeIndicesVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt32(Ua[Wa]);return Va.endVector()}static startNodeIndicesVector(Va,Ua){Va.startVector(4,Ua,4)}static addKernelDefHashes(Va,Ua){Va.addFieldOffset(1,Ua,0)}static createKernelDefHashesVector(Va,Ua){Va.startVector(8,Ua.length,8);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addInt64(Ua[Wa]);return Va.endVector()}static startKernelDefHashesVector(Va,Ua){Va.startVector(8,Ua,8)}static endKernelCreateInfos(Va){return Va.endObject()}static createKernelCreateInfos(Va,Ua,Wa){return Ka.startKernelCreateInfos(Va),Ka.addNodeIndices(Va,Ua),Ka.addKernelDefHashes(Va,Wa),Ka.endKernelCreateInfos(Va)}}Xa.KernelCreateInfos=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsSubGraphSessionState(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsSubGraphSessionState(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}graphId(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}sessionState(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?(Va||new Ha.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}static startSubGraphSessionState(Va){Va.startObject(2)}static addGraphId(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addSessionState(Va,Ua){Va.addFieldOffset(1,Ua,0)}static endSubGraphSessionState(Va){let Ua=Va.endObject();return Va.requiredField(Ua,4),Ua}static createSubGraphSessionState(Va,Ua,Wa){return Ka.startSubGraphSessionState(Va),Ka.addGraphId(Va,Ua),Ka.addSessionState(Va,Wa),Ka.endSubGraphSessionState(Va)}}Xa.SubGraphSessionState=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsSessionState(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsSessionState(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}kernels(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?(Va||new Ha.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}subGraphSessionStates(Va,Ua){let Wa=this.bb.__offset(this.bb_pos,6);return Wa?(Ua||new Ha.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Wa)+4*Va),this.bb):null}subGraphSessionStatesLength(){let Va=this.bb.__offset(this.bb_pos,6);return Va?this.bb.__vector_len(this.bb_pos+Va):0}static startSessionState(Va){Va.startObject(2)}static addKernels(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addSubGraphSessionStates(Va,Ua){Va.addFieldOffset(1,Ua,0)}static createSubGraphSessionStatesVector(Va,Ua){Va.startVector(4,Ua.length,4);for(let Wa=Ua.length-1;Wa>=0;Wa--)Va.addOffset(Ua[Wa]);return Va.endVector()}static startSubGraphSessionStatesVector(Va,Ua){Va.startVector(4,Ua,4)}static endSessionState(Va){return Va.endObject()}static createSessionState(Va,Ua,Wa){return Ka.startSessionState(Va),Ka.addKernels(Va,Ua),Ka.addSubGraphSessionStates(Va,Wa),Ka.endSessionState(Va)}}Xa.SessionState=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={})),(function(Ha){(function(Ya){(function(Xa){class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(Va,Ua){return this.bb_pos=Va,this.bb=Ua,this}static getRootAsInferenceSession(Va,Ua){return(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static getSizePrefixedRootAsInferenceSession(Va,Ua){return Va.setPosition(Va.position()+Ba.flatbuffers.SIZE_PREFIX_LENGTH),(Ua||new Ka).__init(Va.readInt32(Va.position())+Va.position(),Va)}static bufferHasIdentifier(Va){return Va.__has_identifier("ORTM")}ortVersion(Va){let Ua=this.bb.__offset(this.bb_pos,4);return Ua?this.bb.__string(this.bb_pos+Ua,Va):null}model(Va){let Ua=this.bb.__offset(this.bb_pos,6);return Ua?(Va||new Ha.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}sessionState(Va){let Ua=this.bb.__offset(this.bb_pos,8);return Ua?(Va||new Ha.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+Ua),this.bb):null}static startInferenceSession(Va){Va.startObject(3)}static addOrtVersion(Va,Ua){Va.addFieldOffset(0,Ua,0)}static addModel(Va,Ua){Va.addFieldOffset(1,Ua,0)}static addSessionState(Va,Ua){Va.addFieldOffset(2,Ua,0)}static endInferenceSession(Va){return Va.endObject()}static finishInferenceSessionBuffer(Va,Ua){Va.finish(Ua,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(Va,Ua){Va.finish(Ua,"ORTM",!0)}static createInferenceSession(Va,Ua,Wa,Ja){return Ka.startInferenceSession(Va),Ka.addOrtVersion(Va,Ua),Ka.addModel(Va,Wa),Ka.addSessionState(Va,Ja),Ka.endInferenceSession(Va)}}Xa.InferenceSession=Ka})(Ya.fbs||(Ya.fbs={}))})(Ha.experimental||(Ha.experimental={}))})(Na.onnxruntime||(Na.onnxruntime={}))},7448:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.OnnxjsSessionHandler=void 0;const Ba=ja(1670),za=ja(9162);Na.OnnxjsSessionHandler=class{constructor(Ga){this.session=Ga,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(Ga,Ha,Ya){const Xa=new Map;for(const Va in Ga)if(Object.hasOwnProperty.call(Ga,Va)){const Ua=Ga[Va];Xa.set(Va,new za.Tensor(Ua.dims,Ua.type,void 0,void 0,Ua.data))}const Ka=await this.session.run(Xa),Qa={};return Ka.forEach(((Va,Ua)=>{Qa[Ua]=new Ba.Tensor(Va.type,Va.data,Va.dims)})),Qa}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.Session=void 0;const Ba=ja(7067),za=ja(1296),Ga=ja(7091),Ha=ja(1036),Ya=ja(6231),Xa=ja(2644);Na.Session=class{constructor(Ka={}){this._initialized=!1,this.backendHint=Ka.backendHint,this.profiler=Ya.Profiler.create(Ka.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(Ka,Qa,Va){await this.profiler.event("session","Session.loadModel",(async()=>{const Ua=await(0,Ga.resolveBackend)(this.backendHint);if(this.sessionHandler=Ua.createSessionHandler(this.context),this._model=new Xa.Model,typeof Ka=="string"){const Wa=Ka.endsWith(".ort");if(typeof fetch>"u"){const Ja=await(0,za.promisify)(Ba.readFile)(Ka);this.initialize(Ja,Wa)}else{const Ja=await fetch(Ka),Oo=await Ja.arrayBuffer();this.initialize(new Uint8Array(Oo),Wa)}}else if(ArrayBuffer.isView(Ka))this.initialize(Ka);else{const Wa=new Uint8Array(Ka,Qa||0,Va||Ka.byteLength);this.initialize(Wa)}}))}initialize(Ka,Qa){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const Va=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(Ka,Va,Qa),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new Ha.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(Ka){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const Qa=this.normalizeAndValidateInputs(Ka),Va=await this._executionPlan.execute(this.sessionHandler,Qa);return this.createOutput(Va)}))}normalizeAndValidateInputs(Ka){const Qa=this._model.graph.getInputNames();if(Array.isArray(Ka)){if(Ka.length!==Qa.length)throw new Error(`incorrect input array length: expected ${Qa.length} but got ${Ka.length}`)}else{if(Ka.size!==Qa.length)throw new Error(`incorrect input map size: expected ${Qa.length} but got ${Ka.size}`);const Va=new Array(Ka.size);let Ua=0;for(let Wa=0;Wa<Qa.length;++Wa){const Ja=Ka.get(Qa[Wa]);if(!Ja)throw new Error(`missing input tensor for: '${name}'`);Va[Ua++]=Ja}Ka=Va}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,Ka,!1);else{const Va=this._model.graph.getInputIndices(),Ua=this._model.graph.getValues(),Wa=new Array(Va.length);for(let Ja=0;Ja<Va.length;++Ja){const Oo=Ua[Va[Ja]];Wa[Ja]=Oo.type.shape.dims,this.context.graphInputTypes.push(Oo.type.tensorType),this.context.graphInputDims.push(Ka[Ja].dims)}this.validateInputTensorDims(Wa,Ka,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,Ka),Ka}validateInputTensorTypes(Ka,Qa){for(let Va=0;Va<Qa.length;Va++){const Ua=Ka[Va],Wa=Qa[Va].type;if(Ua!==Wa)throw new Error(`input tensor[${Va}] check failed: expected type '${Ua}' but got ${Wa}`)}}validateInputTensorDims(Ka,Qa,Va){for(let Ua=0;Ua<Qa.length;Ua++){const Wa=Ka[Ua],Ja=Qa[Ua].dims;if(!this.compareTensorDims(Wa,Ja,Va))throw new Error(`input tensor[${Ua}] check failed: expected shape '[${Wa.join(",")}]' but got [${Ja.join(",")}]`)}}compareTensorDims(Ka,Qa,Va){if(Ka.length!==Qa.length)return!1;for(let Ua=0;Ua<Ka.length;++Ua)if(Ka[Ua]!==Qa[Ua]&&(!Va||Ka[Ua]!==0))return!1;return!0}createOutput(Ka){const Qa=this._model.graph.getOutputNames();if(Ka.length!==Qa.length)throw new Error("expected number of outputs do not match number of generated outputs");const Va=new Map;for(let Ua=0;Ua<Qa.length;++Ua)Va.set(Qa[Ua],Ka[Ua]);return Va}initializeOps(Ka){const Qa=Ka.getNodes();this._ops=new Array(Qa.length);for(let Va=0;Va<Qa.length;Va++)this._ops[Va]=this.sessionHandler.resolve(Qa[Va],this._model.opsets,Ka)}}},9162:function(La,Na,ja){var Ba=this&&this.__importDefault||function(Oo){return Oo&&Oo.__esModule?Oo:{default:Oo}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.Tensor=void 0;const za=ja(3442),Ga=Ba(ja(3720)),Ha=ja(1446),Ya=ja(9395),Xa=ja(2517);var Ka=Ya.onnxruntime.experimental.fbs;class Qa{get data(){if(this.cache===void 0){const Do=this.dataProvider(this.dataId);if(Do.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=Do}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(Do){return this.data[Xa.ShapeUtil.indicesToOffset(Do,this.strides)]}set(Do,Mo){this.data[Xa.ShapeUtil.indicesToOffset(Do,this.strides)]=Mo}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=Xa.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(Do,Mo,el,tl,rl,il=za.Guid.create()){this.dims=Do,this.type=Mo,this.dataProvider=el,this.asyncDataProvider=tl,this.cache=rl,this.dataId=il,this.size=Xa.ShapeUtil.validateDimsAndCalcSize(Do);const al=this.size,ll=el===void 0&&tl===void 0&&rl===void 0;if(rl!==void 0&&rl.length!==al)throw new RangeError("Input dims doesn't match data length.");if(Mo==="string"){if(!(rl===void 0||Array.isArray(rl)&&rl.every((ul=>typeof ul=="string"))))throw new TypeError("cache should be a string array");ll&&(this.cache=new Array(al))}else{if(rl!==void 0){const ul=Ua(Mo);if(!(rl instanceof ul))throw new TypeError(`cache should be type ${ul.name}`)}if(ll){const ul=new ArrayBuffer(al*(function(ol){switch(ol){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${ol}`)}})(Mo));this.cache=(function(ol,cl){return new(Ua(cl))(ol)})(ul,Mo)}}}static fromProto(Do){if(!Do)throw new Error("cannot construct Value from an empty tensor");const Mo=Xa.ProtoUtil.tensorDataTypeFromProto(Do.dataType),el=Xa.ProtoUtil.tensorDimsFromProto(Do.dims),tl=new Qa(el,Mo);if(Mo==="string")Do.stringData.forEach(((rl,il)=>{tl.data[il]=(0,Xa.decodeUtf8String)(rl)}));else if(Do.rawData&&typeof Do.rawData.byteLength=="number"&&Do.rawData.byteLength>0){const rl=tl.data,il=new DataView(Do.rawData.buffer,Do.rawData.byteOffset,Do.rawData.byteLength),al=Va(Do.dataType),ll=Do.rawData.byteLength/al;if(Do.rawData.byteLength%al!=0)throw new Error("invalid buffer length");if(rl.length!==ll)throw new Error("buffer length mismatch");for(let ul=0;ul<ll;ul++){const ol=Ja(il,Do.dataType,ul*al);rl[ul]=ol}}else{let rl;switch(Do.dataType){case Ha.onnx.TensorProto.DataType.FLOAT:rl=Do.floatData;break;case Ha.onnx.TensorProto.DataType.INT32:case Ha.onnx.TensorProto.DataType.INT16:case Ha.onnx.TensorProto.DataType.UINT16:case Ha.onnx.TensorProto.DataType.INT8:case Ha.onnx.TensorProto.DataType.UINT8:case Ha.onnx.TensorProto.DataType.BOOL:rl=Do.int32Data;break;case Ha.onnx.TensorProto.DataType.INT64:rl=Do.int64Data;break;case Ha.onnx.TensorProto.DataType.DOUBLE:rl=Do.doubleData;break;case Ha.onnx.TensorProto.DataType.UINT32:case Ha.onnx.TensorProto.DataType.UINT64:rl=Do.uint64Data;break;default:throw new Error("unspecific error")}if(rl==null)throw new Error("failed to populate data from a tensorproto value");const il=tl.data;if(il.length!==rl.length)throw new Error("array length mismatch");for(let al=0;al<rl.length;al++){const ll=rl[al];Ga.default.isLong(ll)?il[al]=Wa(ll,Do.dataType):il[al]=ll}}return tl}static fromData(Do,Mo,el){return new Qa(Mo,el,void 0,void 0,Do)}static fromOrtTensor(Do){if(!Do)throw new Error("cannot construct Value from an empty tensor");const Mo=Xa.ProtoUtil.tensorDimsFromORTFormat(Do),el=Xa.ProtoUtil.tensorDataTypeFromProto(Do.dataType()),tl=new Qa(Mo,el);if(el==="string")for(let rl=0;rl<Do.stringDataLength();rl++)tl.data[rl]=Do.stringData(rl);else if(Do.rawDataArray()&&typeof Do.rawDataLength()=="number"&&Do.rawDataLength()>0){const rl=tl.data,il=new DataView(Do.rawDataArray().buffer,Do.rawDataArray().byteOffset,Do.rawDataLength()),al=Va(Do.dataType()),ll=Do.rawDataLength()/al;if(Do.rawDataLength()%al!=0)throw new Error("invalid buffer length");if(rl.length!==ll)throw new Error("buffer length mismatch");for(let ul=0;ul<ll;ul++){const ol=Ja(il,Do.dataType(),ul*al);rl[ul]=ol}}return tl}}function Va(Oo){switch(Oo){case Ha.onnx.TensorProto.DataType.UINT8:case Ha.onnx.TensorProto.DataType.INT8:case Ha.onnx.TensorProto.DataType.BOOL:return 1;case Ha.onnx.TensorProto.DataType.UINT16:case Ha.onnx.TensorProto.DataType.INT16:return 2;case Ha.onnx.TensorProto.DataType.FLOAT:case Ha.onnx.TensorProto.DataType.INT32:case Ha.onnx.TensorProto.DataType.UINT32:return 4;case Ha.onnx.TensorProto.DataType.INT64:case Ha.onnx.TensorProto.DataType.DOUBLE:case Ha.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${Ha.onnx.TensorProto.DataType[Oo]}`)}}function Ua(Oo){switch(Oo){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function Wa(Oo,Do){if(Do===Ha.onnx.TensorProto.DataType.INT64||Do===Ka.TensorDataType.INT64){if(Oo.greaterThanOrEqual(2147483648)||Oo.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(Do!==Ha.onnx.TensorProto.DataType.UINT32&&Do!==Ka.TensorDataType.UINT32&&Do!==Ha.onnx.TensorProto.DataType.UINT64&&Do!==Ka.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${Ha.onnx.TensorProto.DataType[Do]}`);if(Oo.greaterThanOrEqual(4294967296)||Oo.lessThan(0))throw new TypeError("uint64 is not supported")}return Oo.toNumber()}function Ja(Oo,Do,Mo){switch(Do){case Ha.onnx.TensorProto.DataType.BOOL:case Ha.onnx.TensorProto.DataType.UINT8:return Oo.getUint8(Mo);case Ha.onnx.TensorProto.DataType.INT8:return Oo.getInt8(Mo);case Ha.onnx.TensorProto.DataType.UINT16:return Oo.getUint16(Mo,!0);case Ha.onnx.TensorProto.DataType.INT16:return Oo.getInt16(Mo,!0);case Ha.onnx.TensorProto.DataType.FLOAT:return Oo.getFloat32(Mo,!0);case Ha.onnx.TensorProto.DataType.INT32:return Oo.getInt32(Mo,!0);case Ha.onnx.TensorProto.DataType.UINT32:return Oo.getUint32(Mo,!0);case Ha.onnx.TensorProto.DataType.INT64:return Wa(Ga.default.fromBits(Oo.getUint32(Mo,!0),Oo.getUint32(Mo+4,!0),!1),Do);case Ha.onnx.TensorProto.DataType.DOUBLE:return Oo.getFloat64(Mo,!0);case Ha.onnx.TensorProto.DataType.UINT64:return Wa(Ga.default.fromBits(Oo.getUint32(Mo,!0),Oo.getUint32(Mo+4,!0),!0),Do);default:throw new Error(`cannot read from DataView for type ${Ha.onnx.TensorProto.DataType[Do]}`)}}Na.Tensor=Qa},2517:function(La,Na,ja){var Ba=this&&this.__importDefault||function(Do){return Do&&Do.__esModule?Do:{default:Do}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.decodeUtf8String=Na.MAX_CLIP=Na.MIN_CLIP=Na.PoolConvUtil=Na.ReduceUtil=Na.SplitUtil=Na.MathUtil=Na.ShapeUtil=Na.LongUtil=Na.ProtoUtil=Na.GemmUtil=Na.arrayCopyHelper=Na.BroadcastUtil=Na.MatMulUtil=Na.ArrayUtil=Na.assert=Na.checkInputsShape=void 0;const za=ja(5686),Ga=Ba(ja(3720)),Ha=ja(1446),Ya=ja(9162);Na.checkInputsShape=function(Do,...Mo){if(!Do||Do.length!==Mo.length)return!1;for(let el=0;el<Do.length;el++)if(!Do[el].dims||Do[el].dims.length!==Mo[el])return!1;return!0},Na.assert=function(Do,Mo){if(!Do)throw new Error(typeof Mo=="string"?Mo:Mo())},Na.ArrayUtil=class{static arraysEqual(Do,Mo){if(Do.length!==Mo.length)return!1;for(let el=0;el<Do.length;el++)if(Do[el]!==Mo[el])return!1;return!0}};class Xa{static preprocessInputShapes(Mo,el){return[Mo.length===1?[1,Mo[0]]:Mo,el.length===1?[el[0],1]:el]}static postprocessOutputShape(Mo,el,tl){el===1&&Mo.splice(Mo.length-2,1),tl===1&&Mo.pop()}static calcMatMulShape(Mo,el){return Mo[1]!==el[0]?void 0:[Mo[0],el[1]]}}Na.MatMulUtil=Xa;class Ka{static calcShape(Mo,el,tl=!1){const rl=Mo.length,il=el.length;if(rl===0)return el;if(il===0)return Mo;const al=Math.max(Mo.length,el.length),ll=new Array(al);if(tl){if(rl<2||il<2)return;const ul=Xa.calcMatMulShape([Mo[rl-2],Mo[rl-1]],[el[il-2],el[il-1]]);if(ul===void 0)return;[ll[al-2],ll[al-1]]=ul}for(let ul=tl?3:1;ul<=al;ul++){const ol=rl-ul<0?1:Mo[rl-ul],cl=il-ul<0?1:el[il-ul];if(ol!==cl&&ol>1&&cl>1)return;ll[al-ul]=Math.max(ol,cl)}return ll}static index(Mo,el){const tl=new Array(el.length);return Ka.fillIndex(Mo,el,tl),tl}static fillIndex(Mo,el,tl){const rl=Mo.length-el.length;for(let il=0;il<el.length;il++)tl[il]=Mo[rl+il]%el[il]}static calc(Mo,el,tl,rl,il){const al=Ka.calcShape(Mo.dims,el.dims);if(al){if(rl&&!Ua.areEqual(al,Mo.dims))return;const ll=Ua.size(al),ul=rl?Mo:new Ya.Tensor(al,il||Mo.type);if(al.length===0)ul.set([],tl(Mo.get([]),el.get([])));else{const ol=new Array(al.length),cl=new Array(Mo.dims.length),gl=new Array(el.dims.length);let bl,_l=0,xl=0,Al=!1,ml=!1;Mo.dims.length===0&&(_l=Mo.get([]),Al=!0),el.dims.length===0&&(xl=el.get([]),ml=!0);for(let Sl=0;Sl<ll;Sl++){bl=Sl;for(let Cl=al.length-1;Cl>=0;Cl--)ol[Cl]=bl%al[Cl],bl=Math.floor(bl/al[Cl]);Al||(Ka.fillIndex(ol,Mo.dims,cl),_l=Mo.get(cl)),ml||(Ka.fillIndex(ol,el.dims,gl),xl=el.get(gl)),ul.set(ol,tl(_l,xl))}}return ul}}static isValidBroadcast(Mo,el){const tl=Mo.length,rl=el.length;if(tl>rl)return!1;for(let il=1;il<=tl;il++)if(Mo[tl-il]!==1&&Mo[tl-il]!==el[rl-il])return!1;return!0}static getBroadcastDims(Mo,el){const tl=Mo.length,rl=[];for(let il=0;il<tl;il++){const al=tl-1-il,ll=Mo[al]||1;(el[el.length-1-il]||1)>1&&ll===1&&rl.unshift(al)}return rl}}Na.BroadcastUtil=Ka,Na.arrayCopyHelper=function(Do,Mo,el,tl,rl){if(tl<0||tl>=Mo.length)throw new Error("sourceIndex out of bounds");if(el<0||el>=Do.length)throw new Error("targetIndex out of bounds");if(tl+rl>Mo.length)throw new Error("source indices to be copied are outside bounds");if(el+rl>Do.length)throw new Error("target array is too small to hold result");for(let il=0;il<rl;il++)Do[el+il]=Mo[tl+il]},Na.GemmUtil=class{static getShapeOfGemmResult(Do,Mo,el,tl,rl){if(Do.length!==2||el.length!==2)throw new Error("shape need to be of size 2");let il,al,ll;Mo?(il=Do[1],al=Do[0]):(il=Do[0],al=Do[1]);let ul=-1;if(tl?(ll=el[0],ul=1):(ll=el[1],ul=0),el[ul]!==al)throw new Error("dimension mismatch");if(il<=0||ll<=0||al<=0)throw new Error("invalid shape specified");if(rl&&!Ka.isValidBroadcast(rl,[il,ll]))throw new Error("gemm: invalid bias shape for broadcast");return[il,ll,al]}};class Qa{static tensorDataTypeFromProto(Mo){switch(Mo){case Ha.onnx.TensorProto.DataType.INT8:return"int8";case Ha.onnx.TensorProto.DataType.UINT8:return"uint8";case Ha.onnx.TensorProto.DataType.BOOL:return"bool";case Ha.onnx.TensorProto.DataType.INT16:return"int16";case Ha.onnx.TensorProto.DataType.UINT16:return"uint16";case Ha.onnx.TensorProto.DataType.INT32:return"int32";case Ha.onnx.TensorProto.DataType.UINT32:return"uint32";case Ha.onnx.TensorProto.DataType.FLOAT:return"float32";case Ha.onnx.TensorProto.DataType.DOUBLE:return"float64";case Ha.onnx.TensorProto.DataType.STRING:return"string";case Ha.onnx.TensorProto.DataType.INT64:return"int32";case Ha.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${Ha.onnx.TensorProto.DataType[Mo]}`)}}static tensorDataTypeStringToEnum(Mo){switch(Mo){case"int8":return Ha.onnx.TensorProto.DataType.INT8;case"uint8":return Ha.onnx.TensorProto.DataType.UINT8;case"bool":return Ha.onnx.TensorProto.DataType.BOOL;case"int16":return Ha.onnx.TensorProto.DataType.INT16;case"uint16":return Ha.onnx.TensorProto.DataType.UINT16;case"int32":return Ha.onnx.TensorProto.DataType.INT32;case"uint32":return Ha.onnx.TensorProto.DataType.UINT32;case"float32":return Ha.onnx.TensorProto.DataType.FLOAT;case"float64":return Ha.onnx.TensorProto.DataType.DOUBLE;case"string":return Ha.onnx.TensorProto.DataType.STRING;case"int64":return Ha.onnx.TensorProto.DataType.INT64;case"uint64":return Ha.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${Mo}`)}}static tensorDimsFromProto(Mo){return Mo.map((el=>Ga.default.isLong(el)?el.toNumber():el))}static tensorValueTypeFromProto(Mo){return{tensorType:Qa.tensorDataTypeFromProto(Mo.elemType),shape:{dims:Qa.tensorDimsFromProto(Mo.shape.dim.map((el=>el.dimValue)))}}}static tensorDimsFromORTFormat(Mo){const el=[];for(let tl=0;tl<Mo.dimsLength();tl++)el.push(Va.longToNumber(Mo.dims(tl)));return el}static tensorAttributesFromORTFormat(Mo){const el=[];for(let tl=0;tl<Mo.attributesLength();tl++)el.push(Mo.attributes(tl));return el}}Na.ProtoUtil=Qa;class Va{static longToNumber(Mo,el){return Ga.default.isLong(Mo)?Mo.toNumber():Mo instanceof za.flatbuffers.Long?Ga.default.fromValue({low:Mo.low,high:Mo.high,unsigned:el!=null&&el}).toNumber():Mo}static isLong(Mo){return Ga.default.isLong(Mo)||Mo instanceof za.flatbuffers.Long}}Na.LongUtil=Va;class Ua{static size(Mo){return Ua.getSizeFromDimensionRange(Mo,0,Mo.length)}static sizeFromDimension(Mo,el){if(el<0||el>Mo.length)throw new Error(`invalid dimension of ${el} for sizeFromDimension as Tensor has ${Mo.length} dimensions.`);return Ua.getSizeFromDimensionRange(Mo,el,Mo.length)}static sizeToDimension(Mo,el){if(el<0||el>Mo.length)throw new Error(`invalid dimension of ${el} for sizeToDimension as Tensor has ${Mo.length} dimensions.`);return Ua.getSizeFromDimensionRange(Mo,0,el)}static getSizeFromDimensionRange(Mo,el,tl){let rl=1;for(let il=el;il<tl;il++){if(Mo[il]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");rl*=Mo[il]}return rl}static computeStrides(Mo){const el=Mo.length;if(el===0)return[];if(el===1)return[1];const tl=new Array(el);tl[el-1]=1,tl[el-2]=Mo[el-1];for(let rl=el-3;rl>=0;--rl)tl[rl]=tl[rl+1]*Mo[rl+1];return tl}static transpose(Mo){return Mo.slice().reverse()}static indicesToOffset(Mo,el,tl){tl===void 0&&(tl=Mo.length);let rl=0;for(let il=0;il<tl;++il)rl+=el[il]*Mo[il];return rl}static offsetToIndices(Mo,el){const tl=el.length;if(tl===0)return[];if(tl===1)return[Mo*el[0]];const rl=new Array(el.length);for(let il=0;il<rl.length-1;++il)rl[il]=Math.floor(Mo/el[il]),Mo-=rl[il]*el[il];return rl[rl.length-1]=Mo,rl}static normalizeAxis(Mo,el){if(Mo<-el&&Mo>=el)throw new Error("unsupported axis for this operation.");return Mo<0?Mo+el:Mo}static normalizeAxes(Mo,el){return Mo.map((tl=>this.normalizeAxis(tl,el)))}static incrementIndex(Mo,el,tl){if(el.length===0||Mo.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(tl===void 0)tl=el.length;else if(tl<=0||tl>el.length)throw new Error("Incorrect axis to increment on");for(let rl=tl-1;rl>=0&&(Mo[rl]++,!(Mo[rl]<el[rl]));--rl)Mo[rl]=0}static calculateReshapedDims(Mo,el){if(el.length===0){if(Mo.length===0||Ua.size(Mo)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const tl=el.length,rl=new Array(tl);let il=-1,al=1;for(let ul=0;ul<tl;ul++){if(el[ul]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(el[ul]===-1){if(il!==-1)throw new Error("at most one dimension in shape hints can be -1");il=ul}else{if(el[ul]===0){if(ul>=Mo.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");rl[ul]=Mo[ul]}else rl[ul]=el[ul];al*=rl[ul]}}const ll=Ua.size(Mo);if(il!==-1){if(ll%al!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${Mo}] Output shape: [${el}]`);rl[il]=ll/al}else if(al!==ll)throw new Error("reshapedDims and originalDims don't have matching sizes");return rl}static sortBasedOnPerm(Mo,el){return el?el.map((tl=>Mo[tl])):Mo.slice().reverse()}static padShape(Mo,el){const tl=Mo.length;return Mo.map(((rl,il)=>rl+el[il]+el[il+tl]))}static areEqual(Mo,el){return Mo.length===el.length&&Mo.every(((tl,rl)=>tl===el[rl]))}static validateDimsAndCalcSize(Mo){if(Mo.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let el=1;for(const tl of Mo){if(!Number.isInteger(tl))throw new TypeError(`Invalid shape: ${tl} is not an integer`);if(tl<0||tl>2147483647)throw new TypeError(`Invalid shape: length ${tl} is not allowed`);el*=tl}return el}static flattenShape(Mo,el){el<0&&(el+=Mo.length);const tl=Mo.reduce(((il,al)=>il*al),1),rl=Mo.slice(el).reduce(((il,al)=>il*al),1);return[tl/rl,rl]}static squeezeShape(Mo,el){const tl=new Array;el=Ua.normalizeAxes(el,Mo.length);for(let rl=0;rl<Mo.length;rl++){const il=el.indexOf(rl)>=0;if(il&&Mo[rl]!==1)throw new Error("squeeze an axis of size different than 1");(el.length===0&&Mo[rl]>1||el.length>0&&!il)&&tl.push(Mo[rl])}return tl}static unsqueezeShape(Mo,el){const tl=new Array(Mo.length+el.length);tl.fill(0);for(let il=0;il<el.length;il++){const al=Ua.normalizeAxis(el[il],tl.length);if(al>=tl.length)throw new Error("'axes' has an out of range axis");if(tl[al]!==0)throw new Error("'axes' has a duplicate axis");tl[al]=1}let rl=0;for(let il=0;il<tl.length;il++)tl[il]===0&&(tl[il]=Mo[rl++]);if(rl!==Mo.length)throw new Error("the unsqueezed dimension could not be established");return tl}}Na.ShapeUtil=Ua,Na.MathUtil=class{static sqr(Do,Mo,el,tl,rl){if(tl<0||tl>=Mo.length)throw new Error("sourceIndex out of bounds");if(el<0||el>=Do.length)throw new Error("targetIndex out of bounds");if(tl+rl>Mo.length)throw new Error("source indices to be copied are outside bounds");if(el+rl>Do.length)throw new Error("target array is too small to hold result");for(let il=0;il<rl;il++)Do[el+il]+=Math.pow(Mo[tl+il],2)}static axpy(Do,Mo,el,tl,rl,il){if(tl<0||tl>=Mo.length)throw new Error("sourceIndex out of bounds");if(el<0||el>=Do.length)throw new Error("targetIndex out of bounds");if(tl+rl>Mo.length)throw new Error("source indices to be copied are outside bounds");if(el+rl>Do.length)throw new Error("target array is too small to hold result");for(let al=0;al<rl;al++)Do[el+al]+=il*Mo[tl+al]}static powx(Do,Mo,el,tl,rl,il){if(tl<0||tl>=Mo.length)throw new Error("sourceIndex out of bounds");if(el<0||el>=Do.length)throw new Error("targetIndex out of bounds");if(tl+rl>Mo.length)throw new Error("source indices to be copied are outside bounds");if(el+rl>Do.length)throw new Error("target array is too small to hold result");for(let al=0;al<rl;al++)Do[el+al]=Math.pow(Mo[tl+al],il)}static mul(Do,Mo,el,tl,rl){if(tl<0||tl>=Mo.length)throw new Error("sourceIndex out of bounds");if(el<0||el>=Do.length)throw new Error("targetIndex out of bounds");if(tl+rl>Mo.length)throw new Error("source indices to be copied are outside bounds");if(el+rl>Do.length)throw new Error("target array is too small to hold result");for(let il=0;il<rl;il++)Do[el+il]=Mo[tl+il]*Do[el+il]}};class Wa{static splitShape(Mo,el,tl,rl){if(tl.length===0){if(!rl)throw new Error("need to know number of outputs when the 'split' attribute is not specified");Wa.determineSplit(Mo[el],rl,tl)}const il=[],al=[0];for(let ll=0;ll<tl.length;++ll){ll!==0&&al.push(al[ll-1]+tl[ll-1]);const ul=Mo.slice();ul[el]=tl[ll],il.push(ul)}return[il,al]}static determineSplit(Mo,el,tl){if(Mo%el!=0)throw new Error("cannot split tensor to equal sized parts");for(let rl=0;rl<el;++rl)tl.push(Mo/el)}}Na.SplitUtil=Wa;class Ja{static calcReduce(Mo,el,tl,rl,il){const al=Mo.dims.slice(0);el.length===0&&al.forEach(((_l,xl)=>el.push(xl)));const ll=Ja.calcReduceShape(al,el,!0),ul=Ua.size(ll),ol=new Ya.Tensor(ll,Mo.type),cl=Ua.computeStrides(ll),gl=Ua.computeStrides(al),bl=new Array(al.length);for(let _l=0;_l<ul;_l++){const xl=Ua.offsetToIndices(_l,cl);Ka.fillIndex(xl,al,bl),ol.set(xl,Ja.calcReduceByAxis(Mo.numberData,el,al,0,Ua.indicesToOffset(bl,gl),rl,il))}return tl?ol:new Ya.Tensor(Ja.calcReduceShape(al,el,tl),ol.type,void 0,void 0,ol.data,ol.dataId)}static calcReduceByAxis(Mo,el,tl,rl,il,al,ll){let ul=0;if(rl>=el.length)return al(Mo[il]);const ol=el[rl],cl=ol>=tl.length?1:Ua.size(tl.slice(ol+1));for(let gl=0;gl<tl[ol];gl++)ul=gl===0?Ja.calcReduceByAxis(Mo,el,tl,rl+1,il,al,ll):ll(ul,Ja.calcReduceByAxis(Mo,el,tl,rl+1,il,al,ll)),il+=cl;return ul}static calcReduceShape(Mo,el,tl){const rl=Mo.slice();for(let il=0;il<el.length;il++)rl[el[il]]=tl?1:0;return rl.filter((il=>il!==0))}}Na.ReduceUtil=Ja;class Oo{static adjustPoolAttributes(Mo,el,tl,rl,il,al){if(!Mo&&tl.length!==el.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(Mo)for(let ll=0;ll<el.length-2;ll++)ll>=tl.length?tl.push(el[ll+2]):tl[ll]=el[ll+2];for(let ll=0;ll<tl.length;ll++)if(ll<rl.length){if(rl[ll]<0)throw new Error("strides should be greater than or equal to 1")}else rl.push(1);for(let ll=0;ll<tl.length;ll++)if(ll<il.length){if(il[ll]<0)throw new Error("dilations should be greater than or equal to 1")}else il.push(1);for(let ll=0;ll<2*tl.length;ll++)if(ll<al.length){if(al[ll]<0)throw new Error("pad should be greater than or equal to 1")}else al.push(0);for(let ll=0;ll<tl.length;ll++){if(tl[ll]<=0)throw new Error("kernel shapes need to be greater than 0");if(al[ll]>=tl[ll]||al[ll+tl.length]>=tl[ll])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(Mo,el,tl,rl,il,al){if(al){if(il.length!==2*(Mo.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(el.length!==Mo.length-2)throw new Error("length of strides should be the length of data dimensions");if(rl.length!==Mo.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let ll=0;ll<Mo.length-2;ll++)Oo.adjustPadAndReturnShape(Mo[ll+2],el[ll],tl[ll],rl[ll],il,ll,ll+Mo.length-2,al)}}static computePoolOutputShape(Mo,el,tl,rl,il,al,ll){if(el.length<=0)throw new Error("input shape must be of size greater than 0");const ul=[el[0],el[1]];return Oo.computeShapeHelper(Mo,el,ul,tl,rl,il,al,ll),ul}static computeConvOutputShape(Mo,el,tl,rl,il,al,ll){if(Mo.length<=0||el.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const ul=[Mo[0],el[0]];return Oo.computeShapeHelper(!1,Mo,ul,tl,rl,il,al,ll),ul}static computeShapeHelper(Mo,el,tl,rl,il,al,ll,ul){if(Mo)for(let ol=0;ol<el.length-2;ol++)tl.push(1);else for(let ol=0;ol<el.length-2;ol++)tl.push(Oo.adjustPadAndReturnShape(el[ol+2],rl[ol],il[ol],al[ol],ll,ol,ol+el.length-2,ul))}static adjustPadAndReturnShape(Mo,el,tl,rl,il,al,ll,ul){const ol=tl*(rl-1)+1;if(!ul||ul==="NOTSET")return Math.floor((Mo+il[al]+il[ll]-ol)/el+1);switch(ul){case"VALID":return il[al]=0,il[ll]=0,Math.floor((Mo-ol)/el+1);case"SAME_LOWER":case"SAME_UPPER":if(tl!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const cl=((Mo+el-1)/el-1)*el+rl-Mo;return il[al]=Math.floor(ul==="SAME_LOWER"?(cl+1)/2:cl/2),il[ll]=cl-il[al],Math.floor((Mo+cl-rl)/el+1)}default:throw new Error("Unsupported AutoPad type")}}}Na.PoolConvUtil=Oo,Na.MIN_CLIP=-34028234663852886e22,Na.MAX_CLIP=34028234663852886e22,Na.decodeUtf8String=function(Do){return new TextDecoder().decode(Do)}},7967:(La,Na)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.iterateExtraOptions=void 0,Na.iterateExtraOptions=(ja,Ba,za,Ga)=>{if(typeof ja=="object"&&ja!==null){if(za.has(ja))throw new Error("Circular reference in options");za.add(ja)}Object.entries(ja).forEach((([Ha,Ya])=>{const Xa=Ba?Ba+Ha:Ha;if(typeof Ya=="object")(0,Na.iterateExtraOptions)(Ya,Xa+".",za,Ga);else if(typeof Ya=="string"||typeof Ya=="number")Ga(Xa,Ya.toString());else{if(typeof Ya!="boolean")throw new Error("Can't handle extra config type: "+typeof Ya);Ga(Xa,Ya?"1":"0")}}))}},2157:function(La,Na,ja){var Ba,za=this&&this.__createBinding||(Object.create?function(cl,gl,bl,_l){_l===void 0&&(_l=bl);var xl=Object.getOwnPropertyDescriptor(gl,bl);xl&&!("get"in xl?!gl.__esModule:xl.writable||xl.configurable)||(xl={enumerable:!0,get:function(){return gl[bl]}}),Object.defineProperty(cl,_l,xl)}:function(cl,gl,bl,_l){_l===void 0&&(_l=bl),cl[_l]=gl[bl]}),Ga=this&&this.__setModuleDefault||(Object.create?function(cl,gl){Object.defineProperty(cl,"default",{enumerable:!0,value:gl})}:function(cl,gl){cl.default=gl}),Ha=this&&this.__importStar||function(cl){if(cl&&cl.__esModule)return cl;var gl={};if(cl!=null)for(var bl in cl)bl!=="default"&&Object.prototype.hasOwnProperty.call(cl,bl)&&za(gl,cl,bl);return Ga(gl,cl),gl};Object.defineProperty(Na,"__esModule",{value:!0}),Na.endProfiling=Na.run=Na.releaseSession=Na.createSession=Na.createSessionFinalize=Na.createSessionAllocate=Na.initOrt=Na.initWasm=void 0;const Ya=ja(1670),Xa=Ha(ja(349)),Ka=ja(6361),Qa=()=>!!Ya.env.wasm.proxy&&typeof document<"u";let Va,Ua,Wa,Ja=!1,Oo=!1,Do=!1;const Mo=[],el=[],tl=[],rl=[],il=[],al=[],ll=()=>{if(Ja||!Oo||Do||!Va)throw new Error("worker not ready")},ul=cl=>{switch(cl.data.type){case"init-wasm":Ja=!1,cl.data.err?(Do=!0,Ua[1](cl.data.err)):(Oo=!0,Ua[0]());break;case"init-ort":cl.data.err?Wa[1](cl.data.err):Wa[0]();break;case"create_allocate":cl.data.err?Mo.shift()[1](cl.data.err):Mo.shift()[0](cl.data.out);break;case"create_finalize":cl.data.err?el.shift()[1](cl.data.err):el.shift()[0](cl.data.out);break;case"create":cl.data.err?tl.shift()[1](cl.data.err):tl.shift()[0](cl.data.out);break;case"release":cl.data.err?rl.shift()[1](cl.data.err):rl.shift()[0]();break;case"run":cl.data.err?il.shift()[1](cl.data.err):il.shift()[0](cl.data.out);break;case"end-profiling":cl.data.err?al.shift()[1](cl.data.err):al.shift()[0]()}},ol=typeof document<"u"?(Ba=document?.currentScript)===null||Ba===void 0?void 0:Ba.src:void 0;Na.initWasm=async()=>{if(Qa()){if(Oo)return;if(Ja)throw new Error("multiple calls to 'initWasm()' detected.");if(Do)throw new Error("previous call to 'initWasm()' failed.");return Ja=!0,Ya.env.wasm.wasmPaths===void 0&&ol&&ol.indexOf("blob:")!==0&&(Ya.env.wasm.wasmPaths=ol.substr(0,+ol.lastIndexOf("/")+1)),new Promise(((cl,gl)=>{Va?.terminate(),Va=ja(9710).Z(),Va.onmessage=ul,Ua=[cl,gl];const bl={type:"init-wasm",in:Ya.env.wasm};Va.postMessage(bl)}))}return(0,Ka.initializeWebAssembly)(Ya.env.wasm)},Na.initOrt=async(cl,gl)=>{if(Qa())return ll(),new Promise(((bl,_l)=>{Wa=[bl,_l];const xl={type:"init-ort",in:{numThreads:cl,loggingLevel:gl}};Va.postMessage(xl)}));Xa.initOrt(cl,gl)},Na.createSessionAllocate=async cl=>Qa()?(ll(),new Promise(((gl,bl)=>{Mo.push([gl,bl]);const _l={type:"create_allocate",in:{model:cl}};Va.postMessage(_l,[cl.buffer])}))):Xa.createSessionAllocate(cl),Na.createSessionFinalize=async(cl,gl)=>Qa()?(ll(),new Promise(((bl,_l)=>{el.push([bl,_l]);const xl={type:"create_finalize",in:{modeldata:cl,options:gl}};Va.postMessage(xl)}))):Xa.createSessionFinalize(cl,gl),Na.createSession=async(cl,gl)=>Qa()?(ll(),new Promise(((bl,_l)=>{tl.push([bl,_l]);const xl={type:"create",in:{model:cl,options:gl}};Va.postMessage(xl,[cl.buffer])}))):Xa.createSession(cl,gl),Na.releaseSession=async cl=>{if(Qa())return ll(),new Promise(((gl,bl)=>{rl.push([gl,bl]);const _l={type:"release",in:cl};Va.postMessage(_l)}));Xa.releaseSession(cl)},Na.run=async(cl,gl,bl,_l,xl)=>Qa()?(ll(),new Promise(((Al,ml)=>{il.push([Al,ml]);const Sl={type:"run",in:{sessionId:cl,inputIndices:gl,inputs:bl,outputIndices:_l,options:xl}};Va.postMessage(Sl,Xa.extractTransferableBuffers(bl))}))):Xa.run(cl,gl,bl,_l,xl),Na.endProfiling=async cl=>{if(Qa())return ll(),new Promise(((gl,bl)=>{al.push([gl,bl]);const _l={type:"end-profiling",in:cl};Va.postMessage(_l)}));Xa.endProfiling(cl)}},586:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.setRunOptions=void 0;const Ba=ja(7967),za=ja(4983),Ga=ja(6361);Na.setRunOptions=Ha=>{const Ya=(0,Ga.getInstance)();let Xa=0;const Ka=[],Qa=Ha||{};try{if(Ha?.logSeverityLevel===void 0)Qa.logSeverityLevel=2;else if(typeof Ha.logSeverityLevel!="number"||!Number.isInteger(Ha.logSeverityLevel)||Ha.logSeverityLevel<0||Ha.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${Ha.logSeverityLevel}`);if(Ha?.logVerbosityLevel===void 0)Qa.logVerbosityLevel=0;else if(typeof Ha.logVerbosityLevel!="number"||!Number.isInteger(Ha.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${Ha.logVerbosityLevel}`);Ha?.terminate===void 0&&(Qa.terminate=!1);let Va=0;if(Ha?.tag!==void 0&&(Va=(0,za.allocWasmString)(Ha.tag,Ka)),Xa=Ya._OrtCreateRunOptions(Qa.logSeverityLevel,Qa.logVerbosityLevel,!!Qa.terminate,Va),Xa===0)throw new Error("Can't create run options");return Ha?.extra!==void 0&&(0,Ba.iterateExtraOptions)(Ha.extra,"",new WeakSet,((Ua,Wa)=>{const Ja=(0,za.allocWasmString)(Ua,Ka),Oo=(0,za.allocWasmString)(Wa,Ka);if(Ya._OrtAddRunConfigEntry(Xa,Ja,Oo)!==0)throw new Error(`Can't set a run config entry: ${Ua} - ${Wa}`)})),[Xa,Ka]}catch(Va){throw Xa!==0&&Ya._OrtReleaseRunOptions(Xa),Ka.forEach(Ya._free),Va}}},2306:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.OnnxruntimeWebAssemblySessionHandler=void 0;const Ba=ja(2806),za=ja(1670),Ga=ja(2850),Ha=ja(2157);let Ya;Na.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(Xa){const Ka=await fetch(Xa),Qa=await Ka.arrayBuffer();return(0,Ha.createSessionAllocate)(new Uint8Array(Qa))}async loadModel(Xa,Ka){if(Ya||(await(0,Ha.initOrt)(za.env.wasm.numThreads,(Qa=>{switch(Qa){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${Qa}`)}})(za.env.logLevel)),Ya=!0),typeof Xa=="string")if(typeof fetch>"u"){const Qa=await(0,Ga.promisify)(Ba.readFile)(Xa);[this.sessionId,this.inputNames,this.outputNames]=await(0,Ha.createSession)(Qa,Ka)}else{const Qa=await this.createSessionAllocate(Xa);[this.sessionId,this.inputNames,this.outputNames]=await(0,Ha.createSessionFinalize)(Qa,Ka)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,Ha.createSession)(Xa,Ka)}async dispose(){return(0,Ha.releaseSession)(this.sessionId)}async run(Xa,Ka,Qa){const Va=[],Ua=[];Object.entries(Xa).forEach((Do=>{const Mo=Do[0],el=Do[1],tl=this.inputNames.indexOf(Mo);if(tl===-1)throw new Error(`invalid input '${Mo}'`);Va.push(el),Ua.push(tl)}));const Wa=[];Object.entries(Ka).forEach((Do=>{const Mo=Do[0],el=this.outputNames.indexOf(Mo);if(el===-1)throw new Error(`invalid output '${Mo}'`);Wa.push(el)}));const Ja=await(0,Ha.run)(this.sessionId,Ua,Va.map((Do=>[Do.type,Do.dims,Do.data])),Wa,Qa),Oo={};for(let Do=0;Do<Ja.length;Do++)Oo[this.outputNames[Wa[Do]]]=new za.Tensor(Ja[Do][0],Ja[Do][2],Ja[Do][1]);return Oo}startProfiling(){}endProfiling(){(0,Ha.endProfiling)(this.sessionId)}}},4919:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.setSessionOptions=void 0;const Ba=ja(7967),za=ja(4983),Ga=ja(6361);Na.setSessionOptions=Ha=>{const Ya=(0,Ga.getInstance)();let Xa=0;const Ka=[],Qa=Ha||{};(Va=>{Va.extra||(Va.extra={}),Va.extra.session||(Va.extra.session={});const Ua=Va.extra.session;Ua.use_ort_model_bytes_directly||(Ua.use_ort_model_bytes_directly="1")})(Qa);try{Ha?.graphOptimizationLevel===void 0&&(Qa.graphOptimizationLevel="all");const Va=(Ja=>{switch(Ja){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${Ja}`)}})(Qa.graphOptimizationLevel);Ha?.enableCpuMemArena===void 0&&(Qa.enableCpuMemArena=!0),Ha?.enableMemPattern===void 0&&(Qa.enableMemPattern=!0),Ha?.executionMode===void 0&&(Qa.executionMode="sequential");const Ua=(Ja=>{switch(Ja){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${Ja}`)}})(Qa.executionMode);let Wa=0;if(Ha?.logId!==void 0&&(Wa=(0,za.allocWasmString)(Ha.logId,Ka)),Ha?.logSeverityLevel===void 0)Qa.logSeverityLevel=2;else if(typeof Ha.logSeverityLevel!="number"||!Number.isInteger(Ha.logSeverityLevel)||Ha.logSeverityLevel<0||Ha.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${Ha.logSeverityLevel}`);if(Ha?.logVerbosityLevel===void 0)Qa.logVerbosityLevel=0;else if(typeof Ha.logVerbosityLevel!="number"||!Number.isInteger(Ha.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${Ha.logVerbosityLevel}`);if(Ha?.enableProfiling===void 0&&(Qa.enableProfiling=!1),Xa=Ya._OrtCreateSessionOptions(Va,!!Qa.enableCpuMemArena,!!Qa.enableMemPattern,Ua,!!Qa.enableProfiling,0,Wa,Qa.logSeverityLevel,Qa.logVerbosityLevel),Xa===0)throw new Error("Can't create session options");return Ha?.executionProviders&&((Ja,Oo,Do)=>{for(const Mo of Oo){let el=typeof Mo=="string"?Mo:Mo.name;switch(el){case"xnnpack":el="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${el}`)}const tl=(0,za.allocWasmString)(el,Do);if((0,Ga.getInstance)()._OrtAppendExecutionProvider(Ja,tl)!==0)throw new Error(`Can't append execution provider: ${el}`)}})(Xa,Ha.executionProviders,Ka),Ha?.extra!==void 0&&(0,Ba.iterateExtraOptions)(Ha.extra,"",new WeakSet,((Ja,Oo)=>{const Do=(0,za.allocWasmString)(Ja,Ka),Mo=(0,za.allocWasmString)(Oo,Ka);if(Ya._OrtAddSessionConfigEntry(Xa,Do,Mo)!==0)throw new Error(`Can't set a session config entry: ${Ja} - ${Oo}`)})),[Xa,Ka]}catch(Va){throw Xa!==0&&Ya._OrtReleaseSessionOptions(Xa),Ka.forEach(Ya._free),Va}}},4983:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.allocWasmString=void 0;const Ba=ja(6361);Na.allocWasmString=(za,Ga)=>{const Ha=(0,Ba.getInstance)(),Ya=Ha.lengthBytesUTF8(za)+1,Xa=Ha._malloc(Ya);return Ha.stringToUTF8(za,Xa,Ya),Ga.push(Xa),Xa}},349:(La,Na,ja)=>{Object.defineProperty(Na,"__esModule",{value:!0}),Na.extractTransferableBuffers=Na.endProfiling=Na.run=Na.releaseSession=Na.createSession=Na.createSessionFinalize=Na.createSessionAllocate=Na.initOrt=void 0;const Ba=ja(586),za=ja(4919),Ga=ja(4983),Ha=ja(6361);Na.initOrt=(Va,Ua)=>{const Wa=(0,Ha.getInstance)()._OrtInit(Va,Ua);if(Wa!==0)throw new Error(`Can't initialize onnxruntime. error code = ${Wa}`)};const Ya=new Map;Na.createSessionAllocate=Va=>{const Ua=(0,Ha.getInstance)(),Wa=Ua._malloc(Va.byteLength);return Ua.HEAPU8.set(Va,Wa),[Wa,Va.byteLength]},Na.createSessionFinalize=(Va,Ua)=>{const Wa=(0,Ha.getInstance)();let Ja=0,Oo=0,Do=[];try{if([Oo,Do]=(0,za.setSessionOptions)(Ua),Ja=Wa._OrtCreateSession(Va[0],Va[1],Oo),Ja===0)throw new Error("Can't create a session")}finally{Wa._free(Va[0]),Wa._OrtReleaseSessionOptions(Oo),Do.forEach(Wa._free)}const Mo=Wa._OrtGetInputCount(Ja),el=Wa._OrtGetOutputCount(Ja),tl=[],rl=[],il=[],al=[];for(let ll=0;ll<Mo;ll++){const ul=Wa._OrtGetInputName(Ja,ll);if(ul===0)throw new Error("Can't get an input name");rl.push(ul),tl.push(Wa.UTF8ToString(ul))}for(let ll=0;ll<el;ll++){const ul=Wa._OrtGetOutputName(Ja,ll);if(ul===0)throw new Error("Can't get an output name");al.push(ul),il.push(Wa.UTF8ToString(ul))}return Ya.set(Ja,[Ja,rl,al]),[Ja,tl,il]},Na.createSession=(Va,Ua)=>{const Wa=(0,Na.createSessionAllocate)(Va);return(0,Na.createSessionFinalize)(Wa,Ua)},Na.releaseSession=Va=>{const Ua=(0,Ha.getInstance)(),Wa=Ya.get(Va);if(!Wa)throw new Error("invalid session id");const Ja=Wa[0],Oo=Wa[1],Do=Wa[2];Oo.forEach(Ua._OrtFree),Do.forEach(Ua._OrtFree),Ua._OrtReleaseSession(Ja),Ya.delete(Va)};const Xa=Va=>{switch(Va){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${Va}`)}},Ka=Va=>{switch(Va){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${Va}`)}},Qa=Va=>{switch(Va){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${Va}`)}};Na.run=(Va,Ua,Wa,Ja,Oo)=>{const Do=(0,Ha.getInstance)(),Mo=Ya.get(Va);if(!Mo)throw new Error("invalid session id");const el=Mo[0],tl=Mo[1],rl=Mo[2],il=Ua.length,al=Ja.length;let ll=0,ul=[];const ol=[],cl=[];try{[ll,ul]=(0,Ba.setRunOptions)(Oo);for(let ml=0;ml<il;ml++){const Sl=Wa[ml][0],Cl=Wa[ml][1],Nl=Wa[ml][2];let dl,Rl;if(Array.isArray(Nl)){Rl=4*Nl.length,dl=Do._malloc(Rl),cl.push(dl);let jl=dl/4;for(let Ll=0;Ll<Nl.length;Ll++){if(typeof Nl[Ll]!="string")throw new TypeError(`tensor data at index ${Ll} is not a string`);Do.HEAPU32[jl++]=(0,Ga.allocWasmString)(Nl[Ll],cl)}}else Rl=Nl.byteLength,dl=Do._malloc(Rl),cl.push(dl),Do.HEAPU8.set(new Uint8Array(Nl.buffer,Nl.byteOffset,Rl),dl);const Tl=Do.stackSave(),pl=Do.stackAlloc(4*Cl.length);try{let jl=pl/4;Cl.forEach((Dl=>Do.HEAP32[jl++]=Dl));const Ll=Do._OrtCreateTensor(Xa(Sl),dl,Rl,pl,Cl.length);if(Ll===0)throw new Error("Can't create a tensor");ol.push(Ll)}finally{Do.stackRestore(Tl)}}const gl=Do.stackSave(),bl=Do.stackAlloc(4*il),_l=Do.stackAlloc(4*il),xl=Do.stackAlloc(4*al),Al=Do.stackAlloc(4*al);try{let ml=bl/4,Sl=_l/4,Cl=xl/4,Nl=Al/4;for(let Tl=0;Tl<il;Tl++)Do.HEAPU32[ml++]=ol[Tl],Do.HEAPU32[Sl++]=tl[Ua[Tl]];for(let Tl=0;Tl<al;Tl++)Do.HEAPU32[Cl++]=0,Do.HEAPU32[Nl++]=rl[Ja[Tl]];let dl=Do._OrtRun(el,_l,bl,il,Al,al,xl,ll);const Rl=[];if(dl===0)for(let Tl=0;Tl<al;Tl++){const pl=Do.HEAPU32[xl/4+Tl],jl=Do.stackSave(),Ll=Do.stackAlloc(16);let Dl,$l=0;try{if(dl=Do._OrtGetTensorData(pl,Ll,Ll+4,Ll+8,Ll+12),dl!==0)throw new Error(`Can't access output tensor data. error code = ${dl}`);let eu=Ll/4;const uu=Do.HEAPU32[eu++];$l=Do.HEAPU32[eu++];const su=Do.HEAPU32[eu++],pu=Do.HEAPU32[eu++],Yl=[];for(let lu=0;lu<pu;lu++)Yl.push(Do.HEAPU32[su/4+lu]);Do._OrtFree(su);const ru=Yl.length===0?1:Yl.reduce(((lu,fu)=>lu*fu));if(Dl=Ka(uu),Dl==="string"){const lu=[];let fu=$l/4;for(let bu=0;bu<ru;bu++){const xu=Do.HEAPU32[fu++],Du=bu===ru-1?void 0:Do.HEAPU32[fu]-xu;lu.push(Do.UTF8ToString(xu,Du))}Rl.push([Dl,Yl,lu])}else{const lu=new(Qa(Dl))(ru);new Uint8Array(lu.buffer,lu.byteOffset,lu.byteLength).set(Do.HEAPU8.subarray($l,$l+lu.byteLength)),Rl.push([Dl,Yl,lu])}}finally{Do.stackRestore(jl),Dl==="string"&&$l&&Do._free($l),Do._OrtReleaseTensor(pl)}}if(dl===0)return Rl;throw new Error(`failed to call OrtRun(). error code = ${dl}.`)}finally{Do.stackRestore(gl)}}finally{ol.forEach(Do._OrtReleaseTensor),cl.forEach(Do._free),Do._OrtReleaseRunOptions(ll),ul.forEach(Do._free)}},Na.endProfiling=Va=>{const Ua=(0,Ha.getInstance)(),Wa=Ya.get(Va);if(!Wa)throw new Error("invalid session id");const Ja=Wa[0],Oo=Ua._OrtEndProfiling(Ja);if(Oo===0)throw new Error("Can't get an profile file name");Ua._OrtFree(Oo)},Na.extractTransferableBuffers=Va=>{const Ua=[];for(const Wa of Va){const Ja=Wa[2];!Array.isArray(Ja)&&Ja.buffer&&Ua.push(Ja.buffer)}return Ua}},6361:function(La,Na,ja){var Ba=this&&this.__createBinding||(Object.create?function(Oo,Do,Mo,el){el===void 0&&(el=Mo);var tl=Object.getOwnPropertyDescriptor(Do,Mo);tl&&!("get"in tl?!Do.__esModule:tl.writable||tl.configurable)||(tl={enumerable:!0,get:function(){return Do[Mo]}}),Object.defineProperty(Oo,el,tl)}:function(Oo,Do,Mo,el){el===void 0&&(el=Mo),Oo[el]=Do[Mo]}),za=this&&this.__setModuleDefault||(Object.create?function(Oo,Do){Object.defineProperty(Oo,"default",{enumerable:!0,value:Do})}:function(Oo,Do){Oo.default=Do}),Ga=this&&this.__importStar||function(Oo){if(Oo&&Oo.__esModule)return Oo;var Do={};if(Oo!=null)for(var Mo in Oo)Mo!=="default"&&Object.prototype.hasOwnProperty.call(Oo,Mo)&&Ba(Do,Oo,Mo);return za(Do,Oo),Do},Ha=this&&this.__importDefault||function(Oo){return Oo&&Oo.__esModule?Oo:{default:Oo}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.dispose=Na.getInstance=Na.initializeWebAssembly=void 0;const Ya=Ga(ja(6449)),Xa=Ha(ja(932)),Ka=ja(3474);let Qa,Va=!1,Ua=!1,Wa=!1;const Ja=(Oo,Do)=>Do?Oo?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":Oo?"ort-wasm-simd.wasm":"ort-wasm.wasm";Na.initializeWebAssembly=async Oo=>{if(Va)return Promise.resolve();if(Ua)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Wa)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ua=!0;const Do=Oo.initTimeout,Mo=Oo.numThreads,el=Oo.simd,tl=Mo>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),rl=el&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),il=typeof Oo.wasmPaths=="string"?Oo.wasmPaths:void 0,al=Ja(!1,tl),ll=Ja(rl,tl),ul=typeof Oo.wasmPaths=="object"?Oo.wasmPaths[ll]:void 0;let ol=!1;const cl=[];if(Do>0&&cl.push(new Promise((gl=>{setTimeout((()=>{ol=!0,gl()}),Do)}))),cl.push(new Promise(((gl,bl)=>{const _l=tl?Ka:Xa.default,xl={locateFile:(Al,ml)=>tl&&Al.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([ja(4154)],{type:"text/javascript"})):Al===al?ul??(il??ml)+ll:ml+Al};if(tl)if(typeof Blob>"u")xl.mainScriptUrlOrBlob=Ya.join("/","ort-wasm-threaded.js");else{const Al=`var ortWasmThreaded=(function(){var _scriptDir;return ${_l.toString()}})();`;xl.mainScriptUrlOrBlob=new Blob([Al],{type:"text/javascript"})}_l(xl).then((Al=>{Ua=!1,Va=!0,Qa=Al,gl()}),(Al=>{Ua=!1,Wa=!0,bl(Al)}))}))),await Promise.race(cl),ol)throw new Error(`WebAssembly backend initializing failed due to timeout: ${Do}ms`)},Na.getInstance=()=>{if(Va&&Qa)return Qa;throw new Error("WebAssembly is not initialized yet.")},Na.dispose=()=>{var Oo;!Va||Ua||Wa||(Ua=!0,(Oo=Qa.PThread)===null||Oo===void 0||Oo.terminateAllThreads(),Qa=void 0,Ua=!1,Va=!1,Wa=!0)}},9710:(La,Na,ja)=>{ja.d(Na,{Z:()=>Ga});var Ba=ja(477),za=ja.n(Ba);function Ga(){return za()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:La=>{La.exports=function(Na,ja,Ba,za){var Ga=self||window;try{try{var Ha;try{Ha=new Ga.Blob([Na])}catch{(Ha=new(Ga.BlobBuilder||Ga.WebKitBlobBuilder||Ga.MozBlobBuilder||Ga.MSBlobBuilder)).append(Na),Ha=Ha.getBlob()}var Ya=Ga.URL||Ga.webkitURL,Xa=Ya.createObjectURL(Ha),Ka=new Ga[ja](Xa,Ba);return Ya.revokeObjectURL(Xa),Ka}catch{return new Ga[ja]("data:application/javascript,".concat(encodeURIComponent(Na)),Ba)}}catch{if(!za)throw Error("Inline worker is not supported");return new Ga[ja](za,Ba)}}},4154:La=>{La.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:La=>{La.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(La,Na,ja)=>{ja.r(Na),ja.d(Na,{flatbuffers:()=>Ba});var Ba={};Ba.Offset,Ba.Table,Ba.SIZEOF_SHORT=2,Ba.SIZEOF_INT=4,Ba.FILE_IDENTIFIER_LENGTH=4,Ba.SIZE_PREFIX_LENGTH=4,Ba.Encoding={UTF8_BYTES:1,UTF16_STRING:2},Ba.int32=new Int32Array(2),Ba.float32=new Float32Array(Ba.int32.buffer),Ba.float64=new Float64Array(Ba.int32.buffer),Ba.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,Ba.Long=function(za,Ga){this.low=0|za,this.high=0|Ga},Ba.Long.create=function(za,Ga){return za==0&&Ga==0?Ba.Long.ZERO:new Ba.Long(za,Ga)},Ba.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},Ba.Long.prototype.equals=function(za){return this.low==za.low&&this.high==za.high},Ba.Long.ZERO=new Ba.Long(0,0),Ba.Builder=function(za){if(za)Ga=za;else var Ga=1024;this.bb=Ba.ByteBuffer.allocate(Ga),this.space=Ga,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},Ba.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},Ba.Builder.prototype.forceDefaults=function(za){this.force_defaults=za},Ba.Builder.prototype.dataBuffer=function(){return this.bb},Ba.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},Ba.Builder.prototype.prep=function(za,Ga){za>this.minalign&&(this.minalign=za);for(var Ha=1+~(this.bb.capacity()-this.space+Ga)&za-1;this.space<Ha+za+Ga;){var Ya=this.bb.capacity();this.bb=Ba.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-Ya}this.pad(Ha)},Ba.Builder.prototype.pad=function(za){for(var Ga=0;Ga<za;Ga++)this.bb.writeInt8(--this.space,0)},Ba.Builder.prototype.writeInt8=function(za){this.bb.writeInt8(this.space-=1,za)},Ba.Builder.prototype.writeInt16=function(za){this.bb.writeInt16(this.space-=2,za)},Ba.Builder.prototype.writeInt32=function(za){this.bb.writeInt32(this.space-=4,za)},Ba.Builder.prototype.writeInt64=function(za){this.bb.writeInt64(this.space-=8,za)},Ba.Builder.prototype.writeFloat32=function(za){this.bb.writeFloat32(this.space-=4,za)},Ba.Builder.prototype.writeFloat64=function(za){this.bb.writeFloat64(this.space-=8,za)},Ba.Builder.prototype.addInt8=function(za){this.prep(1,0),this.writeInt8(za)},Ba.Builder.prototype.addInt16=function(za){this.prep(2,0),this.writeInt16(za)},Ba.Builder.prototype.addInt32=function(za){this.prep(4,0),this.writeInt32(za)},Ba.Builder.prototype.addInt64=function(za){this.prep(8,0),this.writeInt64(za)},Ba.Builder.prototype.addFloat32=function(za){this.prep(4,0),this.writeFloat32(za)},Ba.Builder.prototype.addFloat64=function(za){this.prep(8,0),this.writeFloat64(za)},Ba.Builder.prototype.addFieldInt8=function(za,Ga,Ha){(this.force_defaults||Ga!=Ha)&&(this.addInt8(Ga),this.slot(za))},Ba.Builder.prototype.addFieldInt16=function(za,Ga,Ha){(this.force_defaults||Ga!=Ha)&&(this.addInt16(Ga),this.slot(za))},Ba.Builder.prototype.addFieldInt32=function(za,Ga,Ha){(this.force_defaults||Ga!=Ha)&&(this.addInt32(Ga),this.slot(za))},Ba.Builder.prototype.addFieldInt64=function(za,Ga,Ha){!this.force_defaults&&Ga.equals(Ha)||(this.addInt64(Ga),this.slot(za))},Ba.Builder.prototype.addFieldFloat32=function(za,Ga,Ha){(this.force_defaults||Ga!=Ha)&&(this.addFloat32(Ga),this.slot(za))},Ba.Builder.prototype.addFieldFloat64=function(za,Ga,Ha){(this.force_defaults||Ga!=Ha)&&(this.addFloat64(Ga),this.slot(za))},Ba.Builder.prototype.addFieldOffset=function(za,Ga,Ha){(this.force_defaults||Ga!=Ha)&&(this.addOffset(Ga),this.slot(za))},Ba.Builder.prototype.addFieldStruct=function(za,Ga,Ha){Ga!=Ha&&(this.nested(Ga),this.slot(za))},Ba.Builder.prototype.nested=function(za){if(za!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},Ba.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},Ba.Builder.prototype.slot=function(za){this.vtable[za]=this.offset()},Ba.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},Ba.Builder.growByteBuffer=function(za){var Ga=za.capacity();if(3221225472&Ga)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var Ha=Ga<<1,Ya=Ba.ByteBuffer.allocate(Ha);return Ya.setPosition(Ha-Ga),Ya.bytes().set(za.bytes(),Ha-Ga),Ya},Ba.Builder.prototype.addOffset=function(za){this.prep(Ba.SIZEOF_INT,0),this.writeInt32(this.offset()-za+Ba.SIZEOF_INT)},Ba.Builder.prototype.startObject=function(za){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=za;for(var Ga=0;Ga<za;Ga++)this.vtable[Ga]=0;this.isNested=!0,this.object_start=this.offset()},Ba.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var za=this.offset(),Ga=this.vtable_in_use-1;Ga>=0&&this.vtable[Ga]==0;Ga--);for(var Ha=Ga+1;Ga>=0;Ga--)this.addInt16(this.vtable[Ga]!=0?za-this.vtable[Ga]:0);this.addInt16(za-this.object_start);var Ya=(Ha+2)*Ba.SIZEOF_SHORT;this.addInt16(Ya);var Xa=0,Ka=this.space;e:for(Ga=0;Ga<this.vtables.length;Ga++){var Qa=this.bb.capacity()-this.vtables[Ga];if(Ya==this.bb.readInt16(Qa)){for(var Va=Ba.SIZEOF_SHORT;Va<Ya;Va+=Ba.SIZEOF_SHORT)if(this.bb.readInt16(Ka+Va)!=this.bb.readInt16(Qa+Va))continue e;Xa=this.vtables[Ga];break}}return Xa?(this.space=this.bb.capacity()-za,this.bb.writeInt32(this.space,Xa-za)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-za,this.offset()-za)),this.isNested=!1,za},Ba.Builder.prototype.finish=function(za,Ga,Ha){var Ya=Ha?Ba.SIZE_PREFIX_LENGTH:0;if(Ga){var Xa=Ga;if(this.prep(this.minalign,Ba.SIZEOF_INT+Ba.FILE_IDENTIFIER_LENGTH+Ya),Xa.length!=Ba.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Ba.FILE_IDENTIFIER_LENGTH);for(var Ka=Ba.FILE_IDENTIFIER_LENGTH-1;Ka>=0;Ka--)this.writeInt8(Xa.charCodeAt(Ka))}this.prep(this.minalign,Ba.SIZEOF_INT+Ya),this.addOffset(za),Ya&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},Ba.Builder.prototype.finishSizePrefixed=function(za,Ga){this.finish(za,Ga,!0)},Ba.Builder.prototype.requiredField=function(za,Ga){var Ha=this.bb.capacity()-za,Ya=Ha-this.bb.readInt32(Ha);if(this.bb.readInt16(Ya+Ga)==0)throw new Error("FlatBuffers: field "+Ga+" must be set")},Ba.Builder.prototype.startVector=function(za,Ga,Ha){this.notNested(),this.vector_num_elems=Ga,this.prep(Ba.SIZEOF_INT,za*Ga),this.prep(Ha,za*Ga)},Ba.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},Ba.Builder.prototype.createString=function(za){if(za instanceof Uint8Array)var Ga=za;else{Ga=[];for(var Ha=0;Ha<za.length;){var Ya,Xa=za.charCodeAt(Ha++);(Ya=Xa<55296||Xa>=56320?Xa:(Xa<<10)+za.charCodeAt(Ha++)+-56613888)<128?Ga.push(Ya):(Ya<2048?Ga.push(Ya>>6&31|192):(Ya<65536?Ga.push(Ya>>12&15|224):Ga.push(Ya>>18&7|240,Ya>>12&63|128),Ga.push(Ya>>6&63|128)),Ga.push(63&Ya|128))}}this.addInt8(0),this.startVector(1,Ga.length,1),this.bb.setPosition(this.space-=Ga.length),Ha=0;for(var Ka=this.space,Qa=this.bb.bytes();Ha<Ga.length;Ha++)Qa[Ka++]=Ga[Ha];return this.endVector()},Ba.Builder.prototype.createLong=function(za,Ga){return Ba.Long.create(za,Ga)},Ba.ByteBuffer=function(za){this.bytes_=za,this.position_=0},Ba.ByteBuffer.allocate=function(za){return new Ba.ByteBuffer(new Uint8Array(za))},Ba.ByteBuffer.prototype.clear=function(){this.position_=0},Ba.ByteBuffer.prototype.bytes=function(){return this.bytes_},Ba.ByteBuffer.prototype.position=function(){return this.position_},Ba.ByteBuffer.prototype.setPosition=function(za){this.position_=za},Ba.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},Ba.ByteBuffer.prototype.readInt8=function(za){return this.readUint8(za)<<24>>24},Ba.ByteBuffer.prototype.readUint8=function(za){return this.bytes_[za]},Ba.ByteBuffer.prototype.readInt16=function(za){return this.readUint16(za)<<16>>16},Ba.ByteBuffer.prototype.readUint16=function(za){return this.bytes_[za]|this.bytes_[za+1]<<8},Ba.ByteBuffer.prototype.readInt32=function(za){return this.bytes_[za]|this.bytes_[za+1]<<8|this.bytes_[za+2]<<16|this.bytes_[za+3]<<24},Ba.ByteBuffer.prototype.readUint32=function(za){return this.readInt32(za)>>>0},Ba.ByteBuffer.prototype.readInt64=function(za){return new Ba.Long(this.readInt32(za),this.readInt32(za+4))},Ba.ByteBuffer.prototype.readUint64=function(za){return new Ba.Long(this.readUint32(za),this.readUint32(za+4))},Ba.ByteBuffer.prototype.readFloat32=function(za){return Ba.int32[0]=this.readInt32(za),Ba.float32[0]},Ba.ByteBuffer.prototype.readFloat64=function(za){return Ba.int32[Ba.isLittleEndian?0:1]=this.readInt32(za),Ba.int32[Ba.isLittleEndian?1:0]=this.readInt32(za+4),Ba.float64[0]},Ba.ByteBuffer.prototype.writeInt8=function(za,Ga){this.bytes_[za]=Ga},Ba.ByteBuffer.prototype.writeUint8=function(za,Ga){this.bytes_[za]=Ga},Ba.ByteBuffer.prototype.writeInt16=function(za,Ga){this.bytes_[za]=Ga,this.bytes_[za+1]=Ga>>8},Ba.ByteBuffer.prototype.writeUint16=function(za,Ga){this.bytes_[za]=Ga,this.bytes_[za+1]=Ga>>8},Ba.ByteBuffer.prototype.writeInt32=function(za,Ga){this.bytes_[za]=Ga,this.bytes_[za+1]=Ga>>8,this.bytes_[za+2]=Ga>>16,this.bytes_[za+3]=Ga>>24},Ba.ByteBuffer.prototype.writeUint32=function(za,Ga){this.bytes_[za]=Ga,this.bytes_[za+1]=Ga>>8,this.bytes_[za+2]=Ga>>16,this.bytes_[za+3]=Ga>>24},Ba.ByteBuffer.prototype.writeInt64=function(za,Ga){this.writeInt32(za,Ga.low),this.writeInt32(za+4,Ga.high)},Ba.ByteBuffer.prototype.writeUint64=function(za,Ga){this.writeUint32(za,Ga.low),this.writeUint32(za+4,Ga.high)},Ba.ByteBuffer.prototype.writeFloat32=function(za,Ga){Ba.float32[0]=Ga,this.writeInt32(za,Ba.int32[0])},Ba.ByteBuffer.prototype.writeFloat64=function(za,Ga){Ba.float64[0]=Ga,this.writeInt32(za,Ba.int32[Ba.isLittleEndian?0:1]),this.writeInt32(za+4,Ba.int32[Ba.isLittleEndian?1:0])},Ba.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+Ba.SIZEOF_INT+Ba.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var za="",Ga=0;Ga<Ba.FILE_IDENTIFIER_LENGTH;Ga++)za+=String.fromCharCode(this.readInt8(this.position_+Ba.SIZEOF_INT+Ga));return za},Ba.ByteBuffer.prototype.__offset=function(za,Ga){var Ha=za-this.readInt32(za);return Ga<this.readInt16(Ha)?this.readInt16(Ha+Ga):0},Ba.ByteBuffer.prototype.__union=function(za,Ga){return za.bb_pos=Ga+this.readInt32(Ga),za.bb=this,za},Ba.ByteBuffer.prototype.__string=function(za,Ga){za+=this.readInt32(za);var Ha=this.readInt32(za),Ya="",Xa=0;if(za+=Ba.SIZEOF_INT,Ga===Ba.Encoding.UTF8_BYTES)return this.bytes_.subarray(za,za+Ha);for(;Xa<Ha;){var Ka,Qa=this.readUint8(za+Xa++);if(Qa<192)Ka=Qa;else{var Va=this.readUint8(za+Xa++);if(Qa<224)Ka=(31&Qa)<<6|63&Va;else{var Ua=this.readUint8(za+Xa++);Ka=Qa<240?(15&Qa)<<12|(63&Va)<<6|63&Ua:(7&Qa)<<18|(63&Va)<<12|(63&Ua)<<6|63&this.readUint8(za+Xa++)}}Ka<65536?Ya+=String.fromCharCode(Ka):(Ka-=65536,Ya+=String.fromCharCode(55296+(Ka>>10),56320+(1023&Ka)))}return Ya},Ba.ByteBuffer.prototype.__indirect=function(za){return za+this.readInt32(za)},Ba.ByteBuffer.prototype.__vector=function(za){return za+this.readInt32(za)+Ba.SIZEOF_INT},Ba.ByteBuffer.prototype.__vector_len=function(za){return this.readInt32(za+this.readInt32(za))},Ba.ByteBuffer.prototype.__has_identifier=function(za){if(za.length!=Ba.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Ba.FILE_IDENTIFIER_LENGTH);for(var Ga=0;Ga<Ba.FILE_IDENTIFIER_LENGTH;Ga++)if(za.charCodeAt(Ga)!=this.readInt8(this.position_+Ba.SIZEOF_INT+Ga))return!1;return!0},Ba.ByteBuffer.prototype.createLong=function(za,Ga){return Ba.Long.create(za,Ga)}}},__webpack_module_cache__={};function __webpack_require__(La){var Na=__webpack_module_cache__[La];if(Na!==void 0)return Na.exports;var ja=__webpack_module_cache__[La]={exports:{}};return __webpack_modules__[La].call(ja.exports,ja,ja.exports,__webpack_require__),ja.exports}__webpack_require__.n=La=>{var Na=La&&La.__esModule?()=>La.default:()=>La;return __webpack_require__.d(Na,{a:Na}),Na},__webpack_require__.d=(La,Na)=>{for(var ja in Na)__webpack_require__.o(Na,ja)&&!__webpack_require__.o(La,ja)&&Object.defineProperty(La,ja,{enumerable:!0,get:Na[ja]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),__webpack_require__.o=(La,Na)=>Object.prototype.hasOwnProperty.call(La,Na),__webpack_require__.r=La=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(La,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(La,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})()))})(ortWeb_min)),ortWeb_min.exports}var models={},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,Object.defineProperty(common,"__esModule",{value:!0})),common}var legacy={},hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var La;Object.defineProperty(legacy,"__esModule",{value:!0}),legacy.SileroLegacy=void 0;const Na=requireLogging();class ja{constructor(za,Ga,Ha,Ya,Xa){this.ortInstance=za,this._session=Ga,this._h=Ha,this._c=Ya,this._sr=Xa,this.reset_state=()=>{const Ka=Array(128).fill(0);this._h=new this.ortInstance.Tensor("float32",Ka,[2,1,64]),this._c=new this.ortInstance.Tensor("float32",Ka,[2,1,64])},this.process=async Ka=>{const Va={input:new this.ortInstance.Tensor("float32",Ka,[1,Ka.length]),h:this._h,c:this._c,sr:this._sr},Ua=await this._session.run(Va);this._h=Ua.hn,this._c=Ua.cn;const[Wa]=Ua.output?.data;return{notSpeech:1-Wa,isSpeech:Wa}}}}return legacy.SileroLegacy=ja,La=ja,ja.new=async(Ba,za)=>{Na.log.debug("initializing vad");const Ga=await za(),Ha=await Ba.InferenceSession.create(Ga),Ya=new Ba.Tensor("int64",[16000n]),Xa=Array(128).fill(0),Ka=new Ba.Tensor("float32",Xa,[2,1,64]),Qa=new Ba.Tensor("float32",Xa,[2,1,64]);return Na.log.debug("vad is initialized"),new La(Ba,Ha,Ka,Qa,Ya)},legacy}var v5={},hasRequiredV5;function requireV5(){if(hasRequiredV5)return v5;hasRequiredV5=1;var La;Object.defineProperty(v5,"__esModule",{value:!0}),v5.SileroV5=void 0;const Na=requireLogging();function ja(za){const Ga=Array(256).fill(0);return new za.Tensor("float32",Ga,[2,1,128])}class Ba{constructor(Ga,Ha,Ya,Xa){this._session=Ga,this._state=Ha,this._sr=Ya,this.ortInstance=Xa,this.reset_state=()=>{this._state=ja(this.ortInstance)},this.process=async Ka=>{const Va={input:new this.ortInstance.Tensor("float32",Ka,[1,Ka.length]),state:this._state,sr:this._sr},Ua=await this._session.run(Va);this._state=Ua.stateN;const[Wa]=Ua.output?.data;return{notSpeech:1-Wa,isSpeech:Wa}}}}return v5.SileroV5=Ba,La=Ba,Ba.new=async(za,Ga)=>{Na.log.debug("Loading VAD...");const Ha=await Ga(),Ya=await za.InferenceSession.create(Ha),Xa=new za.Tensor("int64",[16000n]),Ka=ja(za);return Na.log.debug("...finished loading VAD"),new La(Ya,Ka,Xa,za)},v5}var hasRequiredModels;function requireModels(){return hasRequiredModels||(hasRequiredModels=1,(function(La){var Na=models&&models.__createBinding||(Object.create?(function(Ga,Ha,Ya,Xa){Xa===void 0&&(Xa=Ya);var Ka=Object.getOwnPropertyDescriptor(Ha,Ya);(!Ka||("get"in Ka?!Ha.__esModule:Ka.writable||Ka.configurable))&&(Ka={enumerable:!0,get:function(){return Ha[Ya]}}),Object.defineProperty(Ga,Xa,Ka)}):(function(Ga,Ha,Ya,Xa){Xa===void 0&&(Xa=Ya),Ga[Xa]=Ha[Ya]})),ja=models&&models.__exportStar||function(Ga,Ha){for(var Ya in Ga)Ya!=="default"&&!Object.prototype.hasOwnProperty.call(Ha,Ya)&&Na(Ha,Ga,Ya)};Object.defineProperty(La,"__esModule",{value:!0}),La.SileroV5=La.SileroLegacy=void 0,ja(requireCommon(),La);var Ba=requireLegacy();Object.defineProperty(La,"SileroLegacy",{enumerable:!0,get:function(){return Ba.SileroLegacy}});var za=requireV5();Object.defineProperty(La,"SileroV5",{enumerable:!0,get:function(){return za.SileroV5}})})(models)),models}var resampler={},hasRequiredResampler;function requireResampler(){if(hasRequiredResampler)return resampler;hasRequiredResampler=1,Object.defineProperty(resampler,"__esModule",{value:!0}),resampler.Resampler=void 0;const La=requireLogging();class Na{constructor(Ba){this.options=Ba,this.process=za=>{const Ga=[];for(const Ha of za)for(this.inputBuffer.push(Ha);this.hasEnoughDataForFrame();){const Ya=this.generateOutputFrame();Ga.push(Ya)}return Ga},Ba.nativeSampleRate<16e3&&La.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}async*stream(Ba){for(const za of Ba)for(this.inputBuffer.push(za);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const Ba=new Float32Array(this.options.targetFrameSize);let za=0,Ga=0;for(;za<this.options.targetFrameSize;){let Ha=0,Ya=0;for(;Ga<Math.min(this.inputBuffer.length,(za+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const Xa=this.inputBuffer[Ga];Xa!==void 0&&(Ha+=Xa,Ya++),Ga++}Ba[za]=Ha/Ya,za++}return this.inputBuffer=this.inputBuffer.slice(Ga),Ba}}return resampler.Resampler=Na,resampler}var hasRequiredNonRealTimeVad;function requireNonRealTimeVad(){return hasRequiredNonRealTimeVad||(hasRequiredNonRealTimeVad=1,(function(La){var Na=nonRealTimeVad&&nonRealTimeVad.__createBinding||(Object.create?(function(Ua,Wa,Ja,Oo){Oo===void 0&&(Oo=Ja);var Do=Object.getOwnPropertyDescriptor(Wa,Ja);(!Do||("get"in Do?!Wa.__esModule:Do.writable||Do.configurable))&&(Do={enumerable:!0,get:function(){return Wa[Ja]}}),Object.defineProperty(Ua,Oo,Do)}):(function(Ua,Wa,Ja,Oo){Oo===void 0&&(Oo=Ja),Ua[Oo]=Wa[Ja]})),ja=nonRealTimeVad&&nonRealTimeVad.__setModuleDefault||(Object.create?(function(Ua,Wa){Object.defineProperty(Ua,"default",{enumerable:!0,value:Wa})}):function(Ua,Wa){Ua.default=Wa}),Ba=nonRealTimeVad&&nonRealTimeVad.__importStar||function(Ua){if(Ua&&Ua.__esModule)return Ua;var Wa={};if(Ua!=null)for(var Ja in Ua)Ja!=="default"&&Object.prototype.hasOwnProperty.call(Ua,Ja)&&Na(Wa,Ua,Ja);return ja(Wa,Ua),Wa};Object.defineProperty(La,"__esModule",{value:!0}),La.NonRealTimeVAD=La.defaultNonRealTimeVADOptions=void 0;const za=Ba(requireOrtWeb_min()),Ga=requireAssetPath(),Ha=requireDefaultModelFetcher(),Ya=requireFrameProcessor(),Xa=requireMessages(),Ka=requireModels(),Qa=requireResampler();La.defaultNonRealTimeVADOptions={...Ya.defaultLegacyFrameProcessorOptions,ortConfig:void 0,modelURL:Ga.baseAssetPath+"silero_vad_legacy.onnx",modelFetcher:Ha.defaultModelFetcher};class Va{static async new(Wa={}){const Ja={...La.defaultNonRealTimeVADOptions,...Wa};(0,Ya.validateOptions)(Ja),Ja.ortConfig!==void 0&&Ja.ortConfig(za);const Oo=()=>Ja.modelFetcher(Ja.modelURL),Do=await Ka.SileroLegacy.new(za,Oo),Mo=new Ya.FrameProcessor(Do.process,Do.reset_state,{frameSamples:Ja.frameSamples,positiveSpeechThreshold:Ja.positiveSpeechThreshold,negativeSpeechThreshold:Ja.negativeSpeechThreshold,redemptionFrames:Ja.redemptionFrames,preSpeechPadFrames:Ja.preSpeechPadFrames,minSpeechFrames:Ja.minSpeechFrames,submitUserSpeechOnPause:Ja.submitUserSpeechOnPause});return Mo.resume(),new this(Oo,za,Ja,Mo)}constructor(Wa,Ja,Oo,Do){this.modelFetcher=Wa,this.ort=Ja,this.options=Oo,this.frameProcessor=Do}async*run(Wa,Ja){const Oo={nativeSampleRate:Ja,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},Do=new Qa.Resampler(Oo);let Mo=0,el=0,tl=0,rl=[];for await(const ll of Do.stream(Wa)){await this.frameProcessor.process(ll,ul=>{rl.push(ul)});for(const ul of rl)switch(ul.msg){case Xa.Message.SpeechStart:Mo=tl*this.options.frameSamples/16;break;case Xa.Message.SpeechEnd:el=(tl+1)*this.options.frameSamples/16,yield{audio:ul.audio,start:Mo,end:el};break}tl++}const{msg:il,audio:al}=this.frameProcessor.endSegment(ll=>{rl.push(ll)});for(const ll of rl)switch(ll.msg){case Xa.Message.SpeechEnd:yield{audio:ll.audio,start:Mo,end:tl*this.options.frameSamples/16}}}}La.NonRealTimeVAD=Va})(nonRealTimeVad)),nonRealTimeVad}var utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1,Object.defineProperty(utils,"__esModule",{value:!0}),utils.audioFileToArray=utils.encodeWAV=utils.arrayBufferToBase64=utils.minFramesForTargetMS=void 0;function La(Ya,Xa,Ka=16e3){return Math.ceil(Ya*Ka/1e3/Xa)}utils.minFramesForTargetMS=La;function Na(Ya){const Xa=new Uint8Array(Ya),Ka=Xa.byteLength,Qa=new Array(Ka);for(var Va=0;Va<Ka;Va++){const Ua=Xa[Va];if(Ua===void 0)break;Qa[Va]=String.fromCharCode(Ua)}return btoa(Qa.join(""))}utils.arrayBufferToBase64=Na;function ja(Ya,Xa=3,Ka=16e3,Qa=1,Va=32){var Ua=Va/8,Wa=Qa*Ua,Ja=new ArrayBuffer(44+Ya.length*Ua),Oo=new DataView(Ja);return Ga(Oo,0,"RIFF"),Oo.setUint32(4,36+Ya.length*Ua,!0),Ga(Oo,8,"WAVE"),Ga(Oo,12,"fmt "),Oo.setUint32(16,16,!0),Oo.setUint16(20,Xa,!0),Oo.setUint16(22,Qa,!0),Oo.setUint32(24,Ka,!0),Oo.setUint32(28,Ka*Wa,!0),Oo.setUint16(32,Wa,!0),Oo.setUint16(34,Va,!0),Ga(Oo,36,"data"),Oo.setUint32(40,Ya.length*Ua,!0),Xa===1?za(Oo,44,Ya):Ba(Oo,44,Ya),Ja}utils.encodeWAV=ja;function Ba(Ya,Xa,Ka){for(var Qa=0;Qa<Ka.length;Qa++,Xa+=4)Ya.setFloat32(Xa,Ka[Qa],!0)}function za(Ya,Xa,Ka){for(var Qa=0;Qa<Ka.length;Qa++,Xa+=2){var Va=Math.max(-1,Math.min(1,Ka[Qa]));Ya.setInt16(Xa,Va<0?Va*32768:Va*32767,!0)}}function Ga(Ya,Xa,Ka){for(var Qa=0;Qa<Ka.length;Qa++)Ya.setUint8(Xa+Qa,Ka.charCodeAt(Qa))}async function Ha(Ya){const Xa=new OfflineAudioContext(1,1,44100),Ka=new FileReader;let Qa=null;if(await new Promise(Wa=>{Ka.addEventListener("loadend",Ja=>{const Oo=Ka.result;Xa.decodeAudioData(Oo,Do=>{Qa=Do,Xa.startRendering().then(Mo=>{console.log("Rendering completed successfully"),Wa()}).catch(Mo=>{console.error(`Rendering failed: ${Mo}`)})},Do=>{console.log(`Error with decoding audio data: ${Do}`)})}),Ka.readAsArrayBuffer(Ya)}),Qa===null)throw Error("some shit");let Va=Qa,Ua=new Float32Array(Va.length);for(let Wa=0;Wa<Va.length;Wa++)for(let Ja=0;Ja<Va.numberOfChannels;Ja++)Ua[Wa]+=Va.getChannelData(Ja)[Wa];return{audio:Ua,sampleRate:Va.sampleRate}}return utils.audioFileToArray=Ha,utils}var realTimeVad={},hasRequiredRealTimeVad;function requireRealTimeVad(){return hasRequiredRealTimeVad||(hasRequiredRealTimeVad=1,(function(La){var Na=realTimeVad&&realTimeVad.__createBinding||(Object.create?(function(Mo,el,tl,rl){rl===void 0&&(rl=tl);var il=Object.getOwnPropertyDescriptor(el,tl);(!il||("get"in il?!el.__esModule:il.writable||il.configurable))&&(il={enumerable:!0,get:function(){return el[tl]}}),Object.defineProperty(Mo,rl,il)}):(function(Mo,el,tl,rl){rl===void 0&&(rl=tl),Mo[rl]=el[tl]})),ja=realTimeVad&&realTimeVad.__setModuleDefault||(Object.create?(function(Mo,el){Object.defineProperty(Mo,"default",{enumerable:!0,value:el})}):function(Mo,el){Mo.default=el}),Ba=realTimeVad&&realTimeVad.__importStar||function(Mo){if(Mo&&Mo.__esModule)return Mo;var el={};if(Mo!=null)for(var tl in Mo)tl!=="default"&&Object.prototype.hasOwnProperty.call(Mo,tl)&&Na(el,Mo,tl);return ja(el,Mo),el};Object.defineProperty(La,"__esModule",{value:!0}),La.AudioNodeVAD=La.MicVAD=La.getDefaultRealTimeVADOptions=La.ort=La.DEFAULT_MODEL=void 0;const za=Ba(requireOrtWeb_min()),Ga=requireDefaultModelFetcher(),Ha=requireFrameProcessor(),Ya=requireLogging(),Xa=requireMessages(),Ka=requireModels(),Qa=requireResampler();La.DEFAULT_MODEL="legacy",La.ort=za;const Va="vad.worklet.bundle.min.js",Ua="silero_vad_v5.onnx",Wa="silero_vad_legacy.onnx",Ja=Mo=>({...Mo==="v5"?Ha.defaultV5FrameProcessorOptions:Ha.defaultLegacyFrameProcessorOptions,onFrameProcessed:(tl,rl)=>{},onVADMisfire:()=>{Ya.log.debug("VAD misfire")},onSpeechStart:()=>{Ya.log.debug("Detected speech start")},onSpeechEnd:()=>{Ya.log.debug("Detected speech end")},onSpeechRealStart:()=>{Ya.log.debug("Detected real speech start")},baseAssetPath:"https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@latest/dist/",onnxWASMBasePath:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.14.0/dist/",stream:void 0,ortConfig:void 0,model:Mo,workletOptions:{}});La.getDefaultRealTimeVADOptions=Ja;class Oo{static async new(el={}){const tl={...(0,La.getDefaultRealTimeVADOptions)(el.model??La.DEFAULT_MODEL),...el};(0,Ha.validateOptions)(tl);let rl;tl.stream===void 0?rl=await navigator.mediaDevices.getUserMedia({audio:{...tl.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):rl=tl.stream;const il=new AudioContext,al=new MediaStreamAudioSourceNode(il,{mediaStream:rl}),ll=await Do.new(il,tl);return ll.receive(al),new Oo(tl,il,rl,ll,al)}constructor(el,tl,rl,il,al,ll=!1){this.options=el,this.audioContext=tl,this.stream=rl,this.audioNodeVAD=il,this.sourceNode=al,this.listening=ll,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(ul=>ul.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()},this.setOptions=ul=>{this.audioNodeVAD.setFrameProcessorOptions(ul)}}}La.MicVAD=Oo;class Do{static async new(el,tl={}){const rl={...(0,La.getDefaultRealTimeVADOptions)(tl.model??La.DEFAULT_MODEL),...tl};(0,Ha.validateOptions)(rl),La.ort.env.wasm.wasmPaths=rl.onnxWASMBasePath,rl.ortConfig!==void 0&&rl.ortConfig(La.ort);const il=rl.model==="v5"?Ua:Wa,al=rl.baseAssetPath+il,ll=rl.model==="v5"?Ka.SileroV5.new:Ka.SileroLegacy.new;let ul;try{ul=await ll(La.ort,()=>(0,Ga.defaultModelFetcher)(al))}catch(gl){throw console.error(`Encountered an error while loading model file ${al}`),gl}const ol=new Ha.FrameProcessor(ul.process,ul.reset_state,{frameSamples:rl.frameSamples,positiveSpeechThreshold:rl.positiveSpeechThreshold,negativeSpeechThreshold:rl.negativeSpeechThreshold,redemptionFrames:rl.redemptionFrames,preSpeechPadFrames:rl.preSpeechPadFrames,minSpeechFrames:rl.minSpeechFrames,submitUserSpeechOnPause:rl.submitUserSpeechOnPause}),cl=new Do(el,rl,ol);return await cl.setupAudioNode(),cl}constructor(el,tl,rl){this.ctx=el,this.options=tl,this.bufferIndex=0,this.pause=()=>{this.frameProcessor.pause(this.handleFrameProcessorEvent)},this.start=()=>{this.frameProcessor.resume()},this.receive=il=>{il.connect(this.audioNode)},this.processFrame=async il=>{await this.frameProcessor.process(il,this.handleFrameProcessorEvent)},this.handleFrameProcessorEvent=il=>{switch(il.msg){case Xa.Message.FrameProcessed:this.options.onFrameProcessed(il.probs,il.frame);break;case Xa.Message.SpeechStart:this.options.onSpeechStart();break;case Xa.Message.SpeechRealStart:this.options.onSpeechRealStart();break;case Xa.Message.VADMisfire:this.options.onVADMisfire();break;case Xa.Message.SpeechEnd:this.options.onSpeechEnd(il.audio);break}},this.destroy=()=>{this.audioNode instanceof AudioWorkletNode&&this.audioNode.port.postMessage({message:Xa.Message.SpeechStop}),this.audioNode.disconnect(),this.gainNode?.disconnect()},this.setFrameProcessorOptions=il=>{this.frameProcessor.options={...this.frameProcessor.options,...il}},this.frameProcessor=rl}async setupAudioNode(){if("audioWorklet"in this.ctx&&typeof AudioWorkletNode=="function")try{const il=this.options.baseAssetPath+Va;await this.ctx.audioWorklet.addModule(il);const al=this.options.workletOptions??{};al.processorOptions={...al.processorOptions??{},frameSamples:this.options.frameSamples},this.audioNode=new AudioWorkletNode(this.ctx,"vad-helper-worklet",al),this.audioNode.port.onmessage=async ll=>{switch(ll.data?.message){case Xa.Message.AudioFrame:let ul=ll.data.data;ul instanceof ArrayBuffer||(ul=new ArrayBuffer(ll.data.data.byteLength),new Uint8Array(ul).set(new Uint8Array(ll.data.data)));const ol=new Float32Array(ul);await this.processFrame(ol);break}};return}catch(il){console.log("AudioWorklet setup failed, falling back to ScriptProcessor",il)}this.resampler=new Qa.Resampler({nativeSampleRate:this.ctx.sampleRate,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples??480});const tl=4096;this.audioNode=this.ctx.createScriptProcessor(tl,1,1),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=0;let rl=!1;this.audioNode.onaudioprocess=async il=>{if(!rl){rl=!0;try{const al=il.inputBuffer.getChannelData(0);if(il.outputBuffer.getChannelData(0).fill(0),this.resampler){const ul=this.resampler.process(al);for(const ol of ul)await this.processFrame(ol)}}catch(al){console.error("Error processing audio:",al)}finally{rl=!1}}},this.audioNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination)}}La.AudioNodeVAD=Do})(realTimeVad)),realTimeVad}var hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,(function(La){Object.defineProperty(La,"__esModule",{value:!0}),La.getDefaultRealTimeVADOptions=La.MicVAD=La.DEFAULT_MODEL=La.AudioNodeVAD=La.utils=La.NonRealTimeVAD=La.Message=La.FrameProcessor=La.defaultModelFetcher=La.baseAssetPath=void 0;var Na=requireAssetPath();Object.defineProperty(La,"baseAssetPath",{enumerable:!0,get:function(){return Na.baseAssetPath}});var ja=requireDefaultModelFetcher();Object.defineProperty(La,"defaultModelFetcher",{enumerable:!0,get:function(){return ja.defaultModelFetcher}});var Ba=requireFrameProcessor();Object.defineProperty(La,"FrameProcessor",{enumerable:!0,get:function(){return Ba.FrameProcessor}});var za=requireMessages();Object.defineProperty(La,"Message",{enumerable:!0,get:function(){return za.Message}});var Ga=requireNonRealTimeVad();Object.defineProperty(La,"NonRealTimeVAD",{enumerable:!0,get:function(){return Ga.NonRealTimeVAD}});const Ha=requireUtils();La.utils={audioFileToArray:Ha.audioFileToArray,minFramesForTargetMS:Ha.minFramesForTargetMS,arrayBufferToBase64:Ha.arrayBufferToBase64,encodeWAV:Ha.encodeWAV};var Ya=requireRealTimeVad();Object.defineProperty(La,"AudioNodeVAD",{enumerable:!0,get:function(){return Ya.AudioNodeVAD}}),Object.defineProperty(La,"DEFAULT_MODEL",{enumerable:!0,get:function(){return Ya.DEFAULT_MODEL}}),Object.defineProperty(La,"MicVAD",{enumerable:!0,get:function(){return Ya.MicVAD}}),Object.defineProperty(La,"getDefaultRealTimeVADOptions",{enumerable:!0,get:function(){return Ya.getDefaultRealTimeVADOptions}})})(dist)),dist}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,(function(La){var Na=dist$1&&dist$1.__createBinding||(Object.create?(function(Do,Mo,el,tl){tl===void 0&&(tl=el);var rl=Object.getOwnPropertyDescriptor(Mo,el);(!rl||("get"in rl?!Mo.__esModule:rl.writable||rl.configurable))&&(rl={enumerable:!0,get:function(){return Mo[el]}}),Object.defineProperty(Do,tl,rl)}):(function(Do,Mo,el,tl){tl===void 0&&(tl=el),Do[tl]=Mo[el]})),ja=dist$1&&dist$1.__setModuleDefault||(Object.create?(function(Do,Mo){Object.defineProperty(Do,"default",{enumerable:!0,value:Mo})}):function(Do,Mo){Do.default=Mo}),Ba=dist$1&&dist$1.__importStar||function(Do){if(Do&&Do.__esModule)return Do;var Mo={};if(Do!=null)for(var el in Do)el!=="default"&&Object.prototype.hasOwnProperty.call(Do,el)&&Na(Mo,Do,el);return ja(Mo,Do),Mo};Object.defineProperty(La,"__esModule",{value:!0}),La.useMicVAD=La.getDefaultReactRealTimeVADOptions=La.utils=void 0;const za=requireDist$1(),Ga=Ba(requireReact());var Ha=requireDist$1();Object.defineProperty(La,"utils",{enumerable:!0,get:function(){return Ha.utils}});const Ya={startOnLoad:!0,userSpeakingThreshold:.6},Xa=Do=>({...(0,za.getDefaultRealTimeVADOptions)(Do),...Ya});La.getDefaultReactRealTimeVADOptions=Xa;const Ka=Object.keys(Ya),Qa=Object.keys((0,za.getDefaultRealTimeVADOptions)("v5")),Va=(Do,Mo)=>Do.reduce((el,tl)=>(el[tl]=Mo[tl],el),{});function Ua(Do){const Mo=Do.model??za.DEFAULT_MODEL;Do={...(0,La.getDefaultReactRealTimeVADOptions)(Mo),...Do};const el=Va(Ka,Do),tl=Va(Qa,Do);return[el,tl]}function Wa(Do){const Mo=Ga.default.useRef(Do);return Oo(()=>{Mo.current=Do}),Ga.default.useCallback((...el)=>Mo.current.apply(void 0,el),[])}function Ja(Do){const[Mo,el]=Ua(Do),[tl,rl]=(0,Ga.useState)(!1),[il,al]=(0,Ga.useState)(!0),[ll,ul]=(0,Ga.useState)(!1),[ol,cl]=(0,Ga.useState)(!1),[gl,bl]=(0,Ga.useState)(null),_l=Wa(el.onFrameProcessed);el.onFrameProcessed=Wa((Ll,Dl)=>{const $l=Ll.isSpeech>Mo.userSpeakingThreshold;rl($l),_l(Ll,Dl)});const{onSpeechEnd:xl,onSpeechStart:Al,onSpeechRealStart:ml,onVADMisfire:Sl}=el,Cl=Wa(xl),Nl=Wa(Al),dl=Wa(Sl),Rl=Wa(ml);el.onSpeechEnd=Cl,el.onSpeechStart=Nl,el.onVADMisfire=dl,el.onSpeechRealStart=Rl,(0,Ga.useEffect)(()=>{let Ll,Dl=!1;return(async()=>{try{if(Ll=await za.MicVAD.new(el),Dl){Ll.destroy();return}}catch(eu){al(!1),eu instanceof Error?ul(eu.message):ul(String(eu));return}bl(Ll),al(!1),Mo.startOnLoad&&(Ll?.start(),cl(!0))})().catch(eu=>{console.log("Well that didn't work")}),function(){Ll?.destroy(),Dl=!0,!il&&!ll&&cl(!1)}},[]);const Tl=()=>{!il&&!ll&&(gl?.pause(),cl(!1))},pl=()=>{!il&&!ll&&(gl?.start(),cl(!0))};return{listening:ol,errored:ll,loading:il,userSpeaking:tl,pause:Tl,start:pl,toggle:()=>{ol?Tl():pl()}}}La.useMicVAD=Ja;const Oo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ga.default.useLayoutEffect:Ga.default.useEffect})(dist$1)),dist$1}var distExports=requireDist();const AutoSpeechVADInternal=({submit:La,setState:Na,setEnableVAD:ja,microphoneDeviceId:Ba})=>{const[za,Ga]=reactExports.useState(!1),{selectedSttProvider:Ha,allSttProviders:Ya}=useApp$1(),Xa=Ba?{deviceId:{exact:Ba}}:{deviceId:"default"},Ka=distExports.useMicVAD({userSpeakingThreshold:.6,startOnLoad:!0,additionalAudioConstraints:Xa,onSpeechEnd:async Qa=>{try{const Va=floatArrayToWav(Qa,16e3,"wav");let Ua;const Wa=await shouldUseScribeAPI();if(!Ha.provider&&!Wa){console.warn("No speech provider selected"),Na(Oo=>({...Oo,error:"No speech provider selected. Please select one in settings."}));return}const Ja=Ya.find(Oo=>Oo.id===Ha.provider);if(!Ja&&!Wa){console.warn("Selected speech provider configuration not found"),Na(Oo=>({...Oo,error:"Speech provider configuration not found. Please check your settings."}));return}Ga(!0),Ua=await fetchSTT({provider:Wa?void 0:Ja,selectedProvider:Ha,audio:Va}),Ua&&La(Ua)}catch(Va){console.error("Failed to transcribe audio:",Va),Na(Ua=>({...Ua,error:Va instanceof Error?Va.message:"Transcription failed"}))}finally{Ga(!1)}}});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Button,{size:"icon",onClick:()=>{Ka.listening?(Ka.pause(),ja(!1)):(Ka.start(),ja(!0))},className:"cursor-pointer",children:za?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-green-500"}):Ka.userSpeaking?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):Ka.listening?jsxRuntimeExports.jsx(MicOff,{className:"h-4 w-4 animate-pulse"}):jsxRuntimeExports.jsx(Mic,{className:"h-4 w-4"})})})},AutoSpeechVAD=La=>jsxRuntimeExports.jsx(AutoSpeechVADInternal,{...La},La.microphoneDeviceId),Audio=({micOpen:La,setMicOpen:Na,enableVAD:ja,setEnableVAD:Ba,submit:za,setState:Ga})=>{const{selectedSttProvider:Ha,ScribeApiEnabled:Ya,selectedAudioDevices:Xa}=useApp$1(),Ka=Ha.provider;return jsxRuntimeExports.jsxs(Popover,{open:La,onOpenChange:Na,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:(Ya||Ka)&&ja?jsxRuntimeExports.jsx(AutoSpeechVAD,{submit:za,setState:Ga,setEnableVAD:Ba,microphoneDeviceId:Xa.input},Xa.input):jsxRuntimeExports.jsx(Button,{size:"icon",onClick:()=>{Ba(!ja)},className:"cursor-pointer",title:"Toggle voice input",children:jsxRuntimeExports.jsx(Mic,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PopoverContent,{align:"end",side:"bottom",className:`w-80 p-3 ${Ya||Ka?"hidden":""}`,sideOffset:8,children:jsxRuntimeExports.jsxs("div",{className:"text-sm select-none",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-orange-600 mb-1",children:"Speech Provider Configuration Required"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:Ka?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mt-2 flex flex-row gap-1 items-center text-orange-600",children:[jsxRuntimeExports.jsx(Info$2,{size:16}),Ha.provider?null:jsxRuntimeExports.jsx("p",{children:"PROVIDER IS MISSING"})]}),jsxRuntimeExports.jsx("span",{className:"block mt-2",children:"Please go to settings and configure your speech provider to enable voice input."})]})})]})})]})},AudioGroup=({completion:La,systemAudio:Na})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center border border-input rounded-xl overflow-hidden px-1 bg-neutral-900 dark:bg-black [&_button]:rounded-none [&_button]:border-0 [&_button]:shadow-none [&_button:hover]:bg-transparent [&>div:not(:last-child)]:border-r [&>div:not(:last-child)]:border-input/50",children:[Na&&jsxRuntimeExports.jsx("div",{className:"flex-1 hover:bg-primary/10 transition-colors rounded-l-xl [&_button]:hover:bg-transparent",children:jsxRuntimeExports.jsx(SystemAudio,{...Na})}),jsxRuntimeExports.jsx("div",{className:`flex-1 hover:bg-primary/10 transition-colors ${Na?"rounded-r-xl":"rounded-l-xl rounded-r-xl"} [&_button]:hover:bg-transparent`,children:jsxRuntimeExports.jsx(Audio,{...La})})]}),Screenshot=({screenshotConfiguration:La,attachedFiles:Na,isLoading:ja,captureScreenshot:Ba,isScreenshotLoading:za})=>{const Ga=La.enabled?"Screenshot":"Selection",Ha=La.mode;return jsxRuntimeExports.jsx(Button,{size:"icon",className:"cursor-pointer",title:`${Ga} mode (${Ha}) - ${Na.length}/${MAX_FILES} files`,onClick:Ba,disabled:Na.length>=MAX_FILES||ja||za,children:za?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):La.enabled?jsxRuntimeExports.jsx(Camera,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Crop,{className:"h-4 w-4"})})},Files=({attachedFiles:La,handleFileSelect:Na,removeFile:ja,onRemoveAllFiles:Ba,isLoading:za,isFilesPopoverOpen:Ga,setIsFilesPopoverOpen:Ha})=>{const Ya=reactExports.useRef(null),Xa=()=>{Ya.current?.click()},Ka=La.length<MAX_FILES;return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs(Popover,{open:Ga,onOpenChange:Ha,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{size:"icon",onClick:()=>{La.length===0?Ya.current?.click():Ha(!0)},disabled:za,className:"cursor-pointer",title:"Upload images",children:jsxRuntimeExports.jsx(ImageUp,{className:"h-4 w-4"})})}),La.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 bg-primary-foreground text-primary rounded-full h-5 w-5 flex border border-primary items-center justify-center text-xs font-medium",children:La.length}),La.length>0&&jsxRuntimeExports.jsxs(PopoverContent,{align:"end",side:"bottom",className:"w-screen p-0 border shadow-lg overflow-hidden",sideOffset:8,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-muted/30",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-sm select-none",children:["Attached Images (",La.length,"/",MAX_FILES,")"]}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost",onClick:()=>Ha(!1),className:"cursor-pointer",title:"Close",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"p-4 h-[calc(100vh-11rem)]",children:jsxRuntimeExports.jsx("div",{className:`gap-3 ${La.length<=2?"flex flex-col":"grid grid-cols-2"}`,children:La.map(Qa=>jsxRuntimeExports.jsxs("div",{className:"relative group border rounded-lg overflow-hidden bg-muted/20",children:[jsxRuntimeExports.jsx("img",{src:`data:${Qa.type};base64,${Qa.base64}`,alt:Qa.name,className:"w-full object-cover h-full"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white p-2 text-xs",children:[jsxRuntimeExports.jsx("div",{className:"truncate font-medium",children:Qa.name}),jsxRuntimeExports.jsxs("div",{className:"text-gray-300",children:[(Qa.size/1024/1024).toFixed(2)," MB"]})]}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"default",className:"absolute top-2 right-2 h-6 w-6 cursor-pointer",onClick:()=>ja(Qa.id),title:"Remove image",children:jsxRuntimeExports.jsx(X$1,{className:"h-3 w-3"})})]},Qa.id))})}),jsxRuntimeExports.jsxs("div",{className:"sticky bottom-0 border-t bg-background p-3 flex flex-row gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:Xa,disabled:!Ka||za,className:"w-2/4",variant:"outline",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add More Images ",!Ka&&`(${MAX_FILES} max)`]}),jsxRuntimeExports.jsxs(Button,{className:"w-2/4",variant:"destructive",onClick:Ba,children:[jsxRuntimeExports.jsx(Trash,{className:"h-4 w-4 mr-2"}),"Remove All Images"]})]})]})]}),jsxRuntimeExports.jsx("input",{ref:Ya,type:"file",multiple:!0,accept:"image/*",onChange:Na,className:"hidden"})]})},MediaGroup=({completion:La})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center border border-input rounded-xl overflow-hidden px-1 bg-neutral-900 dark:bg-black [&_button]:rounded-none [&_button]:border-0 [&_button]:shadow-none [&_button:hover]:bg-transparent [&>div:not(:last-child)]:border-r [&>div:not(:last-child)]:border-input/50",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 hover:bg-primary/10 transition-colors rounded-l-xl [&_button]:hover:bg-transparent",children:jsxRuntimeExports.jsx(Screenshot,{...La})}),jsxRuntimeExports.jsx("div",{className:"flex-1 hover:bg-primary/10 transition-colors rounded-r-xl [&_button]:hover:bg-transparent",children:jsxRuntimeExports.jsx(Files,{...La})})]}),Completion=({isHidden:La,systemAudio:Na})=>{const ja=useCompletion();return jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-12 shrink-0"}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Input$1,{...ja,isHidden:La})}),jsxRuntimeExports.jsx(AudioGroup,{completion:ja,systemAudio:Na}),jsxRuntimeExports.jsx(MediaGroup,{completion:ja})]})},Disclaimer=()=>{const{hasActiveLicense:La}=useApp$1(),[Na,ja]=reactExports.useState(""),[Ba,za]=reactExports.useState(!0),Ga="EXORA";return reactExports.useEffect(()=>{let Ha;return Ha=setTimeout(()=>{const Xa=Na.length;Ba?Xa<Ga.length?ja(Ga.substring(0,Xa+1)):setTimeout(()=>za(!1),1e3):Xa>0?ja(Ga.substring(0,Xa-1)):setTimeout(()=>za(!0),500)},150),()=>clearTimeout(Ha)},[Na,Ba,Ga]),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-4 px-4",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center gap-2",children:jsxRuntimeExports.jsx("a",{href:"https://exora.solutions/join#contact",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors text-sm font-medium",children:"Report a bug"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-purple-600",style:{fontFamily:'"Press Start 2P", monospace'},children:Na}),jsxRuntimeExports.jsx("div",{onClick:async()=>{await invoke("exit_app")},className:"ml-2 text-muted-foreground hover:text-primary transition-colors cursor-pointer",title:"Quit the application",children:jsxRuntimeExports.jsx(Power,{className:"w-5 h-5"})})]})]})},CreateSystemPrompt=({form:La,setForm:Na,onClose:ja,onSave:Ba,onDelete:za,isEditing:Ga=!1,isSaving:Ha=!1})=>{const Ya=La.name.trim()&&La.prompt.trim();return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Input,{className:"h-11",placeholder:"Enter a name for the system prompt",value:La.name,onChange:Xa=>Na({...La,name:Xa.target.value}),disabled:Ha}),jsxRuntimeExports.jsx(Textarea,{placeholder:"You are a helpful AI assistant. Be concise, accurate, and friendly in your responses...",className:"min-h-[100px] resize-none border-1 border-input/50 focus:border-primary/50 transition-colors",value:La.prompt,onChange:Xa=>Na({...La,prompt:Xa.target.value}),disabled:Ha}),jsxRuntimeExports.jsx("div",{className:"flex flex-row w-full gap-2",children:Ga&&za?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"flex-1 flex gap-2",children:[jsxRuntimeExports.jsx(Button,{className:"flex-1",variant:"outline",onClick:ja,disabled:Ha,children:"Close"}),jsxRuntimeExports.jsx(Button,{className:"w-1/3",variant:"destructive",onClick:za,disabled:Ha,title:"Delete this prompt",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{className:"flex-1",onClick:Ba,disabled:!Ya||Ha,children:Ha?"Updating...":"Update"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{className:"w-1/2",variant:"outline",onClick:ja,disabled:Ha,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{className:"w-1/2",onClick:Ba,disabled:!Ya||Ha,children:Ha?"Creating...":"Create"})]})})]})},SelectSystemPrompt=({prompts:La,selectedId:Na,onSelect:ja,isLoading:Ba=!1})=>jsxRuntimeExports.jsxs(Select,{value:Na?.toString()||"",onValueChange:za=>ja(Number(za)),disabled:Ba,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"!h-8 w-[200px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a system prompt"})}),jsxRuntimeExports.jsx(SelectContent,{side:"bottom",align:"end",children:La.length===0?jsxRuntimeExports.jsxs("div",{className:"px-2 py-6 text-center text-sm text-muted-foreground",children:["No system prompts yet.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Create one to get started!"})]}):La.map(za=>jsxRuntimeExports.jsx(SelectItem,{value:za.id.toString(),className:"h-auto py-2",children:jsxRuntimeExports.jsx("span",{className:"flex-1 truncate text-sm",children:za.name})},za.id))})]}),GenerateSystemPrompt=({onGenerate:La})=>{const{hasActiveLicense:Na}=useApp$1(),[ja,Ba]=reactExports.useState(""),[za,Ga]=reactExports.useState(!1),[Ha,Ya]=reactExports.useState(null),[Xa,Ka]=reactExports.useState(!1),Qa=async()=>{if(!ja.trim()){Ya("Please describe what you want");return}try{Ga(!0),Ya(null);const Va=await invoke("create_system_prompt",{userPrompt:ja.trim()});Va.system_prompt&&Va.prompt_name&&(La(Va.system_prompt,Va.prompt_name),Ka(!1),Ba(""))}catch(Va){const Ua=Va instanceof Error?Va.message:"Failed to generate prompt";Ya(Ua),console.error("Error generating system prompt:",Va)}finally{Ga(!1)}};return jsxRuntimeExports.jsxs(Popover,{open:Xa,onOpenChange:Ka,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{"aria-label":"Generate with AI",size:"sm",variant:"outline",className:"w-fit",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"})," Generate with AI"]})}),jsxRuntimeExports.jsx(PopoverContent,{align:"end",side:"bottom",className:"w-96 p-4 border shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-1",children:"Generate a system prompt"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the AI behavior you want, and we'll generate a prompt for you."})]}),jsxRuntimeExports.jsx(Textarea,{placeholder:"e.g., I want an AI that helps me with code reviews and focuses on best practices...",className:"min-h-[100px] resize-none border-1 border-input/50 focus:border-primary/50 transition-colors",value:ja,onChange:Va=>{Ba(Va.target.value),Ya(null)},disabled:za}),Ha&&jsxRuntimeExports.jsx("p",{className:"text-xs text-destructive",children:Ha}),Na?jsxRuntimeExports.jsx(Button,{className:"w-full",onClick:Qa,disabled:!ja.trim()||za,children:za?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4 animate-pulse"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"Generate"]})}):jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"You need an active license to use this feature. Click the button below to get a license."}),jsxRuntimeExports.jsx(GetLicense,{buttonText:"Get License",buttonClassName:"w-full",setState:Ka})]})]})})]})},DeleteSystemPrompt=({isOpen:La,onOpenChange:Na,promptId:ja,promptName:Ba,onDelete:za})=>{const[Ga,Ha]=reactExports.useState(!1),Ya=async()=>{if(ja)try{Ha(!0),await za(ja),Na(!1)}catch(Xa){console.error("Failed to delete system prompt:",Xa)}finally{Ha(!1)}};return jsxRuntimeExports.jsx(Dialog,{open:La,onOpenChange:Na,children:jsxRuntimeExports.jsxs(DialogContent,{showCloseButton:!1,children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5 text-destructive"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Delete System Prompt"}),jsxRuntimeExports.jsxs(DialogDescription,{className:"mt-1",children:['Are you sure you want to delete "',Ba,'"?']})]})]})}),jsxRuntimeExports.jsx("div",{className:"py-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone. This will permanently delete the system prompt from the database."})}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>Na(!1),disabled:Ga,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:Ya,disabled:Ga,children:Ga?"Deleting...":"Delete"})]})]})})},SystemPrompt=({systemPrompt:La,setSystemPrompt:Na})=>{const[ja,Ba]=reactExports.useState("default"),[za,Ga]=reactExports.useState({name:"",prompt:""}),[Ha,Ya]=reactExports.useState(()=>{const bl=safeLocalStorage.getItem(STORAGE_KEYS.SELECTED_SYSTEM_PROMPT_ID);return bl?Number(bl):null}),[Xa,Ka]=reactExports.useState(!1),[Qa,Va]=reactExports.useState(!1),{prompts:Ua,isLoading:Wa,error:Ja,createPrompt:Oo,updatePrompt:Do,deletePrompt:Mo,clearError:el}=useSystemPrompts();reactExports.useEffect(()=>{if(Ha&&Ua.length>0){const bl=Ua.find(_l=>_l.id===Ha);bl?Na(bl.prompt):(Ya(null),safeLocalStorage.removeItem(STORAGE_KEYS.SELECTED_SYSTEM_PROMPT_ID),safeLocalStorage.getItem(STORAGE_KEYS.SYSTEM_PROMPT)||(Na(DEFAULT_SYSTEM_PROMPT),safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_PROMPT,DEFAULT_SYSTEM_PROMPT)))}},[Ua,Ha,Na]);const tl=reactExports.useCallback(bl=>{const _l=Ua.find(xl=>xl.id===bl);_l&&(Na(_l.prompt),Ya(bl),safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_PROMPT,_l.prompt),safeLocalStorage.setItem(STORAGE_KEYS.SELECTED_SYSTEM_PROMPT_ID,bl.toString()))},[Ua,Na]),rl=reactExports.useCallback(async()=>{try{Ka(!0),el();const bl=await Oo({name:za.name,prompt:za.prompt});Na(bl.prompt),Ya(bl.id),safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_PROMPT,bl.prompt),safeLocalStorage.setItem(STORAGE_KEYS.SELECTED_SYSTEM_PROMPT_ID,bl.id.toString()),Ga({name:"",prompt:""}),Ba("default")}catch(bl){console.error("Failed to create prompt:",bl)}finally{Ka(!1)}},[za,Oo,Na,el]),il=reactExports.useCallback(async()=>{if(za.id)try{Ka(!0),el();const bl=await Do(za.id,{name:za.name,prompt:za.prompt});Ha===za.id&&(Na(bl.prompt),safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_PROMPT,bl.prompt)),Ga({name:"",prompt:""}),Ba("default")}catch(bl){console.error("Failed to update prompt:",bl)}finally{Ka(!1)}},[za,Do,Ha,Na,el]),al=reactExports.useCallback(()=>{Va(!0)},[]),ll=reactExports.useCallback(async bl=>{el(),await Mo(bl),Ha===bl&&(Ya(null),Na(DEFAULT_SYSTEM_PROMPT),safeLocalStorage.removeItem(STORAGE_KEYS.SELECTED_SYSTEM_PROMPT_ID),safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_PROMPT,DEFAULT_SYSTEM_PROMPT)),Ga({name:"",prompt:""}),Ba("default")},[Mo,Ha,Na,el]),ul=reactExports.useCallback(bl=>{const _l=Ua.find(xl=>xl.id===bl);_l&&(Ga({id:_l.id,name:_l.name,prompt:_l.prompt}),Ba("edit"))},[Ua]),ol=reactExports.useCallback(()=>{Ga({name:"",prompt:""}),Ba("default"),el()},[el]),cl=reactExports.useCallback((bl,_l)=>{Ga(xl=>({...xl,prompt:bl,name:_l}))},[]),gl=reactExports.useCallback(bl=>{Na(bl),safeLocalStorage.setItem(STORAGE_KEYS.SYSTEM_PROMPT,bl),Ha&&Ua.find(xl=>xl.id===Ha)&&Do(Ha,{prompt:bl}).catch(xl=>{console.error("Failed to auto-update prompt:",xl)})},[Na,Ha,Ua,Do]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"system-prompt",className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"System Prompt",description:"Define the AI's behavior and personality.",isMainTitle:!0,rightSlot:jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-2",children:[ja!=="default"?jsxRuntimeExports.jsx(GenerateSystemPrompt,{onGenerate:cl}):jsxRuntimeExports.jsx(SelectSystemPrompt,{prompts:Ua,selectedId:Ha,onSelect:tl,onManage:ul,isLoading:Wa}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"rounded-xl",onClick:()=>{ja!=="default"?ol():Ba("create")},disabled:Xa,children:ja!=="default"?"Close":"Add New"})]})}),ja!=="default"?jsxRuntimeExports.jsx(CreateSystemPrompt,{form:za,setForm:Ga,onClose:ol,onSave:ja==="edit"?il:rl,onDelete:ja==="edit"?al:void 0,isEditing:ja==="edit",isSaving:Xa}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Textarea,{placeholder:"You are a helpful AI assistant. Be concise, accurate, and friendly in your responses...",value:La,onChange:bl=>gl(bl.target.value),className:"min-h-[100px] resize-none border-1 border-input/50 focus:border-primary/50 transition-colors"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-2 w-full justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70",children:" Tip: Be specific about tone, expertise level, and response format"}),Ha?jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",className:"!h-6",onClick:()=>{Ba("edit"),ul(Ha)},children:["Manage ",jsxRuntimeExports.jsx(Settings2,{className:"h-3.5 w-3.5"})]}):null]}),Ja&&jsxRuntimeExports.jsx("p",{className:"text-xs text-destructive",children:Ja})]})]}),jsxRuntimeExports.jsx(DeleteSystemPrompt,{isOpen:Qa,onOpenChange:Va,promptId:za.id,promptName:za.name,onDelete:ll})]})},ScreenshotConfigs=({screenshotConfiguration:La,handleScreenshotModeChange:Na,handleScreenshotPromptChange:ja,handleScreenshotEnabledChange:Ba,hasActiveLicense:za})=>jsxRuntimeExports.jsxs("div",{id:"screenshot",className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"Screenshot Configuration",description:"Configure how screenshots are handled - automatically submit to AI or manual mode.",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx(Header,{title:"Capture Method",description:La.enabled?"Screenshot Mode: Quickly capture the entire screen with one click.":"Selection Mode: Click and drag to select a specific area to capture."})}),jsxRuntimeExports.jsxs(Select,{value:La.enabled?"screenshot":"selection",onValueChange:Ga=>Ba(Ga==="screenshot"),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[La.enabled?jsxRuntimeExports.jsx(Camera,{className:"size-4"}):jsxRuntimeExports.jsx(Crop,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:La.enabled?"Screenshot Mode":"Selection Mode"})]})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"selection",disabled:!za,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Crop,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Selection Mode"}),!za&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded",children:"You need an active license to use Selection Mode."})]})}),jsxRuntimeExports.jsxs(SelectItem,{value:"screenshot",className:"flex flex-row gap-2",children:[jsxRuntimeExports.jsx(Camera,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Screenshot Mode"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx(Header,{title:"Processing Mode",description:La.mode==="manual"?"Screenshots will be captured and automatically added to your attached files. You can then submit them with your own prompt. you can capture multiple screenshots and submit them later.":"Screenshots will be automatically submitted to AI using your custom prompt. No manual intervention required. only one screenshot can be submitted at a time."})}),jsxRuntimeExports.jsxs(Select,{value:La.mode,onValueChange:Na,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium",children:[La.mode==="auto"?"Auto":"Manual"," ","Mode"]})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"manual",children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Manual Mode"})}),jsxRuntimeExports.jsx(SelectItem,{value:"auto",children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Auto Mode"})})]})]})]}),La.mode==="auto"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium",children:"Auto Prompt"}),jsxRuntimeExports.jsx(Input,{placeholder:"Enter prompt for automatic screenshot analysis...",value:La.autoPrompt,onChange:Ga=>ja(Ga.target.value),className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"This prompt will be used automatically when screenshots are taken"})]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground/70",children:jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Tip:"})," ",La.enabled?"Screenshot mode captures the full screen with one click.":"Selection mode lets you choose specific areas to capture."," ","Auto mode is great for quick analysis, manual mode gives you more control."]})})]}),AudioSelection=()=>{const{selectedAudioDevices:La,setSelectedAudioDevices:Na}=useApp$1(),[ja,Ba]=reactExports.useState({input:[],output:[]}),[za,Ga]=reactExports.useState(!1),[Ha,Ya]=reactExports.useState({input:!1,output:!1}),Xa=(Va,Ua,Wa)=>{const Ja=safeLocalStorage.getItem(Wa);if(Ja&&Ua.some(Do=>Do.deviceId===Ja))Na(Do=>({...Do,[Va]:Ja}));else if(Ua.length>0){const Mo=Ua.find(el=>el.deviceId==="default")?.deviceId||Ua[0].deviceId;Na(el=>({...el,[Va]:Mo})),safeLocalStorage.setItem(Wa,Mo)}},Ka=async()=>{Ga(!0);try{const Va=await navigator.mediaDevices.getUserMedia({audio:!0});setTimeout(async()=>{Va.getTracks().forEach(Oo=>Oo.stop())},2e3);const Ua=await navigator.mediaDevices.enumerateDevices();console.log(Ua,"allDevices");const Wa=Ua.filter(Oo=>Oo.kind==="audioinput"),Ja=Ua.filter(Oo=>Oo.kind==="audiooutput");Ba({input:Wa,output:Ja}),Xa("input",Wa,STORAGE_KEYS.SELECTED_AUDIO_INPUT_DEVICE),Xa("output",Ja,STORAGE_KEYS.SELECTED_AUDIO_OUTPUT_DEVICE)}catch(Va){console.error("Error loading audio devices:",Va)}finally{Ga(!1)}},Qa=(Va,Ua)=>{Na(Ja=>({...Ja,[Va]:Ua}));const Wa=Va==="input"?STORAGE_KEYS.SELECTED_AUDIO_INPUT_DEVICE:STORAGE_KEYS.SELECTED_AUDIO_OUTPUT_DEVICE;safeLocalStorage.setItem(Wa,Ua),Ya(Ja=>({...Ja,[Va]:!0})),setTimeout(()=>{Ya(Ja=>({...Ja,[Va]:!1}))},3e3)};return jsxRuntimeExports.jsxs("div",{id:"audio",className:"space-y-1",children:[jsxRuntimeExports.jsx(Header,{title:"Audio Settings",description:"Configure your audio input and output devices for voice interaction and system audio capture.",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"Microphone",description:"Select your microphone for voice input and speech-to-text. If issues occur, adjust your system's default microphone in OS settings."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Select,{value:La.input,onValueChange:Va=>Qa("input",Va),disabled:za||ja.input.length===0,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mic,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium truncate",children:za?"Loading microphones...":ja.input.length===0?"No microphones found":ja.input.find(Va=>Va.deviceId===La.input)?.label||"Select a microphone"})]})}),jsxRuntimeExports.jsx(SelectContent,{children:ja.input.map(Va=>jsxRuntimeExports.jsx(SelectItem,{value:Va.deviceId,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mic,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"font-medium truncate",children:Va.label||`Microphone ${Va.deviceId.slice(0,8)}`})]})},Va.deviceId))})]}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"outline",onClick:Ka,disabled:za,className:"h-11 w-11 shrink-0",title:"Refresh microphone list",children:jsxRuntimeExports.jsx(RefreshCw,{className:`size-4 ${za?"animate-spin":""}`})})]})}),Ha.input&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-500 bg-green-500/10 p-3 rounded-md",children:[jsxRuntimeExports.jsx("strong",{children:" Microphone changed successfully!"}),jsxRuntimeExports.jsx("br",{}),"Using:"," ",ja.input.find(Va=>Va.deviceId===La.input)?.label||"Unknown device"]}),ja.input.length===0&&!za&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-3 rounded-md",children:[jsxRuntimeExports.jsx("strong",{children:" Click the refresh button to load your microphone devices."})," ","If this doesn't work, try changing your default microphone in your system settings."]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground/70",children:jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Tip:"})," When you select a microphone, the app will immediately switch to that device. You can verify by hovering over the microphone button in the main interface - it will show the active device name."]})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"System Audio",description:"Select the output device to capture system sounds and application audio. If issues occur, set the correct default output in OS settings."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Select,{value:La.output,onValueChange:Va=>Qa("output",Va),disabled:za||ja.output.length===0,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Headphones,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium truncate",children:za?"Loading output devices...":ja.output.length===0?"No output devices found":ja.output.find(Va=>Va.deviceId===La.output)?.label||"Select an output device"})]})}),jsxRuntimeExports.jsx(SelectContent,{children:ja.output.map(Va=>jsxRuntimeExports.jsx(SelectItem,{value:Va.deviceId,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Headphones,{className:"size-4"}),jsxRuntimeExports.jsx("div",{className:"font-medium truncate",children:Va.label})]})},Va.deviceId))})]}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"outline",onClick:Ka,disabled:za,className:"h-11 w-11 shrink-0",title:"Refresh output device list",children:jsxRuntimeExports.jsx(RefreshCw,{className:`size-4 ${za?"animate-spin":""}`})})]})}),Ha.output&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-500 bg-green-500/10 p-3 rounded-md",children:[jsxRuntimeExports.jsx("strong",{children:" Output device changed successfully!"}),jsxRuntimeExports.jsx("br",{}),"Using:"," ",ja.output.find(Va=>Va.deviceId===La.output)?.label||"Unknown device"]}),ja.output.length===0&&!za&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-3 rounded-md",children:[jsxRuntimeExports.jsx("strong",{children:" Click the refresh button to load your system audio devices."})," ","If this doesn't work, try changing your default system audio output in your system settings."]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground/70",children:jsxRuntimeExports.jsxs("p",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Tip:"})," System audio capture allows you to record audio playing through your speakers or headphones. This is useful for capturing conversation audio or system sounds along with your voice."]})})]})]})},AutostartToggle=({className:La})=>{const{customizable:Na,toggleAutostart:ja}=useApp$1(),Ba=Na?.autostart?.isEnabled??!0,za=async Ga=>{await ja(Ga)};return jsxRuntimeExports.jsxs("div",{id:"autostart",className:`space-y-2 ${La}`,children:[jsxRuntimeExports.jsx(Header,{title:"Launch on Startup",description:"Automatically open Scribe when your system starts",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium",children:"Open on Start"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Ba?"Scribe will launch automatically on system startup":"Scribe will not launch automatically"})]})}),jsxRuntimeExports.jsx(Switch,{checked:Ba,onCheckedChange:za,"aria-label":"Toggle autostart"})]})]})},AppIconToggle=({className:La})=>{const{customizable:Na,toggleAppIconVisibility:ja}=useApp$1(),Ba=async za=>{await ja(za)};return jsxRuntimeExports.jsxs("div",{id:"app-icon",className:`space-y-2 ${La}`,children:[jsxRuntimeExports.jsx(Header,{title:"App Icon Stealth Mode",description:"Control dock/taskbar icon visibility when window is hidden for maximum discretion",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium",children:Na.appIcon.isVisible?"Hide Icon from Dock/Taskbar":"Show Icon in Dock/Taskbar"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:`Toggle to make App Icon ${Na.appIcon.isVisible?"Hidden":"Visible"}`})]})}),jsxRuntimeExports.jsx(Switch,{checked:Na.appIcon.isVisible,onCheckedChange:Ba,"aria-label":"Toggle app icon visibility"})]})]})},AlwaysOnTopToggle=({className:La})=>{const{customizable:Na,toggleAlwaysOnTop:ja}=useApp$1(),Ba=async za=>{await ja(za)};return jsxRuntimeExports.jsxs("div",{id:"always-on-top",className:`space-y-2 ${La}`,children:[jsxRuntimeExports.jsx(Header,{title:"Always On Top Mode",description:"Control whether the window stays above all other applications",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium",children:Na.alwaysOnTop.isEnabled?"Disable Always On Top":"Enable Always On Top"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Na.alwaysOnTop.isEnabled?"Window stays above all other applications (default)":"Window behaves like normal applications"})]})}),jsxRuntimeExports.jsx(Switch,{checked:Na.alwaysOnTop.isEnabled,onCheckedChange:Ba,title:`Toggle to ${Na.alwaysOnTop.isEnabled?"Disabled":"Enabled"} always on top`,"aria-label":`Toggle to ${Na.alwaysOnTop.isEnabled?"Enabled":"Disabled"} always on top`})]})]})},TitleToggle=({className:La})=>{const{customizable:Na,toggleTitlesVisibility:ja}=useApp$1(),Ba=za=>{ja(za)};return jsxRuntimeExports.jsxs("div",{id:"titles",className:`space-y-2 ${La}`,children:[jsxRuntimeExports.jsx(Header,{title:"Element Titles",description:"Show or hide title attributes on buttons and interactive elements",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium",children:Na?.titles?.isEnabled?"Hide Element Titles":"Show Element Titles"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:`Toggle to make titles ${Na?.titles?.isEnabled?"Hidden":"Visible"} on all elements`})]})}),jsxRuntimeExports.jsx(Switch,{checked:Na?.titles?.isEnabled,onCheckedChange:Ba,"aria-label":"Toggle element titles visibility"})]})]})},Providers$1=({allAiProviders:La,selectedAIProvider:Na,onSetSelectedAIProvider:ja,variables:Ba})=>{const[za,Ga]=reactExports.useState(null);reactExports.useEffect(()=>{if(Na?.provider){const Ka=La?.find(Qa=>Qa?.id===Na?.provider);if(Ka){const Qa=curl2Json(Ka?.curl);Ga(Qa)}}},[Na?.provider]);const Ha=Ka=>Ba?.find(Qa=>Qa?.key===Ka),Ya=()=>{const Ka=Ha("api_key");return!Ka||!Na?.variables?"":Na?.variables?.[Ka.key]||""},Xa=()=>!Ya().trim();return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Header,{title:"Select AI Provider",description:"Select your preferred AI service provider or custom providers to get started."}),jsxRuntimeExports.jsx(Selection,{selected:Na?.provider,options:La?.map(Ka=>{const Qa=curl2Json(Ka?.curl);return{label:Ka?.isCustom?Qa?.url||"Custom Provider":Ka?.id||"Custom Provider",value:Ka?.id||"Custom Provider",isCustom:Ka?.isCustom}}),placeholder:"Choose your AI provider",onChange:Ka=>{ja({provider:Ka,variables:{}})}})]}),za?jsxRuntimeExports.jsx(Header,{title:`Method: ${za?.method||"Invalid"}, Endpoint: ${za?.url||"Invalid"}`,description:"If you want to use different url or method, you can always create a custom provider."}):null,Ha("api_key")?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Header,{title:"API Key",description:`Enter your ${La?.find(Ka=>Ka?.id===Na?.provider)?.isCustom?"Custom Provider":Na?.provider} API key to authenticate and access AI models. Your key is stored locally and never shared.`}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"**********",value:Ya(),onChange:Ka=>{const Qa=Ha("api_key");!Qa||!Na||ja({...Na,variables:{...Na.variables,[Qa.key]:typeof Ka=="string"?Ka:Ka.target.value}})},onKeyDown:Ka=>{const Qa=Ha("api_key");!Qa||!Na||ja({...Na,variables:{...Na.variables,[Qa.key]:Ka.target.value}})},disabled:!1,className:"flex-1 h-11 border-1 border-input/50 focus:border-primary/50 transition-colors"}),Xa()?jsxRuntimeExports.jsx(Button,{onClick:()=>{const Ka=Ha("api_key");!Ka||!Na||Xa()||ja({...Na,variables:{...Na.variables,[Ka.key]:Ya()}})},disabled:Xa(),size:"icon",className:"shrink-0 h-11 w-11",title:"Submit API Key",children:jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"})}):jsxRuntimeExports.jsx(Button,{onClick:()=>{const Ka=Ha("api_key");!Ka||!Na||ja({...Na,variables:{...Na.variables,[Ka.key]:""}})},size:"icon",variant:"destructive",className:"shrink-0 h-11 w-11",title:"Remove API Key",children:jsxRuntimeExports.jsx(Trash,{className:"h-4 w-4"})})]})})]}):null,jsxRuntimeExports.jsx("div",{className:"space-y-4 mt-2",children:Ba.filter(Ka=>Ka.key!==Ha("api_key")?.key).map(Ka=>{const Qa=()=>!Ka?.key||!Na?.variables?"":Na.variables[Ka.key]||"";return jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Header,{title:Ka?.value||"",description:`add your preferred ${Ka?.key?.replace(/_/g," ")} for ${La?.find(Va=>Va?.id===Na?.provider)?.isCustom?"Custom Provider":Na?.provider}`}),jsxRuntimeExports.jsx(TextInput,{placeholder:`Enter ${La?.find(Va=>Va?.id===Na?.provider)?.isCustom?"Custom Provider":Na?.provider} ${Ka?.key?.replace(/_/g," ")||"value"}`,value:Qa(),onChange:Va=>{!Ka?.key||!Na||ja({...Na,variables:{...Na.variables,[Ka.key]:Va}})}})]},Ka?.key)})})]})},CreateEditProvider=({customProviderHook:La})=>{const{allAiProviders:Na}=useApp$1(),ja=La||useCustomAiProviders(),{showForm:Ba,setShowForm:za,editingProvider:Ga,formData:Ha,setFormData:Ya,errors:Xa,handleSave:Ka,setErrors:Qa,handleAutoFill:Va}=ja;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ba?jsxRuntimeExports.jsxs(Card,{className:"p-4 border !bg-transparent border-input/50 ",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx(Header,{title:Ga?"Edit Provider":"Add Custom Provider",description:"Create a custom AI provider to use with your AI-powered applications."}),jsxRuntimeExports.jsx("div",{className:"w-[120px]",children:jsxRuntimeExports.jsx(Selection,{options:Na?.filter(Ua=>!Ua?.isCustom).map(Ua=>({label:Ua?.id||"AI Provider",value:Ua?.id||"AI Provider"})),placeholder:"Auto-fill",onChange:Ua=>{Va(Ua)}})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Header,{title:"Curl Command *",description:"The curl command to use with the AI provider."}),jsxRuntimeExports.jsx(Textarea,{className:cn("h-74 font-mono text-sm",Xa.curl&&"border-red-500"),placeholder:`curl --location 'http://127.0.0.1:1337/v1/chat/completions' --header 'Content-Type: application/json' --header 'Authorization: Bearer YOUR_API_KEY or {{API_KEY}}' --data '{
        "model": "your-model-name or {{MODEL}}",
        "messages": [
            {
                "role": "system",
                "content": "{{SYSTEM_PROMPT}}"
            },
            {
                "role": "user",
                "content": [
                    {
                        "type": "text",
                        "text": "{{TEXT}}"
                    },
                    {
                        "type": "image_url",
                        "image_url": {
                            "url": "data:image/jpeg;base64,{{IMAGE}}"
                        }
                    }
                ]
            }
        ]
    }'`,value:Ha.curl,onChange:Ua=>Ya(Wa=>({...Wa,curl:Ua.target.value}))}),Xa.curl&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Xa.curl}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-card border p-3 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:" Important: You can add custom variables or directly include your API keys/values"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["No need to enter variables separately when selecting the provider - you can embed them directly in the curl command (e.g., replace YOUR_API_KEY with your actual key or use"," ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"{{MODEL}}"})," ","for model name)."]})]}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-foreground",children:" Required Variables for AI Providers:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card border rounded-lg",children:[jsxRuntimeExports.jsx("code",{className:"bg-muted px-2 py-1 rounded font-mono text-xs",children:"{{TEXT}}"}),jsxRuntimeExports.jsx("span",{className:"text-foreground font-medium",children:" REQUIRED: User's text input"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card border rounded-lg",children:[jsxRuntimeExports.jsx("code",{className:"bg-muted px-2 py-1 rounded font-mono text-xs",children:"{{IMAGE}}"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:" Base64 image data (without data:image/jpeg;base64 prefix)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card border rounded-lg",children:[jsxRuntimeExports.jsx("code",{className:"bg-muted px-2 py-1 rounded font-mono text-xs",children:"{{SYSTEM_PROMPT}}"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:" System prompt/instructions(optional)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("strong",{className:"text-foreground",children:"Quick Setup:"})," ","Replace"," ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"YOUR_API_KEY"})," ","with your actual API key directly in the curl command."]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("strong",{className:"text-foreground",children:"Custom Variables:"})," ","You can add your own variables using the same"," ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"{{VARIABLE_NAME}}"})," ","format and they'll be available for configuration when you select this provider."]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" Tip: Use the required variables (",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"{{TEXT}}"}),","," ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"{{SYSTEM_PROMPT}}"}),") for basic functionality. Add"," ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"{{IMAGE}}"})," ","only if your provider supports image input."]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center space-x-2",children:[jsxRuntimeExports.jsx(Header,{title:"Streaming",description:"streaming is used to stream the response from the AI provider."}),jsxRuntimeExports.jsx(Switch,{checked:Ha.streaming,onCheckedChange:Ua=>Ya(Wa=>({...Wa,streaming:Ua}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Header,{title:"Response Content Path *",description:"The path to extract content from the API response."}),jsxRuntimeExports.jsx(TextInput,{placeholder:"choices[0].message.content",value:Ha.responseContentPath||"",onChange:Ua=>Ya(Wa=>({...Wa,responseContentPath:Ua})),error:Xa.responseContentPath,notes:"The path to extract content from the API response. Examples: choices[0].message.content, text, candidates[0].content.parts[0].text"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 -mt-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>za(!Ba),className:"h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Ka,disabled:!Ha.curl.trim(),className:cn("h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",Xa.curl&&"bg-red-500 hover:bg-red-600 text-white"),children:Xa.curl?"Invalid cURL, try again":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),Ga?"Update":"Save"," Provider"]})})]})]}):jsxRuntimeExports.jsxs(Button,{onClick:()=>{za(!0),Qa({})},variant:"outline",className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Custom Provider"]})})},CustomProviders=({allAiProviders:La})=>{const Na=useCustomAiProviders(),{handleEdit:ja,handleDelete:Ba,deleteConfirm:za,confirmDelete:Ga,cancelDelete:Ha}=Na;return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Header,{title:"Custom Providers",description:"Create and manage custom AI providers. Configure endpoints, authentication, and response formats."}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:La.filter(Ya=>Ya?.isCustom).length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:La.filter(Ya=>Ya?.isCustom).map(Ya=>{const Xa=curl2Json(Ya?.curl);return jsxRuntimeExports.jsx(Card,{className:"p-3 border !bg-transparent border-input/50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:Xa?.url||"Invalid curl command"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:`Response Path: ${Ya?.responseContentPath||"Not set"}`}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"  "}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Streaming: ",Ya?.streaming?"Yes":"No"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:()=>Ya?.id&&ja(Ya?.id),title:"Edit Provider",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:()=>Ya?.id&&Ba(Ya?.id),title:"Delete Provider",className:"text-destructive hover:text-destructive",children:jsxRuntimeExports.jsx(Trash,{className:"h-3 w-3"})})]})]})},Ya?.id)})})}),jsxRuntimeExports.jsx(CreateEditProvider,{customProviderHook:Na}),za&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-background border rounded-lg p-6 max-w-md mx-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Custom Provider"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Are you sure you want to delete this custom provider? This action cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Ha,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:Ga,children:"Delete"})]})]})})]})},AIProviders=La=>jsxRuntimeExports.jsxs("div",{id:"ai-providers",className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"AI Providers",description:"Select your preferred AI service provider to get started.",isMainTitle:!0}),jsxRuntimeExports.jsx(CustomProviders,{...La}),jsxRuntimeExports.jsx(Providers$1,{...La})]}),Providers=({allSttProviders:La,selectedSttProvider:Na,onSetSelectedSttProvider:ja,sttVariables:Ba})=>{const[za,Ga]=reactExports.useState(null);reactExports.useEffect(()=>{if(Na?.provider){const Ka=La?.find(Qa=>Qa?.id===Na?.provider);if(Ka){const Qa=curl2Json(Ka?.curl);Ga(Qa)}}},[Na?.provider]);const Ha=Ka=>Ba?.find(Qa=>Qa?.key===Ka),Ya=()=>{const Ka=Ha("api_key");return!Ka||!Na?.variables?"":Na?.variables?.[Ka.key]||""},Xa=()=>!Ya().trim();return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Header,{title:"Select STT Provider",description:"Select your preferred STT service provider or custom providers to get started."}),jsxRuntimeExports.jsx(Selection,{selected:Na?.provider,options:La?.map(Ka=>{const Qa=curl2Json(Ka?.curl);return{label:Ka?.isCustom?Qa?.url||"Custom Provider":Ka?.id||"Custom Provider",value:Ka?.id||"Custom Provider",isCustom:Ka?.isCustom}}),placeholder:"Choose your STT provider",onChange:Ka=>{ja({provider:Ka,variables:{}})}})]}),za?jsxRuntimeExports.jsx(Header,{title:`Method: ${za?.method||"Invalid"}, Endpoint: ${za?.url||"Invalid"}`,description:"If you want to use different url or method, you can always create a custom provider."}):null,Ha("api_key")?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Header,{title:"API Key",description:`Enter your ${La?.find(Ka=>Ka?.id===Na?.provider)?.isCustom?"Custom Provider":Na?.provider} API key to authenticate and access STT models. Your key is stored locally and never shared.`}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"**********",value:Ya(),onChange:Ka=>{const Qa=Ha("api_key");!Qa||!Na||ja({...Na,variables:{...Na.variables,[Qa.key]:typeof Ka=="string"?Ka:Ka.target.value}})},onKeyDown:Ka=>{const Qa=Ha("api_key");!Qa||!Na||ja({...Na,variables:{...Na.variables,[Qa.key]:Ka.target.value}})},disabled:!1,className:"flex-1 h-11 border-1 border-input/50 focus:border-primary/50 transition-colors"}),Xa()?jsxRuntimeExports.jsx(Button,{onClick:()=>{const Ka=Ha("api_key");!Ka||!Na||Xa()||ja({...Na,variables:{...Na.variables,[Ka.key]:Ya()}})},disabled:Xa(),size:"icon",className:"shrink-0 h-11 w-11",title:"Submit API Key",children:jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"})}):jsxRuntimeExports.jsx(Button,{onClick:()=>{const Ka=Ha("api_key");!Ka||!Na||ja({...Na,variables:{...Na.variables,[Ka.key]:""}})},size:"icon",variant:"destructive",className:"shrink-0 h-11 w-11",title:"Remove API Key",children:jsxRuntimeExports.jsx(Trash,{className:"h-4 w-4"})})]})})]}):null,jsxRuntimeExports.jsx("div",{className:"space-y-4 mt-2",children:Ba?.filter(Ka=>Ka?.key!==Ha("api_key")?.key).map(Ka=>{const Qa=()=>!Ka?.key||!Na?.variables?"":Na.variables[Ka.key]||"";return jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Header,{title:Ka?.value||"",description:`add your preferred ${Ka?.key?.replace(/_/g," ")} for ${La?.find(Va=>Va?.id===Na?.provider)?.isCustom?"Custom Provider":Na?.provider}`}),jsxRuntimeExports.jsx(TextInput,{placeholder:`Enter ${La?.find(Va=>Va?.id===Na?.provider)?.isCustom?"Custom Provider":Na?.provider} ${Ka?.key?.replace(/_/g," ")||"value"}`,value:Qa(),onChange:Va=>{!Ka?.key||!Na||ja({...Na,variables:{...Na.variables,[Ka.key]:Va}})}})]},Ka?.key)})})]})},STTProviders=La=>jsxRuntimeExports.jsxs("div",{id:"stt-providers",className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"STT Providers",description:"Select your preferred STT service provider to get started.",isMainTitle:!0}),jsxRuntimeExports.jsx(Providers,{...La})]}),DeleteChats=({handleDeleteAllChatsConfirm:La,showDeleteConfirmDialog:Na,setShowDeleteConfirmDialog:ja})=>{const[Ba,za]=reactExports.useState(!1),Ga=()=>{za(!0),La(),setTimeout(()=>{za(!1)},2e3)};return jsxRuntimeExports.jsxs("div",{id:"delete-chats",className:"space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:"Delete Chat History",description:"Permanently delete all your chat conversations and history. This action cannot be undone and will remove all stored conversations from your local storage.",isMainTitle:!0}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[Ba&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-green-700 font-medium",children:" All chat history has been successfully deleted."})}),jsxRuntimeExports.jsx(Button,{onClick:()=>ja(!0),disabled:Ba,variant:"destructive",className:"w-full h-11",title:"Delete all chat history",children:Ba?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Trash,{className:"h-4 w-4 mr-2"}),"Delete All Chats"]})})]}),Na&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-background border rounded-lg p-6 max-w-md mx-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete All Chat History"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Are you sure you want to delete all chat history? This action cannot be undone and will permanently remove all stored conversations."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ja(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:Ga,children:"Delete All"})]})]})})]})},LICENSE_KEY_STORAGE_KEY="Scribe_license_key",INSTANCE_ID_STORAGE_KEY="Scribe_instance_id",SELECTED_Scribe_MODEL_STORAGE_KEY="selected_Scribe_model",ScribeApiSetup=()=>{const{ScribeApiEnabled:La,setScribeApiEnabled:Na,hasActiveLicense:ja,setHasActiveLicense:Ba,getActiveLicenseStatus:za}=useApp$1(),[Ga,Ha]=reactExports.useState(""),[Ya,Xa]=reactExports.useState(null),[Ka,Qa]=reactExports.useState(null),[Va,Ua]=reactExports.useState(!1),[Wa,Ja]=reactExports.useState(null),[Oo,Do]=reactExports.useState(null),[Mo,el]=reactExports.useState([]),[tl,rl]=reactExports.useState(!1),[il,al]=reactExports.useState(null),[ll,ul]=reactExports.useState(!1),[ol,cl]=reactExports.useState(""),gl=reactExports.useRef(!1),bl=reactExports.useRef(null);reactExports.useEffect(()=>{Al(),gl.current||(gl.current=!0,xl())},[]),reactExports.useEffect(()=>{bl.current&&(bl.current.scrollTop=0)},[ol]);const _l=Dl=>{const $l=Dl?.description||"",eu=$l.match(/Request\s*\$\s*([0-9]+(?:\.[0-9]+)?)/i),uu=$l.match(/Completion\s*\$\s*([0-9]+(?:\.[0-9]+)?)/i),su=eu?parseFloat(eu[1]):0,pu=uu?parseFloat(uu[1]):0;return su===0&&pu===0},xl=async()=>{rl(!0);try{const Dl=await invoke("fetch_models"),$l=Array.isArray(Dl)?Dl.filter(_l):[];el($l)}catch(Dl){console.error("Failed to fetch models:",Dl)}finally{rl(!1)}},Al=async()=>{try{const Dl=await invoke("secure_storage_get");if(Dl.license_key){Xa(Dl.license_key);const $l=await invoke("mask_license_key_cmd",{licenseKey:Dl.license_key});Qa($l)}else Xa(null),Qa(null);if(Dl.selected_Scribe_model)try{const $l=JSON.parse(Dl.selected_Scribe_model);al($l)}catch($l){console.error("Failed to parse stored model:",$l),al(null)}else al(null)}catch(Dl){console.error("Failed to load license status:",Dl),Xa(null),Qa(null),al(null)}},ml=async()=>{if(!Ga.trim()){Ja("Please enter a license key");return}Ua(!0),Ja(null),Do(null);try{const Dl=await invoke("activate_license_api",{licenseKey:Ga.trim()});Dl.activated&&Dl.instance?(await invoke("secure_storage_save",{items:[{key:LICENSE_KEY_STORAGE_KEY,value:Ga.trim()},{key:INSTANCE_ID_STORAGE_KEY,value:Dl.instance.id}]}),Do("License activated successfully!"),Ha(""),Na(!0),await Al(),await za()):Ja(Dl.error||"Failed to activate license")}catch(Dl){console.error("License activation failed:",Dl),Ja(typeof Dl=="string"?Dl:"Failed to activate license")}finally{Ua(!1)}},Sl=async()=>{Ua(!0),Ja(null),Do(null),Ba(!1);try{await invoke("secure_storage_remove",{keys:[LICENSE_KEY_STORAGE_KEY,INSTANCE_ID_STORAGE_KEY,SELECTED_Scribe_MODEL_STORAGE_KEY]}),Do("License removed successfully!"),Na(!1),await Al()}catch(Dl){console.error("Failed to remove license:",Dl),Ja("Failed to remove license")}finally{Ua(!1),await invoke("deactivate_license_api")}},Cl=async Dl=>{al(Dl),ul(!1),cl("");try{await invoke("secure_storage_save",{items:[{key:SELECTED_Scribe_MODEL_STORAGE_KEY,value:JSON.stringify(Dl)}]})}catch($l){console.error("Failed to save model selection:",$l),Ja("Failed to save model selection.")}},Nl=Dl=>{ul(Dl),Dl&&cl("")},dl=Dl=>{Dl.key==="Enter"&&!Ya&&ml()},Tl=[...new Set(Mo.map(Dl=>Dl.provider))].map(Dl=>Dl.charAt(0).toUpperCase()+Dl.slice(1));let pl;if(Tl.length===0)pl=null;else if(Tl.length===1)pl=Tl[0];else if(Tl.length===2)pl=Tl.join(" and ");else{const Dl=Tl.pop();pl=`${Tl.join(", ")}, and ${Dl}`}const jl=tl?"Loading Models...":`Scribe supports ${Mo?.length} model${Mo?.length!==1?"s":""}`,Ll=tl?"Fetching the list of supported models...":pl?`Access top models from providers like ${pl}. and select smaller models for faster responses.`:"Explore all the models Scribe supports.";return jsxRuntimeExports.jsxs("div",{id:"Scribe-api",className:"space-y-3 -mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 pt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[jsxRuntimeExports.jsx(Header,{titleClassName:"text-lg",title:"Scribe Access",description:"Scribe license to unlock faster responses, quicker support and premium features."}),jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center gap-2",children:!Ya&&jsxRuntimeExports.jsx(GetLicense,{})})]}),Wa&&jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg border border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:Wa})}),Oo&&jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg border border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:Oo})}),jsxRuntimeExports.jsx(Header,{title:jl,description:Ll}),jsxRuntimeExports.jsxs(Popover,{modal:!0,open:ll,onOpenChange:Nl,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,disabled:tl,className:"cursor-pointer flex justify-start",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"h-11 text-start shadow-none w-full",children:[il?il.name:"Select pro models"," ",jsxRuntimeExports.jsx(ChevronDown,{})]})}),jsxRuntimeExports.jsx(PopoverContent,{align:"end",side:"bottom",className:"w-[calc(100vw-4rem)] h-[46vh]",children:jsxRuntimeExports.jsxs(Command,{shouldFilter:!0,children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Select model...",value:ol,onValueChange:cl}),jsxRuntimeExports.jsxs(CommandList,{ref:bl,className:"overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-muted [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-muted-foreground/20 [&::-webkit-scrollbar-thumb:hover]:bg-muted-foreground/30",children:[jsxRuntimeExports.jsx(CommandEmpty,{children:"No models found. Please try again later."}),jsxRuntimeExports.jsx(CommandGroup,{children:Mo.map((Dl,$l)=>jsxRuntimeExports.jsx(CommandItem,{disabled:!Dl?.isAvailable,className:"cursor-pointer",onSelect:()=>Cl(Dl),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:`${Dl?.name}`}),jsxRuntimeExports.jsx("div",{className:"text-xs border border-input/50 bg-muted/50 rounded-full px-2",children:Dl?.modality}),Dl?.isAvailable?jsxRuntimeExports.jsx("div",{className:"text-xs text-orange-600 bg-white rounded-full px-2",children:Dl?.provider}):jsxRuntimeExports.jsx("div",{className:"text-xs text-red-600 bg-white rounded-full px-2",children:"Not Available"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",title:Dl?.description,children:Dl?.description})]})},`${Dl?.id}-${$l}`))})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ya?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Current License"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:Ka||"",disabled:!0,className:"flex-1 h-11 border-1 border-input/50 bg-muted/50"}),jsxRuntimeExports.jsx(Button,{onClick:Sl,disabled:Va,size:"icon",variant:"destructive",className:"shrink-0 h-11 w-11",title:"Remove License",children:Va?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Trash,{className:"h-4 w-4"})})]}),Ya?jsxRuntimeExports.jsx("div",{className:"-mt-1",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground select-auto",children:"If you need any help or any assistance, contact support@Scribe.com"})}):null]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"License Key"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"After completing your purchase, you'll receive a license key via email. Paste it below to activate."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter your license key (e.g., 38b1460a-5104-4067-a91d-77b872934d51)",value:Ga,onChange:Dl=>{Ha(typeof Dl=="string"?Dl:Dl.target.value),Ja(null),Do(null)},onKeyDown:dl,disabled:Va,className:"flex-1 h-11 border-1 border-input/50 focus:border-primary/50 transition-colors"}),jsxRuntimeExports.jsx(Button,{onClick:ml,disabled:Va||!Ga.trim(),size:"icon",className:"shrink-0 h-11 w-11",title:"Activate License",children:Va?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"})})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx(Header,{title:`${La?"Disable":"Enable"} Scribe API`,description:Ya?La?"Using all Scribe APIs for audio, and chat.":"Using all your own AI Providers for audio, and chat.":"A valid license is required to enable Scribe API or you can use your own AI Providers and STT Providers."}),jsxRuntimeExports.jsx(Switch,{checked:La,onCheckedChange:Na,disabled:!Ya||!ja})]})]})},ShortcutRecorder=({onSave:La,onCancel:Na,disabled:ja=!1})=>{const[Ba,za]=reactExports.useState([]),[Ga,Ha]=reactExports.useState(""),Ya=!0,Xa=reactExports.useCallback(Wa=>{Wa.preventDefault(),Wa.stopPropagation();const Ja=[];(Wa.metaKey||Wa.ctrlKey)&&Ja.push(isMacOS()?"cmd":"ctrl"),Wa.altKey&&Ja.push("alt"),Wa.shiftKey&&Ja.push("shift");let Oo=Wa.key.toLowerCase();const Do={arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right"," ":"space",escape:"esc",enter:"return",backspace:"backspace",delete:"delete",tab:"tab","[":"bracketleft","]":"bracketright",";":"semicolon","'":"quote","`":"grave","\\":"backslash","/":"slash",",":"comma",".":"period","-":"minus","=":"equal","+":"plus"};Do[Oo]&&(Oo=Do[Oo]),["control","alt","shift","meta"].includes(Oo)||Ja.push(Oo),Ja.length>=2?(za(Ja),Ha("")):Ha("Must include at least one modifier (Cmd/Ctrl/Alt/Shift) and one key")},[Ya]),Ka=reactExports.useCallback(Wa=>{Wa.preventDefault(),Wa.stopPropagation()},[Ya]);reactExports.useEffect(()=>(window.focus(),window.addEventListener("keydown",Xa,!0),window.addEventListener("keyup",Ka,!0),()=>{window.removeEventListener("keydown",Xa,!0),window.removeEventListener("keyup",Ka,!0)}),[Ya,Xa,Ka]);const Qa=async()=>{if(Ba.length<2){Ha("Shortcut must have at least one modifier and one key");return}const Wa=Ba.join("+");if(!validateShortcutKey(Wa)){Ha("Invalid shortcut combination");return}try{if(!await invoke("validate_shortcut_key",{key:Wa})){Ha("This shortcut combination is not supported");return}}catch{Ha("Failed to validate shortcut");return}La(Wa)},Va=()=>{za([]),Ha(""),Na()},Ua=Ba.length>0?formatShortcutKeyForDisplay(Ba.join("+")):"Waiting for keys...";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"px-3 py-2 bg-primary/5 border-2 border-primary/50 rounded-md font-mono text-sm text-center",children:jsxRuntimeExports.jsxs("span",{className:"text-primary font-medium animate-pulse",children:[" ",Ua]})})}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"default",onClick:Qa,disabled:ja||Ba.length<2,title:"Save shortcut",children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"}),"Save"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:Va,disabled:ja,title:"Cancel",children:[jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"}),"Cancel"]})]}),Ga&&jsxRuntimeExports.jsx("p",{className:"text-xs text-destructive",children:Ga}),!Ga&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Press a key combination now (e.g., Cmd+Shift+K)"}),Ba.length>=2&&!Ga&&jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:' Shortcut captured! Click "Save" to apply.'})]})},ShortcutManager=()=>{const{hasActiveLicense:La}=useApp$1(),[Na,ja]=reactExports.useState([]),[Ba,za]=reactExports.useState({}),[Ga,Ha]=reactExports.useState(null),[Ya,Xa]=reactExports.useState([]),[Ka,Qa]=reactExports.useState(!1);reactExports.useEffect(()=>{Va()},[La]);const Va=()=>{const Do=getShortcutsConfig(),Mo=getAllShortcutActions(La);ja(Mo),za(Do.bindings)},Ua=async(Do,Mo)=>{const el=Ba[Do];if(!el)return;const tl={...el,enabled:Mo},rl={...Ba,[Do]:tl};za(rl),updateShortcutBinding(Do,el.key,Mo),await Ja(rl)},Wa=async(Do,Mo)=>{const el=checkShortcutConflicts(Mo,Do);if(el){Xa([`Shortcut "${Mo}" is already used by: ${el.actions.map(al=>Na.find(ll=>ll.id===al)?.name).join(", ")}`]);return}const tl=Ba[Do]||{action:Do,key:"",enabled:!0},rl={...tl,key:Mo},il={...Ba,[Do]:rl};za(il),updateShortcutBinding(Do,Mo,tl.enabled),await Ja(il),Ha(null),Xa([])},Ja=async Do=>{Qa(!0);try{await invoke("update_shortcuts",{config:{bindings:Do}})}catch(Mo){console.error("Failed to apply shortcuts:",Mo),Xa([`Failed to apply shortcuts: ${Mo}`])}finally{Qa(!1)}},Oo=async()=>{if(!confirm("Reset all shortcuts to defaults? This cannot be undone."))return;const Do=resetShortcutsToDefaults();za(Do.bindings),Xa([]),Ha(null),Va(),await Ja(Do.bindings)};return jsxRuntimeExports.jsxs("div",{id:"shortcuts",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Keyboard,{className:"h-5 w-5"}),"Keyboard Shortcuts"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[Na.length," shortcut",Na.length!==1?"s":""," ","configured",!La&&"  License required for customization"]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:Oo,disabled:Ka,title:"Reset all shortcuts to platform defaults",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4"}),"Reset"]})})]}),Ya.length>0&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-destructive mt-0.5"}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:Ya.map((Do,Mo)=>jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:Do},Mo))})]})}),!La&&jsxRuntimeExports.jsx(Card,{className:"p-4 bg-primary/5 border-primary/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Lock,{className:"h-5 w-5 text-primary mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Unlock Shortcut Customization"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Get a license to customize keyboard shortcuts to your preference."}),jsxRuntimeExports.jsx(GetLicense,{buttonText:"Get License",buttonClassName:"w-full mt-2"})]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Na.map(Do=>{const Mo=Ba[Do.id]||{action:Do.id,key:getPlatformDefaultKey(Do),enabled:!0},el=!La,tl=Ga===Do.id;return jsxRuntimeExports.jsx(Card,{className:`p-4 ${Mo.enabled?"":"opacity-50"} ${el?"bg-muted/30":""}`,children:tl?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:Do.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Do.description})]}),jsxRuntimeExports.jsx(ShortcutRecorder,{onSave:rl=>Wa(Do.id,rl),onCancel:()=>{Ha(null),Xa([])},disabled:Ka})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx(Switch,{checked:Mo.enabled,onCheckedChange:rl=>!el&&Ua(Do.id,rl),disabled:el||Ka})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:Do.name}),el&&jsxRuntimeExports.jsx(Lock,{className:"h-3 w-3 text-muted-foreground"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Do.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("code",{className:"px-3 py-1.5 bg-muted rounded text-sm font-mono",children:formatShortcutKeyForDisplay(Mo.key)}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:el?"outline":"default",onClick:()=>{el||(Ha(Do.id),Xa([]))},disabled:el||Ka,className:"min-w-[80px]",title:el?"License required to customize":"Change this shortcut",children:"Change"})]})]})},Do.id)})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground text-center pt-2",children:" Shortcuts work globally, even when the app is hidden"})]})},Theme=()=>{const{theme:La,transparency:Na,setTheme:ja,onSetTransparency:Ba}=useTheme(),{hasActiveLicense:za}=useApp$1();return jsxRuntimeExports.jsxs("div",{id:"theme",className:"relative space-y-3",children:[jsxRuntimeExports.jsx(Header,{title:`Theme Customization ${za?"":" (You need an active license to use this feature)"}`,description:"Personalize your experience with custom theme and transparency settings",isMainTitle:!0}),jsxRuntimeExports.jsx("div",{className:`space-y-2 ${za?"":"opacity-60 pointer-events-none"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{className:"text-sm font-medium flex items-center gap-2",children:La==="system"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Monitor,{className:"h-4 w-4"}),"System"]}):La==="light"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sun,{className:"h-4 w-4"}),"Light Mode"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Moon,{className:"h-4 w-4"}),"Dark Mode"]})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:La==="light"?"Using light theme for better visibility in bright environments":"Using dark theme for comfortable viewing in low light"})]})}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",children:La==="system"?jsxRuntimeExports.jsx(Monitor,{className:"h-[1.2rem] w-[1.2rem]"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sun,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),jsxRuntimeExports.jsx(Moon,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"})]})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>ja("light"),children:"Light"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>ja("dark"),children:"Dark"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>ja("system"),children:"System"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:`space-y-2 ${za?"":"opacity-60 pointer-events-none"}`,children:[jsxRuntimeExports.jsx(Header,{title:"Window Transparency",description:"Adjust the transparency level of the application window"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsx(Slider,{value:[Na],onValueChange:Ga=>Ba(Ga[0]),min:0,max:100,step:1,className:"flex-1"})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70",children:" Tip: Higher transparency lets you see through the window, perfect for dark overlay. Changes apply immediately."})]})]})]})},SETTINGS_SECTIONS=[{id:"Scribe-api",label:"Scribe access"},{id:"system-prompt",label:"System prompt"},{id:"theme",label:"Theme"},{id:"screenshot",label:"Screenshot config"},{id:"shortcuts",label:"Shortcuts"},{id:"cursor",label:"Cursor"},{id:"audio",label:"Audio devices"},{id:"autostart",label:"App startup"},{id:"app-icon",label:"App icon"},{id:"always-on-top",label:"Always on top"},{id:"titles",label:"Element titles"},{id:"ai-providers",label:"AI providers"},{id:"stt-providers",label:"STT providers"},{id:"delete-chats",label:"Delete chat history"}],SettingsNavigation=()=>{const La=Na=>{const ja=document.getElementById(Na);ja&&ja.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"space-y-1 -mt-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Quick Jump to:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap items-center gap-2",children:SETTINGS_SECTIONS.map(Na=>jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>La(Na.id),className:"h-fit px-2 py-1",title:`Jump to ${Na.label} section`,children:jsxRuntimeExports.jsx("span",{className:"text-[10px]",children:Na.label})},Na.id))})]})},CursorSelection=({className:La})=>{const{customizable:Na,setCursorType:ja}=useApp$1();return jsxRuntimeExports.jsx("div",{id:"cursor",className:`space-y-2 ${La}`,children:jsxRuntimeExports.jsx(Header,{title:"Cursor",description:"Control Scribe cursor visibility",isMainTitle:!0,rightSlot:jsxRuntimeExports.jsxs(Select,{value:Na.cursor.type,onValueChange:Ba=>ja(Ba),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a cursor type"})}),jsxRuntimeExports.jsxs(SelectContent,{position:"popper",align:"end",children:[jsxRuntimeExports.jsxs(SelectItem,{value:"invisible",children:["Invisible (",jsxRuntimeExports.jsx(MousePointer2,{className:"size-3 px-0"}),")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"default",children:["Default (",jsxRuntimeExports.jsx(MousePointer,{className:"size-3"}),")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"auto",children:["Auto (",jsxRuntimeExports.jsx(MousePointer,{className:"size-3"}),"/",jsxRuntimeExports.jsx(TextCursor,{className:"size-3"})," /",jsxRuntimeExports.jsx(Pointer,{className:"size-3"}),")"]})]})]})})})},DEFAULT_ACTION_SETTINGS={enabled:!0,confirmations:"dangerous_only",safeDirectories:[],history:[]},ActionSettings=()=>{const[La,Na]=reactExports.useState(DEFAULT_ACTION_SETTINGS);reactExports.useEffect(()=>{const za=safeLocalStorage.getItem(STORAGE_KEYS.ACTION_SETTINGS);if(za)try{const Ga=JSON.parse(za);Na({...DEFAULT_ACTION_SETTINGS,...Ga})}catch(Ga){console.error("Failed to parse action settings:",Ga)}},[]);const ja=za=>{const Ga={...La,...za};Na(Ga),safeLocalStorage.setItem(STORAGE_KEYS.ACTION_SETTINGS,JSON.stringify(Ga))},Ba=()=>{const za={...La,history:[]};Na(za),safeLocalStorage.setItem(STORAGE_KEYS.ACTION_SETTINGS,JSON.stringify(za))};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"h-4 w-4"}),"System Actions"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Configure automated system actions and file operations"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"actions-enabled",children:"Enable System Actions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow Scribe to perform file operations and launch applications"})]}),jsxRuntimeExports.jsx(Switch,{id:"actions-enabled",checked:La.enabled,onCheckedChange:za=>ja({enabled:za})})]}),La.enabled&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"confirmation-mode",children:"Confirmation Mode"}),jsxRuntimeExports.jsxs(Select,{value:La.confirmations,onValueChange:za=>ja({confirmations:za}),children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"confirmation-mode",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"always",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ShieldAlert,{className:"h-4 w-4"}),"Always Confirm"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"dangerous_only",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ShieldAlert,{className:"h-4 w-4"}),"Confirm Dangerous Actions Only"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"never",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"h-4 w-4"}),"Never Confirm"]})})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[La.confirmations==="always"&&"All actions will require your confirmation before execution",La.confirmations==="dangerous_only"&&"Only potentially dangerous actions (delete, system commands) will require confirmation",La.confirmations==="never"&&"Actions will execute immediately without confirmation (use with caution)"]})]}),La.enabled&&La.history.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 border-t pt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Label$2,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"h-4 w-4"}),"Action History"]}),jsxRuntimeExports.jsx("button",{onClick:Ba,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear History"})]}),jsxRuntimeExports.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:La.history.slice(-10).reverse().map(za=>jsxRuntimeExports.jsxs("div",{className:"text-xs p-2 rounded border bg-muted/50 flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"flex-1 truncate",children:za.message}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground ml-2",children:new Date(za.timestamp).toLocaleTimeString()})]},za.id))})]}),!La.enabled&&jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Enable System Actions to see configuration options"})]})]})},Settings=()=>{const La=useSettings();return jsxRuntimeExports.jsxs(Popover,{open:La?.isPopoverOpen,onOpenChange:La?.setIsPopoverOpen,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{size:"icon","aria-label":"Open Settings",className:"cursor-pointer",title:"Open Settings",children:jsxRuntimeExports.jsx(Settings$2,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(PopoverContent,{align:"end",side:"bottom",className:"select-none w-screen p-0 border overflow-hidden border-input/50",sideOffset:8,children:[jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100vh-7.2rem)]",children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx(SettingsNavigation,{}),jsxRuntimeExports.jsx(ScribeApiSetup,{}),jsxRuntimeExports.jsx(AIProviders,{...La}),jsxRuntimeExports.jsx(STTProviders,{...La}),jsxRuntimeExports.jsx(SystemPrompt,{...La}),jsxRuntimeExports.jsx(Theme,{}),jsxRuntimeExports.jsx(ScreenshotConfigs,{...La}),jsxRuntimeExports.jsx(CursorSelection,{}),jsxRuntimeExports.jsx(ActionSettings,{}),jsxRuntimeExports.jsx(ShortcutManager,{}),jsxRuntimeExports.jsx(AudioSelection,{}),jsxRuntimeExports.jsx(AutostartToggle,{}),jsxRuntimeExports.jsx(AppIconToggle,{}),jsxRuntimeExports.jsx(AlwaysOnTopToggle,{}),jsxRuntimeExports.jsx(TitleToggle,{}),jsxRuntimeExports.jsx(DeleteChats,{...La})]})}),jsxRuntimeExports.jsx("div",{className:"border-t border-input/50",children:jsxRuntimeExports.jsx(Disclaimer,{})})]})]})};class Update extends Resource{constructor(Na){super(Na.rid),this.available=!0,this.currentVersion=Na.currentVersion,this.version=Na.version,this.date=Na.date,this.body=Na.body,this.rawJson=Na.rawJson}async download(Na,ja){convertToRustHeaders(ja);const Ba=new Channel;Na&&(Ba.onmessage=Na);const za=await invoke("plugin:updater|download",{onEvent:Ba,rid:this.rid,...ja});this.downloadedBytes=new Resource(za)}async install(){if(!this.downloadedBytes)throw new Error("Update.install called before Update.download");await invoke("plugin:updater|install",{updateRid:this.rid,bytesRid:this.downloadedBytes.rid}),this.downloadedBytes=void 0}async downloadAndInstall(Na,ja){convertToRustHeaders(ja);const Ba=new Channel;Na&&(Ba.onmessage=Na),await invoke("plugin:updater|download_and_install",{onEvent:Ba,rid:this.rid,...ja})}async close(){await this.downloadedBytes?.close(),await super.close()}}async function check(La){convertToRustHeaders(La);const Na=await invoke("plugin:updater|check",{...La});return Na?new Update(Na):null}function convertToRustHeaders(La){La?.headers&&(La.headers=Array.from(new Headers(La.headers).entries()))}async function relaunch(){await invoke("plugin:process|restart")}const Updater=()=>{const[La,Na]=reactExports.useState("uptodate"),[ja,Ba]=reactExports.useState(null),[za,Ga]=reactExports.useState({downloaded:0,contentLength:0,percentage:0}),[Ha,Ya]=reactExports.useState(!1),[Xa,Ka]=reactExports.useState(!1),{resizeWindow:Qa}=useWindowResize(),Va=async()=>{try{Na("checking");const el=await check();el?(Ba(el),Na("available")):Na("uptodate")}catch(el){console.error("Failed to check for updates:",el),Na("error"),Ya(!1)}},Ua=async()=>{if(ja)try{Na("downloading"),Ga({downloaded:0,contentLength:0,percentage:0}),await ja.downloadAndInstall(el=>{switch(el.event){case"Started":Ga(tl=>({...tl,contentLength:el.data.contentLength||0}));break;case"Progress":Ga(tl=>{const rl=tl.downloaded+el.data.chunkLength,il=tl.contentLength>0?Math.round(rl/tl.contentLength*100):0;return{downloaded:rl,contentLength:tl.contentLength,percentage:il}});break;case"Finished":Na("installing");break}}),Na("ready"),setTimeout(async()=>{await relaunch()},2e3)}catch(el){console.error("Failed to download/install update:",el),Na("failed"),Ya(!0)}};reactExports.useEffect(()=>{Va()},[]),reactExports.useEffect(()=>{Qa(Ha)},[Ha,Qa]);const Wa=()=>{switch(La){case"downloading":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4 animate-spin"}),"Downloading... ",za.percentage,"%"]});case"installing":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing..."]});case"ready":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"mr-2 h-4 w-4"}),"Ready - Restarting..."]});case"error":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mr-2 h-4 w-4"}),"Try Again"]});default:return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Download & Install Update"]})}},Ja=()=>["downloading","installing","ready"].includes(La),Oo=()=>La==="error"?Va:Ua,Do=el=>{const tl=["downloading","installing","ready"].includes(La);el?(Ya(!0),Ka(!1)):(!tl||Xa)&&(Ya(!1),Ka(!1))},Mo=()=>{Ka(!Ha),Ya(!Ha)};return La==="uptodate"||La==="error"?null:jsxRuntimeExports.jsxs(Popover,{open:Ha,onOpenChange:Do,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{size:"icon",onClick:Mo,className:"cursor-pointer",disabled:La==="checking",title:`Update available: ${ja?.version}`,"aria-label":`Update available: ${ja?.version}`,children:La==="checking"?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(PopoverContent,{align:"end",side:"bottom",className:"select-none w-screen p-0 border overflow-hidden border-input/50",sideOffset:8,children:[jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100vh-10rem)]",children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-input/50 pb-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Update Available"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["A new version (",ja?.version,") is available. Here's what's new:"]})]}),jsxRuntimeExports.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:ja?.body?jsxRuntimeExports.jsx(Markdown,{children:ja.body}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Release notes not available for this version."})})]})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-input/50 p-4 space-y-3",children:[jsxRuntimeExports.jsx(Button,{onClick:Oo(),disabled:Ja(),className:"w-full",variant:La==="failed"?"destructive":"default",children:Wa()}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Having trouble downloading?"," ",jsxRuntimeExports.jsxs("a",{href:"https://exora.solutions/downloads?ref=ghost-app",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline inline-flex items-center gap-1",children:["Download manually",jsxRuntimeExports.jsx(ExternalLink,{className:"h-3 w-3"})]})]})})]})]})]})},Header=({title:La,description:Na,isMainTitle:ja=!1,titleClassName:Ba,rightSlot:za=null})=>jsxRuntimeExports.jsxs("div",{className:`flex ${za?"flex-row justify-between items-center":"flex-col"} ${ja&&!za?"border-b border-input/50 pb-2":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx(Label$2,{className:`${cn("font-semibold text-purple-600",ja?"text-lg":"text-sm ")} ${Ba}`,children:La}),jsxRuntimeExports.jsx("p",{className:`text-muted-foreground leading-relaxed ${ja?"text-sm":"text-xs"}`,children:Na})]}),za]}),Selection=({selected:La,onChange:Na,options:ja,placeholder:Ba,isLoading:za=!1,disabled:Ga=!1})=>jsxRuntimeExports.jsxs(Select,{value:La||"",onValueChange:Ha=>Na(Ha),children:[jsxRuntimeExports.jsx(SelectTrigger,{disabled:za||Ga,className:"w-full h-11 border-1 border-input/50 focus:border-primary/50 transition-colors",children:za?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:["Loading... ",jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"})]}):jsxRuntimeExports.jsx(SelectValue,{placeholder:Ba,className:"flex items-center gap-2"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[ja?.filter(Ha=>Ha.isCustom).length>0&&jsxRuntimeExports.jsxs("div",{className:"border-b border-input/50 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground",children:"Custom AI Providers"}),ja?.filter(Ha=>Ha.isCustom).map(Ha=>jsxRuntimeExports.jsx(SelectItem,{value:Ha.value,className:"cursor-pointer hover:bg-accent/50",children:jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ha.label})},Ha.value))]}),ja?.filter(Ha=>!Ha.isCustom).map(Ha=>jsxRuntimeExports.jsx(SelectItem,{value:Ha.value,className:"cursor-pointer hover:bg-accent/50",children:jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ha.label})},Ha.value))]})]}),TextInput=({label:La,placeholder:Na,value:ja,onChange:Ba,error:za,notes:Ga})=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[La?jsxRuntimeExports.jsx(Label$2,{className:"text-xs font-medium",children:La}):null,jsxRuntimeExports.jsx(Input,{placeholder:Na,value:ja,onChange:Ha=>Ba(Ha.target.value),className:`h-11 border-1 border-input/50 focus:border-primary/50 transition-colors ${za?"border-destructive":""}`}),za&&jsxRuntimeExports.jsx("p",{className:"text-xs text-destructive",children:za}),Ga&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Ga})]}),DragButton=()=>{const{hasActiveLicense:La}=useApp$1(),[Na,ja]=reactExports.useState(!1),{resizeWindow:Ba}=useWindowResize();return reactExports.useEffect(()=>{La||Ba(Na)},[La,Na,Ba]),La?jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"-ml-[2px] w-fit","data-tauri-drag-region":La,children:jsxRuntimeExports.jsx(GripVertical,{className:"h-4 w-4"})}):jsxRuntimeExports.jsxs(Popover,{open:Na,onOpenChange:ja,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,className:"border-none hover:bg-transparent",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"-ml-[2px] w-fit",children:jsxRuntimeExports.jsx(GripVertical,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PopoverContent,{align:"start",side:"bottom",className:"w-fit select-none p-4 border overflow-hidden border-input/50",sideOffset:8,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 w-116",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 pb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-md font-medium",children:"You need an active license to use this feature."}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Once you complete your purchase, you'll receive a license key via email. Paste in the Settings  Scribe Access section to activate."})]}),jsxRuntimeExports.jsx(GetLicense,{setState:ja})]})})]})},GetLicense=({setState:La,buttonText:Na,buttonClassName:ja=""})=>{const[Ba,za]=reactExports.useState(!1),Ga=async()=>{za(!0);try{const Ha=await invoke("get_checkout_url");Ha.success&&Ha.checkout_url&&(await openUrl(Ha.checkout_url),La?.(!1))}catch(Ha){console.error("Failed to get checkout URL:",Ha)}finally{za(!1),await captureEvent(ANALYTICS_EVENTS.GET_LICENSE)}};return jsxRuntimeExports.jsx(Button,{onClick:Ga,disabled:Ba,size:"sm",className:ja,children:Ba?"Loading...":Na||"Get License"})},CustomCursor=()=>{const La=reactExports.useRef(null),Na=reactExports.useRef({x:0,y:0}),ja=reactExports.useRef(!1);return reactExports.useEffect(()=>{let Ba;const za=()=>{La.current&&ja.current&&(La.current.style.transform=`translate3d(${Na.current.x}px, ${Na.current.y}px, 0)`),Ba=requestAnimationFrame(za)},Ga=Xa=>{Na.current={x:Xa.clientX,y:Xa.clientY},ja.current||(ja.current=!0,La.current&&(La.current.style.opacity="1"))},Ha=()=>{ja.current=!1,La.current&&(La.current.style.opacity="0")},Ya=()=>{ja.current=!1,La.current&&(La.current.style.display="0")};return Ba=requestAnimationFrame(za),document.addEventListener("mousemove",Ga,{passive:!0}),document.addEventListener("mouseleave",Ha),window.addEventListener("blur",Ya),()=>{document.removeEventListener("mousemove",Ga),document.removeEventListener("mouseleave",Ha),window.removeEventListener("blur",Ya),cancelAnimationFrame(Ba)}},[]),jsxRuntimeExports.jsx("div",{ref:La,className:"fixed top-0 left-0 pointer-events-none z-[9999] opacity-0 will-change-transform",style:{transform:"translate3d(0px, 0px, 0)",transition:"opacity 0.1s ease-out"},children:jsxRuntimeExports.jsx(MousePointer2,{className:"w-5 h-5 drop-shadow-2xl fill-secondary stroke-primary"})})},AUDIO_CONFIG={FFT_SIZE:512,SMOOTHING:.8,MIN_BAR_HEIGHT:2,MIN_BAR_WIDTH:2,BAR_SPACING:4,COLOR:{MIN_INTENSITY:100,MAX_INTENSITY:255,INTENSITY_RANGE:155}};function AudioVisualizer({stream:La,isRecording:Na}){const ja=reactExports.useRef(null),Ba=reactExports.useRef(null),za=reactExports.useRef(null),Ga=reactExports.useRef(0),Ha=reactExports.useRef(null),Ya=()=>{Ga.current&&cancelAnimationFrame(Ga.current),Ba.current&&Ba.current.close()};reactExports.useEffect(()=>Ya,[]),reactExports.useEffect(()=>{La&&Na?Xa():Ya()},[La,Na]),reactExports.useEffect(()=>{const Ua=()=>{if(ja.current&&Ha.current){const Wa=Ha.current,Ja=ja.current,Oo=window.devicePixelRatio||1,Do=Wa.getBoundingClientRect();Ja.width=(Do.width-2)*Oo,Ja.height=(Do.height-2)*Oo,Ja.style.width=`${Do.width-2}px`,Ja.style.height=`${Do.height-2}px`}};return window.addEventListener("resize",Ua),Ua(),()=>window.removeEventListener("resize",Ua)},[]);const Xa=async()=>{try{const Ua=new AudioContext;Ba.current=Ua;const Wa=Ua.createAnalyser();Wa.fftSize=AUDIO_CONFIG.FFT_SIZE,Wa.smoothingTimeConstant=AUDIO_CONFIG.SMOOTHING,za.current=Wa,Ua.createMediaStreamSource(La).connect(Wa),Va()}catch(Ua){console.error("Error starting visualization:",Ua)}},Ka=Ua=>{const Wa=Math.floor(Ua*AUDIO_CONFIG.COLOR.INTENSITY_RANGE)+AUDIO_CONFIG.COLOR.MIN_INTENSITY;return`rgb(${Wa}, ${Wa}, ${Wa})`},Qa=(Ua,Wa,Ja,Oo,Do,Mo)=>{Ua.fillStyle=Mo,Ua.fillRect(Wa,Ja-Do,Oo,Do),Ua.fillRect(Wa,Ja,Oo,Do)},Va=()=>{if(!Na)return;const Ua=ja.current,Wa=Ua?.getContext("2d");if(!Ua||!Wa||!za.current)return;const Ja=window.devicePixelRatio||1;Wa.scale(Ja,Ja);const Oo=za.current,Do=Oo.frequencyBinCount,Mo=new Uint8Array(Do),el=()=>{Ga.current=requestAnimationFrame(el),Oo.getByteFrequencyData(Mo),Wa.clearRect(0,0,Ua.width/Ja,Ua.height/Ja);const tl=Math.max(AUDIO_CONFIG.MIN_BAR_WIDTH,Ua.width/Ja/Do-AUDIO_CONFIG.BAR_SPACING),rl=Ua.height/Ja/2;let il=0;for(let al=0;al<Do;al++){const ll=Mo[al]/255,ul=Math.max(AUDIO_CONFIG.MIN_BAR_HEIGHT,ll*rl);Qa(Wa,il,rl,tl,ul,Ka(ll)),il+=tl+AUDIO_CONFIG.BAR_SPACING}};el()};return jsxRuntimeExports.jsx("div",{ref:Ha,className:"!h-[32px] !w-full",children:jsxRuntimeExports.jsx("canvas",{ref:ja,className:"h-full !w-full pl-8"})})}const StatusIndicator=({setupRequired:La,error:Na,isProcessing:ja,isAIProcessing:Ba,capturing:za})=>!za&&!Na&&!ja&&!Ba?null:jsxRuntimeExports.jsx("div",{className:"flex flex-1 items-center gap-2 px-3 py-2 justify-end",children:Na&&!La?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:Na})]}):Ba?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 animate-pulse",children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Generating response..."})]}):ja?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 animate-pulse",children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Transcribing..."})]}):za?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-green-600 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Listening..."})]}):null}),App=()=>{const{isHidden:La,systemAudio:Na,handleSelectConversation:ja,handleNewConversation:Ba}=useApp(),{customizable:za,trialExpired:Ga}=useApp$1();return jsxRuntimeExports.jsxs("div",{className:`w-screen h-screen flex overflow-hidden justify-center items-start ${La?"hidden pointer-events-none":""}`,children:[jsxRuntimeExports.jsxs(Card,{className:"w-full flex flex-row items-center gap-2 p-2",children:[Ga?jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 right-1 mx-2 px-3 py-1 text-xs rounded bg-amber-100 text-amber-700 border border-amber-200",children:"Trial expired. Please upgrade to continue."}):null,Na?.capturing?jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center gap-2 justify-between w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-1 items-center gap-2",children:jsxRuntimeExports.jsx(AudioVisualizer,{stream:Na?.stream,isRecording:Na?.capturing})}),jsxRuntimeExports.jsx("div",{className:"flex !w-fit items-center gap-2",children:jsxRuntimeExports.jsx(StatusIndicator,{setupRequired:Na.setupRequired,error:Na.error,isProcessing:Na.isProcessing,isAIProcessing:Na.isAIProcessing,capturing:Na.capturing})})]}):null,jsxRuntimeExports.jsxs("div",{className:`${Na?.capturing?"hidden w-full fade-out transition-all duration-300":"w-full flex flex-row gap-2 items-center"}`,children:[jsxRuntimeExports.jsx(Completion,{isHidden:La,systemAudio:Na}),jsxRuntimeExports.jsx(ChatHistory,{onSelectConversation:ja,onNewConversation:Ba,currentConversationId:null}),jsxRuntimeExports.jsx(Settings,{})]}),jsxRuntimeExports.jsx(Updater,{}),jsxRuntimeExports.jsx(DragButton,{})]}),za.cursor.type==="invisible"?jsxRuntimeExports.jsx(CustomCursor,{}):null]})},Overlay=()=>{const[La,Na]=reactExports.useState(!1),[ja,Ba]=reactExports.useState({x:0,y:0}),[za,Ga]=reactExports.useState({left:0,top:0,width:0,height:0,display:"none"}),[Ha,Ya]=reactExports.useState({x:0,y:0}),[Xa,Ka]=reactExports.useState(!1),Qa=reactExports.useRef(null),Va=async()=>{Na(!1);try{await invoke("close_overlay_window",{reason:"User cancelled"})}catch(Mo){console.error("Failed to emit cancel event:",Mo)}},Ua=async(Mo,el,tl,rl)=>{try{const il=window.devicePixelRatio||1,al={x:Math.round(Mo*il),y:Math.round(el*il),width:Math.round(tl*il),height:Math.round(rl*il)};await invoke("capture_selected_area",{coords:al})}catch(il){console.error("Failed to capture selected area:",il)}},Wa=Mo=>{Na(!0),Ba({x:Mo.clientX,y:Mo.clientY}),Ya({x:Mo.clientX,y:Mo.clientY}),Ga({left:Mo.clientX,top:Mo.clientY,width:0,height:0,display:"block"}),Mo.preventDefault(),Mo.stopPropagation()},Ja=Mo=>{if(Ya({x:Mo.clientX,y:Mo.clientY}),Xa||Ka(!0),!La)return;const el=Math.abs(Mo.clientX-ja.x),tl=Math.abs(Mo.clientY-ja.y),rl=Math.min(Mo.clientX,ja.x),il=Math.min(Mo.clientY,ja.y);Ga(al=>({...al,width:el,height:tl,left:rl,top:il})),Mo.preventDefault(),Mo.stopPropagation()},Oo=Mo=>{if(Ya({x:Mo.clientX,y:Mo.clientY}),!La)return;Na(!1);const el=Math.min(Mo.clientX,ja.x),tl=Math.min(Mo.clientY,ja.y),rl=Math.abs(Mo.clientX-ja.x),il=Math.abs(Mo.clientY-ja.y);Mo.preventDefault(),Mo.stopPropagation(),rl>=10&&il>=10?Ua(el,tl,rl,il):Va()},Do=Mo=>{(Mo.key==="Escape"||Mo.keyCode===27)&&(Mo.preventDefault(),Mo.stopImmediatePropagation(),Va())};return reactExports.useEffect(()=>(document.addEventListener("keydown",Do,!0),document.body.addEventListener("keydown",Do,!0),window.addEventListener("keydown",Do,!0),()=>{document.removeEventListener("keydown",Do,!0),document.body.removeEventListener("keydown",Do,!0),window.removeEventListener("keydown",Do,!0)}),[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 w-screen h-screen bg-black/0.5 bg-opacity-10 overflow-hidden",style:{cursor:"none"},onMouseDown:Wa,onMouseMove:Ja,onMouseUp:Oo,children:[jsxRuntimeExports.jsx("div",{className:"fixed top-5 left-1/2 transform -translate-x-1/2 bg-black/50 bg-opacity-10 text-white px-6 py-3 rounded-lg font-sans text-xs pointer-events-none z-[5000]",children:"Click and drag to select area, press ESC to cancel"}),jsxRuntimeExports.jsx("button",{onClick:Va,onMouseDown:Mo=>{Mo.preventDefault(),Mo.stopPropagation(),Va()},style:{cursor:"none"},className:"fixed top-5 right-5 bg-red-500 hover:bg-red-600 hover:bg-opacity-95 text-white border-none px-4 py-2 rounded-md font-sans text-sm z-[5000] transition-colors duration-200",children:"Cancel (ESC)"}),jsxRuntimeExports.jsx("div",{ref:Qa,className:"absolute border-2 border-primary-foreground bg-primary/10 rounded-3xl rounded-br-none pointer-events-none",style:{left:za.left,top:za.top,width:za.width,height:za.height,display:za.display,zIndex:4e3}}),jsxRuntimeExports.jsx("div",{ref:Qa,className:"absolute border-[0.5px] border-black bg-primary/5 rounded-3xl rounded-br-none pointer-events-none",style:{left:za.left,top:za.top,width:za.width,height:za.height,display:za.display,zIndex:4e3}}),jsxRuntimeExports.jsx("div",{className:"fixed pointer-events-none z-[9999] transition-opacity duration-100",style:{left:Ha.x,top:Ha.y,transform:"translate(-2px, -2px)",opacity:Xa?1:0},children:jsxRuntimeExports.jsx(MousePointer2,{className:"w-5 h-5 drop-shadow-2xl fill-secondary stroke-primary"})})]})})},currentWindow=getCurrentWindow(),windowLabel=currentWindow.label;windowLabel==="capture-overlay"?ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(Overlay,{})})):ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{__vitePreload as _,stringify$1 as a,stringify as b,ccount as c,htmlVoidElements as d,find$1 as f,html$4 as h,invoke as i,svg$2 as s,whitespace as w,zwitch as z};
